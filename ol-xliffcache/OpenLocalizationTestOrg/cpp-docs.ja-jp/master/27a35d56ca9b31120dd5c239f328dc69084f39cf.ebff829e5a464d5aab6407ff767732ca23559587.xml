{"nodes":[{"pos":[12,46],"content":"CWaitCursor Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CWaitCursor Class | Microsoft Docs","pos":[0,34]}]},{"pos":[653,670],"content":"CWaitCursor Class","linkify":"CWaitCursor Class","nodes":[{"content":"CWaitCursor Class","pos":[0,17]}]},{"content":"Provides a one-line way to show a wait cursor, which is usually displayed as an hourglass, while you're doing a lengthy operation.","pos":[671,801]},{"pos":[810,816],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[860,867],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[877,896],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[903,907]},{"content":"Description","pos":[908,919]},{"pos":[957,1010],"content":"<bpt id=\"p1\">[</bpt>CWaitCursor::CWaitCursor<ept id=\"p1\">](#cwaitcursor__cwaitcursor)</ept>","source":"[CWaitCursor::CWaitCursor](#cwaitcursor__cwaitcursor)"},{"pos":[1011,1074],"content":"Constructs a <ph id=\"ph1\">`CWaitCursor`</ph> object and displays the wait cursor.","source":"Constructs a `CWaitCursor` object and displays the wait cursor."},{"pos":[1085,1099],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[1106,1110]},{"content":"Description","pos":[1111,1122]},{"pos":[1160,1205],"content":"<bpt id=\"p1\">[</bpt>CWaitCursor::Restore<ept id=\"p1\">](#cwaitcursor__restore)</ept>","source":"[CWaitCursor::Restore](#cwaitcursor__restore)"},{"content":"Restores the wait cursor after it's been changed.","pos":[1206,1255]},{"pos":[1265,1272],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1276,1317],"content":"<ph id=\"ph1\">`CWaitCursor`</ph> does not have a base class.","source":"`CWaitCursor` does not have a base class."},{"content":"Good Windows programming practices require that you display a wait cursor whenever you're performing an operation that takes a noticeable amount of time.","pos":[1324,1477]},{"content":"To display a wait cursor, just define a <ph id=\"ph1\">`CWaitCursor`</ph> variable before the code that performs the lengthy operation.","pos":[1484,1599],"source":"To display a wait cursor, just define a `CWaitCursor` variable before the code that performs the lengthy operation."},{"content":"The object's constructor automatically causes the wait cursor to be displayed.","pos":[1600,1678]},{"content":"When the object goes out of scope (at the end of the block in which the <ph id=\"ph1\">`CWaitCursor`</ph> object is declared), its destructor sets the cursor to the previous cursor.","pos":[1685,1846],"source":"When the object goes out of scope (at the end of the block in which the `CWaitCursor` object is declared), its destructor sets the cursor to the previous cursor."},{"content":"In other words, the object performs the necessary clean-up automatically.","pos":[1847,1920]},{"pos":[1928,2137],"content":"[!NOTE]\n Because of how their constructors and destructors work, `CWaitCursor` objects are always declared as local variables — they're never declared as global variables nor are they allocated with **new**.","leadings":["","> "],"nodes":[{"content":"Because of how their constructors and destructors work, <ph id=\"ph1\">`CWaitCursor`</ph> objects are always declared as local variables — they're never declared as global variables nor are they allocated with <bpt id=\"p1\">**</bpt>new<ept id=\"p1\">**</ept>.","pos":[9,207],"source":" Because of how their constructors and destructors work, `CWaitCursor` objects are always declared as local variables — they're never declared as global variables nor are they allocated with **new**."}]},{"content":"If you perform an operation which might cause the cursor to be changed, such as displaying a message box or dialog box, call the <bpt id=\"p1\">[</bpt>Restore<ept id=\"p1\">](#cwaitcursor__restore)</ept> member function to restore the wait cursor.","pos":[2144,2349],"source":"If you perform an operation which might cause the cursor to be changed, such as displaying a message box or dialog box, call the [Restore](#cwaitcursor__restore) member function to restore the wait cursor."},{"content":"It is okay to call <bpt id=\"p1\">**</bpt>Restore<ept id=\"p1\">**</ept> even when a wait cursor is currently displayed.","pos":[2350,2428],"source":" It is okay to call **Restore** even when a wait cursor is currently displayed."},{"content":"Another way to display a wait cursor is to use the combination of <bpt id=\"p1\">[</bpt>CCmdTarget::BeginWaitCursor<ept id=\"p1\">](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__beginwaitcursor)</ept>, <bpt id=\"p2\">[</bpt>CCmdTarget::EndWaitCursor<ept id=\"p2\">](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__endwaitcursor)</ept>, and perhaps <bpt id=\"p3\">[</bpt>CCmdTarget::RestoreWaitCursor<ept id=\"p3\">](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__restorewaitcursor)</ept>.","pos":[2435,2812],"source":"Another way to display a wait cursor is to use the combination of [CCmdTarget::BeginWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__beginwaitcursor), [CCmdTarget::EndWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__endwaitcursor), and perhaps [CCmdTarget::RestoreWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__restorewaitcursor)."},{"content":"However, <ph id=\"ph1\">`CWaitCursor`</ph> is easier to use because you don't need to set the cursor to the previous cursor when you're done with the lengthy operation.","pos":[2813,2961],"source":" However, `CWaitCursor` is easier to use because you don't need to set the cursor to the previous cursor when you're done with the lengthy operation."},{"pos":[2969,3183],"content":"[!NOTE]\n MFC sets and restores the cursor using the [CWinApp::DoWaitCursor](../../mfc/reference/cwinapp-class.md#cwinapp__dowaitcursor) virtual function. You can override this function to provide custom behavior.","leadings":["","> "],"nodes":[{"content":" MFC sets and restores the cursor using the [CWinApp::DoWaitCursor](../../mfc/reference/cwinapp-class.md#cwinapp__dowaitcursor) virtual function. You can override this function to provide custom behavior.","pos":[8,212],"nodes":[{"content":"MFC sets and restores the cursor using the <bpt id=\"p1\">[</bpt>CWinApp::DoWaitCursor<ept id=\"p1\">](../../mfc/reference/cwinapp-class.md#cwinapp__dowaitcursor)</ept> virtual function.","pos":[1,145],"source":" MFC sets and restores the cursor using the [CWinApp::DoWaitCursor](../../mfc/reference/cwinapp-class.md#cwinapp__dowaitcursor) virtual function."},{"content":"You can override this function to provide custom behavior.","pos":[146,204]}]}]},{"pos":[3192,3213],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[3239,3251],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3255,3275],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxwin.h","source":"**Header:** afxwin.h"},{"pos":[3284,3291],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3295,3388],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFCWindowing#62<ept id=\"p2\">](../../mfc/reference/codesnippet/cpp/cwaitcursor-class_1.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFCWindowing#62](../../mfc/reference/codesnippet/cpp/cwaitcursor-class_1.cpp)]"},{"pos":[3398,3463],"content":"<bpt id=\"p1\">&lt;a name=\"cwaitcursor__cwaitcursor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CWaitCursor::CWaitCursor","linkify":"<a name=\"cwaitcursor__cwaitcursor\"></a>  CWaitCursor::CWaitCursor","source":"<a name=\"cwaitcursor__cwaitcursor\"></a>  CWaitCursor::CWaitCursor"},{"pos":[3467,3581],"content":"To display a wait cursor, just declare a <ph id=\"ph1\">`CWaitCursor`</ph> object before the code that performs the lengthy operation.","source":"To display a wait cursor, just declare a `CWaitCursor` object before the code that performs the lengthy operation."},{"pos":[3621,3628],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The constructor automatically causes the wait cursor to be displayed.","pos":[3632,3701]},{"content":"When the object goes out of scope (at the end of the block in which the <ph id=\"ph1\">`CWaitCursor`</ph> object is declared), its destructor sets the cursor to the previous cursor.","pos":[3708,3869],"source":"When the object goes out of scope (at the end of the block in which the `CWaitCursor` object is declared), its destructor sets the cursor to the previous cursor."},{"content":"In other words, the object performs the necessary clean-up automatically.","pos":[3870,3943]},{"content":"You can take advantage of the fact that the destructor is called at the end of the block (which might be before the end of the function) to make the wait cursor active in only part of your function.","pos":[3950,4148]},{"content":"This technique is shown in the second example below.","pos":[4149,4201]},{"pos":[4209,4419],"content":"[!NOTE]\n Because of how their constructors and destructors work, `CWaitCursor` objects are always declared as local variables — they're never declared as global variables, nor are they allocated with **new**.","leadings":["","> "],"nodes":[{"content":"Because of how their constructors and destructors work, <ph id=\"ph1\">`CWaitCursor`</ph> objects are always declared as local variables — they're never declared as global variables, nor are they allocated with <bpt id=\"p1\">**</bpt>new<ept id=\"p1\">**</ept>.","pos":[9,208],"source":" Because of how their constructors and destructors work, `CWaitCursor` objects are always declared as local variables — they're never declared as global variables, nor are they allocated with **new**."}]},{"pos":[4429,4436],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4440,4533],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFCWindowing#63<ept id=\"p2\">](../../mfc/reference/codesnippet/cpp/cwaitcursor-class_2.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFCWindowing#63](../../mfc/reference/codesnippet/cpp/cwaitcursor-class_2.cpp)]"},{"pos":[4543,4600],"content":"<bpt id=\"p1\">&lt;a name=\"cwaitcursor__restore\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CWaitCursor::Restore","linkify":"<a name=\"cwaitcursor__restore\"></a>  CWaitCursor::Restore","source":"<a name=\"cwaitcursor__restore\"></a>  CWaitCursor::Restore"},{"content":"To restore the wait cursor, call this function after performing an operation, such as displaying a message box or dialog box, which might change the wait cursor to another cursor.","pos":[4604,4783]},{"pos":[4824,4831],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[4835,4913],"content":"It is OK to call <bpt id=\"p1\">**</bpt>Restore<ept id=\"p1\">**</ept> even when the wait cursor is currently displayed.","source":"It is OK to call **Restore** even when the wait cursor is currently displayed."},{"pos":[4920,5161],"content":"If you need to restore the wait cursor while in a function other than the one in which the <ph id=\"ph1\">`CWaitCursor`</ph> object is declared, you can call <bpt id=\"p1\">[</bpt>CCmdTarget::RestoreWaitCursor<ept id=\"p1\">](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__restorewaitcursor)</ept>.","source":"If you need to restore the wait cursor while in a function other than the one in which the `CWaitCursor` object is declared, you can call [CCmdTarget::RestoreWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__restorewaitcursor)."},{"pos":[5171,5178],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[5182,5275],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFCWindowing#64<ept id=\"p2\">](../../mfc/reference/codesnippet/cpp/cwaitcursor-class_3.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFCWindowing#64](../../mfc/reference/codesnippet/cpp/cwaitcursor-class_3.cpp)]"},{"pos":[5284,5292],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Hierarchy Chart<ept id=\"p1\">](../../mfc/hierarchy-chart.md)</ept><ph id=\"ph1\"> </ph>","pos":[5296,5344],"source":"[Hierarchy Chart](../../mfc/hierarchy-chart.md) "},{"content":"<bpt id=\"p1\"> [</bpt>CCmdTarget::BeginWaitCursor<ept id=\"p1\">](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__beginwaitcursor)</ept><ph id=\"ph1\"> </ph>","pos":[5347,5447],"source":" [CCmdTarget::BeginWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__beginwaitcursor) "},{"content":"<bpt id=\"p1\"> [</bpt>CCmdTarget::EndWaitCursor<ept id=\"p1\">](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__endwaitcursor)</ept><ph id=\"ph1\"> </ph>","pos":[5450,5546],"source":" [CCmdTarget::EndWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__endwaitcursor) "},{"content":"<bpt id=\"p1\"> [</bpt>CCmdTarget::RestoreWaitCursor<ept id=\"p1\">](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__restorewaitcursor)</ept><ph id=\"ph1\"> </ph>","pos":[5549,5653],"source":" [CCmdTarget::RestoreWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__restorewaitcursor) "},{"content":"<bpt id=\"p1\"> [</bpt>CWinApp::DoWaitCursor<ept id=\"p1\">](../../mfc/reference/cwinapp-class.md#cwinapp__dowaitcursor)</ept><ph id=\"ph1\"> </ph>","pos":[5656,5741],"source":" [CWinApp::DoWaitCursor](../../mfc/reference/cwinapp-class.md#cwinapp__dowaitcursor) "},{"content":"<bpt id=\"p1\"> [</bpt>How Do I: Change the Mouse Cursor in an Microsoft Foundation Class Application<ept id=\"p1\">](http://go.microsoft.com/fwlink/linkid=128044)</ept>","pos":[5744,5871],"source":" [How Do I: Change the Mouse Cursor in an Microsoft Foundation Class Application](http://go.microsoft.com/fwlink/linkid=128044)"}],"content":"---\ntitle: \"CWaitCursor Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CWaitCursor\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"cursors, wait cursor\"\n  - \"CWaitCursor class\"\n  - \"wait cursors\"\nms.assetid: 5dfae2ff-d7b6-4383-b0ad-91e0868c67b3\ncaps.latest.revision: 22\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CWaitCursor Class\nProvides a one-line way to show a wait cursor, which is usually displayed as an hourglass, while you're doing a lengthy operation.  \n  \n## Syntax  \n  \n```  \nclass CWaitCursor  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CWaitCursor::CWaitCursor](#cwaitcursor__cwaitcursor)|Constructs a `CWaitCursor` object and displays the wait cursor.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CWaitCursor::Restore](#cwaitcursor__restore)|Restores the wait cursor after it's been changed.|  \n  \n## Remarks  \n `CWaitCursor` does not have a base class.  \n  \n Good Windows programming practices require that you display a wait cursor whenever you're performing an operation that takes a noticeable amount of time.  \n  \n To display a wait cursor, just define a `CWaitCursor` variable before the code that performs the lengthy operation. The object's constructor automatically causes the wait cursor to be displayed.  \n  \n When the object goes out of scope (at the end of the block in which the `CWaitCursor` object is declared), its destructor sets the cursor to the previous cursor. In other words, the object performs the necessary clean-up automatically.  \n  \n> [!NOTE]\n>  Because of how their constructors and destructors work, `CWaitCursor` objects are always declared as local variables — they're never declared as global variables nor are they allocated with **new**.  \n  \n If you perform an operation which might cause the cursor to be changed, such as displaying a message box or dialog box, call the [Restore](#cwaitcursor__restore) member function to restore the wait cursor. It is okay to call **Restore** even when a wait cursor is currently displayed.  \n  \n Another way to display a wait cursor is to use the combination of [CCmdTarget::BeginWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__beginwaitcursor), [CCmdTarget::EndWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__endwaitcursor), and perhaps [CCmdTarget::RestoreWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__restorewaitcursor). However, `CWaitCursor` is easier to use because you don't need to set the cursor to the previous cursor when you're done with the lengthy operation.  \n  \n> [!NOTE]\n>  MFC sets and restores the cursor using the [CWinApp::DoWaitCursor](../../mfc/reference/cwinapp-class.md#cwinapp__dowaitcursor) virtual function. You can override this function to provide custom behavior.  \n  \n## Inheritance Hierarchy  \n `CWaitCursor`  \n  \n## Requirements  \n **Header:** afxwin.h  \n  \n## Example  \n [!code-cpp[NVC_MFCWindowing#62](../../mfc/reference/codesnippet/cpp/cwaitcursor-class_1.cpp)]  \n  \n##  <a name=\"cwaitcursor__cwaitcursor\"></a>  CWaitCursor::CWaitCursor  \n To display a wait cursor, just declare a `CWaitCursor` object before the code that performs the lengthy operation.  \n  \n```  \nCWaitCursor();\n```  \n  \n### Remarks  \n The constructor automatically causes the wait cursor to be displayed.  \n  \n When the object goes out of scope (at the end of the block in which the `CWaitCursor` object is declared), its destructor sets the cursor to the previous cursor. In other words, the object performs the necessary clean-up automatically.  \n  \n You can take advantage of the fact that the destructor is called at the end of the block (which might be before the end of the function) to make the wait cursor active in only part of your function. This technique is shown in the second example below.  \n  \n> [!NOTE]\n>  Because of how their constructors and destructors work, `CWaitCursor` objects are always declared as local variables — they're never declared as global variables, nor are they allocated with **new**.  \n  \n### Example  \n [!code-cpp[NVC_MFCWindowing#63](../../mfc/reference/codesnippet/cpp/cwaitcursor-class_2.cpp)]  \n  \n##  <a name=\"cwaitcursor__restore\"></a>  CWaitCursor::Restore  \n To restore the wait cursor, call this function after performing an operation, such as displaying a message box or dialog box, which might change the wait cursor to another cursor.  \n  \n```  \nvoid Restore();\n```  \n  \n### Remarks  \n It is OK to call **Restore** even when the wait cursor is currently displayed.  \n  \n If you need to restore the wait cursor while in a function other than the one in which the `CWaitCursor` object is declared, you can call [CCmdTarget::RestoreWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__restorewaitcursor).  \n  \n### Example  \n [!code-cpp[NVC_MFCWindowing#64](../../mfc/reference/codesnippet/cpp/cwaitcursor-class_3.cpp)]  \n  \n## See Also  \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [CCmdTarget::BeginWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__beginwaitcursor)   \n [CCmdTarget::EndWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__endwaitcursor)   \n [CCmdTarget::RestoreWaitCursor](../../mfc/reference/ccmdtarget-class.md#ccmdtarget__restorewaitcursor)   \n [CWinApp::DoWaitCursor](../../mfc/reference/cwinapp-class.md#cwinapp__dowaitcursor)   \n [How Do I: Change the Mouse Cursor in an Microsoft Foundation Class Application](http://go.microsoft.com/fwlink/linkid=128044)\n\n\n\n"}