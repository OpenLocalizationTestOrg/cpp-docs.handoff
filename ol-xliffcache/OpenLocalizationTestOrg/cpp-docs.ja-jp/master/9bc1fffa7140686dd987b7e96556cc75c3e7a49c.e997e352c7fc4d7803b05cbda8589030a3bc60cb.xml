{"nodes":[{"pos":[12,61],"content":"Compiler Warning (Level 1) C4733 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Warning (Level 1) C4733 | Microsoft Docs","pos":[0,49]}]},{"pos":[609,641],"content":"Compiler Warning (Level 1) C4733","linkify":"Compiler Warning (Level 1) C4733","nodes":[{"content":"Compiler Warning (Level 1) C4733","pos":[0,32]}]},{"content":"Inline asm assigning to 'FS:0' : handler not registered as safe handler","pos":[642,713]},{"pos":[720,981],"content":"A function modifying the value at FS:0 to add a new exception handler may not work with Safe Exceptions, because the handler may not be registered as a valid exception handler (see <bpt id=\"p1\">[</bpt>/SAFESEH<ept id=\"p1\">](../../build/reference/safeseh-image-has-safe-exception-handlers.md)</ept>).","source":"A function modifying the value at FS:0 to add a new exception handler may not work with Safe Exceptions, because the handler may not be registered as a valid exception handler (see [/SAFESEH](../../build/reference/safeseh-image-has-safe-exception-handlers.md))."},{"pos":[988,1167],"content":"To resolve this warning, either remove the FS:0 definition or turn off this warning and use <bpt id=\"p1\">[</bpt>.SAFESEH<ept id=\"p1\">](../../assembler/masm/dot-safeseh.md)</ept> to specify the safe exception handlers.","source":"To resolve this warning, either remove the FS:0 definition or turn off this warning and use [.SAFESEH](../../assembler/masm/dot-safeseh.md) to specify the safe exception handlers."},{"content":"The following sample generates C4733:","pos":[1174,1211]}],"content":"---\ntitle: \"Compiler Warning (Level 1) C4733 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"C4733\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C4733\"\nms.assetid: 7ef4f577-772d-4b66-a7bf-8958a6b250bc\ncaps.latest.revision: 8\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Compiler Warning (Level 1) C4733\nInline asm assigning to 'FS:0' : handler not registered as safe handler  \n  \n A function modifying the value at FS:0 to add a new exception handler may not work with Safe Exceptions, because the handler may not be registered as a valid exception handler (see [/SAFESEH](../../build/reference/safeseh-image-has-safe-exception-handlers.md)).  \n  \n To resolve this warning, either remove the FS:0 definition or turn off this warning and use [.SAFESEH](../../assembler/masm/dot-safeseh.md) to specify the safe exception handlers.  \n  \n The following sample generates C4733:  \n  \n```  \n// C4733.cpp  \n// compile with: /W1 /c  \n// processor: x86  \n#include \"stdlib.h\"  \n#include \"stdio.h\"  \nvoid my_handler()  \n{  \n   printf(\"Hello from my_handler\\n\");  \n   exit(1);  \n}  \n  \nint main()  \n{  \n   _asm {  \n      push    my_handler  \n      mov     eax, DWORD PTR fs:0  \n      push    eax  \n      mov     DWORD PTR fs:0, esp   // C4733  \n   }  \n  \n   *(int*)0 = 0;  \n}  \n```"}