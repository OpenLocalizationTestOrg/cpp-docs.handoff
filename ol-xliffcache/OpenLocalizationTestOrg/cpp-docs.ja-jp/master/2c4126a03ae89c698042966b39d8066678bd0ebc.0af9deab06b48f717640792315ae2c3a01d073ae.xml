{"nodes":[{"pos":[12,60],"content":"assert Macro, _assert, _wassert | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"assert Macro, _assert, _wassert | Microsoft Docs","pos":[0,48]}]},{"content":"assert Macro, _assert, _wassert","pos":[1051,1082]},{"pos":[1083,1191],"content":"Evaluates an expression and, when the result is <ph id=\"ph1\">`false`</ph>, prints a diagnostic message and aborts the program.","source":"Evaluates an expression and, when the result is `false`, prints a diagnostic message and aborts the program."},{"content":"Syntax","pos":[1200,1206]},{"content":"Parameters","pos":[1458,1468]},{"content":"A scalar expression (including pointer expressions) that evaluates to nonzero (<ph id=\"ph1\">`true`</ph>) or 0 (<ph id=\"ph2\">`false`</ph>).","pos":[1488,1590],"source":" A scalar expression (including pointer expressions) that evaluates to nonzero (`true`) or 0 (`false`)."},{"content":"The message to display.","pos":[1610,1633]},{"content":"The name of the source file the assertion failed in.","pos":[1654,1706]},{"content":"The line number in the source file of the failed assertion.","pos":[1723,1782]},{"content":"Remarks","pos":[1791,1798]},{"content":"The <ph id=\"ph1\">`assert`</ph> macro is typically used to identify logic errors during program development.","pos":[1802,1891],"source":"The `assert` macro is typically used to identify logic errors during program development."},{"content":"Use it to stop program execution when unexpected conditions occur by implementing the <ph id=\"ph1\">`expression`</ph> argument to evaluate to <ph id=\"ph2\">`false`</ph> only when the program is operating incorrectly.","pos":[1892,2070],"source":" Use it to stop program execution when unexpected conditions occur by implementing the `expression` argument to evaluate to `false` only when the program is operating incorrectly."},{"content":"Assertion checks can be turned off at compile time by defining the macro <ph id=\"ph1\">`NDEBUG`</ph>.","pos":[2071,2153],"source":" Assertion checks can be turned off at compile time by defining the macro `NDEBUG`."},{"content":"You can turn off the <ph id=\"ph1\">`assert`</ph> macro without modifying your source files by using a <bpt id=\"p1\">**</bpt>/DNDEBUG<ept id=\"p1\">**</ept> command-line option.","pos":[2154,2270],"source":" You can turn off the `assert` macro without modifying your source files by using a **/DNDEBUG** command-line option."},{"content":"You can turn off the <ph id=\"ph1\">`assert`</ph> macro in your source code by using a <ph id=\"ph2\">`#define NDEBUG`</ph> directive before <ph id=\"ph3\">\\&lt;</ph>assert.h&gt; is included.","pos":[2271,2396],"source":" You can turn off the `assert` macro in your source code by using a `#define NDEBUG` directive before \\<assert.h> is included."},{"content":"The <ph id=\"ph1\">`assert`</ph> macro prints a diagnostic message when <ph id=\"ph2\">`expression`</ph> evaluates to <ph id=\"ph3\">`false`</ph> (0) and calls <bpt id=\"p1\">[</bpt>abort<ept id=\"p1\">](../../c-runtime-library/reference/abort.md)</ept> to terminate program execution.","pos":[2403,2586],"source":"The `assert` macro prints a diagnostic message when `expression` evaluates to `false` (0) and calls [abort](../../c-runtime-library/reference/abort.md) to terminate program execution."},{"content":"No action is taken if <ph id=\"ph1\">`expression`</ph> is <ph id=\"ph2\">`true`</ph> (nonzero).","pos":[2587,2642],"source":" No action is taken if `expression` is `true` (nonzero)."},{"content":"The diagnostic message includes the failed expression, the name of the source file and line number where the assertion failed.","pos":[2643,2769]},{"content":"The diagnostic message is printed in wide characters.","pos":[2776,2829]},{"content":"Thus, it will work as expected even if there are Unicode characters in the expression.","pos":[2830,2916]},{"content":"The destination of the diagnostic message depends on the type of application that called the routine.","pos":[2923,3024]},{"content":"Console applications always receive the message through <ph id=\"ph1\">`stderr`</ph>.","pos":[3025,3090],"source":" Console applications always receive the message through `stderr`."},{"content":"In a Windows-based application, <ph id=\"ph1\">`assert`</ph> calls the Windows <bpt id=\"p1\">[</bpt>MessageBox<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms645505)</ept> function to create a message box to display the message along with an <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept> button.","pos":[3091,3307],"source":" In a Windows-based application, `assert` calls the Windows [MessageBox](http://msdn.microsoft.com/library/windows/desktop/ms645505) function to create a message box to display the message along with an **OK** button."},{"content":"When the user clicks <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>, the program aborts immediately.","pos":[3308,3368],"source":" When the user clicks **OK**, the program aborts immediately."},{"content":"When the application is linked with a debug version of the run-time libraries, <ph id=\"ph1\">`assert`</ph> creates a message box with three buttons: <bpt id=\"p1\">**</bpt>Abort<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Retry<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>Ignore<ept id=\"p3\">**</ept>.","pos":[3375,3542],"source":"When the application is linked with a debug version of the run-time libraries, `assert` creates a message box with three buttons: **Abort**, **Retry**, and **Ignore**."},{"content":"If the user clicks <bpt id=\"p1\">**</bpt>Abort<ept id=\"p1\">**</ept>, the program aborts immediately.","pos":[3543,3604],"source":" If the user clicks **Abort**, the program aborts immediately."},{"content":"If the user clicks <bpt id=\"p1\">**</bpt>Retry<ept id=\"p1\">**</ept>, the debugger is called and the user can debug the program if just-in-time (JIT) debugging is enabled.","pos":[3605,3736],"source":" If the user clicks **Retry**, the debugger is called and the user can debug the program if just-in-time (JIT) debugging is enabled."},{"content":"If the user clicks <bpt id=\"p1\">**</bpt>Ignore<ept id=\"p1\">**</ept>, <ph id=\"ph1\">`assert`</ph> continues with its normal execution: creating the message box with the <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept> button.","pos":[3737,3862],"source":" If the user clicks **Ignore**, `assert` continues with its normal execution: creating the message box with the **OK** button."},{"content":"Note that clicking <bpt id=\"p1\">**</bpt>Ignore<ept id=\"p1\">**</ept> when an error condition exists can result in undefined behavior.","pos":[3863,3957],"source":" Note that clicking **Ignore** when an error condition exists can result in undefined behavior."},{"pos":[3964,4086],"content":"For more information about CRT debugging, see <bpt id=\"p1\">[</bpt>CRT Debugging Techniques<ept id=\"p1\">](/visualstudio/debugger/crt-debugging-techniques)</ept>.","source":"For more information about CRT debugging, see [CRT Debugging Techniques](/visualstudio/debugger/crt-debugging-techniques)."},{"content":"The <ph id=\"ph1\">`_assert`</ph> and <ph id=\"ph2\">`_wassert`</ph> functions are internal CRT functions.","pos":[4093,4159],"source":"The `_assert` and `_wassert` functions are internal CRT functions."},{"content":"They help minimize the code required in your object files to support assertions.","pos":[4160,4240]},{"content":"We do not recommend that you call these functions directly.","pos":[4241,4300]},{"content":"The <ph id=\"ph1\">`assert`</ph> macro is enabled in both the release and debug versions of the C run-time libraries when <ph id=\"ph2\">`NDEBUG`</ph> is not defined.","pos":[4307,4433],"source":"The `assert` macro is enabled in both the release and debug versions of the C run-time libraries when `NDEBUG` is not defined."},{"content":"When <ph id=\"ph1\">`NDEBUG`</ph> is defined, the macro is available but does not evaluate its argument and has no effect.","pos":[4434,4536],"source":" When `NDEBUG` is defined, the macro is available but does not evaluate its argument and has no effect."},{"content":"When it is enabled, the <ph id=\"ph1\">`assert`</ph> macro calls <ph id=\"ph2\">`_wassert`</ph> for its implementation.","pos":[4537,4616],"source":" When it is enabled, the `assert` macro calls `_wassert` for its implementation."},{"content":"Other assertion macros, <bpt id=\"p1\">[</bpt>_ASSERT<ept id=\"p1\">](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md)</ept>, <bpt id=\"p2\">[</bpt>_ASSERTE<ept id=\"p2\">](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md)</ept> and <bpt id=\"p3\">[</bpt>_ASSERT_EXPR<ept id=\"p3\">](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md)</ept>, are also available, but they only evaluate the expressions passed to them when the <bpt id=\"p4\">[</bpt>_DEBUG<ept id=\"p4\">](../../c-runtime-library/debug.md)</ept> macro has been defined and when they are in code linked with the debug version of the C run-time libraries.","pos":[4617,5132],"source":" Other assertion macros, [_ASSERT](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md), [_ASSERTE](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md) and [_ASSERT_EXPR](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md), are also available, but they only evaluate the expressions passed to them when the [_DEBUG](../../c-runtime-library/debug.md) macro has been defined and when they are in code linked with the debug version of the C run-time libraries."},{"content":"Requirements","pos":[5141,5153]},{"content":"Routine","pos":[5160,5167]},{"content":"Required header","pos":[5168,5183]},{"pos":[5236,5237],"content":","},{"content":"assert.h&gt;","pos":[5251,5260],"source":"assert.h>"},{"content":"The signature of the <ph id=\"ph1\">`_assert`</ph> function is not available in a header file.","pos":[5268,5342],"source":"The signature of the `_assert` function is not available in a header file."},{"content":"The signature of the <ph id=\"ph1\">`_wassert`</ph> function is only available when the <ph id=\"ph2\">`NDEBUG`</ph> macro is not defined.","pos":[5343,5441],"source":" The signature of the `_wassert` function is only available when the `NDEBUG` macro is not defined."},{"content":"Example","pos":[5450,5457]},{"content":"In this program, the <ph id=\"ph1\">`analyze_string`</ph> function uses the <ph id=\"ph2\">`assert`</ph> macro to test several conditions related to string and length.","pos":[5461,5588],"source":"In this program, the `analyze_string` function uses the `assert` macro to test several conditions related to string and length."},{"content":"If any of the conditions fails, the program prints a message indicating what caused the failure.","pos":[5589,5685]},{"content":"The program generates this output:","pos":[6583,6617]},{"content":"After the assertion failure, depending on the version of the operating system and run-time library, you may see a message box that contains something like the following:","pos":[6761,6930]},{"pos":[7090,7198],"content":"If a debugger is installed, choose the <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> button to start the debugger, or <bpt id=\"p2\">**</bpt>Close program<ept id=\"p2\">**</ept> to exit.","source":"If a debugger is installed, choose the **Debug** button to start the debugger, or **Close program** to exit."},{"content":".NET Framework Equivalent","pos":[7207,7232]},{"content":"System::Diagnostics::Debug::Assert","pos":[7237,7271]},{"content":"See Also","pos":[7360,7368]},{"content":"Error Handling","pos":[7373,7387]},{"content":"Process and Environment Control","pos":[7441,7472]},{"content":"abort","pos":[7539,7544]},{"content":"raise","pos":[7595,7600]},{"content":"signal","pos":[7651,7657]},{"content":"_ASSERT, _ASSERTE, _ASSERT_EXPR Macros","pos":[7709,7747]},{"content":"_DEBUG","pos":[7826,7832]}],"content":"---\ntitle: \"assert Macro, _assert, _wassert | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"assert\"\n  - \"_assert\"\n  - \"_wassert\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-runtime-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"assert\"\n  - \"_assert\"\n  - \"_wassert\"\n  - \"assert/_wassert\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"aborting programs\"\n  - \"assert function\"\n  - \"assert macro\"\nms.assetid: a9ca031a-648b-47a6-bdf1-65fc7399dd40\ncaps.latest.revision: 23\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# assert Macro, _assert, _wassert\nEvaluates an expression and, when the result is `false`, prints a diagnostic message and aborts the program.  \n  \n## Syntax  \n  \n```  \nassert(   \n   expression   \n);  \nvoid _assert(  \n   char const* message,  \n   char const* filename,  \n   unsigned line  \n);  \nvoid _wassert(  \n   wchar_t const* message,  \n   wchar_t const* filename,  \n   unsigned line  \n);  \n```  \n  \n#### Parameters  \n `expression`  \n A scalar expression (including pointer expressions) that evaluates to nonzero (`true`) or 0 (`false`).  \n  \n `message`  \n The message to display.  \n  \n `filename`  \n The name of the source file the assertion failed in.  \n  \n `line`  \n The line number in the source file of the failed assertion.  \n  \n## Remarks  \n The `assert` macro is typically used to identify logic errors during program development. Use it to stop program execution when unexpected conditions occur by implementing the `expression` argument to evaluate to `false` only when the program is operating incorrectly. Assertion checks can be turned off at compile time by defining the macro `NDEBUG`. You can turn off the `assert` macro without modifying your source files by using a **/DNDEBUG** command-line option. You can turn off the `assert` macro in your source code by using a `#define NDEBUG` directive before \\<assert.h> is included.  \n  \n The `assert` macro prints a diagnostic message when `expression` evaluates to `false` (0) and calls [abort](../../c-runtime-library/reference/abort.md) to terminate program execution. No action is taken if `expression` is `true` (nonzero). The diagnostic message includes the failed expression, the name of the source file and line number where the assertion failed.  \n  \n The diagnostic message is printed in wide characters. Thus, it will work as expected even if there are Unicode characters in the expression.  \n  \n The destination of the diagnostic message depends on the type of application that called the routine. Console applications always receive the message through `stderr`. In a Windows-based application, `assert` calls the Windows [MessageBox](http://msdn.microsoft.com/library/windows/desktop/ms645505) function to create a message box to display the message along with an **OK** button. When the user clicks **OK**, the program aborts immediately.  \n  \n When the application is linked with a debug version of the run-time libraries, `assert` creates a message box with three buttons: **Abort**, **Retry**, and **Ignore**. If the user clicks **Abort**, the program aborts immediately. If the user clicks **Retry**, the debugger is called and the user can debug the program if just-in-time (JIT) debugging is enabled. If the user clicks **Ignore**, `assert` continues with its normal execution: creating the message box with the **OK** button. Note that clicking **Ignore** when an error condition exists can result in undefined behavior.  \n  \n For more information about CRT debugging, see [CRT Debugging Techniques](/visualstudio/debugger/crt-debugging-techniques).  \n  \n The `_assert` and `_wassert` functions are internal CRT functions. They help minimize the code required in your object files to support assertions. We do not recommend that you call these functions directly.  \n  \n The `assert` macro is enabled in both the release and debug versions of the C run-time libraries when `NDEBUG` is not defined. When `NDEBUG` is defined, the macro is available but does not evaluate its argument and has no effect. When it is enabled, the `assert` macro calls `_wassert` for its implementation. Other assertion macros, [_ASSERT](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md), [_ASSERTE](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md) and [_ASSERT_EXPR](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md), are also available, but they only evaluate the expressions passed to them when the [_DEBUG](../../c-runtime-library/debug.md) macro has been defined and when they are in code linked with the debug version of the C run-time libraries.  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`assert`, `_wassert`|\\<assert.h>|  \n  \n The signature of the `_assert` function is not available in a header file. The signature of the `_wassert` function is only available when the `NDEBUG` macro is not defined.  \n  \n## Example  \n In this program, the `analyze_string` function uses the `assert` macro to test several conditions related to string and length. If any of the conditions fails, the program prints a message indicating what caused the failure.  \n  \n```  \n// crt_assert.c  \n// compile by using: cl /W4 crt_assert.c  \n#include <stdio.h>  \n#include <assert.h>  \n#include <string.h>  \n  \nvoid analyze_string( char *string );   // Prototype  \n  \nint main( void )  \n{  \n   char  test1[] = \"abc\", *test2 = NULL, test3[] = \"\";  \n  \n   printf ( \"Analyzing string '%s'\\n\", test1 ); fflush( stdout );  \n   analyze_string( test1 );  \n   printf ( \"Analyzing string '%s'\\n\", test2 ); fflush( stdout );  \n   analyze_string( test2 );  \n   printf ( \"Analyzing string '%s'\\n\", test3 ); fflush( stdout );  \n   analyze_string( test3 );  \n}  \n  \n// Tests a string to see if it is NULL,   \n// empty, or longer than 0 characters.  \nvoid analyze_string( char * string )  \n{  \n   assert( string != NULL );        // Cannot be NULL  \n   assert( *string != '\\0' );       // Cannot be empty  \n   assert( strlen( string ) > 2 );  // Length must exceed 2  \n}  \n```  \n  \n The program generates this output:  \n  \n```Output  \nAnalyzing string 'abc'  \nAnalyzing string '(null)'  \nAssertion failed: string != NULL, file crt_assert.c, line 25  \n```  \n  \n After the assertion failure, depending on the version of the operating system and run-time library, you may see a message box that contains something like the following:  \n  \n```Output  \nA problem caused the program to stop working correctly. Windows will close the program and notify you if a solution is available.  \n```  \n  \n If a debugger is installed, choose the **Debug** button to start the debugger, or **Close program** to exit.  \n  \n## .NET Framework Equivalent  \n [System::Diagnostics::Debug::Assert](https://msdn.microsoft.com/en-us/library/system.diagnostics.debug.assert.aspx)  \n  \n## See Also  \n [Error Handling](../../c-runtime-library/error-handling-crt.md)   \n [Process and Environment Control](../../c-runtime-library/process-and-environment-control.md)   \n [abort](../../c-runtime-library/reference/abort.md)   \n [raise](../../c-runtime-library/reference/raise.md)   \n [signal](../../c-runtime-library/reference/signal.md)   \n [_ASSERT, _ASSERTE, _ASSERT_EXPR Macros](../../c-runtime-library/reference/assert-asserte-assert-expr-macros.md)   \n [_DEBUG](../../c-runtime-library/debug.md)"}