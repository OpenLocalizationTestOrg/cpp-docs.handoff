{"nodes":[{"pos":[12,57],"content":"Linker Tools Warning LNK4098 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Linker Tools Warning LNK4098 | Microsoft Docs","pos":[0,45]}]},{"pos":[609,637],"content":"Linker Tools Warning LNK4098","linkify":"Linker Tools Warning LNK4098","nodes":[{"content":"Linker Tools Warning LNK4098","pos":[0,28]}]},{"content":"defaultlib 'library' conflicts with use of other libs; use /NODEFAULTLIB:library","pos":[638,718]},{"content":"You are trying to link with incompatible libraries.","pos":[725,776]},{"pos":[784,1454],"content":"[!NOTE]\n The run-time libraries now contain directives to prevent mixing different types. You will receive this warning if you try to use different types or debug and non-debug versions of the run-time library in the same program. For example, if you compiled one file to use one kind of run-time library and another file to use another kind (for example, single-threaded versus multithreaded) and tried to link them, you will get this warning. You should compile all source files to use the same run-time library. See the [Use Run-Time Library](../../build/reference/md-mt-ld-use-run-time-library.md) (**/MD**, **/MT**, **/LD**) compiler options for more information.","leadings":["","> "],"nodes":[{"content":" The run-time libraries now contain directives to prevent mixing different types. You will receive this warning if you try to use different types or debug and non-debug versions of the run-time library in the same program. For example, if you compiled one file to use one kind of run-time library and another file to use another kind (for example, single-threaded versus multithreaded) and tried to link them, you will get this warning. You should compile all source files to use the same run-time library. See the [Use Run-Time Library](../../build/reference/md-mt-ld-use-run-time-library.md) (**/MD**, **/MT**, **/LD**) compiler options for more information.","pos":[8,668],"nodes":[{"content":"The run-time libraries now contain directives to prevent mixing different types.","pos":[1,81]},{"content":"You will receive this warning if you try to use different types or debug and non-debug versions of the run-time library in the same program.","pos":[82,222]},{"content":"For example, if you compiled one file to use one kind of run-time library and another file to use another kind (for example, single-threaded versus multithreaded) and tried to link them, you will get this warning.","pos":[223,436]},{"content":"You should compile all source files to use the same run-time library.","pos":[437,506]},{"content":"See the <bpt id=\"p1\">[</bpt>Use Run-Time Library<ept id=\"p1\">](../../build/reference/md-mt-ld-use-run-time-library.md)</ept> (<bpt id=\"p2\">**</bpt>/MD<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>/MT<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>/LD<ept id=\"p4\">**</ept>) compiler options for more information.","pos":[507,660],"source":" See the [Use Run-Time Library](../../build/reference/md-mt-ld-use-run-time-library.md) (**/MD**, **/MT**, **/LD**) compiler options for more information."}]}]},{"content":"You can use the linker's <bpt id=\"p1\">[</bpt>/VERBOSE:LIB<ept id=\"p1\">](../../build/reference/verbose-print-progress-messages.md)</ept> switch to determine which libraries the linker is searching.","pos":[1461,1619],"source":"You can use the linker's [/VERBOSE:LIB](../../build/reference/verbose-print-progress-messages.md) switch to determine which libraries the linker is searching."},{"content":"If you receive LNK4098 and want to create an executable file that uses, for example, the single-threaded, non-debug run-time libraries, use the <bpt id=\"p1\">**</bpt>/VERBOSE:LIB<ept id=\"p1\">**</ept> option to find out which libraries the linker is searching.","pos":[1620,1840],"source":" If you receive LNK4098 and want to create an executable file that uses, for example, the single-threaded, non-debug run-time libraries, use the **/VERBOSE:LIB** option to find out which libraries the linker is searching."},{"content":"The linker should print LIBC.lib and not LIBCMT.lib, MSVCRT.lib, LIBCD.lib, LIBCMTD.lib, or MSVCRTD.lib as the libraries searched.","pos":[1841,1971]},{"content":"You can tell the linker to ignore the incorrect run-time libraries by using <bpt id=\"p1\">[</bpt>/NODEFAULTLIB<ept id=\"p1\">](../../build/reference/nodefaultlib-ignore-libraries.md)</ept> for each library you want to ignore.","pos":[1972,2156],"source":" You can tell the linker to ignore the incorrect run-time libraries by using [/NODEFAULTLIB](../../build/reference/nodefaultlib-ignore-libraries.md) for each library you want to ignore."},{"content":"The table below shows which libraries should be ignored depending on which run-time library you want to use.","pos":[2163,2271]},{"content":"To use this run-time library","pos":[2278,2306]},{"content":"Ignore these libraries","pos":[2307,2329]},{"content":"Single-threaded (libc.lib)","pos":[2403,2429]},{"content":"libcmt.lib, msvcrt.lib, libcd.lib, libcmtd.lib, msvcrtd.lib","pos":[2430,2489]},{"content":"Multithreaded (libcmt.lib)","pos":[2494,2520]},{"content":"libc.lib, msvcrt.lib, libcd.lib, libcmtd.lib, msvcrtd.lib","pos":[2521,2578]},{"content":"Multithreaded using DLL (msvcrt.lib)","pos":[2583,2619]},{"content":"libc.lib, libcmt.lib, libcd.lib, libcmtd.lib, msvcrtd.lib","pos":[2620,2677]},{"content":"Debug Single-threaded (libcd.lib)","pos":[2682,2715]},{"content":"libc.lib, libcmt.lib, msvcrt.lib, libcmtd.lib, msvcrtd.lib","pos":[2716,2774]},{"content":"Debug Multithreaded (libcmtd.lib)","pos":[2779,2812]},{"content":"libc.lib, libcmt.lib, msvcrt.lib, libcd.lib, msvcrtd.lib","pos":[2813,2869]},{"content":"Debug Multithreaded using DLL (msvcrtd.lib)","pos":[2874,2917]},{"content":"libc.lib, libcmt.lib, msvcrt.lib, libcd.lib, libcmtd.lib","pos":[2918,2974]},{"content":"For example, if you received this warning and you want to create an executable file that uses the non-debug, single-threaded version of the run-time libraries, you could use the following options with the linker:","pos":[2982,3194]}],"content":"---\ntitle: \"Linker Tools Warning LNK4098 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"LNK4098\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"LNK4098\"\nms.assetid: 1f1b1408-1316-4e34-80f5-6a02f2db0ac1\ncaps.latest.revision: 9\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Linker Tools Warning LNK4098\ndefaultlib 'library' conflicts with use of other libs; use /NODEFAULTLIB:library  \n  \n You are trying to link with incompatible libraries.  \n  \n> [!NOTE]\n>  The run-time libraries now contain directives to prevent mixing different types. You will receive this warning if you try to use different types or debug and non-debug versions of the run-time library in the same program. For example, if you compiled one file to use one kind of run-time library and another file to use another kind (for example, single-threaded versus multithreaded) and tried to link them, you will get this warning. You should compile all source files to use the same run-time library. See the [Use Run-Time Library](../../build/reference/md-mt-ld-use-run-time-library.md) (**/MD**, **/MT**, **/LD**) compiler options for more information.  \n  \n You can use the linker's [/VERBOSE:LIB](../../build/reference/verbose-print-progress-messages.md) switch to determine which libraries the linker is searching. If you receive LNK4098 and want to create an executable file that uses, for example, the single-threaded, non-debug run-time libraries, use the **/VERBOSE:LIB** option to find out which libraries the linker is searching. The linker should print LIBC.lib and not LIBCMT.lib, MSVCRT.lib, LIBCD.lib, LIBCMTD.lib, or MSVCRTD.lib as the libraries searched. You can tell the linker to ignore the incorrect run-time libraries by using [/NODEFAULTLIB](../../build/reference/nodefaultlib-ignore-libraries.md) for each library you want to ignore.  \n  \n The table below shows which libraries should be ignored depending on which run-time library you want to use.  \n  \n|To use this run-time library|Ignore these libraries|  \n|-----------------------------------|----------------------------|  \n|Single-threaded (libc.lib)|libcmt.lib, msvcrt.lib, libcd.lib, libcmtd.lib, msvcrtd.lib|  \n|Multithreaded (libcmt.lib)|libc.lib, msvcrt.lib, libcd.lib, libcmtd.lib, msvcrtd.lib|  \n|Multithreaded using DLL (msvcrt.lib)|libc.lib, libcmt.lib, libcd.lib, libcmtd.lib, msvcrtd.lib|  \n|Debug Single-threaded (libcd.lib)|libc.lib, libcmt.lib, msvcrt.lib, libcmtd.lib, msvcrtd.lib|  \n|Debug Multithreaded (libcmtd.lib)|libc.lib, libcmt.lib, msvcrt.lib, libcd.lib, msvcrtd.lib|  \n|Debug Multithreaded using DLL (msvcrtd.lib)|libc.lib, libcmt.lib, msvcrt.lib, libcd.lib, libcmtd.lib|  \n  \n For example, if you received this warning and you want to create an executable file that uses the non-debug, single-threaded version of the run-time libraries, you could use the following options with the linker:  \n  \n```  \n/NODEFAULTLIB:libcmt.lib /NODEFAULTLIB:msvcrt.lib /NODEFAULTLIB:libcd.lib /NODEFAULTLIB:libcmtd.lib /NODEFAULTLIB:msvcrtd.lib  \n```"}