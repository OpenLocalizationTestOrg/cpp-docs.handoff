{"nodes":[{"pos":[12,54],"content":"_CrtSetDebugFillThreshold | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_CrtSetDebugFillThreshold | Microsoft Docs","pos":[0,42]}]},{"content":"_CrtSetDebugFillThreshold","pos":[1088,1113]},{"content":"Retrieves or modifies the threshold controlling buffer-filling behavior in debug functions.","pos":[1114,1205]},{"content":"Syntax","pos":[1214,1220]},{"content":"Parameters","pos":[1313,1323]},{"content":"New threshold.","pos":[1345,1359]},{"content":"Return Value","pos":[1368,1380]},{"content":"The previous threshold.","pos":[1384,1407]},{"content":"Remarks","pos":[1416,1423]},{"content":"The debug versions of some security-enhanced CRT functions fill the buffer passed to them with a special character (0xFD).","pos":[1427,1549]},{"content":"This helps to find cases where the incorrect size was passed to the function.","pos":[1550,1627]},{"content":"Unfortunately, it also reduces performance.","pos":[1628,1671]},{"content":"To improve performance, use <ph id=\"ph1\">`_CrtSetDebugFillThreshold`</ph> to disable buffer-filling for buffers larger than the threshold.","pos":[1672,1792],"source":" To improve performance, use `_CrtSetDebugFillThreshold` to disable buffer-filling for buffers larger than the threshold."},{"content":"A threshold of 0 will disable it for all buffers.","pos":[1793,1842]},{"pos":[1849,1887],"content":"The default threshold is <ph id=\"ph1\">`SIZE_T_MAX`</ph>.","source":"The default threshold is `SIZE_T_MAX`."},{"content":"Here is a list of the affected functions.","pos":[1894,1935]},{"content":"strcpy_s, wcscpy_s, _mbscpy_s","pos":[1946,1975]},{"content":"strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l","pos":[2052,2126]},{"content":"_mbsnbcpy_s, _mbsnbcpy_s_l","pos":[2242,2268]},{"content":"strcat_s, wcscat_s, _mbscat_s","pos":[2342,2371]},{"content":"strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l","pos":[2448,2522]},{"content":"_mbsnbcat_s, _mbsnbcat_s_l","pos":[2638,2664]},{"content":"_strset_s, _strset_s_l, _wcsset_s, _wcsset_s_l, _mbsset_s, _mbsset_s_l","pos":[2738,2808]},{"content":"_strnset_s, _strnset_s_l, _wcsnset_s, _wcsnset_s_l, _mbsnset_s, _mbsnset_s_l","pos":[2918,2994]},{"content":"_mbsnbset_s, _mbsnbset_s_l","pos":[3110,3136]},{"content":"_makepath_s, _wmakepath_s","pos":[3210,3235]},{"content":"_splitpath_s, _wsplitpath_s","pos":[3308,3335]},{"content":"_strlwr_s, _strlwr_s_l, _mbslwr_s, _mbslwr_s_l, _wcslwr_s, _wcslwr_s_l","pos":[3410,3480]},{"content":"_strupr_s, _strupr_s_l, _mbsupr_s, _mbsupr_s_l, _wcsupr_s, _wcsupr_s_l","pos":[3590,3660]},{"content":"strerror_s, _strerror_s, _wcserror_s, <ph id=\"ph1\">\\_</ph>_wcserror_s","pos":[3770,3821],"source":"strerror_s, _strerror_s, _wcserror_s, \\__wcserror_s"},{"content":"_itoa_s, _i64toa_s, _ui64toa_s, _itow_s, _i64tow_s, _ui64tow_s","pos":[3915,3977]},{"content":"_ecvt_s","pos":[4079,4086]},{"content":"_fcvt_s","pos":[4143,4150]},{"content":"_gcvt_s","pos":[4207,4214]},{"content":"Requirements","pos":[4269,4281]},{"content":"Routine","pos":[4288,4295]},{"content":"Required header","pos":[4296,4311]},{"content":"crtdbg.h&gt;","pos":[4386,4395],"source":"crtdbg.h>"},{"pos":[4403,4521],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":"Libraries","pos":[4530,4539]},{"pos":[4543,4638],"content":"Debug versions of <bpt id=\"p1\">[</bpt>C run-time libraries<ept id=\"p1\">](../../c-runtime-library/crt-library-features.md)</ept> only.","source":"Debug versions of [C run-time libraries](../../c-runtime-library/crt-library-features.md) only."},{"content":"Example","pos":[4647,4654]},{"content":".NET Framework Equivalent","pos":[5682,5707]},{"content":"Not applicable.","pos":[5711,5726]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[5727,5774],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[5775,5900],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"content":"See Also","pos":[5909,5917]},{"content":"Debug Routines","pos":[5922,5936]}],"content":"---\ntitle: \"_CrtSetDebugFillThreshold | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_CrtSetDebugFillThreshold\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_CrtSetDebugFillThreshold\"\n  - \"CrtSetDebugFillThreshold\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"debug, buffer-filling behavior\"\n  - \"CrtSetDebugFillThreshold function\"\n  - \"_CrtSetDebugFillThreshold function\"\n  - \"buffer-filling behavior\"\n  - \"0xFD\"\nms.assetid: 6cb360e8-56ae-4248-b17f-e28aee3e0ed7\ncaps.latest.revision: 10\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _CrtSetDebugFillThreshold\nRetrieves or modifies the threshold controlling buffer-filling behavior in debug functions.  \n  \n## Syntax  \n  \n```  \nsize_t _CrtSetDebugFillThreshold(  \n   size_t _NewThreshold  \n);  \n```  \n  \n#### Parameters  \n `newThreshold`  \n New threshold.  \n  \n## Return Value  \n The previous threshold.  \n  \n## Remarks  \n The debug versions of some security-enhanced CRT functions fill the buffer passed to them with a special character (0xFD). This helps to find cases where the incorrect size was passed to the function. Unfortunately, it also reduces performance. To improve performance, use `_CrtSetDebugFillThreshold` to disable buffer-filling for buffers larger than the threshold. A threshold of 0 will disable it for all buffers.  \n  \n The default threshold is `SIZE_T_MAX`.  \n  \n Here is a list of the affected functions.  \n  \n-   [strcpy_s, wcscpy_s, _mbscpy_s](../../c-runtime-library/reference/strcpy-s-wcscpy-s-mbscpy-s.md)  \n  \n-   [strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l](../../c-runtime-library/reference/strncpy-s-strncpy-s-l-wcsncpy-s-wcsncpy-s-l-mbsncpy-s-mbsncpy-s-l.md)  \n  \n-   [_mbsnbcpy_s, _mbsnbcpy_s_l](../../c-runtime-library/reference/mbsnbcpy-s-mbsnbcpy-s-l.md)  \n  \n-   [strcat_s, wcscat_s, _mbscat_s](../../c-runtime-library/reference/strcat-s-wcscat-s-mbscat-s.md)  \n  \n-   [strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l](../../c-runtime-library/reference/strncat-s-strncat-s-l-wcsncat-s-wcsncat-s-l-mbsncat-s-mbsncat-s-l.md)  \n  \n-   [_mbsnbcat_s, _mbsnbcat_s_l](../../c-runtime-library/reference/mbsnbcat-s-mbsnbcat-s-l.md)  \n  \n-   [_strset_s, _strset_s_l, _wcsset_s, _wcsset_s_l, _mbsset_s, _mbsset_s_l](../../c-runtime-library/reference/strset-s-strset-s-l-wcsset-s-wcsset-s-l-mbsset-s-mbsset-s-l.md)  \n  \n-   [_strnset_s, _strnset_s_l, _wcsnset_s, _wcsnset_s_l, _mbsnset_s, _mbsnset_s_l](../../c-runtime-library/reference/strnset-s-strnset-s-l-wcsnset-s-wcsnset-s-l-mbsnset-s-mbsnset-s-l.md)  \n  \n-   [_mbsnbset_s, _mbsnbset_s_l](../../c-runtime-library/reference/mbsnbset-s-mbsnbset-s-l.md)  \n  \n-   [_makepath_s, _wmakepath_s](../../c-runtime-library/reference/makepath-s-wmakepath-s.md)  \n  \n-   [_splitpath_s, _wsplitpath_s](../../c-runtime-library/reference/splitpath-s-wsplitpath-s.md)  \n  \n-   [_strlwr_s, _strlwr_s_l, _mbslwr_s, _mbslwr_s_l, _wcslwr_s, _wcslwr_s_l](../../c-runtime-library/reference/strlwr-s-strlwr-s-l-mbslwr-s-mbslwr-s-l-wcslwr-s-wcslwr-s-l.md)  \n  \n-   [_strupr_s, _strupr_s_l, _mbsupr_s, _mbsupr_s_l, _wcsupr_s, _wcsupr_s_l](../../c-runtime-library/reference/strupr-s-strupr-s-l-mbsupr-s-mbsupr-s-l-wcsupr-s-wcsupr-s-l.md)  \n  \n-   [strerror_s, _strerror_s, _wcserror_s, \\__wcserror_s](../../c-runtime-library/reference/strerror-s-strerror-s-wcserror-s-wcserror-s.md)  \n  \n-   [_itoa_s, _i64toa_s, _ui64toa_s, _itow_s, _i64tow_s, _ui64tow_s](../../c-runtime-library/reference/itoa-s-i64toa-s-ui64toa-s-itow-s-i64tow-s-ui64tow-s.md)  \n  \n-   [_ecvt_s](../../c-runtime-library/reference/ecvt-s.md)  \n  \n-   [_fcvt_s](../../c-runtime-library/reference/fcvt-s.md)  \n  \n-   [_gcvt_s](../../c-runtime-library/reference/gcvt-s.md)  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_CrtSetDebugFillThreshold`|\\<crtdbg.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Libraries  \n Debug versions of [C run-time libraries](../../c-runtime-library/crt-library-features.md) only.  \n  \n## Example  \n  \n```  \n// crt_crtsetdebugfillthreshold.cpp  \n// compile with: /MTd  \n#include <stdio.h>  \n#include <stdlib.h>  \n#include <string.h>  \n#include <crtdbg.h>  \n  \nvoid Clear( char buff[], size_t size )  \n{  \n   for( int i=0; i<size; ++i )  \n      buff[i] = 0;  \n}  \n  \nvoid Print( char buff[], size_t size )  \n{  \n   for( int i=0; i<size; ++i )  \n      printf( \"%02x  %c\\n\", (unsigned char)buff[i], buff[i] );  \n}  \n  \nint main( void )  \n{  \n   char buff[10];  \n  \n   printf( \"With buffer-filling on:\\n\" );  \n   strcpy_s( buff, _countof(buff), \"howdy\" );  \n   Print( buff, _countof(buff) );  \n  \n   _CrtSetDebugFillThreshold( 0 );  \n  \n   printf( \"With buffer-filling off:\\n\" );  \n   Clear( buff, _countof(buff) );  \n   strcpy_s( buff, _countof(buff), \"howdy\" );  \n   Print( buff, _countof(buff) );  \n}  \n```  \n  \n```  \nWith buffer-filling on:  \n68  h  \n6f  o  \n77  w  \n64  d  \n79  y  \n00  \nfd  ²  \nfd  ²  \nfd  ²  \nfd  ²  \nWith buffer-filling off:  \n68  h  \n6f  o  \n77  w  \n64  d  \n79  y  \n00  \n00  \n00  \n00  \n00  \n```  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [Debug Routines](../../c-runtime-library/debug-routines.md)"}