{"nodes":[{"pos":[12,43],"content":"CPaintDC Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CPaintDC Class | Microsoft Docs","pos":[0,31]}]},{"pos":[643,657],"content":"CPaintDC Class","linkify":"CPaintDC Class","nodes":[{"content":"CPaintDC Class","pos":[0,14]}]},{"pos":[658,734],"content":"A device-context class derived from <bpt id=\"p1\">[</bpt>CDC<ept id=\"p1\">](../../mfc/reference/cdc-class.md)</ept>.","source":"A device-context class derived from [CDC](../../mfc/reference/cdc-class.md)."},{"pos":[743,749],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[803,810],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[820,839],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[846,850]},{"content":"Description","pos":[851,862]},{"pos":[900,941],"content":"<bpt id=\"p1\">[</bpt>CPaintDC::CPaintDC<ept id=\"p1\">](#cpaintdc__cpaintdc)</ept>","source":"[CPaintDC::CPaintDC](#cpaintdc__cpaintdc)"},{"pos":[942,1035],"content":"Constructs a <ph id=\"ph1\">`CPaintDC`</ph> connected to the specified <bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept>.","source":"Constructs a `CPaintDC` connected to the specified [CWnd](../../mfc/reference/cwnd-class.md)."},{"pos":[1046,1065],"content":"Public Data Members","linkify":"Public Data Members","nodes":[{"content":"Public Data Members","pos":[0,19]}]},{"content":"Name","pos":[1072,1076]},{"content":"Description","pos":[1077,1088]},{"pos":[1126,1159],"content":"<bpt id=\"p1\">[</bpt>CPaintDC::m_ps<ept id=\"p1\">](#cpaintdc__m_ps)</ept>","source":"[CPaintDC::m_ps](#cpaintdc__m_ps)"},{"pos":[1160,1263],"content":"Contains the <bpt id=\"p1\">[</bpt>PAINTSTRUCT<ept id=\"p1\">](../../mfc/reference/paintstruct-structure.md)</ept> used to paint the client area.","source":"Contains the [PAINTSTRUCT](../../mfc/reference/paintstruct-structure.md) used to paint the client area."},{"pos":[1274,1296],"content":"Protected Data Members","linkify":"Protected Data Members","nodes":[{"content":"Protected Data Members","pos":[0,22]}]},{"content":"Name","pos":[1303,1307]},{"content":"Description","pos":[1308,1319]},{"pos":[1357,1394],"content":"<bpt id=\"p1\">[</bpt>CPaintDC::m_hWnd<ept id=\"p1\">](#cpaintdc__m_hwnd)</ept>","source":"[CPaintDC::m_hWnd](#cpaintdc__m_hwnd)"},{"pos":[1395,1450],"content":"The <ph id=\"ph1\">`HWND`</ph> to which this <ph id=\"ph2\">`CPaintDC`</ph> object is attached.","source":"The `HWND` to which this `CPaintDC` object is attached."},{"pos":[1460,1467],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1471,1668],"content":"It performs a <bpt id=\"p1\">[</bpt>CWnd::BeginPaint<ept id=\"p1\">](../../mfc/reference/cwnd-class.md#cwnd__beginpaint)</ept> at construction time and <bpt id=\"p2\">[</bpt>CWnd::EndPaint<ept id=\"p2\">](../../mfc/reference/cwnd-class.md#cwnd__endpaint)</ept> at destruction time.","source":"It performs a [CWnd::BeginPaint](../../mfc/reference/cwnd-class.md#cwnd__beginpaint) at construction time and [CWnd::EndPaint](../../mfc/reference/cwnd-class.md#cwnd__endpaint) at destruction time."},{"pos":[1675,1871],"content":"A <ph id=\"ph1\">`CPaintDC`</ph> object can only be used when responding to a <bpt id=\"p1\">[</bpt>WM_PAINT<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd145213)</ept> message, usually in your <ph id=\"ph2\">`OnPaint`</ph> message-handler member function.","source":"A `CPaintDC` object can only be used when responding to a [WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213) message, usually in your `OnPaint` message-handler member function."},{"pos":[1878,1972],"content":"For more information on using <ph id=\"ph1\">`CPaintDC`</ph>, see <bpt id=\"p1\">[</bpt>Device Contexts<ept id=\"p1\">](../../mfc/device-contexts.md)</ept>.","source":"For more information on using `CPaintDC`, see [Device Contexts](../../mfc/device-contexts.md)."},{"pos":[1981,2002],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[2006,2053],"content":"<bpt id=\"p1\">[</bpt>CObject<ept id=\"p1\">](../../mfc/reference/cobject-class.md)</ept>","source":"[CObject](../../mfc/reference/cobject-class.md)"},{"pos":[2060,2099],"content":"<bpt id=\"p1\">[</bpt>CDC<ept id=\"p1\">](../../mfc/reference/cdc-class.md)</ept>","source":"[CDC](../../mfc/reference/cdc-class.md)"},{"pos":[2125,2137],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[2141,2161],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxwin.h","source":"**Header:** afxwin.h"},{"pos":[2171,2224],"content":"<bpt id=\"p1\">&lt;a name=\"cpaintdc__cpaintdc\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CPaintDC::CPaintDC","linkify":"<a name=\"cpaintdc__cpaintdc\"></a>  CPaintDC::CPaintDC","source":"<a name=\"cpaintdc__cpaintdc\"></a>  CPaintDC::CPaintDC"},{"pos":[2228,2438],"content":"Constructs a <ph id=\"ph1\">`CPaintDC`</ph> object, prepares the application window for painting, and stores the <bpt id=\"p1\">[</bpt>PAINTSTRUCT<ept id=\"p1\">](../../mfc/reference/paintstruct-structure.md)</ept> structure in the <bpt id=\"p2\">[</bpt>m_ps<ept id=\"p2\">](#cpaintdc__m_ps)</ept> member variable.","source":"Constructs a `CPaintDC` object, prepares the application window for painting, and stores the [PAINTSTRUCT](../../mfc/reference/paintstruct-structure.md) structure in the [m_ps](#cpaintdc__m_ps) member variable."},{"pos":[2494,2504],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Points to the <ph id=\"ph1\">`CWnd`</ph> object to which the <ph id=\"ph2\">`CPaintDC`</ph> object belongs.","pos":[2518,2585],"source":" Points to the `CWnd` object to which the `CPaintDC` object belongs."},{"pos":[2595,2602],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"An exception (of type <ph id=\"ph1\">`CResourceException`</ph>) is thrown if the Windows <bpt id=\"p1\">[</bpt>GetDC<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd144871)</ept> call fails.","pos":[2606,2754],"source":"An exception (of type `CResourceException`) is thrown if the Windows [GetDC](http://msdn.microsoft.com/library/windows/desktop/dd144871) call fails."},{"content":"A device context may not be available if Windows has already allocated all of its available device contexts.","pos":[2755,2863]},{"content":"Your application competes for the five common display contexts available at any given time under Windows.","pos":[2864,2969]},{"pos":[2979,2986],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2990,3068],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFCDocView#97<ept id=\"p2\">](../../mfc/codesnippet/cpp/cpaintdc-class_1.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFCDocView#97](../../mfc/codesnippet/cpp/cpaintdc-class_1.cpp)]"},{"pos":[3078,3127],"content":"<bpt id=\"p1\">&lt;a name=\"cpaintdc__m_hwnd\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CPaintDC::m_hWnd","linkify":"<a name=\"cpaintdc__m_hwnd\"></a>  CPaintDC::m_hWnd","source":"<a name=\"cpaintdc__m_hwnd\"></a>  CPaintDC::m_hWnd"},{"pos":[3131,3186],"content":"The <ph id=\"ph1\">`HWND`</ph> to which this <ph id=\"ph2\">`CPaintDC`</ph> object is attached.","source":"The `HWND` to which this `CPaintDC` object is attached."},{"pos":[3226,3233],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[3237,3285],"content":"<ph id=\"ph1\">`m_hWnd`</ph> is a protected variable of type <ph id=\"ph2\">`HWND`</ph>.","source":"`m_hWnd` is a protected variable of type `HWND`."},{"pos":[3295,3302],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3306,3384],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFCDocView#98<ept id=\"p2\">](../../mfc/codesnippet/cpp/cpaintdc-class_2.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFCDocView#98](../../mfc/codesnippet/cpp/cpaintdc-class_2.cpp)]"},{"pos":[3394,3439],"content":"<bpt id=\"p1\">&lt;a name=\"cpaintdc__m_ps\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CPaintDC::m_ps","linkify":"<a name=\"cpaintdc__m_ps\"></a>  CPaintDC::m_ps","source":"<a name=\"cpaintdc__m_ps\"></a>  CPaintDC::m_ps"},{"pos":[3443,3546],"content":"<ph id=\"ph1\">`m_ps`</ph> is a public member variable of type <bpt id=\"p1\">[</bpt>PAINTSTRUCT<ept id=\"p1\">](../../mfc/reference/paintstruct-structure.md)</ept>.","source":"`m_ps` is a public member variable of type [PAINTSTRUCT](../../mfc/reference/paintstruct-structure.md)."},{"pos":[3591,3598],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[3602,3733],"content":"It is the <ph id=\"ph1\">`PAINTSTRUCT`</ph> that is passed to and filled out by <bpt id=\"p1\">[</bpt>CWnd::BeginPaint<ept id=\"p1\">](../../mfc/reference/cwnd-class.md#cwnd__beginpaint)</ept>.","source":"It is the `PAINTSTRUCT` that is passed to and filled out by [CWnd::BeginPaint](../../mfc/reference/cwnd-class.md#cwnd__beginpaint)."},{"pos":[3740,3880],"content":"The <ph id=\"ph1\">`PAINTSTRUCT`</ph> contains information that the application uses to paint the client area of the window associated with a <ph id=\"ph2\">`CPaintDC`</ph> object.","source":"The `PAINTSTRUCT` contains information that the application uses to paint the client area of the window associated with a `CPaintDC` object."},{"content":"Note that you can access the device-context handle through the <ph id=\"ph1\">`PAINTSTRUCT`</ph>.","pos":[3887,3964],"source":"Note that you can access the device-context handle through the `PAINTSTRUCT`."},{"content":"However, you can access the handle more directly through the <ph id=\"ph1\">`m_hDC`</ph> member variable that <ph id=\"ph2\">`CPaintDC`</ph> inherits from <ph id=\"ph3\">`CDC`</ph>.","pos":[3965,4086],"source":" However, you can access the handle more directly through the `m_hDC` member variable that `CPaintDC` inherits from `CDC`."},{"pos":[4096,4103],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4108,4166],"content":"See the example for <bpt id=\"p1\">[</bpt>CPaintDC::m_hWnd<ept id=\"p1\">](#cpaintdc__m_hwnd)</ept>.","source":"See the example for [CPaintDC::m_hWnd](#cpaintdc__m_hwnd)."},{"pos":[4175,4183],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>MFC Sample MDI<ept id=\"p1\">](../../visual-cpp-samples.md)</ept><ph id=\"ph1\"> </ph>","pos":[4187,4233],"source":"[MFC Sample MDI](../../visual-cpp-samples.md) "},{"content":"<bpt id=\"p1\"> [</bpt>CDC Class<ept id=\"p1\">](../../mfc/reference/cdc-class.md)</ept><ph id=\"ph1\"> </ph>","pos":[4236,4283],"source":" [CDC Class](../../mfc/reference/cdc-class.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Hierarchy Chart<ept id=\"p1\">](../../mfc/hierarchy-chart.md)</ept>","pos":[4286,4334],"source":" [Hierarchy Chart](../../mfc/hierarchy-chart.md)"}],"content":"---\ntitle: \"CPaintDC Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CPaintDC\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"OnPaint handler\"\n  - \"WM_PAINT message\"\n  - \"CPaintDC class\"\nms.assetid: 7e245baa-bf9b-403e-a637-7218adf28fab\ncaps.latest.revision: 22\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CPaintDC Class\nA device-context class derived from [CDC](../../mfc/reference/cdc-class.md).  \n  \n## Syntax  \n  \n```  \nclass CPaintDC : public CDC  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CPaintDC::CPaintDC](#cpaintdc__cpaintdc)|Constructs a `CPaintDC` connected to the specified [CWnd](../../mfc/reference/cwnd-class.md).|  \n  \n### Public Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CPaintDC::m_ps](#cpaintdc__m_ps)|Contains the [PAINTSTRUCT](../../mfc/reference/paintstruct-structure.md) used to paint the client area.|  \n  \n### Protected Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CPaintDC::m_hWnd](#cpaintdc__m_hwnd)|The `HWND` to which this `CPaintDC` object is attached.|  \n  \n## Remarks  \n It performs a [CWnd::BeginPaint](../../mfc/reference/cwnd-class.md#cwnd__beginpaint) at construction time and [CWnd::EndPaint](../../mfc/reference/cwnd-class.md#cwnd__endpaint) at destruction time.  \n  \n A `CPaintDC` object can only be used when responding to a [WM_PAINT](http://msdn.microsoft.com/library/windows/desktop/dd145213) message, usually in your `OnPaint` message-handler member function.  \n  \n For more information on using `CPaintDC`, see [Device Contexts](../../mfc/device-contexts.md).  \n  \n## Inheritance Hierarchy  \n [CObject](../../mfc/reference/cobject-class.md)  \n  \n [CDC](../../mfc/reference/cdc-class.md)  \n  \n `CPaintDC`  \n  \n## Requirements  \n **Header:** afxwin.h  \n  \n##  <a name=\"cpaintdc__cpaintdc\"></a>  CPaintDC::CPaintDC  \n Constructs a `CPaintDC` object, prepares the application window for painting, and stores the [PAINTSTRUCT](../../mfc/reference/paintstruct-structure.md) structure in the [m_ps](#cpaintdc__m_ps) member variable.  \n  \n```  \nexplicit CPaintDC(CWnd* pWnd);\n```  \n  \n### Parameters  \n `pWnd`  \n Points to the `CWnd` object to which the `CPaintDC` object belongs.  \n  \n### Remarks  \n An exception (of type `CResourceException`) is thrown if the Windows [GetDC](http://msdn.microsoft.com/library/windows/desktop/dd144871) call fails. A device context may not be available if Windows has already allocated all of its available device contexts. Your application competes for the five common display contexts available at any given time under Windows.  \n  \n### Example  \n [!code-cpp[NVC_MFCDocView#97](../../mfc/codesnippet/cpp/cpaintdc-class_1.cpp)]  \n  \n##  <a name=\"cpaintdc__m_hwnd\"></a>  CPaintDC::m_hWnd  \n The `HWND` to which this `CPaintDC` object is attached.  \n  \n```  \nHWND m_hWnd;  \n```  \n  \n### Remarks  \n `m_hWnd` is a protected variable of type `HWND`.  \n  \n### Example  \n [!code-cpp[NVC_MFCDocView#98](../../mfc/codesnippet/cpp/cpaintdc-class_2.cpp)]  \n  \n##  <a name=\"cpaintdc__m_ps\"></a>  CPaintDC::m_ps  \n `m_ps` is a public member variable of type [PAINTSTRUCT](../../mfc/reference/paintstruct-structure.md).  \n  \n```  \nPAINTSTRUCT m_ps;  \n```  \n  \n### Remarks  \n It is the `PAINTSTRUCT` that is passed to and filled out by [CWnd::BeginPaint](../../mfc/reference/cwnd-class.md#cwnd__beginpaint).  \n  \n The `PAINTSTRUCT` contains information that the application uses to paint the client area of the window associated with a `CPaintDC` object.  \n  \n Note that you can access the device-context handle through the `PAINTSTRUCT`. However, you can access the handle more directly through the `m_hDC` member variable that `CPaintDC` inherits from `CDC`.  \n  \n### Example  \n  See the example for [CPaintDC::m_hWnd](#cpaintdc__m_hwnd).  \n  \n## See Also  \n [MFC Sample MDI](../../visual-cpp-samples.md)   \n [CDC Class](../../mfc/reference/cdc-class.md)   \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)\n\n\n\n"}