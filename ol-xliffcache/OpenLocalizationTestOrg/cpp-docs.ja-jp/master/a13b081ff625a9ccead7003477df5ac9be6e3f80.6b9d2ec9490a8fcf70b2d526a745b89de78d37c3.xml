{"nodes":[{"pos":[12,48],"content":"Run Member Function | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Run Member Function | Microsoft Docs","pos":[0,36]}]},{"content":"Run Member Function","pos":[741,760]},{"content":"A framework application spends most of its time in the <bpt id=\"p1\">[</bpt>Run<ept id=\"p1\">](../mfc/reference/cwinapp-class.md#cwinapp__run)</ept> member function of class <bpt id=\"p2\">[</bpt>CWinApp<ept id=\"p2\">](../mfc/reference/cwinapp-class.md)</ept>.","pos":[761,940],"source":"A framework application spends most of its time in the [Run](../mfc/reference/cwinapp-class.md#cwinapp__run) member function of class [CWinApp](../mfc/reference/cwinapp-class.md)."},{"content":"After initialization, <ph id=\"ph1\">`WinMain`</ph> calls <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> to process the message loop.","pos":[941,1015],"source":" After initialization, `WinMain` calls **Run** to process the message loop."},{"content":"<bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> cycles through a message loop, checking the message queue for available messages.","pos":[1022,1111],"source":"**Run** cycles through a message loop, checking the message queue for available messages."},{"content":"If a message is available, <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> dispatches it for action.","pos":[1112,1172],"source":" If a message is available, **Run** dispatches it for action."},{"content":"If no messages are available, which is often true, <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> calls <ph id=\"ph1\">`OnIdle`</ph> to do any idle-time processing that you or the framework may need done.","pos":[1173,1318],"source":" If no messages are available, which is often true, **Run** calls `OnIdle` to do any idle-time processing that you or the framework may need done."},{"content":"If there are no messages and no idle processing to do, the application waits until something happens.","pos":[1319,1420]},{"content":"When the application terminates, <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> calls <ph id=\"ph1\">`ExitInstance`</ph>.","pos":[1421,1483],"source":" When the application terminates, **Run** calls `ExitInstance`."},{"content":"The figure in <bpt id=\"p1\">[</bpt>OnIdle Member Function<ept id=\"p1\">](../mfc/onidle-member-function.md)</ept> shows the sequence of actions in the message loop.","pos":[1484,1607],"source":" The figure in [OnIdle Member Function](../mfc/onidle-member-function.md) shows the sequence of actions in the message loop."},{"content":"Message dispatching depends on the kind of message.","pos":[1614,1665]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Messages and Commands in the Framework<ept id=\"p1\">](../mfc/messages-and-commands-in-the-framework.md)</ept>.","pos":[1666,1783],"source":" For more information, see [Messages and Commands in the Framework](../mfc/messages-and-commands-in-the-framework.md)."},{"content":"See Also","pos":[1792,1800]},{"content":"CWinApp: The Application Class","pos":[1805,1835]}],"content":"---\ntitle: \"Run Member Function | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"WinMain method, calls CWinApp::Run\"\n  - \"messages, loops\"\n  - \"Run method, messages and idle processing\"\n  - \"message pump in CWinApp::Run\"\n  - \"WinMain method\"\n  - \"CWinApp class, Run\"\nms.assetid: 24ab7597-2354-495b-9a20-2c8ccc7385b3\ncaps.latest.revision: 9\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Run Member Function\nA framework application spends most of its time in the [Run](../mfc/reference/cwinapp-class.md#cwinapp__run) member function of class [CWinApp](../mfc/reference/cwinapp-class.md). After initialization, `WinMain` calls **Run** to process the message loop.  \n  \n **Run** cycles through a message loop, checking the message queue for available messages. If a message is available, **Run** dispatches it for action. If no messages are available, which is often true, **Run** calls `OnIdle` to do any idle-time processing that you or the framework may need done. If there are no messages and no idle processing to do, the application waits until something happens. When the application terminates, **Run** calls `ExitInstance`. The figure in [OnIdle Member Function](../mfc/onidle-member-function.md) shows the sequence of actions in the message loop.  \n  \n Message dispatching depends on the kind of message. For more information, see [Messages and Commands in the Framework](../mfc/messages-and-commands-in-the-framework.md).  \n  \n## See Also  \n [CWinApp: The Application Class](../mfc/cwinapp-the-application-class.md)\n"}