{"nodes":[{"pos":[12,55],"content":"-Gw (Optimize Global Data) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-Gw (Optimize Global Data) | Microsoft Docs","pos":[0,43]}]},{"content":"/Gw (Optimize Global Data)","pos":[672,698]},{"content":"Package global data in COMDAT sections for optimization.","pos":[699,755]},{"content":"Syntax","pos":[764,770]},{"content":"Remarks","pos":[803,810]},{"content":"The <bpt id=\"p1\">**</bpt>/Gw<ept id=\"p1\">**</ept> option causes the compiler to package global data in individual COMDAT sections.","pos":[814,906],"source":"The **/Gw** option causes the compiler to package global data in individual COMDAT sections."},{"content":"By default, <bpt id=\"p1\">**</bpt>/Gw<ept id=\"p1\">**</ept> is off and must be explicitly enabled.","pos":[907,965],"source":" By default, **/Gw** is off and must be explicitly enabled."},{"content":"To explicitly disable it, use <bpt id=\"p1\">**</bpt>/Gw-<ept id=\"p1\">**</ept>.","pos":[966,1005],"source":" To explicitly disable it, use **/Gw-**."},{"content":"When both <bpt id=\"p1\">**</bpt>/Gw<ept id=\"p1\">**</ept> and <bpt id=\"p2\">[</bpt>/GL<ept id=\"p2\">](../../build/reference/gl-whole-program-optimization.md)</ept> are enabled, the linker uses whole-program optimization to compare COMDAT sections across multiple object files in order to exclude unreferenced global data or to merge identical read-only global data.","pos":[1006,1291],"source":" When both **/Gw** and [/GL](../../build/reference/gl-whole-program-optimization.md) are enabled, the linker uses whole-program optimization to compare COMDAT sections across multiple object files in order to exclude unreferenced global data or to merge identical read-only global data."},{"content":"This can significantly reduce the size of the resulting binary executable.","pos":[1292,1366]},{"pos":[1373,1605],"content":"When you compile and link separately, you can use the <bpt id=\"p1\">[</bpt>/OPT:REF<ept id=\"p1\">](../../build/reference/opt-optimizations.md)</ept> linker option to exclude from the executable the unreferenced global data in object files compiled with the <bpt id=\"p2\">**</bpt>/Gw<ept id=\"p2\">**</ept> option.","source":"When you compile and link separately, you can use the [/OPT:REF](../../build/reference/opt-optimizations.md) linker option to exclude from the executable the unreferenced global data in object files compiled with the **/Gw** option."},{"pos":[1612,1906],"content":"You can also use the <bpt id=\"p1\">[</bpt>/OPT:ICF<ept id=\"p1\">](../../build/reference/opt-optimizations.md)</ept> and <bpt id=\"p2\">[</bpt>/LTCG<ept id=\"p2\">](../../build/reference/ltcg-link-time-code-generation.md)</ept> linker options together to merge in the executable any identical read-only global data across multiple object files compiled with the <bpt id=\"p3\">**</bpt>/Gw<ept id=\"p3\">**</ept> option.","source":"You can also use the [/OPT:ICF](../../build/reference/opt-optimizations.md) and [/LTCG](../../build/reference/ltcg-link-time-code-generation.md) linker options together to merge in the executable any identical read-only global data across multiple object files compiled with the **/Gw** option."},{"pos":[1913,2088],"content":"For more information, see <bpt id=\"p1\">[</bpt>Introducing /Gw Compiler Switch<ept id=\"p1\">](http://blogs.msdn.com/b/vcblog/archive/2013/09/11/introducing-gw-compiler-switch.aspx)</ept> on the Visual C++ Team Blog.","source":"For more information, see [Introducing /Gw Compiler Switch](http://blogs.msdn.com/b/vcblog/archive/2013/09/11/introducing-gw-compiler-switch.aspx) on the Visual C++ Team Blog."},{"content":"To set this compiler option in the Visual Studio development environment","pos":[2098,2170]},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[2180,2229],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[2230,2327],"source":" For details, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[2337,2365],"content":"Select the <bpt id=\"p1\">**</bpt>C/C++<ept id=\"p1\">**</ept> folder.","source":"Select the **C/C++** folder."},{"pos":[2375,2417],"content":"Select the <bpt id=\"p1\">**</bpt>Command Line<ept id=\"p1\">**</ept> property page.","source":"Select the **Command Line** property page."},{"pos":[2427,2512],"content":"Modify the <bpt id=\"p1\">**</bpt>Additional Options<ept id=\"p1\">**</ept> property to include <bpt id=\"p2\">**</bpt>/Gw<ept id=\"p2\">**</ept> and then choose <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","source":"Modify the **Additional Options** property to include **/Gw** and then choose **OK**."},{"content":"To set this compiler option programmatically","pos":[2522,2566]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A&gt;.","pos":[2576,2664],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>."},{"content":"See Also","pos":[2673,2681]},{"content":"Compiler Options","pos":[2686,2702]},{"content":"Setting Compiler Options","pos":[2752,2776]}],"content":"---\ntitle: \"-Gw (Optimize Global Data) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/Gw\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"/Gw compiler option [C++]\"\n  - \"-Gw compiler option [C++]\"\nms.assetid: 6f90f4e9-5eb8-4c47-886e-631278a5a4a9\ncaps.latest.revision: 10\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# /Gw (Optimize Global Data)\nPackage global data in COMDAT sections for optimization.  \n  \n## Syntax  \n  \n```  \n/Gw[-]  \n```  \n  \n## Remarks  \n The **/Gw** option causes the compiler to package global data in individual COMDAT sections. By default, **/Gw** is off and must be explicitly enabled. To explicitly disable it, use **/Gw-**. When both **/Gw** and [/GL](../../build/reference/gl-whole-program-optimization.md) are enabled, the linker uses whole-program optimization to compare COMDAT sections across multiple object files in order to exclude unreferenced global data or to merge identical read-only global data. This can significantly reduce the size of the resulting binary executable.  \n  \n When you compile and link separately, you can use the [/OPT:REF](../../build/reference/opt-optimizations.md) linker option to exclude from the executable the unreferenced global data in object files compiled with the **/Gw** option.  \n  \n You can also use the [/OPT:ICF](../../build/reference/opt-optimizations.md) and [/LTCG](../../build/reference/ltcg-link-time-code-generation.md) linker options together to merge in the executable any identical read-only global data across multiple object files compiled with the **/Gw** option.  \n  \n For more information, see [Introducing /Gw Compiler Switch](http://blogs.msdn.com/b/vcblog/archive/2013/09/11/introducing-gw-compiler-switch.aspx) on the Visual C++ Team Blog.  \n  \n### To set this compiler option in the Visual Studio development environment  \n  \n1.  Open the project's **Property Pages** dialog box. For details, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  Select the **C/C++** folder.  \n  \n3.  Select the **Command Line** property page.  \n  \n4.  Modify the **Additional Options** property to include **/Gw** and then choose **OK**.  \n  \n### To set this compiler option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  \n  \n## See Also  \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)"}