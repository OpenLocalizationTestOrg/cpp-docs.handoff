{"nodes":[{"pos":[12,54],"content":"-P (Preprocess to a File) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-P (Preprocess to a File) | Microsoft Docs","pos":[0,42]}]},{"content":"/P (Preprocess to a File)","pos":[859,884]},{"content":"Preprocesses C and C++ source files and writes the preprocessed output to a file.","pos":[885,966]},{"content":"Syntax","pos":[975,981]},{"content":"Remarks","pos":[1010,1017]},{"content":"The file has the same base name as the source file and an .i extension.","pos":[1021,1092]},{"content":"In the process, all preprocessor directives are carried out, macro expansions are performed, and comments are removed.","pos":[1093,1211]},{"content":"To preserve comments in the preprocessed output, use the <bpt id=\"p1\">[</bpt>/C (Preserve Comments During Preprocessing)<ept id=\"p1\">](../../build/reference/c-preserve-comments-during-preprocessing.md)</ept> option along with <bpt id=\"p2\">**</bpt>/P<ept id=\"p2\">**</ept>.","pos":[1212,1407],"source":" To preserve comments in the preprocessed output, use the [/C (Preserve Comments During Preprocessing)](../../build/reference/c-preserve-comments-during-preprocessing.md) option along with **/P**."},{"content":"<bpt id=\"p1\">**</bpt>/P<ept id=\"p1\">**</ept> adds <ph id=\"ph1\">`#line`</ph> directives to the output, at the beginning and end of each included file and around lines removed by preprocessor directives for conditional compilation.","pos":[1414,1587],"source":"**/P** adds `#line` directives to the output, at the beginning and end of each included file and around lines removed by preprocessor directives for conditional compilation."},{"content":"These directives renumber the lines of the preprocessed file.","pos":[1588,1649]},{"content":"As a result, errors generated during later stages of processing refer to the line numbers of the original source file rather than lines in the preprocessed file.","pos":[1650,1811]},{"content":"To suppress the generation of <ph id=\"ph1\">`#line`</ph> directives, use <bpt id=\"p1\">[</bpt>/EP (Preprocess to stdout Without #line Directives)<ept id=\"p1\">](../../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md)</ept> as well as <bpt id=\"p2\">**</bpt>/P<ept id=\"p2\">**</ept>.","pos":[1812,2017],"source":" To suppress the generation of `#line` directives, use [/EP (Preprocess to stdout Without #line Directives)](../../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) as well as **/P**."},{"content":"The <bpt id=\"p1\">**</bpt>/P<ept id=\"p1\">**</ept> option suppresses compilation.","pos":[2024,2065],"source":"The **/P** option suppresses compilation."},{"content":"It does not produce an .obj file, even if you use <bpt id=\"p1\">[</bpt>/Fo (Object File Name)<ept id=\"p1\">](../../build/reference/fo-object-file-name.md)</ept>.","pos":[2066,2187],"source":" It does not produce an .obj file, even if you use [/Fo (Object File Name)](../../build/reference/fo-object-file-name.md)."},{"content":"You must resubmit the preprocessed file for compilation.","pos":[2188,2244]},{"content":"<bpt id=\"p1\">**</bpt>/P<ept id=\"p1\">**</ept> also suppresses the output files from the <bpt id=\"p2\">**</bpt>/FA<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>/Fa<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>/Fm<ept id=\"p4\">**</ept> options.","pos":[2245,2332],"source":"**/P** also suppresses the output files from the **/FA**, **/Fa**, and **/Fm** options."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>/FA, /Fa (Listing File)<ept id=\"p1\">](../../build/reference/fa-fa-listing-file.md)</ept> and <bpt id=\"p2\">[</bpt>/Fm (Name Mapfile)<ept id=\"p2\">](../../build/reference/fm-name-mapfile.md)</ept>.","pos":[2333,2497],"source":" For more information, see [/FA, /Fa (Listing File)](../../build/reference/fa-fa-listing-file.md) and [/Fm (Name Mapfile)](../../build/reference/fm-name-mapfile.md)."},{"content":"To set this compiler option in the Visual Studio development environment","pos":[2507,2579]},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[2589,2638],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[2639,2736],"source":" For details, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[2746,2773],"content":"Click the <bpt id=\"p1\">**</bpt>C/C++<ept id=\"p1\">**</ept> folder.","source":"Click the **C/C++** folder."},{"pos":[2783,2824],"content":"Click the <bpt id=\"p1\">**</bpt>Preprocessor<ept id=\"p1\">**</ept> property page.","source":"Click the **Preprocessor** property page."},{"pos":[2834,2885],"content":"Modify the <bpt id=\"p1\">**</bpt>Generate Preprocessed File<ept id=\"p1\">**</ept> property.","source":"Modify the **Generate Preprocessed File** property."},{"content":"To set this compiler option programmatically","pos":[2895,2939]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.GeneratePreprocessedFile%2A&gt;.","pos":[2949,3044],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.GeneratePreprocessedFile%2A>."},{"content":"Example","pos":[3053,3060]},{"pos":[3064,3199],"content":"The following command line preprocesses <ph id=\"ph1\">`ADD.C`</ph>, preserves comments, adds <ph id=\"ph2\">`#line`</ph> directives, and writes the result to a file, <ph id=\"ph3\">`ADD.I`</ph>:","source":"The following command line preprocesses `ADD.C`, preserves comments, adds `#line` directives, and writes the result to a file, `ADD.I`:"},{"content":"See Also","pos":[3240,3248]},{"content":"Compiler Options","pos":[3253,3269]},{"content":"Setting Compiler Options","pos":[3319,3343]},{"content":"/Fi (Preprocess Output File Name)","pos":[3401,3434]}],"content":"---\ntitle: \"-P (Preprocess to a File) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"VC.Project.VCCLCompilerTool.GeneratePreprocessedFile\"\n  - \"/p\"\n  - \"VC.Project.VCCLWCECompilerTool.GeneratePreprocessedFile\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"/P compiler option [C++]\"\n  - \"-P compiler option [C++]\"\n  - \"P compiler option [C++]\"\n  - \"output files, preprocessor\"\n  - \"preprocessing output files\"\nms.assetid: 123ee54f-8219-4a6f-9876-4227023d83fc\ncaps.latest.revision: 12\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /P (Preprocess to a File)\nPreprocesses C and C++ source files and writes the preprocessed output to a file.  \n  \n## Syntax  \n  \n```  \n/P  \n```  \n  \n## Remarks  \n The file has the same base name as the source file and an .i extension. In the process, all preprocessor directives are carried out, macro expansions are performed, and comments are removed. To preserve comments in the preprocessed output, use the [/C (Preserve Comments During Preprocessing)](../../build/reference/c-preserve-comments-during-preprocessing.md) option along with **/P**.  \n  \n **/P** adds `#line` directives to the output, at the beginning and end of each included file and around lines removed by preprocessor directives for conditional compilation. These directives renumber the lines of the preprocessed file. As a result, errors generated during later stages of processing refer to the line numbers of the original source file rather than lines in the preprocessed file. To suppress the generation of `#line` directives, use [/EP (Preprocess to stdout Without #line Directives)](../../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) as well as **/P**.  \n  \n The **/P** option suppresses compilation. It does not produce an .obj file, even if you use [/Fo (Object File Name)](../../build/reference/fo-object-file-name.md). You must resubmit the preprocessed file for compilation. **/P** also suppresses the output files from the **/FA**, **/Fa**, and **/Fm** options. For more information, see [/FA, /Fa (Listing File)](../../build/reference/fa-fa-listing-file.md) and [/Fm (Name Mapfile)](../../build/reference/fm-name-mapfile.md).  \n  \n### To set this compiler option in the Visual Studio development environment  \n  \n1.  Open the project's **Property Pages** dialog box. For details, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  Click the **C/C++** folder.  \n  \n3.  Click the **Preprocessor** property page.  \n  \n4.  Modify the **Generate Preprocessed File** property.  \n  \n### To set this compiler option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.GeneratePreprocessedFile%2A>.  \n  \n## Example  \n The following command line preprocesses `ADD.C`, preserves comments, adds `#line` directives, and writes the result to a file, `ADD.I`:  \n  \n```  \nCL /P /C ADD.C  \n```  \n  \n## See Also  \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)   \n [/Fi (Preprocess Output File Name)](../../build/reference/fi-preprocess-output-file-name.md)"}