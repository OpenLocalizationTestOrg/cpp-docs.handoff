{"nodes":[{"pos":[12,49],"content":"Compiler Error C2229 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Error C2229 | Microsoft Docs","pos":[0,37]}]},{"pos":[598,618],"content":"Compiler Error C2229","linkify":"Compiler Error C2229","nodes":[{"content":"Compiler Error C2229","pos":[0,20]}]},{"content":"type 'identifier' has an illegal zero-sized array","pos":[619,668]},{"content":"A member of a structure or bit field contains a zero-sized array that is not the last member.","pos":[675,768]},{"content":"Because you can have a zero sized array as the last member of the struct, you must specify its size when you allocate the struct.","pos":[775,904]},{"content":"If the zero sized array is not the last member of the struct, the compiler can't calculate the offset for the remaining fields.","pos":[911,1038]},{"content":"The following sample generates C2229:","pos":[1045,1082]}],"content":"---\ntitle: \"Compiler Error C2229 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"C2229\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C2229\"\nms.assetid: 933c7cf2-a463-4e74-b0b4-59dedad987fb\ncaps.latest.revision: 10\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Compiler Error C2229\ntype 'identifier' has an illegal zero-sized array  \n  \n A member of a structure or bit field contains a zero-sized array that is not the last member.  \n  \n Because you can have a zero sized array as the last member of the struct, you must specify its size when you allocate the struct.  \n  \n If the zero sized array is not the last member of the struct, the compiler can't calculate the offset for the remaining fields.  \n  \n The following sample generates C2229:  \n  \n```  \n// C2229.cpp  \nstruct S {  \n   int a[0];  // C2229  zero-sized array  \n   int b[1];  \n};  \n  \nstruct S2 {  \n   int a;  \n   int b[0];  \n};  \n  \nint main() {  \n   // allocate 7 elements for b field  \n   S2* s2 = (S2*)new int[sizeof(S2) + 7*sizeof(int)];  \n   s2->b[6] = 100;  \n}  \n```"}