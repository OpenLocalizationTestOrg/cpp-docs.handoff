{"nodes":[{"pos":[12,56],"content":"Using Generic-Text Mappings | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Using Generic-Text Mappings | Microsoft Docs","pos":[0,44]}]},{"content":"Using Generic-Text Mappings","pos":[1057,1084]},{"content":"Microsoft Specific","pos":[1087,1105]},{"content":"To simplify code development for various international markets, the Microsoft run-time library provides Microsoft-specific \"generic-text\" mappings for many data types, routines, and other objects.","pos":[1114,1310]},{"content":"These mappings are defined in TCHAR.H.","pos":[1311,1349]},{"content":"You can use these name mappings to write generic code that can be compiled for any of the three kinds of character sets: ASCII (SBCS), MBCS, or Unicode, depending on a manifest constant you define using a <ph id=\"ph1\">`#define`</ph> statement.","pos":[1350,1575],"source":" You can use these name mappings to write generic code that can be compiled for any of the three kinds of character sets: ASCII (SBCS), MBCS, or Unicode, depending on a manifest constant you define using a `#define` statement."},{"content":"Generic-text mappings are Microsoft extensions that are not ANSI compatible.","pos":[1576,1652]},{"content":"Preprocessor Directives for Generic-Text Mappings","pos":[1662,1711]},{"content":"define","pos":[1719,1725]},{"content":"Compiled version","pos":[1726,1742]},{"content":"Example","pos":[1743,1750]},{"content":"Unicode (wide-character)","pos":[1822,1846]},{"pos":[1857,1864],"content":"maps to"},{"content":"Multibyte-character","pos":[1887,1906]},{"pos":[1917,1924],"content":"maps to"},{"pos":[1939,1997],"content":"None (the default: neither <ph id=\"ph1\">`_UNICODE`</ph> nor <ph id=\"ph2\">`_MBCS`</ph> defined)","source":"None (the default: neither `_UNICODE` nor `_MBCS` defined)"},{"content":"SBCS (ASCII)","pos":[1998,2010]},{"pos":[2021,2028],"content":"maps to"},{"content":"For example, the generic-text function <ph id=\"ph1\">`_tcsrev`</ph>, defined in TCHAR.H, maps to <ph id=\"ph2\">`mbsrev`</ph> if <ph id=\"ph3\">`MBCS`</ph> has been defined in your program, or to <ph id=\"ph4\">`_wcsrev`</ph> if <ph id=\"ph5\">`_UNICODE`</ph> has been defined.","pos":[2045,2223],"source":"For example, the generic-text function `_tcsrev`, defined in TCHAR.H, maps to `mbsrev` if `MBCS` has been defined in your program, or to `_wcsrev` if `_UNICODE` has been defined."},{"content":"Otherwise <ph id=\"ph1\">`_tcsrev`</ph> maps to <ph id=\"ph2\">`strrev`</ph>.","pos":[2224,2261],"source":" Otherwise `_tcsrev` maps to `strrev`."},{"content":"The generic-text data type <ph id=\"ph1\">`_TCHAR`</ph>, also defined in TCHAR.H, maps to type <ph id=\"ph2\">`char`</ph> if <ph id=\"ph3\">`_MBCS`</ph> is defined, to type <ph id=\"ph4\">`wchar_t`</ph> if <ph id=\"ph5\">`_UNICODE`</ph> is defined, and to type <ph id=\"ph6\">`char`</ph> if neither constant is defined.","pos":[2268,2467],"source":"The generic-text data type `_TCHAR`, also defined in TCHAR.H, maps to type `char` if `_MBCS` is defined, to type `wchar_t` if `_UNICODE` is defined, and to type `char` if neither constant is defined."},{"content":"Other data type mappings are provided in TCHAR.H for programming convenience, but <ph id=\"ph1\">`_TCHAR`</ph> is the type that is most useful.","pos":[2468,2591],"source":" Other data type mappings are provided in TCHAR.H for programming convenience, but `_TCHAR` is the type that is most useful."},{"content":"Generic-Text Data Type Mappings","pos":[2601,2632]},{"content":"Generic-text data type name","pos":[2639,2666]},{"content":"SBCS (_UNICODE, _MBCS not defined)","pos":[2667,2701]},{"content":"_MBCS defined","pos":[2702,2715]},{"content":"_UNICODE defined","pos":[2716,2732]},{"pos":[3096,3098],"content":"or"},{"content":"No effect (removed by preprocessor)","pos":[3107,3142]},{"content":"No effect (removed by preprocessor)","pos":[3143,3178]},{"pos":[3183,3250],"content":"(converts following character or string to its Unicode counterpart)"},{"pos":[3258,3421],"content":"For a complete list of generic-text mappings of routines, variables, and other objects, see <bpt id=\"p1\">[</bpt>Generic-Text Mappings<ept id=\"p1\">](../c-runtime-library/generic-text-mappings.md)</ept>.","source":"For a complete list of generic-text mappings of routines, variables, and other objects, see [Generic-Text Mappings](../c-runtime-library/generic-text-mappings.md)."},{"pos":[3428,3552],"content":"The following code fragments illustrate the use of <ph id=\"ph1\">`_TCHAR`</ph> and <ph id=\"ph2\">`_tcsrev`</ph> for mapping to the MBCS, Unicode, and SBCS models.","source":"The following code fragments illustrate the use of `_TCHAR` and `_tcsrev` for mapping to the MBCS, Unicode, and SBCS models."},{"pos":[3633,3728],"content":"If <ph id=\"ph1\">`MBCS`</ph> has been defined, the preprocessor maps the preceding fragment to the following code:","source":"If `MBCS` has been defined, the preprocessor maps the preceding fragment to the following code:"},{"pos":[3807,3901],"content":"If <ph id=\"ph1\">`_UNICODE`</ph> has been defined, the preprocessor maps the same fragment to the following code:","source":"If `_UNICODE` has been defined, the preprocessor maps the same fragment to the following code:"},{"pos":[3983,4108],"content":"If neither <ph id=\"ph1\">`_MBCS`</ph> nor <ph id=\"ph2\">`_UNICODE`</ph> has been defined, the preprocessor maps the fragment to single-byte ASCII code, as follows:","source":"If neither `_MBCS` nor `_UNICODE` has been defined, the preprocessor maps the fragment to single-byte ASCII code, as follows:"},{"content":"Thus you can write, maintain, and compile a single source code file to run with routines that are specific to any of the three kinds of character sets.","pos":[4186,4337]},{"content":"END Microsoft Specific","pos":[4346,4368]},{"content":"See Also","pos":[4379,4387]},{"content":"Generic-Text Mappings","pos":[4392,4413]},{"content":"Data Type Mappings","pos":[4467,4485]},{"content":"Constant and Global Variable Mappings","pos":[4536,4573]},{"content":"Routine Mappings","pos":[4643,4659]},{"content":"A Sample Generic-Text Program","pos":[4708,4737]}],"content":"---\ntitle: \"Using Generic-Text Mappings | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"_UNICODE\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"_TXCHAR type\"\n  - \"TINT type\"\n  - \"_TCHAR type\"\n  - \"TSCHAR type\"\n  - \"TEXT type\"\n  - \"TCHAR type\"\n  - \"TCHAR.H data types, mappings defined in\"\n  - \"generic-text data types\"\n  - \"_TINT type\"\n  - \"TUCHAR type\"\n  - \"_UNICODE constant\"\n  - \"TXCHAR type\"\n  - \"generic-text mappings\"\n  - \"_TSCHAR type\"\n  - \"T type\"\n  - \"mappings, generic-text\"\n  - \"_TUCHAR type\"\n  - \"MBCS data type\"\n  - \"_MBCS data type\"\n  - \"_TEXT type\"\n  - \"UNICODE constant\"\n  - \"_T type\"\nms.assetid: 2848121c-e51f-4b9b-a2e6-833ece4b0cb3\ncaps.latest.revision: 8\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Using Generic-Text Mappings\n**Microsoft Specific**  \n  \n To simplify code development for various international markets, the Microsoft run-time library provides Microsoft-specific \"generic-text\" mappings for many data types, routines, and other objects. These mappings are defined in TCHAR.H. You can use these name mappings to write generic code that can be compiled for any of the three kinds of character sets: ASCII (SBCS), MBCS, or Unicode, depending on a manifest constant you define using a `#define` statement. Generic-text mappings are Microsoft extensions that are not ANSI compatible.  \n  \n### Preprocessor Directives for Generic-Text Mappings  \n  \n|#define|Compiled version|Example|  \n|--------------|----------------------|-------------|  \n|`_UNICODE`|Unicode (wide-character)|`_tcsrev` maps to `_wcsrev`|  \n|`_MBCS`|Multibyte-character|`_tcsrev` maps to `_mbsrev`|  \n|None (the default: neither `_UNICODE` nor `_MBCS` defined)|SBCS (ASCII)|`_tcsrev` maps to `strrev`|  \n  \n For example, the generic-text function `_tcsrev`, defined in TCHAR.H, maps to `mbsrev` if `MBCS` has been defined in your program, or to `_wcsrev` if `_UNICODE` has been defined. Otherwise `_tcsrev` maps to `strrev`.  \n  \n The generic-text data type `_TCHAR`, also defined in TCHAR.H, maps to type `char` if `_MBCS` is defined, to type `wchar_t` if `_UNICODE` is defined, and to type `char` if neither constant is defined. Other data type mappings are provided in TCHAR.H for programming convenience, but `_TCHAR` is the type that is most useful.  \n  \n### Generic-Text Data Type Mappings  \n  \n|Generic-text data type name|SBCS (_UNICODE, _MBCS not defined)|_MBCS defined|_UNICODE defined|  \n|----------------------------------|--------------------------------------------|--------------------|-----------------------|  \n|`_TCHAR`|`char`|`char`|`wchar_t`|  \n|`_TINT`|`int`|`int`|`wint_t`|  \n|`_TSCHAR`|`signed char`|`signed char`|`wchar_t`|  \n|`_TUCHAR`|`unsigned char`|`unsigned char`|`wchar_t`|  \n|`_TXCHAR`|`char`|`unsigned char`|`wchar_t`|  \n|`_T` or `_TEXT`|No effect (removed by preprocessor)|No effect (removed by preprocessor)|`L` (converts following character or string to its Unicode counterpart)|  \n  \n For a complete list of generic-text mappings of routines, variables, and other objects, see [Generic-Text Mappings](../c-runtime-library/generic-text-mappings.md).  \n  \n The following code fragments illustrate the use of `_TCHAR` and `_tcsrev` for mapping to the MBCS, Unicode, and SBCS models.  \n  \n```  \n_TCHAR *RetVal, *szString;  \nRetVal = _tcsrev(szString);  \n```  \n  \n If `MBCS` has been defined, the preprocessor maps the preceding fragment to the following code:  \n  \n```  \nchar *RetVal, *szString;  \nRetVal = _mbsrev(szString);  \n```  \n  \n If `_UNICODE` has been defined, the preprocessor maps the same fragment to the following code:  \n  \n```  \nwchar_t *RetVal, *szString;  \nRetVal = _wcsrev(szString);  \n```  \n  \n If neither `_MBCS` nor `_UNICODE` has been defined, the preprocessor maps the fragment to single-byte ASCII code, as follows:  \n  \n```  \nchar *RetVal, *szString;  \nRetVal = strrev(szString);  \n```  \n  \n Thus you can write, maintain, and compile a single source code file to run with routines that are specific to any of the three kinds of character sets.  \n  \n **END Microsoft Specific**  \n  \n## See Also  \n [Generic-Text Mappings](../c-runtime-library/generic-text-mappings.md)   \n [Data Type Mappings](../c-runtime-library/data-type-mappings.md)   \n [Constant and Global Variable Mappings](../c-runtime-library/constant-and-global-variable-mappings.md)   \n [Routine Mappings](../c-runtime-library/routine-mappings.md)   \n [A Sample Generic-Text Program](../c-runtime-library/a-sample-generic-text-program.md)"}