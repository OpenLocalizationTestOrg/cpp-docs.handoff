{"nodes":[{"pos":[12,65],"content":"-cgthreads (Code Generation Threads) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-cgthreads (Code Generation Threads) | Microsoft Docs","pos":[0,53]}]},{"content":"/cgthreads (Code Generation Threads)","pos":[730,766]},{"content":"Sets number of cl.exe threads to use for optimization and code generation.","pos":[767,841]},{"content":"Syntax","pos":[850,856]},{"content":"Arguments","pos":[898,907]},{"content":"number","pos":[911,917]},{"content":"The maximum number of threads for cl.exe to use, in the range 1 to 8.","pos":[921,990]},{"content":"Remarks","pos":[999,1006]},{"content":"The <bpt id=\"p1\">**</bpt>/cgthreads<ept id=\"p1\">**</ept> option specifies the maximum number of threads cl.exe uses in parallel for the optimization and code generation phases of compilation.","pos":[1010,1163],"source":"The **/cgthreads** option specifies the maximum number of threads cl.exe uses in parallel for the optimization and code generation phases of compilation."},{"content":"Notice that there can be no space between <bpt id=\"p1\">**</bpt>/cgthreads<ept id=\"p1\">**</ept> and the <ph id=\"ph1\">`number`</ph> argument.","pos":[1164,1247],"source":" Notice that there can be no space between **/cgthreads** and the `number` argument."},{"content":"By default, cl.exe uses four threads, as if <bpt id=\"p1\">**</bpt>/cgthreads4<ept id=\"p1\">**</ept> were specified.","pos":[1248,1323],"source":" By default, cl.exe uses four threads, as if **/cgthreads4** were specified."},{"content":"If more processor cores are available, a larger <ph id=\"ph1\">`number`</ph> value can improve build times.","pos":[1324,1411],"source":" If more processor cores are available, a larger `number` value can improve build times."},{"content":"This option is especially useful when it's combined with <bpt id=\"p1\">[</bpt>/GL (Whole Program Optimization)<ept id=\"p1\">](../../build/reference/gl-whole-program-optimization.md)</ept>.","pos":[1412,1560],"source":" This option is especially useful when it's combined with [/GL (Whole Program Optimization)](../../build/reference/gl-whole-program-optimization.md)."},{"content":"Multiple levels of parallelism can be specified for a build.","pos":[1567,1627]},{"content":"The msbuild.exe switch <bpt id=\"p1\">**</bpt>/maxcpucount<ept id=\"p1\">**</ept> specifies the number of MSBuild processes that can be run in parallel.","pos":[1628,1738],"source":" The msbuild.exe switch **/maxcpucount** specifies the number of MSBuild processes that can be run in parallel."},{"content":"The <bpt id=\"p1\">[</bpt>/MP (Build with Multiple Processes)<ept id=\"p1\">](../../build/reference/mp-build-with-multiple-processes.md)</ept> compiler flag specifies the number of cl.exe processes that simultaneously compile the source files.","pos":[1739,1940],"source":" The [/MP (Build with Multiple Processes)](../../build/reference/mp-build-with-multiple-processes.md) compiler flag specifies the number of cl.exe processes that simultaneously compile the source files."},{"content":"The <bpt id=\"p1\">**</bpt>/cgthreads<ept id=\"p1\">**</ept> option specifies the number of threads used by each cl.exe process.","pos":[1941,2027],"source":" The **/cgthreads** option specifies the number of threads used by each cl.exe process."},{"content":"Because the processor can only run as many threads at the same time as there are processor cores, it's not useful to specify larger values for all of these options at the same time, and it can be counterproductive.","pos":[2028,2242]},{"content":"For more information about how to build projects in parallel, see <bpt id=\"p1\">[</bpt>Building Multiple Projects in Parallel<ept id=\"p1\">](/visualstudio/msbuild/building-multiple-projects-in-parallel-with-msbuild)</ept>.","pos":[2243,2425],"source":" For more information about how to build projects in parallel, see [Building Multiple Projects in Parallel](/visualstudio/msbuild/building-multiple-projects-in-parallel-with-msbuild)."},{"content":"To set this compiler option in the Visual Studio development environment","pos":[2435,2507]},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[2517,2566],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[2567,2664],"source":" For details, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[2674,2732],"content":"Select the <bpt id=\"p1\">**</bpt>Configuration Properties<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>C/C++<ept id=\"p2\">**</ept> folder.","source":"Select the **Configuration Properties**, **C/C++** folder."},{"pos":[2742,2784],"content":"Select the <bpt id=\"p1\">**</bpt>Command Line<ept id=\"p1\">**</ept> property page.","source":"Select the **Command Line** property page."},{"pos":[2794,2924],"content":"Modify the <bpt id=\"p1\">**</bpt>Additional Options<ept id=\"p1\">**</ept> property to include <bpt id=\"p2\">**</bpt>/cgthreads<ept id=\"p2\">**</ept><ph id=\"ph1\">`N`</ph>, where <ph id=\"ph2\">`N`</ph> is a value from 1 to 8, and then select <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","source":"Modify the **Additional Options** property to include **/cgthreads**`N`, where `N` is a value from 1 to 8, and then select **OK**."},{"content":"To set this compiler option programmatically","pos":[2934,2978]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A&gt;.","pos":[2988,3076],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>."},{"content":"See Also","pos":[3085,3093]},{"content":"Compiler Options","pos":[3098,3114]},{"content":"Setting Compiler Options","pos":[3164,3188]}],"content":"---\ntitle: \"-cgthreads (Code Generation Threads) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/cgthreads\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"/cgthreads compiler option (C++)\"\n  - \"-cgthreads compiler option (C++)\"\n  - \"cgthreads compiler option (C++)\"\n  - \"cgthreads\"\nms.assetid: 64bc768c-6caa-4baf-9dea-7cfa1ffb01c2\ncaps.latest.revision: 7\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /cgthreads (Code Generation Threads)\nSets number of cl.exe threads to use for optimization and code generation.  \n  \n## Syntax  \n  \n```  \n/cgthreads[1-8]  \n```  \n  \n## Arguments  \n number  \n The maximum number of threads for cl.exe to use, in the range 1 to 8.  \n  \n## Remarks  \n The **/cgthreads** option specifies the maximum number of threads cl.exe uses in parallel for the optimization and code generation phases of compilation. Notice that there can be no space between **/cgthreads** and the `number` argument. By default, cl.exe uses four threads, as if **/cgthreads4** were specified. If more processor cores are available, a larger `number` value can improve build times. This option is especially useful when it's combined with [/GL (Whole Program Optimization)](../../build/reference/gl-whole-program-optimization.md).  \n  \n Multiple levels of parallelism can be specified for a build. The msbuild.exe switch **/maxcpucount** specifies the number of MSBuild processes that can be run in parallel. The [/MP (Build with Multiple Processes)](../../build/reference/mp-build-with-multiple-processes.md) compiler flag specifies the number of cl.exe processes that simultaneously compile the source files. The **/cgthreads** option specifies the number of threads used by each cl.exe process. Because the processor can only run as many threads at the same time as there are processor cores, it's not useful to specify larger values for all of these options at the same time, and it can be counterproductive. For more information about how to build projects in parallel, see [Building Multiple Projects in Parallel](/visualstudio/msbuild/building-multiple-projects-in-parallel-with-msbuild).  \n  \n### To set this compiler option in the Visual Studio development environment  \n  \n1.  Open the project's **Property Pages** dialog box. For details, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  Select the **Configuration Properties**, **C/C++** folder.  \n  \n3.  Select the **Command Line** property page.  \n  \n4.  Modify the **Additional Options** property to include **/cgthreads**`N`, where `N` is a value from 1 to 8, and then select **OK**.  \n  \n### To set this compiler option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  \n  \n## See Also  \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)"}