{"nodes":[{"pos":[12,51],"content":"asctime_s, _wasctime_s | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"asctime_s, _wasctime_s | Microsoft Docs","pos":[0,39]}]},{"pos":[1140,1162],"content":"asctime_s, _wasctime_s","linkify":"asctime_s, _wasctime_s","nodes":[{"content":"asctime_s, _wasctime_s","pos":[0,22]}]},{"content":"Convert a <ph id=\"ph1\">`tm`</ph> time structure to a character string.","pos":[1163,1215],"source":"Convert a `tm` time structure to a character string."},{"content":"These functions are versions of <bpt id=\"p1\">[</bpt>asctime, _wasctime<ept id=\"p1\">](../../c-runtime-library/reference/asctime-wasctime.md)</ept> with security enhancements as described in <bpt id=\"p2\">[</bpt>Security Features in the CRT<ept id=\"p2\">](../../c-runtime-library/security-features-in-the-crt.md)</ept>.","pos":[1216,1455],"source":" These functions are versions of [asctime, _wasctime](../../c-runtime-library/reference/asctime-wasctime.md) with security enhancements as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md)."},{"pos":[1464,1470],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1947,1957],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[out] A pointer to a buffer to store the character string result.","pos":[1973,2038]},{"content":"This function assumes a pointer to a valid memory location with a size specified by <ph id=\"ph1\">`numberOfElements`</ph>.","pos":[2039,2142],"source":" This function assumes a pointer to a valid memory location with a size specified by `numberOfElements`."},{"content":"[in] The size of the buffer used to store the result.","pos":[2171,2224]},{"content":"[in] Time/date structure.","pos":[2240,2265]},{"content":"This function assumes a pointer to a valid <ph id=\"ph1\">`struct``tm`</ph> object.","pos":[2266,2329],"source":" This function assumes a pointer to a valid `struct``tm` object."},{"pos":[2338,2350],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Zero if successful.","pos":[2354,2373]},{"content":"If there is a failure, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[2374,2527],"source":" If there is a failure, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, the return value is an error code.","pos":[2528,2599]},{"content":"Error codes are defined in ERRNO.H.","pos":[2600,2635]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>errno Constants<ept id=\"p1\">](../../c-runtime-library/errno-constants.md)</ept>.","pos":[2636,2724],"source":" For more information, see [errno Constants](../../c-runtime-library/errno-constants.md)."},{"content":"The actual error codes returned for each error condition are shown in the following table.","pos":[2725,2815]},{"pos":[2825,2841],"content":"Error Conditions","linkify":"Error Conditions","nodes":[{"content":"Error Conditions","pos":[0,16]}]},{"content":"Return","pos":[2881,2887]},{"pos":[2888,2905],"content":"Value in <ph id=\"ph1\">`buffer`</ph>","source":"Value in `buffer`"},{"content":"Any","pos":[3009,3012]},{"content":"Any","pos":[3013,3016]},{"content":"Not modified","pos":[3026,3038]},{"pos":[3043,3077],"content":"Not<ph id=\"ph1\">`NULL`</ph> (points to valid memory)","source":"Not`NULL` (points to valid memory)"},{"content":"0","pos":[3078,3079]},{"content":"Any","pos":[3080,3083]},{"content":"Not modified","pos":[3093,3105]},{"pos":[3110,3120],"content":"Not <ph id=\"ph1\">`NULL`</ph>","source":"Not `NULL`"},{"content":"0&lt; size &lt; 26","pos":[3121,3133],"source":"0< size < 26"},{"content":"Any","pos":[3134,3137]},{"content":"Empty string","pos":[3147,3159]},{"pos":[3164,3174],"content":"Not <ph id=\"ph1\">`NULL`</ph>","source":"Not `NULL`"},{"content":"&gt;= 26","pos":[3175,3180],"source":">= 26"},{"content":"Empty string","pos":[3197,3209]},{"pos":[3214,3224],"content":"Not <ph id=\"ph1\">`NULL`</ph>","source":"Not `NULL`"},{"content":"&gt;= 26","pos":[3225,3230],"source":">= 26"},{"content":"Invalid time structure or out of range values for components of the time","pos":[3231,3303]},{"content":"Empty string","pos":[3313,3325]},{"pos":[3334,3466],"content":"[!NOTE]\n Error conditions for `wasctime_s` are similar to `asctime_s` with the exception that the size limit is measured in words.","leadings":["","> "],"nodes":[{"content":"Error conditions for <ph id=\"ph1\">`wasctime_s`</ph> are similar to <ph id=\"ph2\">`asctime_s`</ph> with the exception that the size limit is measured in words.","pos":[9,130],"source":" Error conditions for `wasctime_s` are similar to `asctime_s` with the exception that the size limit is measured in words."}]},{"pos":[3475,3482],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`asctime`</ph> function converts a time stored as a structure to a character string.","pos":[3486,3569],"source":"The `asctime` function converts a time stored as a structure to a character string."},{"content":"The <ph id=\"ph1\">`_tm`</ph> value is usually obtained from a call to <ph id=\"ph2\">`gmtime`</ph> or <ph id=\"ph3\">`localtime`</ph>.","pos":[3570,3645],"source":" The `_tm` value is usually obtained from a call to `gmtime` or `localtime`."},{"content":"Both functions can be used to fill in a <ph id=\"ph1\">`tm`</ph> structure, as defined in TIME.H.","pos":[3646,3723],"source":" Both functions can be used to fill in a `tm` structure, as defined in TIME.H."},{"content":"timeptr member","pos":[3730,3744]},{"content":"Value","pos":[3745,3750]},{"content":"Hours since midnight (0–23)","pos":[3802,3829]},{"content":"Positive if daylight saving time is in effect; 0 if daylight saving time is not in effect; negative if status of daylight saving time is unknown.","pos":[3845,3990]},{"content":"The C run-time library assumes the United States' rules for implementing the calculation of Daylight Saving Time (DST).","pos":[3991,4110]},{"content":"Day of month (1–31)","pos":[4125,4144]},{"content":"Minutes after hour (0–59)","pos":[4158,4183]},{"content":"Month (0–11; January = 0)","pos":[4197,4222]},{"content":"Seconds after minute (0–59)","pos":[4236,4263]},{"content":"Day of week (0–6; Sunday = 0)","pos":[4278,4307]},{"content":"Day of year (0–365; January 1 = 0)","pos":[4322,4356]},{"content":"Year (current year minus 1900)","pos":[4371,4401]},{"content":"The converted character string is also adjusted according to the local time zone settings.","pos":[4409,4499]},{"content":"See the <bpt id=\"p1\">[</bpt>time, _time32, _time64<ept id=\"p1\">](../../c-runtime-library/reference/time-time32-time64.md)</ept>, <bpt id=\"p2\">[</bpt>_ftime, _ftime32, _ftime64<ept id=\"p2\">](../../c-runtime-library/reference/ftime-ftime32-ftime64.md)</ept>, and <bpt id=\"p3\">[</bpt>localtime_s, _localtime32_s, _localtime64_s<ept id=\"p3\">](../../c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s.md)</ept> functions for information about configuring the local time and the <bpt id=\"p4\">[</bpt>_tzset<ept id=\"p4\">](../../c-runtime-library/reference/tzset.md)</ept> function for information about defining the time zone environment and global variables.","pos":[4500,5016],"source":" See the [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md), [_ftime, _ftime32, _ftime64](../../c-runtime-library/reference/ftime-ftime32-ftime64.md), and [localtime_s, _localtime32_s, _localtime64_s](../../c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s.md) functions for information about configuring the local time and the [_tzset](../../c-runtime-library/reference/tzset.md) function for information about defining the time zone environment and global variables."},{"content":"The string result produced by <ph id=\"ph1\">`asctime_s`</ph> contains exactly 26 characters and has the form <ph id=\"ph2\">`Wed Jan 02 02:03:55 1980\\n\\0`</ph>.","pos":[5023,5144],"source":"The string result produced by `asctime_s` contains exactly 26 characters and has the form `Wed Jan 02 02:03:55 1980\\n\\0`."},{"content":"A 24-hour clock is used.","pos":[5145,5169]},{"content":"All fields have a constant width.","pos":[5170,5203]},{"content":"The new line character and the null character occupy the last two positions of the string.","pos":[5204,5294]},{"content":"The value passed in as the second parameter should be at least this big.","pos":[5295,5367]},{"content":"If it is less, an error code, <ph id=\"ph1\">`EINVAL`</ph>, will be returned.","pos":[5368,5425],"source":" If it is less, an error code, `EINVAL`, will be returned."},{"content":"<ph id=\"ph1\">`_wasctime_s`</ph> is a wide-character version of <ph id=\"ph2\">`asctime_s`</ph>.","pos":[5432,5489],"source":"`_wasctime_s` is a wide-character version of `asctime_s`."},{"content":"<ph id=\"ph1\">`_wasctime_s`</ph> and <ph id=\"ph2\">`asctime_s`</ph> behave identically otherwise.","pos":[5490,5549],"source":"`_wasctime_s` and `asctime_s` behave identically otherwise."},{"pos":[5559,5587],"content":"Generic-Text Routine Mapping","linkify":"Generic-Text Routine Mapping","nodes":[{"content":"Generic-Text Routine Mapping","pos":[0,28]}]},{"content":"TCHAR.H routine","pos":[5594,5609]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[5610,5638],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[5639,5652]},{"content":"_UNICODE defined","pos":[5653,5669]},{"content":"In C++, using these functions is simplified by template overloads; the overloads can infer buffer length automatically, eliminating the need to specify a size argument.","pos":[5841,6009]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Secure Template Overloads<ept id=\"p1\">](../../c-runtime-library/secure-template-overloads.md)</ept>.","pos":[6010,6118],"source":" For more information, see [Secure Template Overloads](../../c-runtime-library/secure-template-overloads.md)."},{"pos":[6127,6139],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Routine","pos":[6146,6153]},{"content":"Required header","pos":[6154,6169]},{"content":"<ph id=\"ph1\">\\&lt;</ph>time.h&gt;","pos":[6226,6235],"source":"\\<time.h>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>time.h&gt; or <ph id=\"ph2\">\\&lt;</ph>wchar.h&gt;","pos":[6254,6277],"source":"\\<time.h> or \\<wchar.h>"},{"pos":[6287,6295],"content":"Security","linkify":"Security","nodes":[{"content":"Security","pos":[0,8]}]},{"content":"If the buffer pointer is not <ph id=\"ph1\">`NULL`</ph> and the pointer does not point to a valid buffer, the function will overwrite whatever is at the location.","pos":[6299,6441],"source":"If the buffer pointer is not `NULL` and the pointer does not point to a valid buffer, the function will overwrite whatever is at the location."},{"content":"This can also result in an access violation.","pos":[6442,6486]},{"pos":[6493,6659],"content":"A <bpt id=\"p1\">[</bpt>buffer overrun<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms717795)</ept> can occur if the size argument passed in is greater than the actual size of the buffer.","source":"A [buffer overrun](http://msdn.microsoft.com/library/windows/desktop/ms717795) can occur if the size argument passed in is greater than the actual size of the buffer."},{"pos":[6668,6675],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[6679,6867],"content":"This program places the system time in the long integer <ph id=\"ph1\">`aclock`</ph>, translates it into the structure <ph id=\"ph2\">`newtime`</ph> and then converts it to string form for output, using the <ph id=\"ph3\">`asctime_s`</ph> function.","source":"This program places the system time in the long integer `aclock`, translates it into the structure `newtime` and then converts it to string form for output, using the `asctime_s` function."},{"pos":[7528,7553],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"content":"&lt;xref:System.DateTime.ToLongDateString%2A?displayProperty=fullName&gt;","pos":[7563,7630],"source":"<xref:System.DateTime.ToLongDateString%2A?displayProperty=fullName>"},{"content":"&lt;xref:System.DateTime.ToLongTimeString%2A?displayProperty=fullName&gt;","pos":[7640,7707],"source":"<xref:System.DateTime.ToLongTimeString%2A?displayProperty=fullName>"},{"content":"&lt;xref:System.DateTime.ToShortDateString%2A?displayProperty=fullName&gt;","pos":[7717,7785],"source":"<xref:System.DateTime.ToShortDateString%2A?displayProperty=fullName>"},{"content":"&lt;xref:System.DateTime.ToShortTimeString%2A?displayProperty=fullName&gt;","pos":[7795,7863],"source":"<xref:System.DateTime.ToShortTimeString%2A?displayProperty=fullName>"},{"content":"&lt;xref:System.DateTime.ToString%2A?displayProperty=fullName&gt;","pos":[7873,7932],"source":"<xref:System.DateTime.ToString%2A?displayProperty=fullName>"},{"pos":[7941,7949],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Time Management<ept id=\"p1\">](../../c-runtime-library/time-management.md)</ept><ph id=\"ph1\"> </ph>","pos":[7953,8015],"source":"[Time Management](../../c-runtime-library/time-management.md) "},{"content":"<bpt id=\"p1\"> [</bpt>ctime_s, _ctime32_s, _ctime64_s, _wctime_s, _wctime32_s, _wctime64_s<ept id=\"p1\">](../../c-runtime-library/reference/ctime-s-ctime32-s-ctime64-s-wctime-s-wctime32-s-wctime64-s.md)</ept><ph id=\"ph1\"> </ph>","pos":[8018,8187],"source":" [ctime_s, _ctime32_s, _ctime64_s, _wctime_s, _wctime32_s, _wctime64_s](../../c-runtime-library/reference/ctime-s-ctime32-s-ctime64-s-wctime-s-wctime32-s-wctime64-s.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_ftime, _ftime32, _ftime64<ept id=\"p1\">](../../c-runtime-library/reference/ftime-ftime32-ftime64.md)</ept><ph id=\"ph1\"> </ph>","pos":[8190,8280],"source":" [_ftime, _ftime32, _ftime64](../../c-runtime-library/reference/ftime-ftime32-ftime64.md) "},{"content":"<bpt id=\"p1\"> [</bpt>gmtime_s, _gmtime32_s, _gmtime64_s<ept id=\"p1\">](../../c-runtime-library/reference/gmtime-s-gmtime32-s-gmtime64-s.md)</ept><ph id=\"ph1\"> </ph>","pos":[8283,8390],"source":" [gmtime_s, _gmtime32_s, _gmtime64_s](../../c-runtime-library/reference/gmtime-s-gmtime32-s-gmtime64-s.md) "},{"content":"<bpt id=\"p1\"> [</bpt>localtime_s, _localtime32_s, _localtime64_s<ept id=\"p1\">](../../c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s.md)</ept><ph id=\"ph1\"> </ph>","pos":[8393,8518],"source":" [localtime_s, _localtime32_s, _localtime64_s](../../c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s.md) "},{"content":"<bpt id=\"p1\"> [</bpt>time, _time32, _time64<ept id=\"p1\">](../../c-runtime-library/reference/time-time32-time64.md)</ept><ph id=\"ph1\"> </ph>","pos":[8521,8604],"source":" [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_tzset<ept id=\"p1\">](../../c-runtime-library/reference/tzset.md)</ept>","pos":[8607,8660],"source":" [_tzset](../../c-runtime-library/reference/tzset.md)"}],"content":"---\ntitle: \"asctime_s, _wasctime_s | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_wasctime_s\"\n  - \"asctime_s\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-time-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"asctime_s\"\n  - \"_wasctime_s\"\n  - \"_tasctime_s\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"tasctime_s function\"\n  - \"_tasctime_s function\"\n  - \"time structure conversion\"\n  - \"wasctime_s function\"\n  - \"time, converting\"\n  - \"_wasctime_s function\"\n  - \"asctime_s function\"\nms.assetid: 17ad9b2b-a459-465d-976a-42822897688a\ncaps.latest.revision: 29\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# asctime_s, _wasctime_s\nConvert a `tm` time structure to a character string. These functions are versions of [asctime, _wasctime](../../c-runtime-library/reference/asctime-wasctime.md) with security enhancements as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md).  \n  \n## Syntax  \n  \n```  \nerrno_t asctime_s(   \n   char* buffer,  \n   size_t numberOfElements,  \n   const struct tm *_tm   \n);  \nerrno_t _wasctime_s(   \n   wchar_t* buffer,  \n   size_t numberOfElements  \n   const struct tm *_tm   \n);  \ntemplate <size_t size>  \nerrno_t asctime_s(   \n   char (&buffer)[size],  \n   const struct tm *_tm   \n); // C++ only  \ntemplate <size_t size>  \nerrno_t _wasctime_s(   \n   wchar_t (&buffer)[size],  \n   const struct tm *_tm   \n); // C++ only  \n```  \n  \n#### Parameters  \n `buffer`  \n [out] A pointer to a buffer to store the character string result. This function assumes a pointer to a valid memory location with a size specified by `numberOfElements`.  \n  \n `numberOfElements`  \n [in] The size of the buffer used to store the result.  \n  \n `_tm`  \n [in] Time/date structure. This function assumes a pointer to a valid `struct``tm` object.  \n  \n## Return Value  \n Zero if successful. If there is a failure, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, the return value is an error code. Error codes are defined in ERRNO.H. For more information, see [errno Constants](../../c-runtime-library/errno-constants.md). The actual error codes returned for each error condition are shown in the following table.  \n  \n### Error Conditions  \n  \n|`buffer`|`numberOfElements`|`tm`|Return|Value in `buffer`|  \n|--------------|------------------------|----------|------------|-----------------------|  \n|`NULL`|Any|Any|`EINVAL`|Not modified|  \n|Not`NULL` (points to valid memory)|0|Any|`EINVAL`|Not modified|  \n|Not `NULL`|0< size < 26|Any|`EINVAL`|Empty string|  \n|Not `NULL`|>= 26|`NULL`|`EINVAL`|Empty string|  \n|Not `NULL`|>= 26|Invalid time structure or out of range values for components of the time|`EINVAL`|Empty string|  \n  \n> [!NOTE]\n>  Error conditions for `wasctime_s` are similar to `asctime_s` with the exception that the size limit is measured in words.  \n  \n## Remarks  \n The `asctime` function converts a time stored as a structure to a character string. The `_tm` value is usually obtained from a call to `gmtime` or `localtime`. Both functions can be used to fill in a `tm` structure, as defined in TIME.H.  \n  \n|timeptr member|Value|  \n|--------------------|-----------|  \n|`tm_hour`|Hours since midnight (0–23)|  \n|`tm_isdst`|Positive if daylight saving time is in effect; 0 if daylight saving time is not in effect; negative if status of daylight saving time is unknown. The C run-time library assumes the United States' rules for implementing the calculation of Daylight Saving Time (DST).|  \n|`tm_mday`|Day of month (1–31)|  \n|`tm_min`|Minutes after hour (0–59)|  \n|`tm_mon`|Month (0–11; January = 0)|  \n|`tm_sec`|Seconds after minute (0–59)|  \n|`tm_wday`|Day of week (0–6; Sunday = 0)|  \n|`tm_yday`|Day of year (0–365; January 1 = 0)|  \n|`tm_year`|Year (current year minus 1900)|  \n  \n The converted character string is also adjusted according to the local time zone settings. See the [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md), [_ftime, _ftime32, _ftime64](../../c-runtime-library/reference/ftime-ftime32-ftime64.md), and [localtime_s, _localtime32_s, _localtime64_s](../../c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s.md) functions for information about configuring the local time and the [_tzset](../../c-runtime-library/reference/tzset.md) function for information about defining the time zone environment and global variables.  \n  \n The string result produced by `asctime_s` contains exactly 26 characters and has the form `Wed Jan 02 02:03:55 1980\\n\\0`. A 24-hour clock is used. All fields have a constant width. The new line character and the null character occupy the last two positions of the string. The value passed in as the second parameter should be at least this big. If it is less, an error code, `EINVAL`, will be returned.  \n  \n `_wasctime_s` is a wide-character version of `asctime_s`. `_wasctime_s` and `asctime_s` behave identically otherwise.  \n  \n### Generic-Text Routine Mapping  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_tasctime_s`|`asctime_s`|`asctime_s`|`_wasctime_s`|  \n  \n In C++, using these functions is simplified by template overloads; the overloads can infer buffer length automatically, eliminating the need to specify a size argument. For more information, see [Secure Template Overloads](../../c-runtime-library/secure-template-overloads.md).  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`asctime_s`|\\<time.h>|  \n|`_wasctime_s`|\\<time.h> or \\<wchar.h>|  \n  \n## Security  \n If the buffer pointer is not `NULL` and the pointer does not point to a valid buffer, the function will overwrite whatever is at the location. This can also result in an access violation.  \n  \n A [buffer overrun](http://msdn.microsoft.com/library/windows/desktop/ms717795) can occur if the size argument passed in is greater than the actual size of the buffer.  \n  \n## Example  \n This program places the system time in the long integer `aclock`, translates it into the structure `newtime` and then converts it to string form for output, using the `asctime_s` function.  \n  \n```  \n// crt_asctime_s.c  \n#include <time.h>  \n#include <stdio.h>  \n  \nstruct tm newtime;  \n__time32_t aclock;  \n  \nint main( void )  \n{  \n   char buffer[32];  \n   errno_t errNum;  \n   _time32( &aclock );   // Get time in seconds.  \n   _localtime32_s( &newtime, &aclock );   // Convert time to struct tm form.  \n  \n   // Print local time as a string.  \n  \n   errNum = asctime_s(buffer, 32, &newtime);  \n   if (errNum)  \n   {  \n       printf(\"Error code: %d\", (int)errNum);  \n       return 1;  \n   }  \n   printf( \"Current date and time: %s\", buffer );  \n   return 0;  \n}  \n```  \n  \n```Output  \nCurrent date and time: Wed May 14 15:30:17 2003  \n```  \n  \n## .NET Framework Equivalent  \n  \n-   <xref:System.DateTime.ToLongDateString%2A?displayProperty=fullName>  \n  \n-   <xref:System.DateTime.ToLongTimeString%2A?displayProperty=fullName>  \n  \n-   <xref:System.DateTime.ToShortDateString%2A?displayProperty=fullName>  \n  \n-   <xref:System.DateTime.ToShortTimeString%2A?displayProperty=fullName>  \n  \n-   <xref:System.DateTime.ToString%2A?displayProperty=fullName>  \n  \n## See Also  \n [Time Management](../../c-runtime-library/time-management.md)   \n [ctime_s, _ctime32_s, _ctime64_s, _wctime_s, _wctime32_s, _wctime64_s](../../c-runtime-library/reference/ctime-s-ctime32-s-ctime64-s-wctime-s-wctime32-s-wctime64-s.md)   \n [_ftime, _ftime32, _ftime64](../../c-runtime-library/reference/ftime-ftime32-ftime64.md)   \n [gmtime_s, _gmtime32_s, _gmtime64_s](../../c-runtime-library/reference/gmtime-s-gmtime32-s-gmtime64-s.md)   \n [localtime_s, _localtime32_s, _localtime64_s](../../c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s.md)   \n [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md)   \n [_tzset](../../c-runtime-library/reference/tzset.md)"}