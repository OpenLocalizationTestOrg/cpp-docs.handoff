{"nodes":[{"pos":[12,64],"content":"_mkgmtime, _mkgmtime32, _mkgmtime64 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_mkgmtime, _mkgmtime32, _mkgmtime64 | Microsoft Docs","pos":[0,52]}]},{"pos":[1256,1291],"content":"_mkgmtime, _mkgmtime32, _mkgmtime64","linkify":"_mkgmtime, _mkgmtime32, _mkgmtime64","nodes":[{"content":"_mkgmtime, _mkgmtime32, _mkgmtime64","pos":[0,35]}]},{"pos":[1292,1387],"content":"Converts a UTC time represented by a <ph id=\"ph1\">`tm``struct`</ph> to a UTC time represented by a <ph id=\"ph2\">`time_t`</ph> type.","source":"Converts a UTC time represented by a `tm``struct` to a UTC time represented by a `time_t` type."},{"pos":[1396,1402],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1596,1606],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A pointer to the UTC time as a <ph id=\"ph1\">`struct``tm`</ph> to convert.","pos":[1623,1678],"source":" A pointer to the UTC time as a `struct``tm` to convert."},{"pos":[1687,1699],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"A quantity of type <ph id=\"ph1\">`__time32_t`</ph> or <ph id=\"ph2\">`__time64_t`</ph> representing the number of seconds elapsed since midnight, January 1, 1970, in Coordinated Universal Time (UTC).","pos":[1703,1863],"source":"A quantity of type `__time32_t` or `__time64_t` representing the number of seconds elapsed since midnight, January 1, 1970, in Coordinated Universal Time (UTC)."},{"content":"If the date is out of range (see the Remarks section) or the input cannot be interpreted as a valid time, the return value is –1.","pos":[1864,1993]},{"pos":[2002,2009],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`_mkgmtime32`</ph> and <ph id=\"ph2\">`_mkgmtime64`</ph> functions convert a UTC time to a <ph id=\"ph3\">`__time32_t`</ph> or <ph id=\"ph4\">`__time64_t`</ph> type representing the time in UTC.","pos":[2013,2146],"source":"The `_mkgmtime32` and `_mkgmtime64` functions convert a UTC time to a `__time32_t` or `__time64_t` type representing the time in UTC."},{"content":"To convert a local time to UTC time, use <ph id=\"ph1\">`mktime`</ph>, <ph id=\"ph2\">`_mktime32`</ph>, and <ph id=\"ph3\">`_mktime64`</ph> instead.","pos":[2147,2235],"source":" To convert a local time to UTC time, use `mktime`, `_mktime32`, and `_mktime64` instead."},{"content":"<ph id=\"ph1\">`_mkgmtime`</ph> is an inline function that evaluates to <ph id=\"ph2\">`_mkgmtime64`</ph>, and <ph id=\"ph3\">`time_t`</ph> is equivalent to <ph id=\"ph4\">`__time64_t`</ph>.","pos":[2242,2352],"source":"`_mkgmtime` is an inline function that evaluates to `_mkgmtime64`, and `time_t` is equivalent to `__time64_t`."},{"content":"If you need to force the compiler to interpret <ph id=\"ph1\">`time_t`</ph>as the old 32-bit <ph id=\"ph2\">`time_t`</ph>, you can define <ph id=\"ph3\">`_USE_32BIT_TIME_T`</ph>.","pos":[2353,2471],"source":" If you need to force the compiler to interpret `time_t`as the old 32-bit `time_t`, you can define `_USE_32BIT_TIME_T`."},{"content":"This is not recommended because your application might fail after January 18, 2038 (the maximum range of a 32-bit <ph id=\"ph1\">`time_t`</ph>), and it is not allowed at all on 64-bit platforms.","pos":[2472,2646],"source":" This is not recommended because your application might fail after January 18, 2038 (the maximum range of a 32-bit `time_t`), and it is not allowed at all on 64-bit platforms."},{"content":"The time structure passed in will be changed as follows, in the same way as they are changed with the <ph id=\"ph1\">`_mktime`</ph> functions: the <ph id=\"ph2\">`tm_wday`</ph> and <ph id=\"ph3\">`tm_yday`</ph> fields are set to new values based on the values of <ph id=\"ph4\">`tm_mday`</ph> and <ph id=\"ph5\">`tm_year`</ph>.","pos":[2653,2880],"source":"The time structure passed in will be changed as follows, in the same way as they are changed with the `_mktime` functions: the `tm_wday` and `tm_yday` fields are set to new values based on the values of `tm_mday` and `tm_year`."},{"content":"When specifying a <ph id=\"ph1\">`tm`</ph> structure time, set the <ph id=\"ph2\">`tm_isdst`</ph> field to:","pos":[2881,2948],"source":" When specifying a `tm` structure time, set the `tm_isdst` field to:"},{"content":"Zero (0) to indicate that standard time is in effect.","pos":[2958,3011]},{"content":"A value greater than 0 to indicate that daylight saving time is in effect.","pos":[3021,3095]},{"content":"A value less than zero to have the C run-time library code compute whether standard time or daylight saving time is in effect.","pos":[3105,3231]},{"content":"The C run-time library uses the TZ environment variable to determine the correct daylight savings time.","pos":[3238,3341]},{"content":"If TZ is not set, the operating system is queried to get the correct regional daylight savings time behavior.","pos":[3342,3451]},{"content":"<ph id=\"ph1\">`tm_isdst`</ph> is a required field.","pos":[3452,3483],"source":"`tm_isdst` is a required field."},{"content":"If not set, its value is undefined and the return value from <ph id=\"ph1\">`mktime`</ph> is unpredictable.","pos":[3484,3571],"source":" If not set, its value is undefined and the return value from `mktime` is unpredictable."},{"content":"The range of the <ph id=\"ph1\">`_mkgmtime32`</ph> function is from midnight, January 1, 1970, UTC to 23:59:59 January 18, 2038, UTC.","pos":[3578,3691],"source":"The range of the `_mkgmtime32` function is from midnight, January 1, 1970, UTC to 23:59:59 January 18, 2038, UTC."},{"content":"The range of <ph id=\"ph1\">`_mkgmtime64`</ph> is from midnight, January 1, 1970, UTC to 23:59:59, December 31, 3000, UTC.","pos":[3692,3794],"source":" The range of `_mkgmtime64` is from midnight, January 1, 1970, UTC to 23:59:59, December 31, 3000, UTC."},{"content":"An out-of-range date results in a return value of –1.","pos":[3795,3848]},{"content":"The range of <ph id=\"ph1\">`_mkgmtime`</ph> depends on whether <ph id=\"ph2\">`_USE_32BIT_TIME_T`</ph> is defined.","pos":[3849,3924],"source":" The range of `_mkgmtime` depends on whether `_USE_32BIT_TIME_T` is defined."},{"content":"If not defined (the default) the range is that of <ph id=\"ph1\">`_mkgmtime64`</ph>; otherwise, the range is limited to the 32-bit range of <ph id=\"ph2\">`_mkgmtime32`</ph>.","pos":[3925,4059],"source":" If not defined (the default) the range is that of `_mkgmtime64`; otherwise, the range is limited to the 32-bit range of `_mkgmtime32`."},{"content":"Note that <ph id=\"ph1\">`gmtime`</ph> and <ph id=\"ph2\">`localtime`</ph> use a single statically allocated buffer for the conversion.","pos":[4066,4161],"source":"Note that `gmtime` and `localtime` use a single statically allocated buffer for the conversion."},{"content":"If you supply this buffer to <ph id=\"ph1\">`mkgmtime`</ph>, the previous contents are destroyed.","pos":[4162,4239],"source":" If you supply this buffer to `mkgmtime`, the previous contents are destroyed."},{"pos":[4248,4255],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[5051,5064],"content":"Sample Output","linkify":"Sample Output","nodes":[{"content":"Sample Output","pos":[0,13]}]},{"content":"The following example shows how the incomplete structure is filled out with the computed values of the day of the week and the day of the year.","pos":[5271,5414]},{"pos":[6260,6266],"content":"Output","linkify":"Output","nodes":[{"content":"Output","pos":[0,6]}]},{"pos":[6440,6448],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Time Management<ept id=\"p1\">](../../c-runtime-library/time-management.md)</ept><ph id=\"ph1\"> </ph>","pos":[6452,6514],"source":"[Time Management](../../c-runtime-library/time-management.md) "},{"content":"<bpt id=\"p1\"> [</bpt>asctime, _wasctime<ept id=\"p1\">](../../c-runtime-library/reference/asctime-wasctime.md)</ept><ph id=\"ph1\"> </ph>","pos":[6517,6594],"source":" [asctime, _wasctime](../../c-runtime-library/reference/asctime-wasctime.md) "},{"content":"<bpt id=\"p1\"> [</bpt>asctime_s, _wasctime_s<ept id=\"p1\">](../../c-runtime-library/reference/asctime-s-wasctime-s.md)</ept><ph id=\"ph1\"> </ph>","pos":[6597,6682],"source":" [asctime_s, _wasctime_s](../../c-runtime-library/reference/asctime-s-wasctime-s.md) "},{"content":"<bpt id=\"p1\"> [</bpt>gmtime, _gmtime32, _gmtime64<ept id=\"p1\">](../../c-runtime-library/reference/gmtime-gmtime32-gmtime64.md)</ept><ph id=\"ph1\"> </ph>","pos":[6685,6780],"source":" [gmtime, _gmtime32, _gmtime64](../../c-runtime-library/reference/gmtime-gmtime32-gmtime64.md) "},{"content":"<bpt id=\"p1\"> [</bpt>gmtime_s, _gmtime32_s, _gmtime64_s<ept id=\"p1\">](../../c-runtime-library/reference/gmtime-s-gmtime32-s-gmtime64-s.md)</ept><ph id=\"ph1\"> </ph>","pos":[6783,6890],"source":" [gmtime_s, _gmtime32_s, _gmtime64_s](../../c-runtime-library/reference/gmtime-s-gmtime32-s-gmtime64-s.md) "},{"content":"<bpt id=\"p1\"> [</bpt>localtime_s, _localtime32_s, _localtime64_s<ept id=\"p1\">](../../c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s.md)</ept><ph id=\"ph1\"> </ph>","pos":[6893,7018],"source":" [localtime_s, _localtime32_s, _localtime64_s](../../c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s.md) "},{"content":"<bpt id=\"p1\"> [</bpt>mktime, _mktime32, _mktime64<ept id=\"p1\">](../../c-runtime-library/reference/mktime-mktime32-mktime64.md)</ept><ph id=\"ph1\"> </ph>","pos":[7021,7116],"source":" [mktime, _mktime32, _mktime64](../../c-runtime-library/reference/mktime-mktime32-mktime64.md) "},{"content":"<bpt id=\"p1\"> [</bpt>time, _time32, _time64<ept id=\"p1\">](../../c-runtime-library/reference/time-time32-time64.md)</ept>","pos":[7119,7201],"source":" [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md)"}],"content":"---\ntitle: \"_mkgmtime, _mkgmtime32, _mkgmtime64 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_mkgmtime32\"\n  - \"_mkgmtime64\"\n  - \"_mkgmtime\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-time-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_mkgmtime64\"\n  - \"mkgmtime32\"\n  - \"_mkgmtime32\"\n  - \"mkgmtime\"\n  - \"mkgmtime64\"\n  - \"_mkgmtime\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"mkgmtime32 function\"\n  - \"time functions\"\n  - \"mkgmtime function\"\n  - \"_mkgmtime function\"\n  - \"converting times\"\n  - \"mkgmtime64 function\"\n  - \"_mkgmtime64 function\"\n  - \"_mkgmtime32 function\"\n  - \"time, converting\"\nms.assetid: b4ca2b67-e198-4f43-b3e2-e8ad6bd01867\ncaps.latest.revision: 17\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _mkgmtime, _mkgmtime32, _mkgmtime64\nConverts a UTC time represented by a `tm``struct` to a UTC time represented by a `time_t` type.  \n  \n## Syntax  \n  \n```  \n  \n      time_t _mkgmtime(  \n   struct tm* timeptr  \n);  \n__time32_t _mkgmtime32(  \n   struct tm* timeptr  \n);  \n__time64_t _mkgmtime64(  \n   struct tm* timeptr  \n);  \n```  \n  \n#### Parameters  \n `timeptr`  \n A pointer to the UTC time as a `struct``tm` to convert.  \n  \n## Return Value  \n A quantity of type `__time32_t` or `__time64_t` representing the number of seconds elapsed since midnight, January 1, 1970, in Coordinated Universal Time (UTC). If the date is out of range (see the Remarks section) or the input cannot be interpreted as a valid time, the return value is –1.  \n  \n## Remarks  \n The `_mkgmtime32` and `_mkgmtime64` functions convert a UTC time to a `__time32_t` or `__time64_t` type representing the time in UTC. To convert a local time to UTC time, use `mktime`, `_mktime32`, and `_mktime64` instead.  \n  \n `_mkgmtime` is an inline function that evaluates to `_mkgmtime64`, and `time_t` is equivalent to `__time64_t`. If you need to force the compiler to interpret `time_t`as the old 32-bit `time_t`, you can define `_USE_32BIT_TIME_T`. This is not recommended because your application might fail after January 18, 2038 (the maximum range of a 32-bit `time_t`), and it is not allowed at all on 64-bit platforms.  \n  \n The time structure passed in will be changed as follows, in the same way as they are changed with the `_mktime` functions: the `tm_wday` and `tm_yday` fields are set to new values based on the values of `tm_mday` and `tm_year`. When specifying a `tm` structure time, set the `tm_isdst` field to:  \n  \n-   Zero (0) to indicate that standard time is in effect.  \n  \n-   A value greater than 0 to indicate that daylight saving time is in effect.  \n  \n-   A value less than zero to have the C run-time library code compute whether standard time or daylight saving time is in effect.  \n  \n The C run-time library uses the TZ environment variable to determine the correct daylight savings time. If TZ is not set, the operating system is queried to get the correct regional daylight savings time behavior. `tm_isdst` is a required field. If not set, its value is undefined and the return value from `mktime` is unpredictable.  \n  \n The range of the `_mkgmtime32` function is from midnight, January 1, 1970, UTC to 23:59:59 January 18, 2038, UTC. The range of `_mkgmtime64` is from midnight, January 1, 1970, UTC to 23:59:59, December 31, 3000, UTC. An out-of-range date results in a return value of –1. The range of `_mkgmtime` depends on whether `_USE_32BIT_TIME_T` is defined. If not defined (the default) the range is that of `_mkgmtime64`; otherwise, the range is limited to the 32-bit range of `_mkgmtime32`.  \n  \n Note that `gmtime` and `localtime` use a single statically allocated buffer for the conversion. If you supply this buffer to `mkgmtime`, the previous contents are destroyed.  \n  \n## Example  \n  \n```  \n// crt_mkgmtime.c  \n#include <stdio.h>  \n#include <time.h>  \n  \nint main()  \n{  \n    struct tm t1, t2;  \n    time_t now, mytime, gmtime;  \n    char buff[30];  \n  \n    time( & now );  \n  \n    _localtime64_s( &t1, &now );  \n    _gmtime64_s( &t2, &now );  \n  \n    mytime = mktime(&t1);  \n    gmtime = _mkgmtime(&t2);  \n  \n    printf(\"Seconds since midnight, January 1, 1970\\n\");  \n    printf(\"My time: %I64d\\nGM time (UTC): %I64d\\n\\n\", mytime, gmtime);  \n  \n    /* Use asctime_s to display these times. */  \n  \n    _localtime64_s( &t1, &mytime );  \n    asctime_s( buff, sizeof(buff), &t1 );  \n    printf( \"Local Time: %s\\n\", buff );  \n  \n    _gmtime64_s( &t2, &gmtime );  \n    asctime_s( buff, sizeof(buff), &t2 );  \n    printf( \"Greenwich Mean Time: %s\\n\", buff );  \n  \n}  \n```  \n  \n## Sample Output  \n  \n```  \nSeconds since midnight, January 1, 1970  \nMy time: 1171588492  \nGM time (UTC): 1171588492  \n  \nLocal Time: Thu Feb 15 17:14:52 2007  \n  \nGreenwich Mean Time: Fri Feb 16 01:14:52 2007  \n```  \n  \n The following example shows how the incomplete structure is filled out with the computed values of the day of the week and the day of the year.  \n  \n```  \n// crt_mkgmtime2.c  \n#include <stdio.h>  \n#include <time.h>  \n#include <memory.h>  \n  \nint main()  \n{  \n    struct tm t1, t2;  \n    time_t gmtime;  \n    char buff[30];  \n  \n    memset(&t1, 0, sizeof(struct tm));  \n    memset(&t2, 0, sizeof(struct tm));  \n  \n    t1.tm_mon = 1;  \n    t1.tm_isdst = 0;  \n    t1.tm_year = 103;  \n    t1.tm_mday = 12;  \n  \n    // The day of the week and year will be incorrect in the output here.  \n    asctime_s( buff, sizeof(buff), &t1);  \n    printf(\"Before calling _mkgmtime, t1 = %s t.tm_yday = %d\\n\",  \n            buff, t1.tm_yday );  \n  \n    gmtime = _mkgmtime(&t1);  \n  \n    // The correct day of the week and year were determined.  \n    asctime_s( buff, sizeof(buff), &t1);  \n    printf(\"After calling _mkgmtime, t1 = %s t.tm_yday = %d\\n\",  \n            buff, t1.tm_yday );  \n  \n}  \n```  \n  \n## Output  \n  \n```  \nBefore calling _mkgmtime, t1 = Sun Feb 12 00:00:00 2003  \n t.tm_yday = 0  \nAfter calling _mkgmtime, t1 = Wed Feb 12 00:00:00 2003  \n t.tm_yday = 42  \n```  \n  \n## See Also  \n [Time Management](../../c-runtime-library/time-management.md)   \n [asctime, _wasctime](../../c-runtime-library/reference/asctime-wasctime.md)   \n [asctime_s, _wasctime_s](../../c-runtime-library/reference/asctime-s-wasctime-s.md)   \n [gmtime, _gmtime32, _gmtime64](../../c-runtime-library/reference/gmtime-gmtime32-gmtime64.md)   \n [gmtime_s, _gmtime32_s, _gmtime64_s](../../c-runtime-library/reference/gmtime-s-gmtime32-s-gmtime64-s.md)   \n [localtime_s, _localtime32_s, _localtime64_s](../../c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s.md)   \n [mktime, _mktime32, _mktime64](../../c-runtime-library/reference/mktime-mktime32-mktime64.md)   \n [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md)"}