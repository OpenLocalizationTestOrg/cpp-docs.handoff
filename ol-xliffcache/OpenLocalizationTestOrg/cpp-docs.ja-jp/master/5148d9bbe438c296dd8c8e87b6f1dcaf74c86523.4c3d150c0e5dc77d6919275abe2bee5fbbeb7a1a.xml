{"nodes":[{"pos":[12,67],"content":"strcspn, wcscspn, _mbscspn, _mbscspn_l | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"strcspn, wcscspn, _mbscspn, _mbscspn_l | Microsoft Docs","pos":[0,55]}]},{"content":"strcspn, wcscspn, _mbscspn, _mbscspn_l","pos":[1333,1371]},{"content":"Returns the index of the first occurrence in a string, of a character that belongs to a set of characters.","pos":[1372,1478]},{"pos":[1486,1722],"content":"[!IMPORTANT]\n `_mbschr` and `_mbschr_l`cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","leadings":["","> "],"nodes":[{"content":" and `_mbschr_l`cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","pos":[23,234],"nodes":[{"content":"and <ph id=\"ph1\">`_mbschr_l`</ph>cannot be used in applications that execute in the Windows Runtime.","pos":[1,83],"source":" and `_mbschr_l`cannot be used in applications that execute in the Windows Runtime."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CRT functions not supported with /ZW<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)</ept>.","pos":[84,211],"source":" For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)."}]}]},{"content":"Syntax","pos":[1731,1737]},{"content":"Parameters","pos":[2127,2137]},{"content":"Null-terminated searched string.","pos":[2150,2182]},{"content":"Null-terminated character set.","pos":[2205,2235]},{"content":"Locale to use.","pos":[2254,2268]},{"content":"Return Value","pos":[2277,2289]},{"content":"These functions return the index of the first character in <ph id=\"ph1\">`str`</ph> that is in <ph id=\"ph2\">`strCharSet`</ph>.","pos":[2293,2382],"source":"These functions return the index of the first character in `str` that is in `strCharSet`."},{"content":"If none of the characters in <ph id=\"ph1\">`str`</ph> is in <ph id=\"ph2\">`strCharSet`</ph>, then the return value is the length of <ph id=\"ph3\">`str`</ph>.","pos":[2383,2483],"source":" If none of the characters in `str` is in `strCharSet`, then the return value is the length of `str`."},{"content":"No return value is reserved to indicate an error.","pos":[2490,2539]},{"content":"Remarks","pos":[2548,2555]},{"content":"and <ph id=\"ph1\">`_mbscspn`</ph> are wide-character and multibyte-character versions of <ph id=\"ph2\">`strcspn`</ph>.","pos":[2569,2649],"source":" and `_mbscspn` are wide-character and multibyte-character versions of `strcspn`."},{"content":"The arguments of <ph id=\"ph1\">`wcscspn`</ph> are wide-character strings; those of <ph id=\"ph2\">`_mbscspn`</ph> are multibyte-character strings.","pos":[2650,2757],"source":" The arguments of `wcscspn` are wide-character strings; those of `_mbscspn` are multibyte-character strings."},{"content":"validates its parameters.","pos":[2775,2800]},{"content":"If either <ph id=\"ph1\">`str`</ph> or <ph id=\"ph2\">`strCharSet`</ph> is a null pointer, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[2801,2982],"source":" If either `str` or `strCharSet` is a null pointer, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, the function returns 0 and sets <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`EINVAL`</ph>.","pos":[2983,3072],"source":" If execution is allowed to continue, the function returns 0 and sets `errno` to `EINVAL`."},{"content":"and <ph id=\"ph1\">`wcscspn`</ph> do not validate their parameters.","pos":[3083,3130],"source":" and `wcscspn` do not validate their parameters."},{"content":"These three functions behave identically otherwise.","pos":[3131,3182]},{"content":"The output value is affected by the setting of the <ph id=\"ph1\">`LC_CTYPE`</ph> category setting of the locale; see <bpt id=\"p1\">[</bpt>setlocale<ept id=\"p1\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept> for more information.","pos":[3189,3379],"source":"The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md) for more information."},{"content":"The versions of these functions without the <ph id=\"ph1\">`_l`</ph> suffix use the current locale for this locale-dependent behavior; the versions with the <ph id=\"ph2\">`_l`</ph> suffix are identical except that they use the locale parameter passed in instead.","pos":[3380,3603],"source":" The versions of these functions without the `_l` suffix use the current locale for this locale-dependent behavior; the versions with the `_l` suffix are identical except that they use the locale parameter passed in instead."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept>.","pos":[3604,3674],"source":" For more information, see [Locale](../../c-runtime-library/locale.md)."},{"content":"Generic-Text Routine Mappings","pos":[3684,3713]},{"content":"TCHAR.H routine","pos":[3720,3735]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[3736,3764],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[3765,3778]},{"content":"_UNICODE defined","pos":[3779,3795]},{"content":"Requirements","pos":[3994,4006]},{"content":"Routine","pos":[4013,4020]},{"content":"Required header","pos":[4021,4036]},{"content":"string.h&gt;","pos":[4093,4102],"source":"string.h>"},{"content":"string.h&gt; or <ph id=\"ph1\">\\&lt;</ph>wchar.h&gt;","pos":[4119,4142],"source":"string.h> or \\<wchar.h>"},{"pos":[4157,4158],"content":","},{"content":"mbstring.h&gt;","pos":[4174,4185],"source":"mbstring.h>"},{"pos":[4193,4297],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"content":"Example","pos":[4306,4313]},{"content":".NET Framework Equivalent","pos":[4993,5018]},{"content":"System::String::Substring","pos":[5023,5048]},{"content":"See Also","pos":[5129,5137]},{"content":"String Manipulation","pos":[5142,5161]},{"content":"Locale","pos":[5220,5226]},{"content":"Interpretation of Multibyte-Character Sequences","pos":[5268,5315]},{"content":"strncat, _strncat_l, wcsncat, _wcsncat_l, _mbsncat, _mbsncat_l","pos":[5398,5460]},{"content":"strncmp, wcsncmp, _mbsncmp, _mbsncmp_l","pos":[5559,5597]},{"content":"strncpy, _strncpy_l, wcsncpy, _wcsncpy_l, _mbsncpy, _mbsncpy_l","pos":[5676,5738]},{"content":"_strnicmp, _wcsnicmp, _mbsnicmp, _strnicmp_l, _wcsnicmp_l, _mbsnicmp_l","pos":[5837,5907]},{"content":"strrchr, wcsrchr, _mbsrchr, _mbsrchr_l","pos":[6012,6050]},{"content":"strspn, wcsspn, _mbsspn, _mbsspn_l","pos":[6129,6163]}],"content":"---\ntitle: \"strcspn, wcscspn, _mbscspn, _mbscspn_l | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_mbscspn_l\"\n  - \"wcscspn\"\n  - \"_mbscspn\"\n  - \"strcspn\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-multibyte-l1-1-0.dll\"\n  - \"api-ms-win-crt-string-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"strcspn\"\n  - \"_mbscspn\"\n  - \"wcscspn\"\n  - \"_ftcscspn\"\n  - \"_tcscspn\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"strings [C++], searching\"\n  - \"ftcscspn function\"\n  - \"strcspn function\"\n  - \"_mbscspn function\"\n  - \"mbscspn_l function\"\n  - \"wcscspn function\"\n  - \"tcscspn function\"\n  - \"_ftcscspn function\"\n  - \"_mbscspn_l function\"\n  - \"mbscspn function\"\n  - \"_tcscspn function\"\nms.assetid: f73f51dd-b533-4e46-ba29-d05c553708a6\ncaps.latest.revision: 24\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# strcspn, wcscspn, _mbscspn, _mbscspn_l\nReturns the index of the first occurrence in a string, of a character that belongs to a set of characters.  \n  \n> [!IMPORTANT]\n>  `_mbschr` and `_mbschr_l`cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).  \n  \n## Syntax  \n  \n```  \nsize_t strcspn(  \n   const char *str,  \n   const char *strCharSet   \n);  \nsize_t wcscspn(  \n   const wchar_t *str,  \n   const wchar_t *strCharSet   \n);  \nsize_t _mbscspn(  \n   const unsigned char *str,  \n   const unsigned char *strCharSet   \n);  \nsize_t _mbscspn_l(  \n   const unsigned char *str,  \n   const unsigned char *strCharSet,  \n   _locale_t locale  \n);  \n```  \n  \n#### Parameters  \n `str`  \n Null-terminated searched string.  \n  \n `strCharSet`  \n Null-terminated character set.  \n  \n `locale`  \n Locale to use.  \n  \n## Return Value  \n These functions return the index of the first character in `str` that is in `strCharSet`. If none of the characters in `str` is in `strCharSet`, then the return value is the length of `str`.  \n  \n No return value is reserved to indicate an error.  \n  \n## Remarks  \n `wcscspn` and `_mbscspn` are wide-character and multibyte-character versions of `strcspn`. The arguments of `wcscspn` are wide-character strings; those of `_mbscspn` are multibyte-character strings.  \n  \n `_mbscspn` validates its parameters. If either `str` or `strCharSet` is a null pointer, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, the function returns 0 and sets `errno` to `EINVAL`. `strcspn` and `wcscspn` do not validate their parameters. These three functions behave identically otherwise.  \n  \n The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md) for more information. The versions of these functions without the `_l` suffix use the current locale for this locale-dependent behavior; the versions with the `_l` suffix are identical except that they use the locale parameter passed in instead. For more information, see [Locale](../../c-runtime-library/locale.md).  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_tcscspn`|`strcspn`|`_mbscspn`|`wcscspn`|  \n|`n/a`|`n/a`|`_mbscspn_l`|`n/a`|  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`strcspn`|\\<string.h>|  \n|`wcscspn`|\\<string.h> or \\<wchar.h>|  \n|`_mbscspn`, `_mbscspn_l`|\\<mbstring.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n  \n```  \n// crt_strcspn.c  \n  \n#include <string.h>  \n#include <stdio.h>  \n  \nvoid test( const char * str, const char * strCharSet )  \n{  \n   int pos = strcspn( str, strCharSet );  \n   printf( \"strcspn( \\\"%s\\\", \\\"%s\\\" ) = %d\\n\", str, strCharSet, pos );      \n}  \n  \nint main( void )  \n{  \n   test( \"xyzbxz\", \"abc\" );  \n   test( \"xyzbxz\", \"xyz\" );  \n   test( \"xyzbxz\", \"no match\" );  \n   test( \"xyzbxz\", \"\" );  \n   test( \"\", \"abc\" );  \n   test( \"\", \"\" );  \n}  \n```  \n  \n```Output  \nstrcspn( \"xyzbxz\", \"abc\" ) = 3  \nstrcspn( \"xyzbxz\", \"xyz\" ) = 0  \nstrcspn( \"xyzbxz\", \"no match\" ) = 6  \nstrcspn( \"xyzbxz\", \"\" ) = 6  \nstrcspn( \"\", \"abc\" ) = 0  \nstrcspn( \"\", \"\" ) = 0  \n```  \n  \n## .NET Framework Equivalent  \n [System::String::Substring](https://msdn.microsoft.com/en-us/library/system.string.substring.aspx)  \n  \n## See Also  \n [String Manipulation](../../c-runtime-library/string-manipulation-crt.md)   \n [Locale](../../c-runtime-library/locale.md)   \n [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)   \n [strncat, _strncat_l, wcsncat, _wcsncat_l, _mbsncat, _mbsncat_l](../../c-runtime-library/reference/strncat-strncat-l-wcsncat-wcsncat-l-mbsncat-mbsncat-l.md)   \n [strncmp, wcsncmp, _mbsncmp, _mbsncmp_l](../../c-runtime-library/reference/strncmp-wcsncmp-mbsncmp-mbsncmp-l.md)   \n [strncpy, _strncpy_l, wcsncpy, _wcsncpy_l, _mbsncpy, _mbsncpy_l](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)   \n [_strnicmp, _wcsnicmp, _mbsnicmp, _strnicmp_l, _wcsnicmp_l, _mbsnicmp_l](../../c-runtime-library/reference/strnicmp-wcsnicmp-mbsnicmp-strnicmp-l-wcsnicmp-l-mbsnicmp-l.md)   \n [strrchr, wcsrchr, _mbsrchr, _mbsrchr_l](../../c-runtime-library/reference/strrchr-wcsrchr-mbsrchr-mbsrchr-l.md)   \n [strspn, wcsspn, _mbsspn, _mbsspn_l](../../c-runtime-library/reference/strspn-wcsspn-mbsspn-mbsspn-l.md)"}