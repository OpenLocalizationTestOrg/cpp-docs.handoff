{"nodes":[{"pos":[12,65],"content":"Task Scheduler (Concurrency Runtime) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Task Scheduler (Concurrency Runtime) | Microsoft Docs","pos":[0,53]}]},{"content":"Task Scheduler (Concurrency Runtime)","pos":[1251,1287]},{"content":"The topics in this part of the documentation describe the important features of the Concurrency Runtime Task Scheduler.","pos":[1288,1407]},{"content":"The Task Scheduler is useful when you want fine-tune the performance of your existing code that uses the Concurrency Runtime.","pos":[1408,1533]},{"pos":[1541,1861],"content":"[!IMPORTANT]\n The Task Scheduler is not available from a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app. For more information, see [Creating Asynchronous Operations in C++ for Windows Store Apps](../../parallel/concrt/creating-asynchronous-operations-in-cpp-for-windows-store-apps.md).","leadings":["","> "],"nodes":[{"content":" The Task Scheduler is not available from a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app. For more information, see [Creating Asynchronous Operations in C++ for Windows Store Apps](../../parallel/concrt/creating-asynchronous-operations-in-cpp-for-windows-store-apps.md).","pos":[13,318],"nodes":[{"content":"The Task Scheduler is not available from a <ph id=\"ph1\">[!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)]</ph> app.","pos":[1,124],"source":" The Task Scheduler is not available from a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Creating Asynchronous Operations in C++ for Windows Store Apps<ept id=\"p1\">](../../parallel/concrt/creating-asynchronous-operations-in-cpp-for-windows-store-apps.md)</ept>.","pos":[125,305],"source":" For more information, see [Creating Asynchronous Operations in C++ for Windows Store Apps](../../parallel/concrt/creating-asynchronous-operations-in-cpp-for-windows-store-apps.md)."}]}]},{"content":"In Visual Studio 2015 and later, the <bpt id=\"p1\">[</bpt>concurrency::task<ept id=\"p1\">](../../parallel/concrt/reference/task-class.md)</ept> class and related types in ppltasks.h use the Windows ThreadPool as their scheduler.","pos":[1872,2060],"source":"In Visual Studio 2015 and later, the [concurrency::task](../../parallel/concrt/reference/task-class.md) class and related types in ppltasks.h use the Windows ThreadPool as their scheduler."},{"content":"This topic no longer applies to types that are defined in ppltasks.h.","pos":[2061,2130]},{"content":"Parallel algorithms such as parallel_for continue to use the Concurrency Runtime as the default scheduler.","pos":[2131,2237]},{"pos":[2245,2724],"content":"[!TIP]\n The Concurrency Runtime provides a default scheduler, and therefore you are not required to create one in your application. Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) or the [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md) if you are new to the Concurrency Runtime.","leadings":["","> "],"nodes":[{"content":" The Concurrency Runtime provides a default scheduler, and therefore you are not required to create one in your application. Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) or the [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md) if you are new to the Concurrency Runtime.","pos":[7,477],"nodes":[{"content":"The Concurrency Runtime provides a default scheduler, and therefore you are not required to create one in your application.","pos":[1,124]},{"content":"Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the <bpt id=\"p1\">[</bpt>Parallel Patterns Library (PPL)<ept id=\"p1\">](../../parallel/concrt/parallel-patterns-library-ppl.md)</ept> or the <bpt id=\"p2\">[</bpt>Asynchronous Agents Library<ept id=\"p2\">](../../parallel/concrt/asynchronous-agents-library.md)</ept> if you are new to the Concurrency Runtime.","pos":[125,470],"source":" Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) or the [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md) if you are new to the Concurrency Runtime."}]}]},{"content":"The Task Scheduler schedules and coordinates tasks at run time.","pos":[2731,2794]},{"content":"A <bpt id=\"p1\">*</bpt>task<ept id=\"p1\">*</ept> is a unit of work that performs a specific job.","pos":[2795,2851],"source":" A *task* is a unit of work that performs a specific job."},{"content":"A task can typically run in parallel with other tasks.","pos":[2852,2906]},{"content":"The work that is performed by task group items, parallel algorithms, and asynchronous agents are all examples of tasks.","pos":[2907,3026]},{"content":"The Task Scheduler manages the details that are related to efficiently scheduling tasks on computers that have multiple computing resources.","pos":[3033,3173]},{"content":"The Task Scheduler also uses the newest features of the underlying operating system.","pos":[3174,3258]},{"content":"Therefore, applications that use the Concurrency Runtime automatically scale and improve on hardware that has expanded capabilities.","pos":[3259,3391]},{"content":"<bpt id=\"p1\">[</bpt>Comparing to Other Concurrency Models<ept id=\"p1\">](../../parallel/concrt/comparing-the-concurrency-runtime-to-other-concurrency-models.md)</ept> describes the differences between preemptive and cooperative scheduling mechanisms.","pos":[3398,3609],"source":"[Comparing to Other Concurrency Models](../../parallel/concrt/comparing-the-concurrency-runtime-to-other-concurrency-models.md) describes the differences between preemptive and cooperative scheduling mechanisms."},{"content":"The Task Scheduler uses cooperative scheduling and a work-stealing algorithm together with the preemptive scheduler of the operating system to achieve maximum usage of processing resources.","pos":[3610,3799]},{"content":"The Concurrency Runtime provides a default scheduler so that you do not have to manage infrastructure details.","pos":[3806,3916]},{"content":"Therefore, you typically do not use the Task Scheduler directly.","pos":[3917,3981]},{"content":"However, to meet the quality needs of your application, you can use the Task Scheduler to provide your own scheduling policy or associate schedulers with specific tasks.","pos":[3982,4151]},{"content":"For example, suppose you have a parallel sorting routine that does not scale beyond four processors.","pos":[4152,4252]},{"content":"You can use <bpt id=\"p1\">*</bpt>scheduler policies<ept id=\"p1\">*</ept> to create a scheduler that generates no more than four concurrent tasks.","pos":[4253,4358],"source":" You can use *scheduler policies* to create a scheduler that generates no more than four concurrent tasks."},{"content":"Running the sorting routine on this scheduler enables other active schedulers to use any remaining processing resources.","pos":[4359,4479]},{"content":"Related Topics","pos":[4488,4502]},{"content":"Title","pos":[4509,4514]},{"content":"Description","pos":[4515,4526]},{"content":"Scheduler Instances","pos":[4566,4585]},{"content":"Describes scheduler instances and how to use the <ph id=\"ph1\">`concurrency::Scheduler`</ph> and <ph id=\"ph2\">`concurrency::CurrentScheduler`</ph> classes to manage them.","pos":[4633,4766],"source":"Describes scheduler instances and how to use the `concurrency::Scheduler` and `concurrency::CurrentScheduler` classes to manage them."},{"content":"Use scheduler instances when you want to associate explicit scheduling policies with specific types of workloads.","pos":[4767,4880]},{"content":"Scheduler Policies","pos":[4886,4904]},{"content":"Describes the role of scheduler policies.","pos":[4951,4992]},{"content":"Use scheduler policies when you want to control the strategy that the scheduler uses when it manages tasks.","pos":[4993,5100]},{"content":"Schedule Groups","pos":[5106,5121]},{"content":"Describes the role of schedule groups.","pos":[5165,5203]},{"content":"Use schedule groups when you require a high degree of locality among tasks, for example, when a group of related tasks benefit from executing on the same processor node.","pos":[5204,5373]},{"content":"Lightweight Tasks","pos":[5379,5396]},{"content":"Describes the role of lightweight tasks.","pos":[5442,5482]},{"content":"Lightweight tasks are useful when you adapt existing code to use the scheduling functionality of the Concurrency Runtime.","pos":[5483,5604]},{"content":"Contexts","pos":[5610,5618]},{"content":"Describes the role of contexts, the <ph id=\"ph1\">`concurrency::wait`</ph> function, and the <ph id=\"ph2\">`concurrency::Context`</ph> class.","pos":[5655,5758],"source":"Describes the role of contexts, the `concurrency::wait` function, and the `concurrency::Context` class."},{"content":"Use this functionality when you need control over when contexts block, unblock, and yield, or when you want to enable oversubscription in your application.","pos":[5759,5914]},{"content":"Memory Management Functions","pos":[5920,5947]},{"content":"Describes the <ph id=\"ph1\">`concurrency::Alloc`</ph> and <ph id=\"ph2\">`concurrency::Free`</ph> functions.","pos":[6003,6072],"source":"Describes the `concurrency::Alloc` and `concurrency::Free` functions."},{"content":"These functions can improve memory performance by allocating and freeing memory in a concurrent manner.","pos":[6073,6176]},{"content":"Comparing to Other Concurrency Models","pos":[6182,6219]},{"content":"Describes the differences between preemptive and cooperative scheduling mechanisms.","pos":[6309,6392]},{"content":"Parallel Patterns Library (PPL)","pos":[6398,6429]},{"content":"Describes how to use various parallel patterns, for example, parallel algorithms, in your applications.","pos":[6487,6590]},{"content":"Asynchronous Agents Library","pos":[6596,6623]},{"content":"Describes how to use asynchronous agents in your applications.","pos":[6679,6741]},{"content":"Concurrency Runtime","pos":[6747,6766]},{"content":"Describes the Concurrency Runtime, which simplifies parallel programming, and contains links to related topics.","pos":[6814,6925]}],"content":"---\ntitle: \"Task Scheduler (Concurrency Runtime) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"oversubscription [Concurrency Runtime]\"\n  - \"task scheduler [Concurrency Runtime], oversubscription\"\n  - \"schedule groups [Concurrency Runtime]\"\n  - \"task scheduler [Concurrency Runtime], lightweight tasks\"\n  - \"task scheduler [Concurrency Runtime]\"\n  - \"lightweight tasks [Concurrency Runtime]\"\n  - \"task scheduler [Concurrency Runtime], scheduler policies\"\n  - \"task scheduler [Concurrency Runtime], schedule groups\"\n  - \"wait function [Concurrency Runtime]\"\n  - \"task scheduler [Concurrency Runtime], scheduler instances\"\n  - \"scheduler instances [Concurrency Runtime]\"\n  - \"scheduler policies [Concurrency Runtime]\"\n  - \"task scheduler [Concurrency Runtime], wait function\"\nms.assetid: 9aba278c-e0c9-4ede-b7c6-fedf7a365d90\ncaps.latest.revision: 42\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Task Scheduler (Concurrency Runtime)\nThe topics in this part of the documentation describe the important features of the Concurrency Runtime Task Scheduler. The Task Scheduler is useful when you want fine-tune the performance of your existing code that uses the Concurrency Runtime.  \n  \n> [!IMPORTANT]\n>  The Task Scheduler is not available from a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app. For more information, see [Creating Asynchronous Operations in C++ for Windows Store Apps](../../parallel/concrt/creating-asynchronous-operations-in-cpp-for-windows-store-apps.md).  \n>   \n>  In Visual Studio 2015 and later, the [concurrency::task](../../parallel/concrt/reference/task-class.md) class and related types in ppltasks.h use the Windows ThreadPool as their scheduler. This topic no longer applies to types that are defined in ppltasks.h. Parallel algorithms such as parallel_for continue to use the Concurrency Runtime as the default scheduler.  \n  \n> [!TIP]\n>  The Concurrency Runtime provides a default scheduler, and therefore you are not required to create one in your application. Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) or the [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md) if you are new to the Concurrency Runtime.  \n  \n The Task Scheduler schedules and coordinates tasks at run time. A *task* is a unit of work that performs a specific job. A task can typically run in parallel with other tasks. The work that is performed by task group items, parallel algorithms, and asynchronous agents are all examples of tasks.  \n  \n The Task Scheduler manages the details that are related to efficiently scheduling tasks on computers that have multiple computing resources. The Task Scheduler also uses the newest features of the underlying operating system. Therefore, applications that use the Concurrency Runtime automatically scale and improve on hardware that has expanded capabilities.  \n  \n [Comparing to Other Concurrency Models](../../parallel/concrt/comparing-the-concurrency-runtime-to-other-concurrency-models.md) describes the differences between preemptive and cooperative scheduling mechanisms. The Task Scheduler uses cooperative scheduling and a work-stealing algorithm together with the preemptive scheduler of the operating system to achieve maximum usage of processing resources.  \n  \n The Concurrency Runtime provides a default scheduler so that you do not have to manage infrastructure details. Therefore, you typically do not use the Task Scheduler directly. However, to meet the quality needs of your application, you can use the Task Scheduler to provide your own scheduling policy or associate schedulers with specific tasks. For example, suppose you have a parallel sorting routine that does not scale beyond four processors. You can use *scheduler policies* to create a scheduler that generates no more than four concurrent tasks. Running the sorting routine on this scheduler enables other active schedulers to use any remaining processing resources.  \n  \n## Related Topics  \n  \n|Title|Description|  \n|-----------|-----------------|  \n|[Scheduler Instances](../../parallel/concrt/scheduler-instances.md)|Describes scheduler instances and how to use the `concurrency::Scheduler` and `concurrency::CurrentScheduler` classes to manage them. Use scheduler instances when you want to associate explicit scheduling policies with specific types of workloads.|  \n|[Scheduler Policies](../../parallel/concrt/scheduler-policies.md)|Describes the role of scheduler policies. Use scheduler policies when you want to control the strategy that the scheduler uses when it manages tasks.|  \n|[Schedule Groups](../../parallel/concrt/schedule-groups.md)|Describes the role of schedule groups. Use schedule groups when you require a high degree of locality among tasks, for example, when a group of related tasks benefit from executing on the same processor node.|  \n|[Lightweight Tasks](../../parallel/concrt/lightweight-tasks.md)|Describes the role of lightweight tasks. Lightweight tasks are useful when you adapt existing code to use the scheduling functionality of the Concurrency Runtime.|  \n|[Contexts](../../parallel/concrt/contexts.md)|Describes the role of contexts, the `concurrency::wait` function, and the `concurrency::Context` class. Use this functionality when you need control over when contexts block, unblock, and yield, or when you want to enable oversubscription in your application.|  \n|[Memory Management Functions](../../parallel/concrt/memory-management-functions.md)|Describes the `concurrency::Alloc` and `concurrency::Free` functions. These functions can improve memory performance by allocating and freeing memory in a concurrent manner.|  \n|[Comparing to Other Concurrency Models](../../parallel/concrt/comparing-the-concurrency-runtime-to-other-concurrency-models.md)|Describes the differences between preemptive and cooperative scheduling mechanisms.|  \n|[Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md)|Describes how to use various parallel patterns, for example, parallel algorithms, in your applications.|  \n|[Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md)|Describes how to use asynchronous agents in your applications.|  \n|[Concurrency Runtime](../../parallel/concrt/concurrency-runtime.md)|Describes the Concurrency Runtime, which simplifies parallel programming, and contains links to related topics.|\n\n"}