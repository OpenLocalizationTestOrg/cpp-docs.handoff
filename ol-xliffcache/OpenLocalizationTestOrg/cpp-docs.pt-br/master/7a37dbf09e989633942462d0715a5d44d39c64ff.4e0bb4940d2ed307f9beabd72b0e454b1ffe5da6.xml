{"nodes":[{"pos":[12,69],"content":"_strspnp, _wcsspnp, _mbsspnp, _mbsspnp_l | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_strspnp, _wcsspnp, _mbsspnp, _mbsspnp_l | Microsoft Docs","pos":[0,57]}]},{"content":"_strspnp, _wcsspnp, _mbsspnp, _mbsspnp_l","pos":[1343,1383]},{"content":"Returns a pointer to the first character in a given string that is not in another given string.","pos":[1384,1479]},{"pos":[1487,1726],"content":"[!IMPORTANT]\n `_mbsspnp` and `_mbsspnp_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","leadings":["","> "],"nodes":[{"content":" and `_mbsspnp_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","pos":[24,237],"nodes":[{"content":"and <ph id=\"ph1\">`_mbsspnp_l`</ph> cannot be used in applications that execute in the Windows Runtime.","pos":[1,85],"source":" and `_mbsspnp_l` cannot be used in applications that execute in the Windows Runtime."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CRT functions not supported with /ZW<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)</ept>.","pos":[86,213],"source":" For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)."}]}]},{"content":"Syntax","pos":[1735,1741]},{"content":"Parameters","pos":[2156,2166]},{"content":"Null-terminated string to search.","pos":[2179,2212]},{"content":"Null-terminated character set.","pos":[2232,2262]},{"content":"Locale to use.","pos":[2281,2295]},{"content":"Return Value","pos":[2304,2316]},{"content":", <ph id=\"ph1\">`_wcsspnp`</ph>, and <ph id=\"ph2\">`_mbsspnp`</ph> return a pointer to the first character in <ph id=\"ph3\">`str`</ph> that does not belong to the set of characters in <ph id=\"ph4\">`charset`</ph><bpt id=\"p1\">*</bpt>.<ept id=\"p1\">*</ept>","pos":[2330,2469],"source":", `_wcsspnp`, and `_mbsspnp` return a pointer to the first character in `str` that does not belong to the set of characters in `charset`*.*"},{"content":"Each of these functions returns <ph id=\"ph1\">`NULL`</ph> if <ph id=\"ph2\">`str`</ph> consists entirely of characters from <ph id=\"ph3\">`charset`</ph><bpt id=\"p1\">*</bpt>.<ept id=\"p1\">*</ept>","pos":[2470,2567],"source":" Each of these functions returns `NULL` if `str` consists entirely of characters from `charset`*.*"},{"content":"For each of these routines, no return value is reserved to indicate an error.","pos":[2568,2645]},{"content":"Remarks","pos":[2654,2661]},{"content":"The <ph id=\"ph1\">`_mbsspnp`</ph> function returns a pointer to the multibyte character that is the first character in <ph id=\"ph2\">`str`</ph> that does not belong to the set of characters in <ph id=\"ph3\">`charset`</ph>.","pos":[2665,2830],"source":"The `_mbsspnp` function returns a pointer to the multibyte character that is the first character in `str` that does not belong to the set of characters in `charset`."},{"content":"recognizes multibyte-character sequences according to the <bpt id=\"p1\">[</bpt>multibyte code page<ept id=\"p1\">](../../c-runtime-library/code-pages.md)</ept> currently in use.","pos":[2842,2978],"source":" recognizes multibyte-character sequences according to the [multibyte code page](../../c-runtime-library/code-pages.md) currently in use."},{"content":"The search does not include terminating null characters.","pos":[2979,3035]},{"content":"If either <ph id=\"ph1\">`str`</ph> or <ph id=\"ph2\">`charset`</ph> is a null pointer, this function invokes the invalid parameter handler, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[3042,3231],"source":"If either `str` or `charset` is a null pointer, this function invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, the function returns <ph id=\"ph1\">`NULL`</ph> and sets <ph id=\"ph2\">`errno`</ph> to <ph id=\"ph3\">`EINVAL`</ph>.","pos":[3232,3326],"source":" If execution is allowed to continue, the function returns `NULL` and sets `errno` to `EINVAL`."},{"content":"Generic-Text Routine Mappings","pos":[3336,3365]},{"content":"Tchar.h routine","pos":[3372,3387]},{"content":"_UNICODE and _MBCS not defined","pos":[3388,3418]},{"content":"_MBCS defined","pos":[3419,3432]},{"content":"_UNICODE defined","pos":[3433,3449]},{"content":"and <ph id=\"ph1\">`_wcsspnp`</ph> are single-byte character and wide-character versions of <ph id=\"ph2\">`_mbsspnp`</ph>.","pos":[3626,3709],"source":" and `_wcsspnp` are single-byte character and wide-character versions of `_mbsspnp`."},{"content":"and <ph id=\"ph1\">`_wcsspnp`</ph> behave identically to <ph id=\"ph2\">`_mbsspnp`</ph> otherwise; they are provided only for this mapping and should not be used for any other reason.","pos":[3721,3864],"source":" and `_wcsspnp` behave identically to `_mbsspnp` otherwise; they are provided only for this mapping and should not be used for any other reason."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Using Generic-Text Mappings<ept id=\"p1\">](../../c-runtime-library/using-generic-text-mappings.md)</ept> and <bpt id=\"p2\">[</bpt>Generic-Text Mappings<ept id=\"p2\">](../../c-runtime-library/generic-text-mappings.md)</ept>.","pos":[3865,4055],"source":" For more information, see [Using Generic-Text Mappings](../../c-runtime-library/using-generic-text-mappings.md) and [Generic-Text Mappings](../../c-runtime-library/generic-text-mappings.md)."},{"content":"is identical except that it uses the locale parameter passed in instead.","pos":[4075,4147]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept>.","pos":[4148,4218],"source":" For more information, see [Locale](../../c-runtime-library/locale.md)."},{"content":"Requirements","pos":[4227,4239]},{"content":"Routine","pos":[4246,4253]},{"content":"Required header","pos":[4254,4269]},{"content":"mbstring.h&gt;","pos":[4327,4338],"source":"mbstring.h>"},{"content":"tchar.h&gt;","pos":[4356,4364],"source":"tchar.h>"},{"content":"tchar.h&gt;","pos":[4382,4390],"source":"tchar.h>"},{"pos":[4398,4496],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"content":"Example","pos":[4505,4512]},{"content":"Output","pos":[4815,4821]},{"content":".NET Framework Equivalent","pos":[4854,4879]},{"content":"Not applicable.","pos":[4883,4898]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[4899,4946],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[4947,5072],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"content":"See Also","pos":[5081,5089]},{"content":"String Manipulation","pos":[5094,5113]},{"content":"Locale","pos":[5172,5178]},{"content":"Interpretation of Multibyte-Character Sequences","pos":[5220,5267]},{"content":"strspn, wcsspn, _mbsspn, _mbsspn_l","pos":[5350,5384]},{"content":"strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l","pos":[5459,5533]},{"content":"strncmp, wcsncmp, _mbsncmp, _mbsncmp_l","pos":[5644,5682]},{"content":"strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l","pos":[5761,5835]},{"content":"_strnicmp, _wcsnicmp, _mbsnicmp, _strnicmp_l, _wcsnicmp_l, _mbsnicmp_l","pos":[5946,6016]},{"content":"strrchr, wcsrchr, _mbsrchr, _mbsrchr_l","pos":[6121,6159]}],"content":"---\ntitle: \"_strspnp, _wcsspnp, _mbsspnp, _mbsspnp_l | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_mbsspnp\"\n  - \"_wcsspnp\"\n  - \"_mbsspnp_l\"\n  - \"_strspnp\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-multibyte-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_tcsspnp\"\n  - \"_mbsspnp\"\n  - \"strspnp\"\n  - \"_ftcsspnp\"\n  - \"_mbsspnp_l\"\n  - \"wcsspnp\"\n  - \"mbsspnp_l\"\n  - \"_wcsspnp\"\n  - \"_strspnp\"\n  - \"mbsspnp\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"_strspnp function\"\n  - \"_wcsspnp function\"\n  - \"_mbsspnp_l function\"\n  - \"strspnp function\"\n  - \"mbsspnp function\"\n  - \"wcsspnp function\"\n  - \"_mbsspnp function\"\n  - \"mbsspnp_l function\"\n  - \"_tcsspnp function\"\n  - \"tcsspnp function\"\nms.assetid: 1ce18100-2edd-4c3b-af8b-53f204d80233\ncaps.latest.revision: 23\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _strspnp, _wcsspnp, _mbsspnp, _mbsspnp_l\nReturns a pointer to the first character in a given string that is not in another given string.  \n  \n> [!IMPORTANT]\n>  `_mbsspnp` and `_mbsspnp_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).  \n  \n## Syntax  \n  \n```  \nchar *_strspnp(  \n   const char *str,  \n   const char *charset  \n);  \nwchar_t *_wcsspnp(  \n   const unsigned wchar_t *str,  \n   const unsigned wchar_t *charset  \n);  \nunsigned char *_mbsspnp(  \n   const unsigned char *str,  \n   const unsigned char *charset  \n);  \nunsigned char *_mbsspnp_l(  \n   const unsigned char *str,  \n   const unsigned char *charset,  \n   _locale_t locale  \n);  \n  \n```  \n  \n#### Parameters  \n `str`  \n Null-terminated string to search.  \n  \n `charset`  \n Null-terminated character set.  \n  \n `locale`  \n Locale to use.  \n  \n## Return Value  \n `_strspnp`, `_wcsspnp`, and `_mbsspnp` return a pointer to the first character in `str` that does not belong to the set of characters in `charset`*.* Each of these functions returns `NULL` if `str` consists entirely of characters from `charset`*.* For each of these routines, no return value is reserved to indicate an error.  \n  \n## Remarks  \n The `_mbsspnp` function returns a pointer to the multibyte character that is the first character in `str` that does not belong to the set of characters in `charset`. `_mbsspnp` recognizes multibyte-character sequences according to the [multibyte code page](../../c-runtime-library/code-pages.md) currently in use. The search does not include terminating null characters.  \n  \n If either `str` or `charset` is a null pointer, this function invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, the function returns `NULL` and sets `errno` to `EINVAL`.  \n  \n### Generic-Text Routine Mappings  \n  \n|Tchar.h routine|_UNICODE and _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|--------------------------------------|--------------------|-----------------------|  \n|`_tcsspnp`|`_strspnp`|`_mbsspnp`|`_wcsspnp`|  \n  \n `_strspnp` and `_wcsspnp` are single-byte character and wide-character versions of `_mbsspnp`. `_strspnp` and `_wcsspnp` behave identically to `_mbsspnp` otherwise; they are provided only for this mapping and should not be used for any other reason. For more information, see [Using Generic-Text Mappings](../../c-runtime-library/using-generic-text-mappings.md) and [Generic-Text Mappings](../../c-runtime-library/generic-text-mappings.md).  \n  \n `_mbsspnp_l` is identical except that it uses the locale parameter passed in instead. For more information, see [Locale](../../c-runtime-library/locale.md).  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_mbsspnp`|\\<mbstring.h>|  \n|`_strspnp`|\\<tchar.h>|  \n|`_wcsspnp`|\\<tchar.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n  \n```  \n// crt_mbsspnp.c  \n#include <mbstring.h>  \n#include <stdio.h>  \n  \nint main( void ) {  \n   const unsigned char string1[] = \"cabbage\";  \n   const unsigned char string2[] = \"c\";  \n   unsigned char *ptr = 0;  \n   ptr = _mbsspnp( string1, string2 );  \n   printf( \"%s\\n\", ptr);  \n}  \n```  \n  \n## Output  \n  \n```  \nabbage  \n```  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [String Manipulation](../../c-runtime-library/string-manipulation-crt.md)   \n [Locale](../../c-runtime-library/locale.md)   \n [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)   \n [strspn, wcsspn, _mbsspn, _mbsspn_l](../../c-runtime-library/reference/strspn-wcsspn-mbsspn-mbsspn-l.md)   \n [strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l](../../c-runtime-library/reference/strncat-s-strncat-s-l-wcsncat-s-wcsncat-s-l-mbsncat-s-mbsncat-s-l.md)   \n [strncmp, wcsncmp, _mbsncmp, _mbsncmp_l](../../c-runtime-library/reference/strncmp-wcsncmp-mbsncmp-mbsncmp-l.md)   \n [strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l](../../c-runtime-library/reference/strncpy-s-strncpy-s-l-wcsncpy-s-wcsncpy-s-l-mbsncpy-s-mbsncpy-s-l.md)   \n [_strnicmp, _wcsnicmp, _mbsnicmp, _strnicmp_l, _wcsnicmp_l, _mbsnicmp_l](../../c-runtime-library/reference/strnicmp-wcsnicmp-mbsnicmp-strnicmp-l-wcsnicmp-l-mbsnicmp-l.md)   \n [strrchr, wcsrchr, _mbsrchr, _mbsrchr_l](../../c-runtime-library/reference/strrchr-wcsrchr-mbsrchr-mbsrchr-l.md)"}