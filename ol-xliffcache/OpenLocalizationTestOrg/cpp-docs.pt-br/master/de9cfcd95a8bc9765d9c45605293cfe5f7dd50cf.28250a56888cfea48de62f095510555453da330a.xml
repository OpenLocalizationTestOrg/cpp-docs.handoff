{"nodes":[{"pos":[12,49],"content":"Optimizing Your Code | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Optimizing Your Code | Microsoft Docs","pos":[0,37]}]},{"content":"Optimizing Your Code","pos":[721,741]},{"content":"By optimizing an executable, you can achieve a balance between fast execution speed and small code size.","pos":[742,846]},{"content":"This topic discusses some of the mechanisms that Visual C++ provides to help you optimize code.","pos":[847,942]},{"content":"Language Features","pos":[951,968]},{"content":"The following topics describe some of the optimization features in the C/C++ language.","pos":[972,1058]},{"content":"Optimization Pragmas and Keywords","pos":[1066,1099]},{"content":"A list of keywords and pragmas that you can use in your code to improve performance.","pos":[1164,1248]},{"content":"Compiler Options Listed by Category","pos":[1256,1291]},{"content":"A list of <bpt id=\"p1\">**</bpt>/O<ept id=\"p1\">**</ept> compiler options that specifically affect execution speed or code size.","pos":[1358,1446],"source":" A list of **/O** compiler options that specifically affect execution speed or code size."},{"content":"Rvalue Reference Declarator: &amp;&amp;","pos":[1454,1485],"source":"Rvalue Reference Declarator: &&"},{"content":"Rvalue references support the implementation of <bpt id=\"p1\">*</bpt>move semantics<ept id=\"p1\">*</ept>.","pos":[1540,1605],"source":" Rvalue references support the implementation of *move semantics*."},{"content":"If move semantics are used to implement template libraries, the performance of applications that use those templates can significantly improve.","pos":[1606,1749]},{"content":"The optimize Pragma","pos":[1759,1778]},{"pos":[1782,1951],"content":"If an optimized section of code causes errors or a slowdown, you can use the <bpt id=\"p1\">[</bpt>optimize<ept id=\"p1\">](../../preprocessor/optimize.md)</ept> pragma to turn off optimization for that section.","source":"If an optimized section of code causes errors or a slowdown, you can use the [optimize](../../preprocessor/optimize.md) pragma to turn off optimization for that section."},{"content":"Enclose the code between two pragmas, as follows.","pos":[1958,2007]},{"content":"Programming Practices","pos":[2107,2128]},{"content":"You might notice additional warning messages when you compile your code with optimization.","pos":[2132,2222]},{"content":"This behavior is expected because some warnings relate only to optimized code.","pos":[2223,2301]},{"content":"You can avoid many optimization problems if you heed these warnings.","pos":[2302,2370]},{"content":"Paradoxically, optimizing a program for speed could cause code to run slower.","pos":[2377,2454]},{"content":"This is because some optimizations for speed increase code size.","pos":[2455,2519]},{"content":"For example, inlining functions eliminates the overhead of function calls.","pos":[2520,2594]},{"content":"However, inlining too much code might make your program so large that the number of virtual-memory page faults increases.","pos":[2595,2716]},{"content":"Therefore, the speed gained from eliminating function calls may be lost to memory swapping.","pos":[2717,2808]},{"content":"The following topics discuss good programming practices.","pos":[2815,2871]},{"content":"Tips for Improving Time-Critical Code","pos":[2879,2916]},{"content":"Better coding techniques can yield better performance.","pos":[2985,3039]},{"content":"This topic suggests coding techniques that can help you make sure that the time-critical parts of your code perform satisfactorily.","pos":[3040,3171]},{"content":"Optimization Best Practices","pos":[3179,3206]},{"content":"Provides general guidelines about how best to optimize your application.","pos":[3265,3337]},{"content":"Debugging Optimized Code","pos":[3346,3370]},{"content":"Because optimization might change the code created by the compiler, we recommend that you debug your application and measure its performance, and then optimize your code.","pos":[3374,3544]},{"content":"The following topics provide basic information about how to debug.","pos":[3551,3617]},{"content":"Debugging in Visual Studio","pos":[3628,3654]},{"content":"Common Problems When Creating a Release Build","pos":[3717,3762]},{"content":"The following topics provide more advanced information about how to debug.","pos":[3842,3916]},{"content":"How to: Debug Optimized Code","pos":[3927,3955]},{"content":"Why Floating-Point Numbers May Lose Precision","pos":[4039,4084]},{"content":"The following assortment of topics provide information about how to optimize building, loading, and executing your code.","pos":[4164,4284]},{"content":"Improving Compiler Throughput","pos":[4295,4324]},{"content":"Using Function Name Without () Produces No Code","pos":[4392,4439]},{"content":"Optimizing Inline Assembly","pos":[4529,4555]},{"content":"Specifying Compiler Optimization for an ATL Project","pos":[4621,4672]},{"content":"What optimization techniques should I use to improve the client application's performance when loading?","pos":[4760,4863]},{"pos":[4998,5214],"content":"how to reduce the time to load DLL methods, see \"Optimizing DLL Load Time Performance\" in the \"Under the Hood\" column in the \"MSDN Magazine\" on the <bpt id=\"p1\">[</bpt>MSDN Library<ept id=\"p1\">](http://go.microsoft.com/fwlink/?linkid=556)</ept> Web site.","source":" how to reduce the time to load DLL methods, see \"Optimizing DLL Load Time Performance\" in the \"Under the Hood\" column in the \"MSDN Magazine\" on the [MSDN Library](http://go.microsoft.com/fwlink/?linkid=556) Web site."},{"pos":[5290,5599],"content":"how to minimize paging in applications, see \"Improving Runtime Performance with the Smooth Working Set Tool\" and \"Improving Runtime Performance with the Smooth Working Set Tool—Part 2\" in the \"Bugslayer\" column in the \"MSDN Magazine\" on the <bpt id=\"p1\">[</bpt>MSDN Library<ept id=\"p1\">](http://go.microsoft.com/fwlink/?linkid=556)</ept> Web site.","source":" how to minimize paging in applications, see \"Improving Runtime Performance with the Smooth Working Set Tool\" and \"Improving Runtime Performance with the Smooth Working Set Tool—Part 2\" in the \"Bugslayer\" column in the \"MSDN Magazine\" on the [MSDN Library](http://go.microsoft.com/fwlink/?linkid=556) Web site."},{"content":"See Also","pos":[5608,5616]},{"content":"C/C++ Building Reference","pos":[5621,5645]}],"content":"---\ntitle: \"Optimizing Your Code | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"performance, optimizing code\"\n  - \"optimization\"\n  - \"cl.exe compiler, performance\"\n  - \"optimization, C++ code\"\n  - \"code, optimizing\"\n  - \"performance, compiler\"\nms.assetid: 4f33e6c7-9870-43b3-9c2f-d7e44f764971\ncaps.latest.revision: 17\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Optimizing Your Code\nBy optimizing an executable, you can achieve a balance between fast execution speed and small code size. This topic discusses some of the mechanisms that Visual C++ provides to help you optimize code.  \n  \n## Language Features  \n The following topics describe some of the optimization features in the C/C++ language.  \n  \n [Optimization Pragmas and Keywords](../../build/reference/optimization-pragmas-and-keywords.md)  \n A list of keywords and pragmas that you can use in your code to improve performance.  \n  \n [Compiler Options Listed by Category](../../build/reference/compiler-options-listed-by-category.md)  \n A list of **/O** compiler options that specifically affect execution speed or code size.  \n  \n [Rvalue Reference Declarator: &&](../../cpp/rvalue-reference-declarator-amp-amp.md)  \n Rvalue references support the implementation of *move semantics*. If move semantics are used to implement template libraries, the performance of applications that use those templates can significantly improve.  \n  \n### The optimize Pragma  \n If an optimized section of code causes errors or a slowdown, you can use the [optimize](../../preprocessor/optimize.md) pragma to turn off optimization for that section.  \n  \n Enclose the code between two pragmas, as follows.  \n  \n```  \n#pragma optimize(\"\", off)  \n// some code here   \n#pragma optimize(\"\", on)  \n```  \n  \n## Programming Practices  \n You might notice additional warning messages when you compile your code with optimization. This behavior is expected because some warnings relate only to optimized code. You can avoid many optimization problems if you heed these warnings.  \n  \n Paradoxically, optimizing a program for speed could cause code to run slower. This is because some optimizations for speed increase code size. For example, inlining functions eliminates the overhead of function calls. However, inlining too much code might make your program so large that the number of virtual-memory page faults increases. Therefore, the speed gained from eliminating function calls may be lost to memory swapping.  \n  \n The following topics discuss good programming practices.  \n  \n [Tips for Improving Time-Critical Code](../../build/reference/tips-for-improving-time-critical-code.md)  \n Better coding techniques can yield better performance. This topic suggests coding techniques that can help you make sure that the time-critical parts of your code perform satisfactorily.  \n  \n [Optimization Best Practices](../../build/reference/optimization-best-practices.md)  \n Provides general guidelines about how best to optimize your application.  \n  \n## Debugging Optimized Code  \n Because optimization might change the code created by the compiler, we recommend that you debug your application and measure its performance, and then optimize your code.  \n  \n The following topics provide basic information about how to debug.  \n  \n-   [Debugging in Visual Studio](/visualstudio/debugger/debugging-in-visual-studio)  \n  \n-   [Common Problems When Creating a Release Build](../../build/reference/common-problems-when-creating-a-release-build.md)  \n  \n The following topics provide more advanced information about how to debug.  \n  \n-   [How to: Debug Optimized Code](http://msdn.microsoft.com/Library/fc8eeeb8-6629-4c9b-99f7-2016aee81dff)  \n  \n-   [Why Floating-Point Numbers May Lose Precision](../../build/reference/why-floating-point-numbers-may-lose-precision.md)  \n  \n The following assortment of topics provide information about how to optimize building, loading, and executing your code.  \n  \n-   [Improving Compiler Throughput](../../build/reference/improving-compiler-throughput.md)  \n  \n-   [Using Function Name Without () Produces No Code](../../build/reference/using-function-name-without-parens-produces-no-code.md)  \n  \n-   [Optimizing Inline Assembly](../../assembler/inline/optimizing-inline-assembly.md)  \n  \n-   [Specifying Compiler Optimization for an ATL Project](../../atl/reference/specifying-compiler-optimization-for-an-atl-project.md)  \n  \n-   [What optimization techniques should I use to improve the client application's performance when loading?](../../build/what-optimization-techniques-should-i-use.md)  \n  \n-   [!INCLUDE[crabout](../../build/reference/includes/crabout_md.md)] how to reduce the time to load DLL methods, see \"Optimizing DLL Load Time Performance\" in the \"Under the Hood\" column in the \"MSDN Magazine\" on the [MSDN Library](http://go.microsoft.com/fwlink/?linkid=556) Web site.  \n  \n-   [!INCLUDE[crabout](../../build/reference/includes/crabout_md.md)] how to minimize paging in applications, see \"Improving Runtime Performance with the Smooth Working Set Tool\" and \"Improving Runtime Performance with the Smooth Working Set Tool—Part 2\" in the \"Bugslayer\" column in the \"MSDN Magazine\" on the [MSDN Library](http://go.microsoft.com/fwlink/?linkid=556) Web site.  \n  \n## See Also  \n [C/C++ Building Reference](../../build/reference/c-cpp-building-reference.md)"}