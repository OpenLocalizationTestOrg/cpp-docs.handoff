{"nodes":[{"pos":[12,45],"content":"atomic Structure | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"atomic Structure | Microsoft Docs","pos":[0,33]}]},{"content":"atomic Structure","pos":[565,581]},{"pos":[582,665],"content":"Describes an object that performs atomic operations on a stored value of type <ph id=\"ph1\">`Ty`</ph>.","source":"Describes an object that performs atomic operations on a stored value of type `Ty`."},{"content":"Syntax","pos":[674,680]},{"content":"Members","pos":[737,744]},{"content":"Public Constructors","pos":[754,773]},{"content":"Name","pos":[780,784]},{"content":"Description","pos":[785,796]},{"content":"atomic::atomic Constructor","pos":[835,861]},{"content":"Constructs an atomic object.","pos":[935,963]},{"content":"Public Operators","pos":[974,990]},{"content":"Name","pos":[997,1001]},{"content":"Description","pos":[1002,1013]},{"content":"atomic::operator Ty Operator","pos":[1052,1080]},{"content":"Reads and returns the stored value.","pos":[1154,1189]},{"content":"(<bpt id=\"p1\">[</bpt>atomic::load Method<ept id=\"p1\">](http://msdn.microsoft.com/Library/05212726-cf8a-46fe-83d2-c16ac2abb7d1)</ept>)","pos":[1190,1285],"source":" ([atomic::load Method](http://msdn.microsoft.com/Library/05212726-cf8a-46fe-83d2-c16ac2abb7d1))"},{"content":"atomic::operator= Operator","pos":[1291,1317]},{"content":"Uses a specified value to replace the stored value.","pos":[1391,1442]},{"content":"(<bpt id=\"p1\">[</bpt>atomic::store Method<ept id=\"p1\">](http://msdn.microsoft.com/Library/84759413-d664-47ef-a1f3-a73c5a62007b)</ept>)","pos":[1443,1539],"source":" ([atomic::store Method](http://msdn.microsoft.com/Library/84759413-d664-47ef-a1f3-a73c5a62007b))"},{"content":"atomic::operator++ Operator","pos":[1545,1572]},{"content":"Increments the stored value.","pos":[1646,1674]},{"content":"Used only by integral and pointer specializations.","pos":[1675,1725]},{"content":"atomic::operator+= Operator","pos":[1731,1758]},{"content":"Adds a specified value to the stored value.","pos":[1832,1875]},{"content":"Used only by integral and pointer specializations.","pos":[1876,1926]},{"content":"atomic::operator-- Operator","pos":[1932,1959]},{"content":"Decrements the stored value.","pos":[2033,2061]},{"content":"Used only by integral and pointer specializations.","pos":[2062,2112]},{"content":"atomic::operator-= Operator","pos":[2118,2145]},{"content":"Subtracts a specified value from the stored value.","pos":[2219,2269]},{"content":"Used only by integral and pointer specializations.","pos":[2270,2320]},{"content":"atomic::operator&amp;= Operator","pos":[2326,2353],"source":"atomic::operator&= Operator"},{"content":"Performs a bitwise <ph id=\"ph1\">`and`</ph> on a specified value and the stored value.","pos":[2427,2494],"source":"Performs a bitwise `and` on a specified value and the stored value."},{"content":"Used only by integral specializations.","pos":[2495,2533]},{"content":"atomic::operator&amp;#124;= Operator","pos":[2539,2571],"source":"atomic::operator&#124;= Operator"},{"content":"Performs a bitwise <ph id=\"ph1\">`or`</ph> on a specified value and the stored value.","pos":[2645,2711],"source":"Performs a bitwise `or` on a specified value and the stored value."},{"content":"Used only by integral specializations.","pos":[2712,2750]},{"content":"atomic::operator^= Operator","pos":[2756,2783]},{"content":"Performs a bitwise <ph id=\"ph1\">`exclusive or`</ph> on a specified value and the stored value.","pos":[2857,2933],"source":"Performs a bitwise `exclusive or` on a specified value and the stored value."},{"content":"Used only by integral specializations.","pos":[2934,2972]},{"content":"Public Methods","pos":[2983,2997]},{"content":"Name","pos":[3004,3008]},{"content":"Description","pos":[3009,3020]},{"content":"atomic::compare_exchange_strong Method","pos":[3059,3097]},{"pos":[3171,3256],"content":"Performs an <ph id=\"ph1\">`atomic_compare_and_exchange`</ph> operation on <ph id=\"ph2\">`this`</ph> and returns the result.","source":"Performs an `atomic_compare_and_exchange` operation on `this` and returns the result."},{"content":"atomic::compare_exchange_weak Method","pos":[3262,3298]},{"pos":[3372,3461],"content":"Performs a <ph id=\"ph1\">`weak_atomic_compare_and_exchange`</ph> operation on <ph id=\"ph2\">`this`</ph> and returns the result.","source":"Performs a `weak_atomic_compare_and_exchange` operation on `this` and returns the result."},{"content":"atomic::fetch_add Method","pos":[3467,3491]},{"content":"Adds a specified value to the stored value.","pos":[3565,3608]},{"content":"atomic::fetch_and Method","pos":[3614,3638]},{"pos":[3712,3779],"content":"Performs a bitwise <ph id=\"ph1\">`and`</ph> on a specified value and the stored value.","source":"Performs a bitwise `and` on a specified value and the stored value."},{"content":"atomic::fetch_or Method","pos":[3785,3808]},{"pos":[3882,3948],"content":"Performs a bitwise <ph id=\"ph1\">`or`</ph> on a specified value and the stored value.","source":"Performs a bitwise `or` on a specified value and the stored value."},{"content":"atomic::fetch_sub Method","pos":[3954,3978]},{"content":"Subtracts a specified value from the stored value.","pos":[4052,4102]},{"content":"atomic::fetch_xor Method","pos":[4108,4132]},{"pos":[4206,4282],"content":"Performs a bitwise <ph id=\"ph1\">`exclusive or`</ph> on a specified value and the stored value.","source":"Performs a bitwise `exclusive or` on a specified value and the stored value."},{"content":"atomic::is_lock_free Method","pos":[4288,4315]},{"content":"Specifies whether atomic operations on <ph id=\"ph1\">`this`</ph> are <bpt id=\"p1\">*</bpt>lock free<ept id=\"p1\">*</ept>.","pos":[4389,4451],"source":"Specifies whether atomic operations on `this` are *lock free*."},{"content":"An atomic type is <bpt id=\"p1\">*</bpt>lock free<ept id=\"p1\">*</ept> if no atomic operations on that type use locks.","pos":[4452,4529],"source":" An atomic type is *lock free* if no atomic operations on that type use locks."},{"content":"atomic::load Method","pos":[4535,4554]},{"content":"Reads and returns the stored value.","pos":[4628,4663]},{"content":"atomic::store Method","pos":[4669,4689]},{"content":"Uses a specified value to replace the stored value.","pos":[4763,4814]},{"content":"Remarks","pos":[4824,4831]},{"content":"The type <ph id=\"ph1\">`Ty`</ph> must be <bpt id=\"p1\">*</bpt>trivially copyable<ept id=\"p1\">*</ept>.","pos":[4835,4878],"source":"The type `Ty` must be *trivially copyable*."},{"content":"That is, using <bpt id=\"p1\">[</bpt>memcpy<ept id=\"p1\">](../c-runtime-library/reference/memcpy-wmemcpy.md)</ept> to copy its bytes must produce a valid <ph id=\"ph1\">`Ty`</ph> object that compares equal to the original object.","pos":[4879,5047],"source":" That is, using [memcpy](../c-runtime-library/reference/memcpy-wmemcpy.md) to copy its bytes must produce a valid `Ty` object that compares equal to the original object."},{"content":"The <ph id=\"ph1\">`compare_exchange_weak`</ph> and <ph id=\"ph2\">`compare_exchange_strong`</ph> member functions use <bpt id=\"p1\">[</bpt>memcmp<ept id=\"p1\">](../c-runtime-library/reference/memcmp-wmemcmp.md)</ept> to determine whether two <ph id=\"ph3\">`Ty`</ph> values are equal.","pos":[5048,5233],"source":" The `compare_exchange_weak` and `compare_exchange_strong` member functions use [memcmp](../c-runtime-library/reference/memcmp-wmemcmp.md) to determine whether two `Ty` values are equal."},{"content":"These functions will not use a <ph id=\"ph1\">`Ty`</ph>-defined <ph id=\"ph2\">`operator==`</ph>.","pos":[5234,5291],"source":" These functions will not use a `Ty`-defined `operator==`."},{"content":"The member functions of <ph id=\"ph1\">`atomic`</ph> use <ph id=\"ph2\">`memcpy`</ph> to copy values of type <ph id=\"ph3\">`Ty`</ph>.","pos":[5292,5366],"source":" The member functions of `atomic` use `memcpy` to copy values of type `Ty`."},{"content":"A partial specialization, <ph id=\"ph1\">`atomic&lt;Ty *&gt;`</ph>, exists for all pointer types.","pos":[5373,5444],"source":"A partial specialization, `atomic<Ty *>`, exists for all pointer types."},{"content":"The specialization enables the addition of an offset to the managed pointer value or the subtraction of an offset from it.","pos":[5445,5567]},{"content":"The arithmetic operations take an argument of type <ph id=\"ph1\">`ptrdiff_t`</ph> and adjust that argument according to the size of <ph id=\"ph2\">`Ty`</ph> to be consistent with ordinary address arithmetic.","pos":[5568,5736],"source":" The arithmetic operations take an argument of type `ptrdiff_t` and adjust that argument according to the size of `Ty` to be consistent with ordinary address arithmetic."},{"content":"A specialization exists for every integral type except <ph id=\"ph1\">`bool`</ph>.","pos":[5743,5805],"source":"A specialization exists for every integral type except `bool`."},{"content":"Each specialization provides a rich set of methods for atomic arithmetic and logical operations.","pos":[5806,5902]},{"content":"Integral specializations are derived from corresponding <ph id=\"ph1\">`atomic_``integral`</ph> types.","pos":[6232,6314],"source":"Integral specializations are derived from corresponding `atomic_``integral` types."},{"content":"For example, <ph id=\"ph1\">`atomic&lt;unsigned int&gt;`</ph> is derived from <ph id=\"ph2\">`atomic_uint`</ph>.","pos":[6315,6381],"source":" For example, `atomic<unsigned int>` is derived from `atomic_uint`."},{"content":"Requirements","pos":[6390,6402]},{"pos":[6406,6424],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> atomic","source":"**Header:** atomic"},{"pos":[6431,6449],"content":"<bpt id=\"p1\">**</bpt>Namespace:<ept id=\"p1\">**</ept> std","source":"**Namespace:** std"},{"content":"See Also","pos":[6458,6466]},{"content":"atomic&gt;","pos":[6473,6480],"source":"atomic>"},{"content":"Header Files Reference","pos":[6518,6540]}],"content":"---\ntitle: \"atomic Structure | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"atomic/std::atomic\"\ndev_langs: \n  - \"C++\"\nms.assetid: 261628ed-7049-41ac-99b9-cfe49f696b44\ncaps.latest.revision: 10\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# atomic Structure\nDescribes an object that performs atomic operations on a stored value of type `Ty`.  \n  \n## Syntax  \n  \n```\ntemplate <class Ty>\nstruct atomic;\n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[atomic::atomic Constructor](http://msdn.microsoft.com/Library/a538c43f-4d48-4308-ae1b-bab1839bccb8)|Constructs an atomic object.|  \n  \n### Public Operators  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[atomic::operator Ty Operator](http://msdn.microsoft.com/Library/a366c700-c7a0-4bcb-8eb4-4b57dfaea065)|Reads and returns the stored value. ([atomic::load Method](http://msdn.microsoft.com/Library/05212726-cf8a-46fe-83d2-c16ac2abb7d1))|  \n|[atomic::operator= Operator](http://msdn.microsoft.com/Library/fe161d57-47ae-4bad-92bf-ce32ac8d5953)|Uses a specified value to replace the stored value. ([atomic::store Method](http://msdn.microsoft.com/Library/84759413-d664-47ef-a1f3-a73c5a62007b))|  \n|[atomic::operator++ Operator](http://msdn.microsoft.com/Library/492959e9-1ea8-4e02-a031-82b1b92e91a0)|Increments the stored value. Used only by integral and pointer specializations.|  \n|[atomic::operator+= Operator](http://msdn.microsoft.com/Library/9ec97aa2-c9d7-436b-943d-2989eb2617dd)|Adds a specified value to the stored value. Used only by integral and pointer specializations.|  \n|[atomic::operator-- Operator](http://msdn.microsoft.com/Library/ad7c1ea7-1f6d-4a54-bf26-07630f749864)|Decrements the stored value. Used only by integral and pointer specializations.|  \n|[atomic::operator-= Operator](http://msdn.microsoft.com/Library/902d0d9f-88fd-4500-aa2d-1e50f443e77c)|Subtracts a specified value from the stored value. Used only by integral and pointer specializations.|  \n|[atomic::operator&= Operator](http://msdn.microsoft.com/Library/90e730ac-12e1-4abb-98f5-4eadd6861a89)|Performs a bitwise `and` on a specified value and the stored value. Used only by integral specializations.|  \n|[atomic::operator&#124;= Operator](http://msdn.microsoft.com/Library/f105eacc-31a6-4906-abba-f1cf013599b2)|Performs a bitwise `or` on a specified value and the stored value. Used only by integral specializations.|  \n|[atomic::operator^= Operator](http://msdn.microsoft.com/Library/f2a4da9d-67e8-4249-9161-9998e72a33c2)|Performs a bitwise `exclusive or` on a specified value and the stored value. Used only by integral specializations.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[atomic::compare_exchange_strong Method](http://msdn.microsoft.com/Library/47bbf894-b28c-4ece-959e-67b3863cf4ed)|Performs an `atomic_compare_and_exchange` operation on `this` and returns the result.|  \n|[atomic::compare_exchange_weak Method](http://msdn.microsoft.com/Library/e15e421a-f7a3-4272-993a-f487d2242e4f)|Performs a `weak_atomic_compare_and_exchange` operation on `this` and returns the result.|  \n|[atomic::fetch_add Method](http://msdn.microsoft.com/Library/c68b91f2-6e8a-4ffa-8991-6bb6d466e1f3)|Adds a specified value to the stored value.|  \n|[atomic::fetch_and Method](http://msdn.microsoft.com/Library/a9c83001-b72c-4085-9640-f63f866714b9)|Performs a bitwise `and` on a specified value and the stored value.|  \n|[atomic::fetch_or Method](http://msdn.microsoft.com/Library/4c532f7f-80c5-432a-b34b-48feacab8dca)|Performs a bitwise `or` on a specified value and the stored value.|  \n|[atomic::fetch_sub Method](http://msdn.microsoft.com/Library/8cc80d4b-0942-45a3-9db8-bbf339a903e4)|Subtracts a specified value from the stored value.|  \n|[atomic::fetch_xor Method](http://msdn.microsoft.com/Library/92bbaff8-ee29-4a1e-aee4-d9d405285bfe)|Performs a bitwise `exclusive or` on a specified value and the stored value.|  \n|[atomic::is_lock_free Method](http://msdn.microsoft.com/Library/b99d5130-cdda-40a2-b14c-152b13a8ba45)|Specifies whether atomic operations on `this` are *lock free*. An atomic type is *lock free* if no atomic operations on that type use locks.|  \n|[atomic::load Method](http://msdn.microsoft.com/Library/05212726-cf8a-46fe-83d2-c16ac2abb7d1)|Reads and returns the stored value.|  \n|[atomic::store Method](http://msdn.microsoft.com/Library/84759413-d664-47ef-a1f3-a73c5a62007b)|Uses a specified value to replace the stored value.|  \n  \n## Remarks  \n The type `Ty` must be *trivially copyable*. That is, using [memcpy](../c-runtime-library/reference/memcpy-wmemcpy.md) to copy its bytes must produce a valid `Ty` object that compares equal to the original object. The `compare_exchange_weak` and `compare_exchange_strong` member functions use [memcmp](../c-runtime-library/reference/memcmp-wmemcmp.md) to determine whether two `Ty` values are equal. These functions will not use a `Ty`-defined `operator==`. The member functions of `atomic` use `memcpy` to copy values of type `Ty`.  \n  \n A partial specialization, `atomic<Ty *>`, exists for all pointer types. The specialization enables the addition of an offset to the managed pointer value or the subtraction of an offset from it. The arithmetic operations take an argument of type `ptrdiff_t` and adjust that argument according to the size of `Ty` to be consistent with ordinary address arithmetic.  \n  \n A specialization exists for every integral type except `bool`. Each specialization provides a rich set of methods for atomic arithmetic and logical operations.  \n  \n||||  \n|-|-|-|  \n|`atomic<char>`|`atomic<signed char>`|`atomic<unsigned char>`|  \n|`atomic<char16_t>`|`atomic<char32_t>`|`atomic<wchar_t>`|  \n|`atomic<short>`|`atomic<unsigned short>`|`atomic<int>`|  \n|`atomic<unsigned int>`|`atomic<long>`|`atomic<unsigned long>`|  \n|`atomic<long long>`|`atomic<unsigned long long>`|  \n  \n Integral specializations are derived from corresponding `atomic_``integral` types. For example, `atomic<unsigned int>` is derived from `atomic_uint`.  \n  \n## Requirements  \n **Header:** atomic  \n  \n **Namespace:** std  \n  \n## See Also  \n [\\<atomic>](../standard-library/atomic.md)   \n [Header Files Reference](../standard-library/cpp-standard-library-header-files.md)\n\n\n\n"}