{"nodes":[{"pos":[12,51],"content":"Compiler Warning C4355 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Warning C4355 | Microsoft Docs","pos":[0,39]}]},{"content":"Compiler Warning C4355","pos":[599,621]},{"content":"'this' : used in base member initializer list","pos":[622,667]},{"content":"The <bpt id=\"p1\">**</bpt>this<ept id=\"p1\">**</ept> pointer is valid only within nonstatic member functions.","pos":[674,743],"source":"The **this** pointer is valid only within nonstatic member functions."},{"content":"It cannot be used in the initializer list for a base class.","pos":[744,803]},{"content":"The base-class constructors and class member constructors are called before <bpt id=\"p1\">**</bpt>this<ept id=\"p1\">**</ept> constructor.","pos":[810,907],"source":"The base-class constructors and class member constructors are called before **this** constructor."},{"content":"In effect, you've passed a pointer to an unconstructed object to another constructor.","pos":[908,993]},{"content":"If those other constructors access any members or call member functions on this, the result will be undefined.","pos":[994,1104]},{"content":"You should not use the <bpt id=\"p1\">**</bpt>this<ept id=\"p1\">**</ept> pointer until all construction has completed.","pos":[1105,1182],"source":" You should not use the **this** pointer until all construction has completed."},{"content":"This warning is off by default.","pos":[1189,1220]},{"content":"See <bpt id=\"p1\">[</bpt>Compiler Warnings That Are Off by Default<ept id=\"p1\">](../../preprocessor/compiler-warnings-that-are-off-by-default.md)</ept> for more information.","pos":[1221,1355],"source":" See [Compiler Warnings That Are Off by Default](../../preprocessor/compiler-warnings-that-are-off-by-default.md) for more information."},{"content":"The following sample generates C4355:","pos":[1362,1399]}],"content":"---\ntitle: \"Compiler Warning C4355 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"C4355\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C4355\"\nms.assetid: b819ecab-8a07-42d7-8fa4-1180d51626c0\ncaps.latest.revision: 9\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Compiler Warning C4355\n'this' : used in base member initializer list  \n  \n The **this** pointer is valid only within nonstatic member functions. It cannot be used in the initializer list for a base class.  \n  \n The base-class constructors and class member constructors are called before **this** constructor. In effect, you've passed a pointer to an unconstructed object to another constructor. If those other constructors access any members or call member functions on this, the result will be undefined. You should not use the **this** pointer until all construction has completed.  \n  \n This warning is off by default. See [Compiler Warnings That Are Off by Default](../../preprocessor/compiler-warnings-that-are-off-by-default.md) for more information.  \n  \n The following sample generates C4355:  \n  \n```  \n// C4355.cpp  \n// compile with: /w14355 /c  \n#include <tchar.h>  \n  \nclass CDerived;  \nclass CBase {  \npublic:  \n   CBase(CDerived *derived): m_pDerived(derived) {};  \n   ~CBase();  \n   virtual void function() = 0;  \n  \n   CDerived * m_pDerived;  \n};  \n  \nclass CDerived : public CBase {  \npublic:  \n   CDerived() : CBase(this) {};   // C4355 \"this\" used in derived c'tor  \n   virtual void function() {};  \n};  \n  \nCBase::~CBase() {  \n   m_pDerived -> function();  \n}  \n  \nint main() {  \n   CDerived myDerived;  \n}  \n```"}