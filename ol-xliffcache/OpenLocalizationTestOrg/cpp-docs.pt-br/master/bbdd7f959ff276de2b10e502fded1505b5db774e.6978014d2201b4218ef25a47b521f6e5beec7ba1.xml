{"nodes":[{"pos":[12,77],"content":"Handling TTN_NEEDTEXT Notification for Tool Tips | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Handling TTN_NEEDTEXT Notification for Tool Tips | Microsoft Docs","pos":[0,65]}]},{"content":"Handling TTN_NEEDTEXT Notification for Tool Tips","pos":[708,756]},{"pos":[757,925],"content":"As part of <bpt id=\"p1\">[</bpt>enabling tool tips<ept id=\"p1\">](../mfc/enabling-tool-tips.md)</ept>, you handle the <bpt id=\"p2\">**</bpt>TTN_NEEDTEXT<ept id=\"p2\">**</ept> message by adding the following entry to your owner window's message map:","source":"As part of [enabling tool tips](../mfc/enabling-tool-tips.md), you handle the **TTN_NEEDTEXT** message by adding the following entry to your owner window's message map:"},{"pos":[943,971],"content":"NVC_MFCControlLadenDialog#40"},{"content":"The member function to be called when text is needed for this button.","pos":[1074,1143]},{"content":"Note that the ID of a tool tip is always 0.","pos":[1150,1193]},{"content":"Declare your handler function in the class definition as follows:","pos":[1200,1265]},{"pos":[1283,1311],"content":"NVC_MFCControlLadenDialog#53"},{"content":"where the italicized parameters are:","pos":[1397,1433]},{"content":"Identifier of the control that sent the notification.","pos":[1448,1501]},{"content":"Not used.","pos":[1502,1511]},{"content":"The control id is taken from the <bpt id=\"p1\">**</bpt>NMHDR<ept id=\"p1\">**</ept> structure.","pos":[1512,1565],"source":" The control id is taken from the **NMHDR** structure."},{"content":"A pointer to the <bpt id=\"p1\">[</bpt>NMTTDISPINFO<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/bb760258)</ept> structure.","pos":[1584,1686],"source":" A pointer to the [NMTTDISPINFO](http://msdn.microsoft.com/library/windows/desktop/bb760258) structure."},{"content":"This structure is also discussed further in <bpt id=\"p1\">[</bpt>The TOOLTIPTEXT Structure<ept id=\"p1\">](../mfc/tooltiptext-structure.md)</ept>.","pos":[1687,1792],"source":" This structure is also discussed further in [The TOOLTIPTEXT Structure](../mfc/tooltiptext-structure.md)."},{"content":"A pointer to result code you can set before you return.","pos":[1812,1867]},{"content":"<bpt id=\"p1\">**</bpt>TTN_NEEDTEXT<ept id=\"p1\">**</ept> handlers can ignore the <ph id=\"ph1\">`pResult`</ph> parameter.","pos":[1868,1929],"source":"**TTN_NEEDTEXT** handlers can ignore the `pResult` parameter."},{"content":"As an example of a form-view notification handler:","pos":[1936,1986]},{"pos":[2004,2032],"content":"NVC_MFCControlLadenDialog#54"},{"pos":[2120,2184],"content":"Call <ph id=\"ph1\">`EnableToolTips`</ph> (this fragment taken from <ph id=\"ph2\">`OnInitDialog`</ph>):","source":"Call `EnableToolTips` (this fragment taken from `OnInitDialog`):"},{"pos":[2202,2230],"content":"NVC_MFCControlLadenDialog#55"},{"content":"See Also","pos":[2320,2328]},{"content":"Tool Tips in Windows Not Derived from CFrameWnd","pos":[2333,2380]}],"content":"---\ntitle: \"Handling TTN_NEEDTEXT Notification for Tool Tips | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"TTN_NEEDTEXT\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"TTN_NEEDTEXT message\"\n  - \"notifications, tool tips\"\n  - \"tool tips [C++], notifications\"\nms.assetid: d0370a65-21ba-4676-bcc5-8cf851bbb15c\ncaps.latest.revision: 16\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Handling TTN_NEEDTEXT Notification for Tool Tips\nAs part of [enabling tool tips](../mfc/enabling-tool-tips.md), you handle the **TTN_NEEDTEXT** message by adding the following entry to your owner window's message map:  \n  \n [!code-cpp[NVC_MFCControlLadenDialog#40](../mfc/codesnippet/cpp/handling-ttn-needtext-notification-for-tool-tips_1.cpp)]  \n  \n `memberFxn`  \n The member function to be called when text is needed for this button.  \n  \n Note that the ID of a tool tip is always 0.  \n  \n Declare your handler function in the class definition as follows:  \n  \n [!code-cpp[NVC_MFCControlLadenDialog#53](../mfc/codesnippet/cpp/handling-ttn-needtext-notification-for-tool-tips_2.h)]  \n  \n where the italicized parameters are:  \n  \n `id`  \n Identifier of the control that sent the notification. Not used. The control id is taken from the **NMHDR** structure.  \n  \n `pNMHDR`  \n A pointer to the [NMTTDISPINFO](http://msdn.microsoft.com/library/windows/desktop/bb760258) structure. This structure is also discussed further in [The TOOLTIPTEXT Structure](../mfc/tooltiptext-structure.md).  \n  \n `pResult`  \n A pointer to result code you can set before you return. **TTN_NEEDTEXT** handlers can ignore the `pResult` parameter.  \n  \n As an example of a form-view notification handler:  \n  \n [!code-cpp[NVC_MFCControlLadenDialog#54](../mfc/codesnippet/cpp/handling-ttn-needtext-notification-for-tool-tips_3.cpp)]  \n  \n Call `EnableToolTips` (this fragment taken from `OnInitDialog`):  \n  \n [!code-cpp[NVC_MFCControlLadenDialog#55](../mfc/codesnippet/cpp/handling-ttn-needtext-notification-for-tool-tips_4.cpp)]  \n  \n## See Also  \n [Tool Tips in Windows Not Derived from CFrameWnd](../mfc/tool-tips-in-windows-not-derived-from-cframewnd.md)\n\n"}