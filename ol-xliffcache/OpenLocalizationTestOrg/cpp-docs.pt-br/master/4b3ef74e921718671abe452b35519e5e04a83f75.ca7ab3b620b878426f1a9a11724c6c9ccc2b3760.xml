{"nodes":[{"pos":[12,46],"content":"_CrtSetBreakAlloc | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_CrtSetBreakAlloc | Microsoft Docs","pos":[0,34]}]},{"content":"_CrtSetBreakAlloc","pos":[962,979]},{"content":"Sets a breakpoint on a specified object allocation order number (debug version only).","pos":[980,1065]},{"content":"Syntax","pos":[1074,1080]},{"content":"Parameters","pos":[1170,1180]},{"content":"lBreakAlloc","pos":[1185,1196]},{"content":"Allocation order number, for which to set the breakpoint.","pos":[1201,1258]},{"content":"Return Value","pos":[1267,1279]},{"content":"Returns the previous object allocation order number that had a breakpoint set.","pos":[1283,1361]},{"content":"Remarks","pos":[1370,1377]},{"content":"allows an application to perform memory leak detection by breaking at a specific point of memory allocation and tracing back to the origin of the request.","pos":[1401,1555]},{"content":"The function uses the sequential object allocation order number assigned to the memory block when it was allocated in the heap.","pos":[1556,1683]},{"content":"When <bpt id=\"p1\">[</bpt>_DEBUG<ept id=\"p1\">](../../c-runtime-library/debug.md)</ept> is not defined, calls to <ph id=\"ph1\">`_CrtSetBreakAlloc`</ph> are removed during preprocessing.","pos":[1684,1810],"source":" When [_DEBUG](../../c-runtime-library/debug.md) is not defined, calls to `_CrtSetBreakAlloc` are removed during preprocessing."},{"content":"The object allocation order number is stored in the <bpt id=\"p1\">*</bpt>lRequest<ept id=\"p1\">*</ept> field of the <bpt id=\"p2\">**</bpt>_CrtMemBlockHeader<ept id=\"p2\">**</ept> structure, defined in Crtdbg.h.","pos":[1817,1947],"source":"The object allocation order number is stored in the *lRequest* field of the **_CrtMemBlockHeader** structure, defined in Crtdbg.h."},{"content":"When information about a memory block is reported by one of the debug dump functions, this number is enclosed in braces, such as {36}.","pos":[1948,2082]},{"content":"For more information about how <ph id=\"ph1\">`_CrtSetBreakAlloc`</ph> can be used with other memory management functions, see <bpt id=\"p1\">[</bpt>Tracking Heap Allocation Requests<ept id=\"p1\">](/visualstudio/debugger/crt-debug-heap-details)</ept>.","pos":[2089,2279],"source":"For more information about how `_CrtSetBreakAlloc` can be used with other memory management functions, see [Tracking Heap Allocation Requests](/visualstudio/debugger/crt-debug-heap-details)."},{"content":"For more information about how memory blocks are allocated, initialized, and managed in the debug version of the base heap, see <bpt id=\"p1\">[</bpt>CRT Debug Heap Details<ept id=\"p1\">](/visualstudio/debugger/crt-debug-heap-details)</ept>.","pos":[2280,2480],"source":" For more information about how memory blocks are allocated, initialized, and managed in the debug version of the base heap, see [CRT Debug Heap Details](/visualstudio/debugger/crt-debug-heap-details)."},{"content":"Requirements","pos":[2489,2501]},{"content":"Routine","pos":[2508,2515]},{"content":"Required header","pos":[2516,2531]},{"content":"crtdbg.h&gt;","pos":[2598,2607],"source":"crtdbg.h>"},{"pos":[2615,2733],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":"Libraries","pos":[2742,2751]},{"pos":[2755,2850],"content":"Debug versions of <bpt id=\"p1\">[</bpt>C run-time libraries<ept id=\"p1\">](../../c-runtime-library/crt-library-features.md)</ept> only.","source":"Debug versions of [C run-time libraries](../../c-runtime-library/crt-library-features.md) only."},{"content":"Example","pos":[2859,2866]},{"content":".NET Framework Equivalent","pos":[4084,4109]},{"content":"Not applicable.","pos":[4113,4128]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[4129,4176],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[4177,4302],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"content":"See Also","pos":[4311,4319]},{"content":"Debug Routines","pos":[4324,4338]}],"content":"---\ntitle: \"_CrtSetBreakAlloc | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_CrtSetBreakAlloc\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"CrtSetBreakAlloc\"\n  - \"_CrtSetBreakAlloc\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"CrtSetBreakAlloc function\"\n  - \"_CrtSetBreakAlloc function\"\nms.assetid: 33bfc6af-a9ea-405b-a29f-1c2d4d9880a1\ncaps.latest.revision: 12\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _CrtSetBreakAlloc\nSets a breakpoint on a specified object allocation order number (debug version only).  \n  \n## Syntax  \n  \n```  \n  \n      long _CrtSetBreakAlloc(   \n   long lBreakAlloc   \n);  \n```  \n  \n#### Parameters  \n *lBreakAlloc*  \n Allocation order number, for which to set the breakpoint.  \n  \n## Return Value  \n Returns the previous object allocation order number that had a breakpoint set.  \n  \n## Remarks  \n `_CrtSetBreakAlloc` allows an application to perform memory leak detection by breaking at a specific point of memory allocation and tracing back to the origin of the request. The function uses the sequential object allocation order number assigned to the memory block when it was allocated in the heap. When [_DEBUG](../../c-runtime-library/debug.md) is not defined, calls to `_CrtSetBreakAlloc` are removed during preprocessing.  \n  \n The object allocation order number is stored in the *lRequest* field of the **_CrtMemBlockHeader** structure, defined in Crtdbg.h. When information about a memory block is reported by one of the debug dump functions, this number is enclosed in braces, such as {36}.  \n  \n For more information about how `_CrtSetBreakAlloc` can be used with other memory management functions, see [Tracking Heap Allocation Requests](/visualstudio/debugger/crt-debug-heap-details). For more information about how memory blocks are allocated, initialized, and managed in the debug version of the base heap, see [CRT Debug Heap Details](/visualstudio/debugger/crt-debug-heap-details).  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_CrtSetBreakAlloc`|\\<crtdbg.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Libraries  \n Debug versions of [C run-time libraries](../../c-runtime-library/crt-library-features.md) only.  \n  \n## Example  \n  \n```  \n// crt_setbrkal.c  \n// compile with: -D_DEBUG /MTd -Od -Zi -W3 /c /link -verbose:lib -debug  \n  \n/*  \n * In this program, a call is made to the _CrtSetBreakAlloc routine  \n * to verify that the debugger halts program execution when it reaches  \n * a specified allocation number.  \n */  \n  \n#include <malloc.h>  \n#include <crtdbg.h>  \n  \nint main( )  \n{  \n        long allocReqNum;  \n        char *my_pointer;  \n  \n        /*   \n         * Allocate \"my_pointer\" for the first  \n         * time and ensure that it gets allocated correctly  \n         */  \n        my_pointer = malloc(10);  \n        _CrtIsMemoryBlock(my_pointer, 10, &allocReqNum, NULL, NULL);  \n  \n        /*   \n         * Set a breakpoint on the allocation request  \n         * number for \"my_pointer\"  \n         */  \n        _CrtSetBreakAlloc(allocReqNum+2);  \n  \n        /*   \n         * Alternate freeing and reallocating \"my_pointer\"  \n         * to verify that the debugger halts program execution  \n         * when it reaches the allocation request  \n         */  \n        free(my_pointer);  \n        my_pointer = malloc(10);  \n        free(my_pointer);  \n        my_pointer = malloc(10);  \n        free(my_pointer);  \n}  \n```  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [Debug Routines](../../c-runtime-library/debug-routines.md)"}