{"nodes":[{"pos":[12,39],"content":"__fastcall | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"__fastcall | Microsoft Docs","pos":[0,27]}]},{"content":"__fastcall","pos":[635,645]},{"content":"Microsoft Specific","pos":[648,666]},{"content":"The <ph id=\"ph1\">`__fastcall`</ph> calling convention specifies that arguments to functions are to be passed in registers, when possible.","pos":[675,794],"source":"The `__fastcall` calling convention specifies that arguments to functions are to be passed in registers, when possible."},{"content":"This calling convention only applies to the x86 architecture.","pos":[795,856]},{"content":"The following list shows the implementation of this calling convention.","pos":[857,928]},{"content":"Element","pos":[935,942]},{"content":"Implementation","pos":[943,957]},{"content":"Argument-passing order","pos":[1001,1023]},{"content":"The first two DWORD or smaller arguments that are found in the argument list from left to right are passed in ECX and EDX registers; all other arguments are passed on the stack from right to left.","pos":[1024,1220]},{"content":"Stack-maintenance responsibility","pos":[1225,1257]},{"content":"Called function pops the arguments from the stack.","pos":[1258,1308]},{"content":"Name-decoration convention","pos":[1313,1339]},{"content":"At sign (@) is prefixed to names; an at sign followed by the number of bytes (in decimal) in the parameter list is suffixed to names.","pos":[1340,1473]},{"content":"Case-translation convention","pos":[1478,1505]},{"content":"No case translation performed.","pos":[1506,1536]},{"pos":[1545,1629],"content":"[!NOTE]\n Future compiler versions may use different registers to store parameters.","leadings":["","> "],"nodes":[{"content":"Future compiler versions may use different registers to store parameters.","pos":[9,82]}]},{"pos":[1636,1888],"content":"Using the <bpt id=\"p1\">[</bpt>/Gr<ept id=\"p1\">](../build/reference/gd-gr-gv-gz-calling-convention.md)</ept> compiler option causes each function in the module to compile as <ph id=\"ph1\">`__fastcall`</ph> unless the function is declared by using a conflicting attribute, or the name of the function is <ph id=\"ph2\">`main`</ph>.","source":"Using the [/Gr](../build/reference/gd-gr-gv-gz-calling-convention.md) compiler option causes each function in the module to compile as `__fastcall` unless the function is declared by using a conflicting attribute, or the name of the function is `main`."},{"content":"The <ph id=\"ph1\">`__fastcall`</ph> keyword is accepted and ignored by the compilers that target ARM and x64 architectures; on an x64 chip, by convention, the first four arguments are passed in registers when possible, and additional arguments are passed on the stack.","pos":[1895,2144],"source":"The `__fastcall` keyword is accepted and ignored by the compilers that target ARM and x64 architectures; on an x64 chip, by convention, the first four arguments are passed in registers when possible, and additional arguments are passed on the stack."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Overview of x64 Calling Conventions<ept id=\"p1\">](../build/overview-of-x64-calling-conventions.md)</ept>.","pos":[2145,2258],"source":" For more information, see [Overview of x64 Calling Conventions](../build/overview-of-x64-calling-conventions.md)."},{"content":"On an ARM chip, up to four integer arguments and eight floating-point arguments may be passed in registers, and additional arguments are passed on the stack.","pos":[2259,2416]},{"content":"For non-static class functions, if the function is defined out-of-line, the calling convention modifier does not have to be specified on the out-of-line definition.","pos":[2423,2587]},{"content":"That is, for class non-static member methods, the calling convention specified during declaration is assumed at the point of definition.","pos":[2588,2724]},{"content":"Given this class definition:","pos":[2725,2753]},{"content":"this:","pos":[2836,2841]},{"content":"is equivalent to this:","pos":[2906,2928]},{"content":"Example","pos":[3006,3013]},{"pos":[3017,3109],"content":"In the following example, the function <ph id=\"ph1\">`DeleteAggrWrapper`</ph> is passed arguments in registers:","source":"In the following example, the function `DeleteAggrWrapper` is passed arguments in registers:"},{"content":"END Microsoft Specific","pos":[3413,3435]},{"content":"See Also","pos":[3444,3452]},{"content":"Argument Passing and Naming Conventions","pos":[3457,3496]},{"content":"Keywords","pos":[3554,3562]}],"content":"---\ntitle: \"__fastcall | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"language-reference\"\nf1_keywords: \n  - \"__fastcall\"\n  - \"__fastcall_cpp\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"__fastcall keyword [C++]\"\nms.assetid: bb5b9c8a-dfad-450c-9119-0ac2bc59544f\ncaps.latest.revision: 8\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# __fastcall\n**Microsoft Specific**  \n  \n The `__fastcall` calling convention specifies that arguments to functions are to be passed in registers, when possible. This calling convention only applies to the x86 architecture. The following list shows the implementation of this calling convention.  \n  \n|Element|Implementation|  \n|-------------|--------------------|  \n|Argument-passing order|The first two DWORD or smaller arguments that are found in the argument list from left to right are passed in ECX and EDX registers; all other arguments are passed on the stack from right to left.|  \n|Stack-maintenance responsibility|Called function pops the arguments from the stack.|  \n|Name-decoration convention|At sign (@) is prefixed to names; an at sign followed by the number of bytes (in decimal) in the parameter list is suffixed to names.|  \n|Case-translation convention|No case translation performed.|  \n  \n> [!NOTE]\n>  Future compiler versions may use different registers to store parameters.  \n  \n Using the [/Gr](../build/reference/gd-gr-gv-gz-calling-convention.md) compiler option causes each function in the module to compile as `__fastcall` unless the function is declared by using a conflicting attribute, or the name of the function is `main`.  \n  \n The `__fastcall` keyword is accepted and ignored by the compilers that target ARM and x64 architectures; on an x64 chip, by convention, the first four arguments are passed in registers when possible, and additional arguments are passed on the stack. For more information, see [Overview of x64 Calling Conventions](../build/overview-of-x64-calling-conventions.md). On an ARM chip, up to four integer arguments and eight floating-point arguments may be passed in registers, and additional arguments are passed on the stack.  \n  \n For non-static class functions, if the function is defined out-of-line, the calling convention modifier does not have to be specified on the out-of-line definition. That is, for class non-static member methods, the calling convention specified during declaration is assumed at the point of definition. Given this class definition:  \n  \n```cpp  \nstruct CMyClass {  \n   void __fastcall mymethod();  \n};  \n```  \n  \n this:  \n  \n```cpp  \nvoid CMyClass::mymethod() { return; }  \n```  \n  \n is equivalent to this:  \n  \n```cpp  \nvoid __fastcall CMyClass::mymethod() { return; }  \n```  \n  \n## Example  \n In the following example, the function `DeleteAggrWrapper` is passed arguments in registers:  \n  \n```c  \n// Example of the __fastcall keyword  \n#define FASTCALL    __fastcall  \n  \nvoid FASTCALL DeleteAggrWrapper(void* pWrapper);  \n// Example of the __ fastcall keyword on function pointer  \ntypedef BOOL (__fastcall *funcname_ptr)(void * arg1, const char * arg2, DWORD flags, ...);  \n```  \n  \n## END Microsoft Specific  \n  \n## See Also  \n [Argument Passing and Naming Conventions](../cpp/argument-passing-and-naming-conventions.md)   \n [Keywords](../cpp/keywords-cpp.md)"}