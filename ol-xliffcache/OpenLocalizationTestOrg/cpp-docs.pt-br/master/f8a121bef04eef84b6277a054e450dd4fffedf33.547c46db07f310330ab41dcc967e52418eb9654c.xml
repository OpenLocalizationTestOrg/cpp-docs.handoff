{"nodes":[{"pos":[12,57],"content":"Command Routing Illustration | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Command Routing Illustration | Microsoft Docs","pos":[0,45]}]},{"content":"Command Routing Illustration","pos":[667,695]},{"content":"To illustrate, consider a command message from a Clear All menu item in an MDI application's Edit menu.","pos":[696,799]},{"content":"Suppose the handler function for this command happens to be a member function of the application's document class.","pos":[800,914]},{"content":"Here's how that command reaches its handler after the user chooses the menu item:","pos":[915,996]},{"content":"The main frame window receives the command message first.","pos":[1006,1063]},{"content":"The main MDI frame window gives the currently active MDI child window a chance to handle the command.","pos":[1073,1174]},{"content":"The standard routing of an MDI child frame window gives its view a chance at the command before checking its own message map.","pos":[1184,1309]},{"content":"The view checks its own message map first and, finding no handler, next routes the command to its associated document.","pos":[1319,1437]},{"content":"The document checks its message map and finds a handler.","pos":[1447,1503]},{"content":"This document member function is called and the routing stops.","pos":[1504,1566]},{"content":"If the document did not have a handler, it would next route the command to its document template.","pos":[1573,1670]},{"content":"Then the command would return to the view and then the frame window.","pos":[1671,1739]},{"content":"Finally, the frame window would check its message map.","pos":[1740,1794]},{"content":"If that check failed as well, the command would be routed back to the main MDI frame window and then to the application object — the ultimate destination of unhandled commands.","pos":[1795,1971]},{"content":"See Also","pos":[1980,1988]},{"content":"How the Framework Calls a Handler","pos":[1993,2026]}],"content":"---\ntitle: \"Command Routing Illustration | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"MFC, command routing\"\n  - \"command handling, routing commands\"\n  - \"command routing, OnCmdMsg handler\"\nms.assetid: 4b7b4741-565f-4878-b076-fd85c670f87f\ncaps.latest.revision: 9\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Command Routing Illustration\nTo illustrate, consider a command message from a Clear All menu item in an MDI application's Edit menu. Suppose the handler function for this command happens to be a member function of the application's document class. Here's how that command reaches its handler after the user chooses the menu item:  \n  \n1.  The main frame window receives the command message first.  \n  \n2.  The main MDI frame window gives the currently active MDI child window a chance to handle the command.  \n  \n3.  The standard routing of an MDI child frame window gives its view a chance at the command before checking its own message map.  \n  \n4.  The view checks its own message map first and, finding no handler, next routes the command to its associated document.  \n  \n5.  The document checks its message map and finds a handler. This document member function is called and the routing stops.  \n  \n If the document did not have a handler, it would next route the command to its document template. Then the command would return to the view and then the frame window. Finally, the frame window would check its message map. If that check failed as well, the command would be routed back to the main MDI frame window and then to the application object — the ultimate destination of unhandled commands.  \n  \n## See Also  \n [How the Framework Calls a Handler](../mfc/how-the-framework-calls-a-handler.md)\n\n"}