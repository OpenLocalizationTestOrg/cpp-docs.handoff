{"nodes":[{"pos":[12,56],"content":"_splitpath_s, _wsplitpath_s | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_splitpath_s, _wsplitpath_s | Microsoft Docs","pos":[0,44]}]},{"content":"_splitpath_s, _wsplitpath_s","pos":[1139,1166]},{"content":"Breaks a path name into components.","pos":[1167,1202]},{"content":"These are versions of <bpt id=\"p1\">[</bpt>_splitpath, _wsplitpath<ept id=\"p1\">](../../c-runtime-library/reference/splitpath-wsplitpath.md)</ept> with security enhancements as described in <bpt id=\"p2\">[</bpt>Security Features in the CRT<ept id=\"p2\">](../../c-runtime-library/security-features-in-the-crt.md)</ept>.","pos":[1203,1441],"source":" These are versions of [_splitpath, _wsplitpath](../../c-runtime-library/reference/splitpath-wsplitpath.md) with security enhancements as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md)."},{"content":"Syntax","pos":[1450,1456]},{"content":"Parameters","pos":[2550,2560]},{"content":"[in]","pos":[2564,2568]},{"content":"Full path.","pos":[2579,2589]},{"content":"[out]","pos":[2596,2601]},{"content":"Drive letter, followed by a colon (<ph id=\"ph1\">`:`</ph>).","pos":[2613,2653],"source":" Drive letter, followed by a colon (`:`)."},{"content":"You can pass <ph id=\"ph1\">`NULL`</ph> for this parameter if you do not need the drive letter.","pos":[2654,2729],"source":" You can pass `NULL` for this parameter if you do not need the drive letter."},{"content":"[in]","pos":[2736,2740]},{"content":"The size of the <ph id=\"ph1\">`drive`</ph> buffer in single-byte or wide characters.","pos":[2768,2833],"source":" The size of the `drive` buffer in single-byte or wide characters."},{"content":"If <ph id=\"ph1\">`drive`</ph> is <ph id=\"ph2\">`NULL`</ph>, this value must be 0.","pos":[2834,2877],"source":" If `drive` is `NULL`, this value must be 0."},{"content":"[out]","pos":[2884,2889]},{"content":"Directory path, including trailing slash.","pos":[2899,2940]},{"content":"Forward slashes ( <ph id=\"ph1\">`/`</ph> ), backslashes ( <ph id=\"ph2\">`\\`</ph> ), or both may be used.","pos":[2941,3007],"source":" Forward slashes ( `/` ), backslashes ( `\\` ), or both may be used."},{"content":"You can pass <ph id=\"ph1\">`NULL`</ph> for this parameter if you do not need the directory path.","pos":[3008,3085],"source":" You can pass `NULL` for this parameter if you do not need the directory path."},{"content":"[in]","pos":[3092,3096]},{"content":"The size of the <ph id=\"ph1\">`dir`</ph> buffer in single-byte or wide characters.","pos":[3122,3185],"source":" The size of the `dir` buffer in single-byte or wide characters."},{"content":"If <ph id=\"ph1\">`dir`</ph> is <ph id=\"ph2\">`NULL`</ph>, this value must be 0.","pos":[3186,3227],"source":" If `dir` is `NULL`, this value must be 0."},{"content":"[out]","pos":[3234,3239]},{"content":"Base filename (without extension).","pos":[3251,3285]},{"content":"You can pass <ph id=\"ph1\">`NULL`</ph> for this parameter if you do not need the filename.","pos":[3286,3357],"source":" You can pass `NULL` for this parameter if you do not need the filename."},{"content":"[in]","pos":[3364,3368]},{"content":"The size of the <ph id=\"ph1\">`fname`</ph> buffer in single-byte or wide characters.","pos":[3395,3460],"source":" The size of the `fname` buffer in single-byte or wide characters."},{"content":"If <ph id=\"ph1\">`fname`</ph> is <ph id=\"ph2\">`NULL`</ph>, this value must be 0.","pos":[3461,3504],"source":" If `fname` is `NULL`, this value must be 0."},{"content":"[out]","pos":[3511,3516]},{"content":"Filename extension, including leading period (<bpt id=\"p1\">**</bpt>.<ept id=\"p1\">**</ept>).You can pass <ph id=\"ph1\">`NULL`</ph> for this parameter if you do not need the filename extension.","pos":[3526,3660],"source":" Filename extension, including leading period (**.**).You can pass `NULL` for this parameter if you do not need the filename extension."},{"content":"[in]","pos":[3667,3671]},{"content":"The size of <ph id=\"ph1\">`ext`</ph> buffer in single-byte or wide characters.","pos":[3697,3756],"source":" The size of `ext` buffer in single-byte or wide characters."},{"content":"If <ph id=\"ph1\">`ext`</ph> is <ph id=\"ph2\">`NULL`</ph>, this value must be 0.","pos":[3757,3798],"source":" If `ext` is `NULL`, this value must be 0."},{"content":"Return Value","pos":[3807,3819]},{"content":"Zero if successful; an error code on failure.","pos":[3823,3868]},{"content":"Error Conditions","pos":[3878,3894]},{"content":"Condition","pos":[3901,3910]},{"content":"Return Value","pos":[3911,3923]},{"pos":[3974,3976],"content":"is"},{"pos":[4005,4051],"content":"is <ph id=\"ph1\">`NULL`</ph>, <ph id=\"ph2\">`driveNumberOfElements`</ph> is non-zero","source":" is `NULL`, `driveNumberOfElements` is non-zero"},{"pos":[4073,4119],"content":"is non-<ph id=\"ph1\">`NULL`</ph>, <ph id=\"ph2\">`driveNumberOfElements`</ph> is zero","source":" is non-`NULL`, `driveNumberOfElements` is zero"},{"pos":[4139,4183],"content":"is <ph id=\"ph1\">`NULL`</ph>, <ph id=\"ph2\">`dirNumberOfElements`</ph> is non-zero","source":" is `NULL`, `dirNumberOfElements` is non-zero"},{"pos":[4203,4247],"content":"is non-<ph id=\"ph1\">`NULL`</ph>, <ph id=\"ph2\">`dirNumberOfElements`</ph> is zero","source":" is non-`NULL`, `dirNumberOfElements` is zero"},{"pos":[4269,4314],"content":"is <ph id=\"ph1\">`NULL`</ph>, <ph id=\"ph2\">`nameNumberOfElements`</ph> is non-zero","source":" is `NULL`, `nameNumberOfElements` is non-zero"},{"pos":[4336,4381],"content":"is non-<ph id=\"ph1\">`NULL`</ph>, <ph id=\"ph2\">`nameNumberOfElements`</ph> is zero","source":" is non-`NULL`, `nameNumberOfElements` is zero"},{"pos":[4401,4445],"content":"is <ph id=\"ph1\">`NULL`</ph>, <ph id=\"ph2\">`extNumberOfElements`</ph> is non-zero","source":" is `NULL`, `extNumberOfElements` is non-zero"},{"pos":[4465,4509],"content":"is non-<ph id=\"ph1\">`NULL`</ph>, <ph id=\"ph2\">`extNumberOfElements`</ph> is zero","source":" is non-`NULL`, `extNumberOfElements` is zero"},{"content":"If any of the above conditions occurs, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept> .","pos":[4526,4696],"source":"If any of the above conditions occurs, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md) ."},{"content":"If execution is allowed to continue, these functions set <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`EINVAL`</ph> and return <ph id=\"ph3\">`EINVAL`</ph>.","pos":[4697,4794],"source":" If execution is allowed to continue, these functions set `errno` to `EINVAL` and return `EINVAL`."},{"pos":[4801,4957],"content":"If any of the buffers is too short to hold the result, these functions clear all the buffers to empty strings, set <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`ERANGE`</ph>, and return <ph id=\"ph3\">`ERANGE`</ph>.","source":"If any of the buffers is too short to hold the result, these functions clear all the buffers to empty strings, set `errno` to `ERANGE`, and return `ERANGE`."},{"content":"Remarks","pos":[4966,4973]},{"content":"The <ph id=\"ph1\">`_splitpath_s`</ph> function breaks a path into its four components.","pos":[4977,5044],"source":"The `_splitpath_s` function breaks a path into its four components."},{"content":"automatically handles multibyte-character string arguments as appropriate, recognizing multibyte-character sequences according to the multibyte code page currently in use.","pos":[5060,5231]},{"content":"is a wide-character version of <ph id=\"ph1\">`_splitpath_s`</ph>; the arguments to <ph id=\"ph2\">`_``wsplitpath_s`</ph>are wide-character strings.","pos":[5248,5356],"source":" is a wide-character version of `_splitpath_s`; the arguments to `_``wsplitpath_s`are wide-character strings."},{"content":"These functions behave identically otherwise","pos":[5357,5401]},{"content":"Generic-Text Routine Mappings","pos":[5411,5440]},{"content":"TCHAR.H routine","pos":[5447,5462]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[5463,5491],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[5492,5505]},{"content":"_UNICODE defined","pos":[5506,5522]},{"content":"Each component of the full path is stored in a separate buffer; the manifest constants <ph id=\"ph1\">`_MAX_DRIVE`</ph>, <ph id=\"ph2\">`_MAX_DIR`</ph>, <ph id=\"ph3\">`_MAX_FNAME`</ph>, and <ph id=\"ph4\">`_MAX_EXT`</ph> (defined in STDLIB.H) specify the maximum allowable size for each file component.","pos":[5704,5927],"source":"Each component of the full path is stored in a separate buffer; the manifest constants `_MAX_DRIVE`, `_MAX_DIR`, `_MAX_FNAME`, and `_MAX_EXT` (defined in STDLIB.H) specify the maximum allowable size for each file component."},{"content":"File components larger than the corresponding manifest constants cause heap corruption.","pos":[5928,6015]},{"content":"The following table lists the values of the manifest constants.","pos":[6022,6085]},{"content":"Name","pos":[6092,6096]},{"content":"Value","pos":[6097,6102]},{"content":"_MAX_DRIVE","pos":[6134,6144]},{"content":"3","pos":[6145,6146]},{"content":"_MAX_DIR","pos":[6151,6159]},{"content":"256","pos":[6160,6163]},{"content":"_MAX_FNAME","pos":[6168,6178]},{"content":"256","pos":[6179,6182]},{"content":"_MAX_EXT","pos":[6187,6195]},{"content":"256","pos":[6196,6199]},{"pos":[6207,6347],"content":"If the full path does not contain a component (for example, a filename), <ph id=\"ph1\">`_splitpath_s`</ph> assigns an empty string to the corresponding buffer.","source":"If the full path does not contain a component (for example, a filename), `_splitpath_s` assigns an empty string to the corresponding buffer."},{"content":"In C++, using these functions is simplified by template overloads; the overloads can infer buffer length automatically, eliminating the need to specify a size argument.","pos":[6354,6522]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Secure Template Overloads<ept id=\"p1\">](../../c-runtime-library/secure-template-overloads.md)</ept>.","pos":[6523,6631],"source":" For more information, see [Secure Template Overloads](../../c-runtime-library/secure-template-overloads.md)."},{"content":"The debug versions of these functions first fill the buffer with 0xFD.","pos":[6638,6708]},{"content":"To disable this behavior, use <bpt id=\"p1\">[</bpt>_CrtSetDebugFillThreshold<ept id=\"p1\">](../../c-runtime-library/reference/crtsetdebugfillthreshold.md)</ept>.","pos":[6709,6830],"source":" To disable this behavior, use [_CrtSetDebugFillThreshold](../../c-runtime-library/reference/crtsetdebugfillthreshold.md)."},{"content":"Requirements","pos":[6839,6851]},{"content":"Routine","pos":[6858,6865]},{"content":"Required header","pos":[6866,6881]},{"content":"stdlib.h&gt;","pos":[6943,6952],"source":"stdlib.h>"},{"content":"stdlib.h&gt; or <ph id=\"ph1\">\\&lt;</ph>wchar.h&gt;","pos":[6975,6998],"source":"stdlib.h> or \\<wchar.h>"},{"pos":[7006,7130],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":"Example","pos":[7139,7146]},{"pos":[7150,7259],"content":"See the example for <bpt id=\"p1\">[</bpt>_makepath_s, _wmakepath_s<ept id=\"p1\">](../../c-runtime-library/reference/makepath-s-wmakepath-s.md)</ept>.","source":"See the example for [_makepath_s, _wmakepath_s](../../c-runtime-library/reference/makepath-s-wmakepath-s.md)."},{"content":".NET Framework Equivalent","pos":[7268,7293]},{"content":"Not applicable.","pos":[7297,7312]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[7313,7360],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[7361,7486],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"content":"See Also","pos":[7495,7503]},{"content":"File Handling","pos":[7508,7521]},{"content":"_splitpath, _wsplitpath","pos":[7570,7593]},{"content":"_fullpath, _wfullpath","pos":[7659,7680]},{"content":"_getmbcp","pos":[7744,7752]},{"content":"_makepath, _wmakepath","pos":[7805,7826]},{"content":"_setmbcp","pos":[7890,7898]}],"content":"---\ntitle: \"_splitpath_s, _wsplitpath_s | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_wsplitpath_s\"\n  - \"_splitpath_s\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-filesystem-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_wsplitpath_s\"\n  - \"splitpath_s\"\n  - \"_splitpath_s\"\n  - \"wsplitpath_s\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"splitpath_s function\"\n  - \"pathnames\"\n  - \"_splitpath_s function\"\n  - \"_wsplitpath_s function\"\n  - \"path names\"\n  - \"wsplitpath_s function\"\nms.assetid: 30fff3e2-cd00-4eb6-b5a2-65db79cb688b\ncaps.latest.revision: 29\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _splitpath_s, _wsplitpath_s\nBreaks a path name into components. These are versions of [_splitpath, _wsplitpath](../../c-runtime-library/reference/splitpath-wsplitpath.md) with security enhancements as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md).  \n  \n## Syntax  \n  \n```  \nerrno_t _splitpath_s(  \n   const char * path,  \n   char * drive,  \n   size_t driveNumberOfElements,  \n   char * dir,  \n   size_t dirNumberOfElements,  \n   char * fname,  \n   size_t nameNumberOfElements,  \n   char * ext,   \n   size_t extNumberOfElements  \n);  \nerrno_t _wsplitpath_s(  \n   const wchar_t * path,  \n   wchar_t * drive,  \n   size_t driveNumberOfElements,  \n   wchar_t *dir,  \n   size_t dirNumberOfElements,  \n   wchar_t * fname,  \n   size_t nameNumberOfElements,  \n   wchar_t * ext,  \n   size_t extNumberOfElements  \n);  \ntemplate <size_t drivesize, size_t dirsize, size_t fnamesize, size_t extsize>  \nerrno_t _splitpath_s(  \n   const char *path,  \n   char (&drive)[drivesize],  \n   char (&dir)[dirsize],  \n   char (&fname)[fnamesize],  \n   char (&ext)[extsize]  \n); // C++ only  \ntemplate <size_t drivesize, size_t dirsize, size_t fnamesize, size_t extsize>  \nerrno_t _wsplitpath_s(  \n   const wchar_t *path,  \n   wchar_t (&drive)[drivesize],  \n   wchar_t (&dir)[dirsize],  \n   wchar_t (&fname)[fnamesize],  \n   wchar_t (&ext)[extsize]  \n); // C++ only  \n```  \n  \n#### Parameters  \n [in] `path`  \n Full path.  \n  \n [out] `drive`  \n Drive letter, followed by a colon (`:`). You can pass `NULL` for this parameter if you do not need the drive letter.  \n  \n [in] `driveNumberOfElements`  \n The size of the `drive` buffer in single-byte or wide characters. If `drive` is `NULL`, this value must be 0.  \n  \n [out] `dir`  \n Directory path, including trailing slash. Forward slashes ( `/` ), backslashes ( `\\` ), or both may be used. You can pass `NULL` for this parameter if you do not need the directory path.  \n  \n [in] `dirNumberOfElements`  \n The size of the `dir` buffer in single-byte or wide characters. If `dir` is `NULL`, this value must be 0.  \n  \n [out] `fname`  \n Base filename (without extension). You can pass `NULL` for this parameter if you do not need the filename.  \n  \n [in] `nameNumberOfElements`  \n The size of the `fname` buffer in single-byte or wide characters. If `fname` is `NULL`, this value must be 0.  \n  \n [out] `ext`  \n Filename extension, including leading period (**.**).You can pass `NULL` for this parameter if you do not need the filename extension.  \n  \n [in] `extNumberOfElements`  \n The size of `ext` buffer in single-byte or wide characters. If `ext` is `NULL`, this value must be 0.  \n  \n## Return Value  \n Zero if successful; an error code on failure.  \n  \n### Error Conditions  \n  \n|Condition|Return Value|  \n|---------------|------------------|  \n|`path` is `NULL`|`EINVAL`|  \n|`drive` is `NULL`, `driveNumberOfElements` is non-zero|`EINVAL`|  \n|`drive` is non-`NULL`, `driveNumberOfElements` is zero|`EINVAL`|  \n|`dir` is `NULL`, `dirNumberOfElements` is non-zero|`EINVAL`|  \n|`dir` is non-`NULL`, `dirNumberOfElements` is zero|`EINVAL`|  \n|`fname` is `NULL`, `nameNumberOfElements` is non-zero|`EINVAL`|  \n|`fname` is non-`NULL`, `nameNumberOfElements` is zero|`EINVAL`|  \n|`ext` is `NULL`, `extNumberOfElements` is non-zero|`EINVAL`|  \n|`ext` is non-`NULL`, `extNumberOfElements` is zero|`EINVAL`|  \n  \n If any of the above conditions occurs, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md) . If execution is allowed to continue, these functions set `errno` to `EINVAL` and return `EINVAL`.  \n  \n If any of the buffers is too short to hold the result, these functions clear all the buffers to empty strings, set `errno` to `ERANGE`, and return `ERANGE`.  \n  \n## Remarks  \n The `_splitpath_s` function breaks a path into its four components. `_splitpath_s` automatically handles multibyte-character string arguments as appropriate, recognizing multibyte-character sequences according to the multibyte code page currently in use. `_wsplitpath_s` is a wide-character version of `_splitpath_s`; the arguments to `_``wsplitpath_s`are wide-character strings. These functions behave identically otherwise  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_tsplitpath_s`|`_splitpath_s`|`_splitpath_s`|`_wsplitpath_s`|  \n  \n Each component of the full path is stored in a separate buffer; the manifest constants `_MAX_DRIVE`, `_MAX_DIR`, `_MAX_FNAME`, and `_MAX_EXT` (defined in STDLIB.H) specify the maximum allowable size for each file component. File components larger than the corresponding manifest constants cause heap corruption.  \n  \n The following table lists the values of the manifest constants.  \n  \n|Name|Value|  \n|----------|-----------|  \n|_MAX_DRIVE|3|  \n|_MAX_DIR|256|  \n|_MAX_FNAME|256|  \n|_MAX_EXT|256|  \n  \n If the full path does not contain a component (for example, a filename), `_splitpath_s` assigns an empty string to the corresponding buffer.  \n  \n In C++, using these functions is simplified by template overloads; the overloads can infer buffer length automatically, eliminating the need to specify a size argument. For more information, see [Secure Template Overloads](../../c-runtime-library/secure-template-overloads.md).  \n  \n The debug versions of these functions first fill the buffer with 0xFD. To disable this behavior, use [_CrtSetDebugFillThreshold](../../c-runtime-library/reference/crtsetdebugfillthreshold.md).  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_splitpath_s`|\\<stdlib.h>|  \n|`_wsplitpath_s`|\\<stdlib.h> or \\<wchar.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Example  \n See the example for [_makepath_s, _wmakepath_s](../../c-runtime-library/reference/makepath-s-wmakepath-s.md).  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [File Handling](../../c-runtime-library/file-handling.md)   \n [_splitpath, _wsplitpath](../../c-runtime-library/reference/splitpath-wsplitpath.md)   \n [_fullpath, _wfullpath](../../c-runtime-library/reference/fullpath-wfullpath.md)   \n [_getmbcp](../../c-runtime-library/reference/getmbcp.md)   \n [_makepath, _wmakepath](../../c-runtime-library/reference/makepath-wmakepath.md)   \n [_setmbcp](../../c-runtime-library/reference/setmbcp.md)"}