{"nodes":[{"pos":[12,43],"content":"_countof Macro | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_countof Macro | Microsoft Docs","pos":[0,31]}]},{"content":"_countof Macro","pos":[883,897]},{"content":"Compute the number of elements in a statically-allocated array.","pos":[898,961]},{"content":"Syntax","pos":[970,976]},{"content":"Parameters","pos":[1038,1048]},{"content":"The name of an array.","pos":[1063,1084]},{"content":"Return Value","pos":[1093,1105]},{"pos":[1109,1170],"content":"The number of elements in the array, expressed as a <ph id=\"ph1\">`size_t`</ph>.","source":"The number of elements in the array, expressed as a `size_t`."},{"content":"Remarks","pos":[1179,1186]},{"content":"Ensure that <ph id=\"ph1\">`array`</ph> is actually an array, not a pointer.","pos":[1190,1246],"source":"Ensure that `array` is actually an array, not a pointer."},{"content":"In C, <ph id=\"ph1\">`_countof`</ph> will produce erroneous results if <ph id=\"ph2\">`array`</ph> is a pointer.","pos":[1247,1319],"source":" In C, `_countof` will produce erroneous results if `array` is a pointer."},{"content":"In C++, <ph id=\"ph1\">`_countof`</ph> will fail to compile if <ph id=\"ph2\">`array`</ph> is a pointer.","pos":[1320,1384],"source":" In C++, `_countof` will fail to compile if `array` is a pointer."},{"content":"Requirements","pos":[1393,1405]},{"content":"Macro","pos":[1412,1417]},{"content":"Required header","pos":[1418,1433]},{"content":"stdlib.h&gt;","pos":[1489,1498],"source":"stdlib.h>"},{"content":"Example","pos":[1508,1515]},{"content":"See Also","pos":[2191,2199]},{"content":"sizeof Operator","pos":[2204,2219]}],"content":"---\ntitle: \"_countof Macro | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_countof\"\n  - \"countof\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"countof macro\"\n  - \"_countof macro\"\nms.assetid: 86198767-f7e5-4beb-898d-3cbbf60350a3\ncaps.latest.revision: 15\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _countof Macro\nCompute the number of elements in a statically-allocated array.  \n  \n## Syntax  \n  \n```  \nsize_t _countof(   \n   array  \n);  \n```  \n  \n#### Parameters  \n `array`  \n The name of an array.  \n  \n## Return Value  \n The number of elements in the array, expressed as a `size_t`.  \n  \n## Remarks  \n Ensure that `array` is actually an array, not a pointer. In C, `_countof` will produce erroneous results if `array` is a pointer. In C++, `_countof` will fail to compile if `array` is a pointer.  \n  \n## Requirements  \n  \n|Macro|Required header|  \n|-----------|---------------------|  \n|`_countof`|\\<stdlib.h>|  \n  \n## Example  \n  \n```  \n// crt_countof.cpp  \n#define _UNICODE  \n#include <stdio.h>  \n#include <stdlib.h>  \n#include <tchar.h>  \n  \nint main( void )  \n{  \n   _TCHAR arr[20], *p;  \n   printf( \"sizeof(arr) = %zu bytes\\n\", sizeof(arr) );  \n   printf( \"_countof(arr) = %zu elements\\n\", _countof(arr) );  \n   // In C++, the following line would generate a compile-time error:  \n   // printf( \"%zu\\n\", _countof(p) ); // error C2784 (because p is a pointer)  \n  \n   _tcscpy_s( arr, _countof(arr), _T(\"a string\") );  \n   // unlike sizeof, _countof works here for both narrow- and wide-character strings  \n}  \n```  \n  \n```Output  \nsizeof(arr) = 40 bytes  \n_countof(arr) = 20 elements  \n```  \n  \n## See Also  \n [sizeof Operator](../../cpp/sizeof-operator.md)"}