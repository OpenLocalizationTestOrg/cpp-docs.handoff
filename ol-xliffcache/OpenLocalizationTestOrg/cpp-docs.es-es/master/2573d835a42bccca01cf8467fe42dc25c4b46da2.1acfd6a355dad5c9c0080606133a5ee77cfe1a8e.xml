{"nodes":[{"pos":[12,56],"content":"Token-Pasting Operator (##) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Token-Pasting Operator (##) | Microsoft Docs","pos":[0,44]}]},{"content":"Token-Pasting Operator (##)","pos":[651,678]},{"content":"The double-number-sign or \"token-pasting\" operator (<bpt id=\"p1\">**</bpt><ph id=\"ph1\">##</ph><ept id=\"p1\">**</ept>), which is sometimes called the \"merging\" operator, is used in both object-like and function-like macros.","pos":[679,843],"source":"The double-number-sign or \"token-pasting\" operator (**##**), which is sometimes called the \"merging\" operator, is used in both object-like and function-like macros."},{"content":"It permits separate tokens to be joined into a single token and therefore cannot be the first or last token in the macro definition.","pos":[844,976]},{"content":"If a formal parameter in a macro definition is preceded or followed by the token-pasting operator, the formal parameter is immediately replaced by the unexpanded actual argument.","pos":[983,1161]},{"content":"Macro expansion is not performed on the argument prior to replacement.","pos":[1162,1232]},{"content":"Then, each occurrence of the token-pasting operator in <bpt id=\"p1\">*</bpt>token-string<ept id=\"p1\">*</ept> is removed, and the tokens preceding and following it are concatenated.","pos":[1239,1380],"source":"Then, each occurrence of the token-pasting operator in *token-string* is removed, and the tokens preceding and following it are concatenated."},{"content":"The resulting token must be a valid token.","pos":[1381,1423]},{"content":"If it is, the token is scanned for possible replacement if it represents a macro name.","pos":[1424,1510]},{"content":"The identifier represents the name by which the concatenated tokens will be known in the program before replacement.","pos":[1511,1627]},{"content":"Each token represents a token defined elsewhere, either within the program or on the compiler command line.","pos":[1628,1735]},{"content":"White space preceding or following the operator is optional.","pos":[1736,1796]},{"content":"This example illustrates use of both the stringizing and token-pasting operators in specifying program output:","pos":[1803,1913]},{"content":"If a macro is called with a numeric argument like","pos":[2016,2065]},{"content":"the macro yields","pos":[2102,2118]},{"content":"which becomes","pos":[2183,2196]},{"content":"Example","pos":[2257,2264]},{"content":"See Also","pos":[2500,2508]},{"content":"Preprocessor Operators","pos":[2513,2535]}],"content":"---\ntitle: \"Token-Pasting Operator (##) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"##\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"preprocessor, operators\"\n  - \"## preprocessor operator\"\nms.assetid: 4f173503-990f-4bff-aef3-ec4d1f1458ef\ncaps.latest.revision: 10\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Token-Pasting Operator (##)\nThe double-number-sign or \"token-pasting\" operator (**##**), which is sometimes called the \"merging\" operator, is used in both object-like and function-like macros. It permits separate tokens to be joined into a single token and therefore cannot be the first or last token in the macro definition.  \n  \n If a formal parameter in a macro definition is preceded or followed by the token-pasting operator, the formal parameter is immediately replaced by the unexpanded actual argument. Macro expansion is not performed on the argument prior to replacement.  \n  \n Then, each occurrence of the token-pasting operator in *token-string* is removed, and the tokens preceding and following it are concatenated. The resulting token must be a valid token. If it is, the token is scanned for possible replacement if it represents a macro name. The identifier represents the name by which the concatenated tokens will be known in the program before replacement. Each token represents a token defined elsewhere, either within the program or on the compiler command line. White space preceding or following the operator is optional.  \n  \n This example illustrates use of both the stringizing and token-pasting operators in specifying program output:  \n  \n```  \n#define paster( n ) printf_s( \"token\" #n \" = %d\", token##n )  \nint token9 = 9;  \n```  \n  \n If a macro is called with a numeric argument like  \n  \n```  \npaster( 9 );  \n```  \n  \n the macro yields  \n  \n```  \nprintf_s( \"token\" \"9\" \" = %d\", token9 );  \n```  \n  \n which becomes  \n  \n```  \nprintf_s( \"token9 = %d\", token9 );  \n```  \n  \n## Example  \n  \n```  \n// preprocessor_token_pasting.cpp  \n#include <stdio.h>  \n#define paster( n ) printf_s( \"token\" #n \" = %d\", token##n )  \nint token9 = 9;  \n  \nint main()  \n{  \n   paster(9);  \n}  \n```  \n  \n```Output  \ntoken9 = 9  \n```  \n  \n## See Also  \n [Preprocessor Operators](../preprocessor/preprocessor-operators.md)"}