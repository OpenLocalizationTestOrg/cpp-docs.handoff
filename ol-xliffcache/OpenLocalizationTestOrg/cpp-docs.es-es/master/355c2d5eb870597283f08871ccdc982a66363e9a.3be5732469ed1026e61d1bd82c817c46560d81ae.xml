{"nodes":[{"pos":[12,35],"content":"atexit | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"atexit | Microsoft Docs","pos":[0,23]}]},{"content":"atexit","pos":[889,895]},{"content":"Processes the specified function at exit.","pos":[896,937]},{"content":"Syntax","pos":[946,952]},{"content":"Parameters","pos":[1032,1042]},{"content":"Function to be called.","pos":[1056,1078]},{"content":"Return Value","pos":[1087,1099]},{"pos":[1112,1175],"content":"returns 0 if successful, or a nonzero value if an error occurs."},{"content":"Remarks","pos":[1184,1191]},{"content":"The <ph id=\"ph1\">`atexit`</ph> function is passed the address of a function (<ph id=\"ph2\">`func`</ph>) to be called when the program terminates normally.","pos":[1195,1312],"source":"The `atexit` function is passed the address of a function (`func`) to be called when the program terminates normally."},{"content":"Successive calls to <ph id=\"ph1\">`atexit`</ph> create a register of functions that are executed in last-in, first-out (LIFO) order.","pos":[1313,1426],"source":" Successive calls to `atexit` create a register of functions that are executed in last-in, first-out (LIFO) order."},{"content":"The functions passed to <ph id=\"ph1\">`atexit`</ph> cannot take parameters.","pos":[1427,1483],"source":" The functions passed to `atexit` cannot take parameters."},{"content":"and <ph id=\"ph1\">`_onexit`</ph> use the heap to hold the register of functions.","pos":[1493,1554],"source":" and `_onexit` use the heap to hold the register of functions."},{"content":"Thus, the number of functions that can be registered is limited only by heap memory.","pos":[1555,1639]},{"pos":[1646,1801],"content":"The code in the <ph id=\"ph1\">`atexit`</ph> function should not contain any dependency on any DLL which could have already been unloaded when the <ph id=\"ph2\">`atexit`</ph> function is called.","source":"The code in the `atexit` function should not contain any dependency on any DLL which could have already been unloaded when the `atexit` function is called."},{"pos":[1808,1936],"content":"To generate an ANSI-compliant application, use the ANSI-standard <ph id=\"ph1\">`atexit`</ph> function (rather than the similar <ph id=\"ph2\">`_onexit`</ph> function).","source":"To generate an ANSI-compliant application, use the ANSI-standard `atexit` function (rather than the similar `_onexit` function)."},{"content":"Requirements","pos":[1945,1957]},{"content":"Routine","pos":[1964,1971]},{"content":"Required header","pos":[1972,1987]},{"content":"stdlib.h&gt;","pos":[2043,2052],"source":"stdlib.h>"},{"content":"Example","pos":[2062,2069]},{"content":"This program pushes four functions onto the stack of functions to be executed when <ph id=\"ph1\">`atexit`</ph> is called.","pos":[2073,2175],"source":"This program pushes four functions onto the stack of functions to be executed when `atexit` is called."},{"content":"When the program exits, these programs are executed on a last in, first out basis.","pos":[2176,2258]},{"content":".NET Framework Equivalent","pos":[2827,2852]},{"content":"System::Diagnostics::Process::Exited","pos":[2857,2893]},{"content":"See Also","pos":[2984,2992]},{"content":"Process and Environment Control","pos":[2997,3028]},{"content":"abort","pos":[3095,3100]},{"content":"exit, _Exit, _exit","pos":[3151,3169]},{"content":"_onexit, _onexit_m","pos":[3229,3247]}],"content":"---\ntitle: \"atexit | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"atexit\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"atexit\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"processing, at exit\"\n  - \"atexit function\"\nms.assetid: 92c156d2-8052-4e58-96dc-00128baac6f9\ncaps.latest.revision: 12\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# atexit\nProcesses the specified function at exit.  \n  \n## Syntax  \n  \n```  \nint atexit(  \n   void (__cdecl *func )( void )  \n);  \n```  \n  \n#### Parameters  \n `func`  \n Function to be called.  \n  \n## Return Value  \n `atexit` returns 0 if successful, or a nonzero value if an error occurs.  \n  \n## Remarks  \n The `atexit` function is passed the address of a function (`func`) to be called when the program terminates normally. Successive calls to `atexit` create a register of functions that are executed in last-in, first-out (LIFO) order. The functions passed to `atexit` cannot take parameters. `atexit` and `_onexit` use the heap to hold the register of functions. Thus, the number of functions that can be registered is limited only by heap memory.  \n  \n The code in the `atexit` function should not contain any dependency on any DLL which could have already been unloaded when the `atexit` function is called.  \n  \n To generate an ANSI-compliant application, use the ANSI-standard `atexit` function (rather than the similar `_onexit` function).  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`atexit`|\\<stdlib.h>|  \n  \n## Example  \n This program pushes four functions onto the stack of functions to be executed when `atexit` is called. When the program exits, these programs are executed on a last in, first out basis.  \n  \n```  \n// crt_atexit.c  \n#include <stdlib.h>  \n#include <stdio.h>  \n  \nvoid fn1( void ), fn2( void ), fn3( void ), fn4( void );  \n  \nint main( void )  \n{  \n   atexit( fn1 );  \n   atexit( fn2 );  \n   atexit( fn3 );  \n   atexit( fn4 );  \n   printf( \"This is executed first.\\n\" );  \n}  \n  \nvoid fn1()  \n{  \n   printf( \"next.\\n\" );  \n}  \n  \nvoid fn2()  \n{  \n   printf( \"executed \" );  \n}  \n  \nvoid fn3()  \n{  \n   printf( \"is \" );  \n}  \n  \nvoid fn4()  \n{  \n   printf( \"This \" );  \n}  \n```  \n  \n```Output  \nThis is executed first.  \nThis is executed next.  \n```  \n  \n## .NET Framework Equivalent  \n [System::Diagnostics::Process::Exited](https://msdn.microsoft.com/en-us/library/system.diagnostics.process.exited.aspx)  \n  \n## See Also  \n [Process and Environment Control](../../c-runtime-library/process-and-environment-control.md)   \n [abort](../../c-runtime-library/reference/abort.md)   \n [exit, _Exit, _exit](../../c-runtime-library/reference/exit-exit-exit.md)   \n [_onexit, _onexit_m](../../c-runtime-library/reference/onexit-onexit-m.md)"}