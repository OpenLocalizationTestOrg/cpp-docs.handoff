{"nodes":[{"pos":[12,52],"content":"#line Directive (C-C++) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"line Directive (C-C++) | Microsoft Docs","pos":[1,40]}]},{"content":"line Directive (C/C++)","pos":[671,693]},{"pos":[694,843],"content":"The <ph id=\"ph1\">`#line`</ph> directive tells the preprocessor to change the compiler's internally stored line number and filename to a given line number and filename.","source":"The `#line` directive tells the preprocessor to change the compiler's internally stored line number and filename to a given line number and filename."},{"content":"Syntax","pos":[852,858]},{"content":"Remarks","pos":[924,931]},{"content":"The compiler uses the line number and optional filename to refer to errors that it finds during compilation.","pos":[935,1043]},{"content":"The line number usually refers to the current input line, and the filename refers to the current input file.","pos":[1044,1152]},{"content":"The line number is incremented after each line is processed.","pos":[1153,1213]},{"content":"The <bpt id=\"p1\">*</bpt>digit-sequence<ept id=\"p1\">*</ept> value can be any integer constant.","pos":[1220,1275],"source":"The *digit-sequence* value can be any integer constant."},{"content":"Macro replacement can be performed on the preprocessing tokens, but the result must evaluate to the correct syntax.","pos":[1276,1391]},{"content":"The <bpt id=\"p1\">*</bpt>filename<ept id=\"p1\">*</ept> can be any combination of characters and must be enclosed in double quotation marks (<bpt id=\"p2\">**</bpt>\" \"<ept id=\"p2\">**</ept>).","pos":[1392,1501],"source":" The *filename* can be any combination of characters and must be enclosed in double quotation marks (**\" \"**)."},{"content":"If <bpt id=\"p1\">*</bpt>filename<ept id=\"p1\">*</ept> is omitted, the previous filename remains unchanged.","pos":[1502,1568],"source":" If *filename* is omitted, the previous filename remains unchanged."},{"content":"You can alter the source line number and filename by writing a <ph id=\"ph1\">`#line`</ph> directive.","pos":[1575,1656],"source":"You can alter the source line number and filename by writing a `#line` directive."},{"content":"The translator uses the line number and filename to determine the values of the predefined macros <bpt id=\"p1\">**</bpt>__FILE<ph id=\"ph1\">\\_\\_</ph><ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>__LINE<ph id=\"ph2\">\\_\\_</ph><ept id=\"p2\">**</ept>.","pos":[1657,1789],"source":" The translator uses the line number and filename to determine the values of the predefined macros **__FILE\\_\\_** and **__LINE\\_\\_**."},{"content":"You can use these macros to insert self-descriptive error messages into the program text.","pos":[1790,1879]},{"content":"For more information on these predefined macros, see <bpt id=\"p1\">[</bpt>Predefined Macros<ept id=\"p1\">](../preprocessor/predefined-macros.md)</ept>.","pos":[1880,1991],"source":" For more information on these predefined macros, see [Predefined Macros](../preprocessor/predefined-macros.md)."},{"pos":[1998,2123],"content":"The <bpt id=\"p1\">**</bpt>__FILE<ph id=\"ph1\">\\_\\_</ph><ept id=\"p1\">**</ept> macro expands to a string whose contents are the filename, surrounded by double quotation marks (<bpt id=\"p2\">**</bpt>\" \"<ept id=\"p2\">**</ept>).","source":"The **__FILE\\_\\_** macro expands to a string whose contents are the filename, surrounded by double quotation marks (**\" \"**)."},{"content":"If you change the line number and filename, the compiler ignores the previous values and continues processing with the new values.","pos":[2130,2260]},{"content":"The <ph id=\"ph1\">`#line`</ph> directive is typically used by program generators to cause error messages to refer to the original source file instead of to the generated program.","pos":[2261,2420],"source":" The `#line` directive is typically used by program generators to cause error messages to refer to the original source file instead of to the generated program."},{"pos":[2427,2518],"content":"The following examples illustrate <ph id=\"ph1\">`#line`</ph> and the <bpt id=\"p1\">**</bpt>__LINE<ph id=\"ph2\">\\_\\_</ph><ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>__FILE<ph id=\"ph3\">\\_\\_</ph><ept id=\"p2\">**</ept> macros.","source":"The following examples illustrate `#line` and the **__LINE\\_\\_** and **__FILE\\_\\_** macros."},{"pos":[2525,2632],"content":"In this statement, the internally stored line number is set to 151 and the filename is changed to <ph id=\"ph1\">`copy.c`</ph>.","source":"In this statement, the internally stored line number is set to 151 and the filename is changed to `copy.c`."},{"pos":[2675,2855],"content":"In this example, the macro <ph id=\"ph1\">`ASSERT`</ph> uses the predefined macros <bpt id=\"p1\">**</bpt>__LINE<ph id=\"ph2\">\\_\\_</ph><ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>__FILE<ph id=\"ph3\">\\_\\_</ph><ept id=\"p2\">**</ept> to print an error message about the source file if a given \"assertion\" is not true.","source":"In this example, the macro `ASSERT` uses the predefined macros **__LINE\\_\\_** and **__FILE\\_\\_** to print an error message about the source file if a given \"assertion\" is not true."},{"content":"See Also","pos":[2999,3007]},{"content":"Preprocessor Directives","pos":[3012,3035]}],"content":"---\ntitle: \"#line Directive (C-C++) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"#line\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"preprocessor, directives\"\n  - \"line directive (#line)\"\n  - \"#line directive\"\nms.assetid: 585c1dc4-5184-4f01-98f4-80c1909744d7\ncaps.latest.revision: 7\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# #line Directive (C/C++)\nThe `#line` directive tells the preprocessor to change the compiler's internally stored line number and filename to a given line number and filename.  \n  \n## Syntax  \n  \n```  \n  \n#line   \ndigit-sequence [\"filename\"]  \n```  \n  \n## Remarks  \n The compiler uses the line number and optional filename to refer to errors that it finds during compilation. The line number usually refers to the current input line, and the filename refers to the current input file. The line number is incremented after each line is processed.  \n  \n The *digit-sequence* value can be any integer constant. Macro replacement can be performed on the preprocessing tokens, but the result must evaluate to the correct syntax. The *filename* can be any combination of characters and must be enclosed in double quotation marks (**\" \"**). If *filename* is omitted, the previous filename remains unchanged.  \n  \n You can alter the source line number and filename by writing a `#line` directive. The translator uses the line number and filename to determine the values of the predefined macros **__FILE\\_\\_** and **__LINE\\_\\_**. You can use these macros to insert self-descriptive error messages into the program text. For more information on these predefined macros, see [Predefined Macros](../preprocessor/predefined-macros.md).  \n  \n The **__FILE\\_\\_** macro expands to a string whose contents are the filename, surrounded by double quotation marks (**\" \"**).  \n  \n If you change the line number and filename, the compiler ignores the previous values and continues processing with the new values. The `#line` directive is typically used by program generators to cause error messages to refer to the original source file instead of to the generated program.  \n  \n The following examples illustrate `#line` and the **__LINE\\_\\_** and **__FILE\\_\\_** macros.  \n  \n In this statement, the internally stored line number is set to 151 and the filename is changed to `copy.c`.  \n  \n```  \n#line 151 \"copy.c\"  \n```  \n  \n In this example, the macro `ASSERT` uses the predefined macros **__LINE\\_\\_** and **__FILE\\_\\_** to print an error message about the source file if a given \"assertion\" is not true.  \n  \n```  \n#define ASSERT(cond)  \n  \nif( !(cond) )\\  \n{printf( \"assertion error line %d, file(%s)\\n\", \\  \n__LINE__, __FILE__ );}  \n```  \n  \n## See Also  \n [Preprocessor Directives](../preprocessor/preprocessor-directives.md)"}