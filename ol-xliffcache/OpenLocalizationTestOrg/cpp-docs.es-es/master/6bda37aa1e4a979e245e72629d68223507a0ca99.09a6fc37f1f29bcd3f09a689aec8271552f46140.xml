{"nodes":[{"pos":[12,34],"content":"abort | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"abort | Microsoft Docs","pos":[0,22]}]},{"content":"abort","pos":[982,987]},{"content":"Aborts the current process and returns an error code.","pos":[988,1041]},{"pos":[1049,1580],"content":"[!NOTE]\n Do not use this method to shut down a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app, except in testing or debugging scenarios. Programmatic or UI ways to close a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app are not permitted according to the [Windows 8 app certification requirements](http://go.microsoft.com/fwlink/?LinkId=262889). For more information, see [Application lifecycle (Windows Store apps)](http://go.microsoft.com/fwlink/?LinkId=262853).","leadings":["","> "],"nodes":[{"content":" Do not use this method to shut down a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app, except in testing or debugging scenarios. Programmatic or UI ways to close a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app are not permitted according to the [Windows 8 app certification requirements](http://go.microsoft.com/fwlink/?LinkId=262889). For more information, see [Application lifecycle (Windows Store apps)](http://go.microsoft.com/fwlink/?LinkId=262853).","pos":[8,529],"nodes":[{"content":"Do not use this method to shut down a <ph id=\"ph1\">[!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)]</ph> app, except in testing or debugging scenarios.","pos":[1,161],"source":" Do not use this method to shut down a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app, except in testing or debugging scenarios."},{"content":"Programmatic or UI ways to close a <ph id=\"ph1\">[!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)]</ph> app are not permitted according to the <bpt id=\"p1\">[</bpt>Windows 8 app certification requirements<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=262889)</ept>.","pos":[162,402],"source":" Programmatic or UI ways to close a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app are not permitted according to the [Windows 8 app certification requirements](http://go.microsoft.com/fwlink/?LinkId=262889)."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Application lifecycle (Windows Store apps)<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=262853)</ept>.","pos":[403,521],"source":" For more information, see [Application lifecycle (Windows Store apps)](http://go.microsoft.com/fwlink/?LinkId=262853)."}]}]},{"content":"Syntax","pos":[1589,1595]},{"content":"Return Value","pos":[1641,1653]},{"content":"does not return control to the calling process.","pos":[1665,1712]},{"content":"By default, it checks for an abort signal handler and raises <ph id=\"ph1\">`SIGABRT`</ph> if one is set.","pos":[1713,1798],"source":" By default, it checks for an abort signal handler and raises `SIGABRT` if one is set."},{"content":"Then <ph id=\"ph1\">`abort`</ph> terminates the current process and returns an exit code to the parent process.","pos":[1799,1890],"source":" Then `abort` terminates the current process and returns an exit code to the parent process."},{"content":"Remarks","pos":[1899,1906]},{"content":"Microsoft Specific","pos":[1912,1930]},{"content":"By default, when an app is built with the debug runtime library, the <ph id=\"ph1\">`abort`</ph> routine displays an error message before <ph id=\"ph2\">`SIGABRT`</ph> is raised.","pos":[1939,2077],"source":"By default, when an app is built with the debug runtime library, the `abort` routine displays an error message before `SIGABRT` is raised."},{"content":"For console apps running in console mode, the message is sent to <ph id=\"ph1\">`STDERR`</ph>.","pos":[2078,2152],"source":" For console apps running in console mode, the message is sent to `STDERR`."},{"content":"Windows desktop apps and console apps running in windowed mode display the message in a message box.","pos":[2153,2253]},{"content":"To suppress the message, use <bpt id=\"p1\">[</bpt>_set_abort_behavior<ept id=\"p1\">](../../c-runtime-library/reference/set-abort-behavior.md)</ept> to clear the <ph id=\"ph1\">`_WRITE_ABORT_MSG`</ph> flag.","pos":[2254,2399],"source":" To suppress the message, use [_set_abort_behavior](../../c-runtime-library/reference/set-abort-behavior.md) to clear the `_WRITE_ABORT_MSG` flag."},{"content":"The message displayed depends on the version of the runtime environment used.","pos":[2400,2477]},{"content":"For applications built by using the most recent version of Visual C++, the message resembles this:","pos":[2478,2576]},{"content":"In previous versions of the C runtime library, this message was displayed:","pos":[2631,2705]},{"pos":[2712,2861],"content":"\"<ph id=\"ph1\">`This application has requested the Runtime to terminate it in an unusual way. Please contact the application's support team for more information.`</ph>\"","source":"\"`This application has requested the Runtime to terminate it in an unusual way. Please contact the application's support team for more information.`\""},{"content":"When the program is compiled in debug mode, the message box displays options to <bpt id=\"p1\">**</bpt>Abort<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Retry<ept id=\"p2\">**</ept>, or <bpt id=\"p3\">**</bpt>Ignore<ept id=\"p3\">**</ept>.","pos":[2868,2984],"source":"When the program is compiled in debug mode, the message box displays options to **Abort**, **Retry**, or **Ignore**."},{"content":"If the user chooses <bpt id=\"p1\">**</bpt>Abort<ept id=\"p1\">**</ept>, the program terminates immediately and returns an exit code of 3.","pos":[2985,3081],"source":" If the user chooses **Abort**, the program terminates immediately and returns an exit code of 3."},{"content":"If the user chooses <bpt id=\"p1\">**</bpt>Retry<ept id=\"p1\">**</ept>, a debugger is invoked for just-in-time debugging, if available.","pos":[3082,3176],"source":" If the user chooses **Retry**, a debugger is invoked for just-in-time debugging, if available."},{"content":"If the user chooses <bpt id=\"p1\">**</bpt>Ignore<ept id=\"p1\">**</ept>, <ph id=\"ph1\">`abort`</ph> continues normal processing.","pos":[3177,3245],"source":" If the user chooses **Ignore**, `abort` continues normal processing."},{"content":"In both retail and debug builds, <ph id=\"ph1\">`abort`</ph> then checks whether an abort signal handler is set.","pos":[3252,3344],"source":"In both retail and debug builds, `abort` then checks whether an abort signal handler is set."},{"content":"If a non-default signal handler is set, <ph id=\"ph1\">`abort`</ph> calls <ph id=\"ph2\">`raise(SIGABRT)`</ph>.","pos":[3345,3416],"source":" If a non-default signal handler is set, `abort` calls `raise(SIGABRT)`."},{"content":"Use the <bpt id=\"p1\">[</bpt>signal<ept id=\"p1\">](../../c-runtime-library/reference/signal.md)</ept> function to associate an abort signal handler function with the <ph id=\"ph1\">`SIGABRT`</ph> signal.","pos":[3417,3560],"source":" Use the [signal](../../c-runtime-library/reference/signal.md) function to associate an abort signal handler function with the `SIGABRT` signal."},{"content":"You can perform custom actions—for example, clean up resources or log information—and terminate the app with your own error code in the handler function.","pos":[3561,3714]},{"content":"If no custom signal handler is defined, <ph id=\"ph1\">`abort`</ph> does not raise the <ph id=\"ph2\">`SIGABRT`</ph> signal.","pos":[3715,3799],"source":" If no custom signal handler is defined, `abort` does not raise the `SIGABRT` signal."},{"content":"By default, in non-debug builds of desktop or console apps, <ph id=\"ph1\">`abort`</ph> then invokes the Windows error reporting mechanism (Dr. Watson) to report failures to Microsoft.","pos":[3806,3970],"source":"By default, in non-debug builds of desktop or console apps, `abort` then invokes the Windows error reporting mechanism (Dr. Watson) to report failures to Microsoft."},{"content":"This behavior can be enabled or disabled by calling <ph id=\"ph1\">`_set_abort_behavior`</ph> and setting or masking the <ph id=\"ph2\">`_CALL_REPORTFAULT`</ph> flag.","pos":[3971,4097],"source":" This behavior can be enabled or disabled by calling `_set_abort_behavior` and setting or masking the `_CALL_REPORTFAULT` flag."},{"content":"When the flag is set, Windows displays a message box that has text something like \"A problem caused the program to stop working correctly.\"","pos":[4098,4237]},{"content":"The user can choose to invoke a debugger with a <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> button, or choose the <bpt id=\"p2\">**</bpt>Close program<ept id=\"p2\">**</ept> button to terminate the app with an error code that's defined by the operating system.","pos":[4238,4422],"source":" The user can choose to invoke a debugger with a **Debug** button, or choose the **Close program** button to terminate the app with an error code that's defined by the operating system."},{"content":"If the Windows error reporting handler is not invoked, then <ph id=\"ph1\">`abort`</ph> calls <bpt id=\"p1\">[</bpt>_exit<ept id=\"p1\">](../../c-runtime-library/reference/exit-exit-exit.md)</ept> to terminate the process with exit code 3 and returns control to the parent process or the operating system.","pos":[4429,4672],"source":"If the Windows error reporting handler is not invoked, then `abort` calls [_exit](../../c-runtime-library/reference/exit-exit-exit.md) to terminate the process with exit code 3 and returns control to the parent process or the operating system."},{"content":"does not flush stream buffers or do <ph id=\"ph1\">`atexit`/`_onexit`</ph> processing.","pos":[4681,4747],"source":" does not flush stream buffers or do `atexit`/`_onexit` processing."},{"pos":[4754,4876],"content":"For more information about CRT debugging, see <bpt id=\"p1\">[</bpt>CRT Debugging Techniques<ept id=\"p1\">](/visualstudio/debugger/crt-debugging-techniques)</ept>.","source":"For more information about CRT debugging, see [CRT Debugging Techniques](/visualstudio/debugger/crt-debugging-techniques)."},{"content":"End Microsoft Specific","pos":[4885,4907]},{"content":"Requirements","pos":[4918,4930]},{"content":"Routine","pos":[4937,4944]},{"content":"Required header","pos":[4945,4960]},{"content":"process.h&gt; or <ph id=\"ph1\">\\&lt;</ph>stdlib.h&gt;","pos":[5015,5040],"source":"process.h> or \\<stdlib.h>"},{"content":"Example","pos":[5050,5057]},{"content":"The following program tries to open a file and aborts if the attempt fails.","pos":[5061,5136]},{"content":".NET Framework Equivalent","pos":[5774,5799]},{"content":"Not applicable.","pos":[5803,5818]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[5819,5866],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[5867,5992],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"content":"See Also","pos":[6001,6009]},{"content":"Using abort","pos":[6014,6025]},{"content":"abort Function","pos":[6058,6072]},{"content":"Process and Environment Control","pos":[6117,6148]},{"content":"_exec, _wexec Functions","pos":[6215,6238]},{"content":"exit, _Exit, _exit","pos":[6294,6312]},{"content":"raise","pos":[6372,6377]},{"content":"signal","pos":[6428,6434]},{"content":"_spawn, _wspawn Functions","pos":[6486,6511]},{"content":"_DEBUG","pos":[6569,6575]},{"content":"_set_abort_behavior","pos":[6616,6635]}],"content":"---\ntitle: \"abort | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"abort\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-runtime-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"Abort\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"aborting current process\"\n  - \"abort function\"\n  - \"processes, aborting\"\nms.assetid: a797783b-40ed-4bdb-a2cd-14ffede39e8a\ncaps.latest.revision: 24\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# abort\nAborts the current process and returns an error code.  \n  \n> [!NOTE]\n>  Do not use this method to shut down a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app, except in testing or debugging scenarios. Programmatic or UI ways to close a [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] app are not permitted according to the [Windows 8 app certification requirements](http://go.microsoft.com/fwlink/?LinkId=262889). For more information, see [Application lifecycle (Windows Store apps)](http://go.microsoft.com/fwlink/?LinkId=262853).  \n  \n## Syntax  \n  \n```  \nvoid abort( void );  \n```  \n  \n## Return Value  \n `abort` does not return control to the calling process. By default, it checks for an abort signal handler and raises `SIGABRT` if one is set. Then `abort` terminates the current process and returns an exit code to the parent process.  \n  \n## Remarks  \n **Microsoft Specific**  \n  \n By default, when an app is built with the debug runtime library, the `abort` routine displays an error message before `SIGABRT` is raised. For console apps running in console mode, the message is sent to `STDERR`. Windows desktop apps and console apps running in windowed mode display the message in a message box. To suppress the message, use [_set_abort_behavior](../../c-runtime-library/reference/set-abort-behavior.md) to clear the `_WRITE_ABORT_MSG` flag. The message displayed depends on the version of the runtime environment used. For applications built by using the most recent version of Visual C++, the message resembles this:  \n  \n `R6010`  \n  \n `- abort() has been called`  \n  \n In previous versions of the C runtime library, this message was displayed:  \n  \n \"`This application has requested the Runtime to terminate it in an unusual way. Please contact the application's support team for more information.`\"  \n  \n When the program is compiled in debug mode, the message box displays options to **Abort**, **Retry**, or **Ignore**. If the user chooses **Abort**, the program terminates immediately and returns an exit code of 3. If the user chooses **Retry**, a debugger is invoked for just-in-time debugging, if available. If the user chooses **Ignore**, `abort` continues normal processing.  \n  \n In both retail and debug builds, `abort` then checks whether an abort signal handler is set. If a non-default signal handler is set, `abort` calls `raise(SIGABRT)`. Use the [signal](../../c-runtime-library/reference/signal.md) function to associate an abort signal handler function with the `SIGABRT` signal. You can perform custom actions—for example, clean up resources or log information—and terminate the app with your own error code in the handler function. If no custom signal handler is defined, `abort` does not raise the `SIGABRT` signal.  \n  \n By default, in non-debug builds of desktop or console apps, `abort` then invokes the Windows error reporting mechanism (Dr. Watson) to report failures to Microsoft. This behavior can be enabled or disabled by calling `_set_abort_behavior` and setting or masking the `_CALL_REPORTFAULT` flag. When the flag is set, Windows displays a message box that has text something like \"A problem caused the program to stop working correctly.\" The user can choose to invoke a debugger with a **Debug** button, or choose the **Close program** button to terminate the app with an error code that's defined by the operating system.  \n  \n If the Windows error reporting handler is not invoked, then `abort` calls [_exit](../../c-runtime-library/reference/exit-exit-exit.md) to terminate the process with exit code 3 and returns control to the parent process or the operating system. `_exit` does not flush stream buffers or do `atexit`/`_onexit` processing.  \n  \n For more information about CRT debugging, see [CRT Debugging Techniques](/visualstudio/debugger/crt-debugging-techniques).  \n  \n **End Microsoft Specific**  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`abort`|\\<process.h> or \\<stdlib.h>|  \n  \n## Example  \n The following program tries to open a file and aborts if the attempt fails.  \n  \n```c  \n// crt_abort.c  \n// compile with: /TC  \n// This program demonstrates the use of  \n// the abort function by attempting to open a file  \n// and aborts if the attempt fails.  \n  \n#include  <stdio.h>  \n#include  <stdlib.h>  \n  \nint main( void )  \n{  \n    FILE    *stream = NULL;  \n    errno_t err = 0;  \n  \n    err = fopen_s(&stream, \"NOSUCHF.ILE\", \"r\" );  \n    if ((err != 0) || (stream == NULL))  \n    {  \n        perror( \"File could not be opened\" );  \n        abort();  \n    }  \n    else  \n    {  \n        fclose( stream );  \n    }  \n}  \n```  \n  \n```Output  \nFile could not be opened: No such file or directory  \n```  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [Using abort](../../cpp/using-abort.md)   \n [abort Function](../../c-language/abort-function-c.md)   \n [Process and Environment Control](../../c-runtime-library/process-and-environment-control.md)   \n [_exec, _wexec Functions](../../c-runtime-library/exec-wexec-functions.md)   \n [exit, _Exit, _exit](../../c-runtime-library/reference/exit-exit-exit.md)   \n [raise](../../c-runtime-library/reference/raise.md)   \n [signal](../../c-runtime-library/reference/signal.md)   \n [_spawn, _wspawn Functions](../../c-runtime-library/spawn-wspawn-functions.md)   \n [_DEBUG](../../c-runtime-library/debug.md)   \n [_set_abort_behavior](../../c-runtime-library/reference/set-abort-behavior.md)"}