{"nodes":[{"pos":[12,37],"content":"_setmbcp | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_setmbcp | Microsoft Docs","pos":[0,25]}]},{"content":"_setmbcp","pos":[974,982]},{"content":"Sets a new multibyte code page.","pos":[983,1014]},{"content":"Syntax","pos":[1023,1029]},{"content":"Parameters","pos":[1095,1105]},{"content":"New code page setting for locale-independent multibyte routines.","pos":[1123,1187]},{"content":"Return Value","pos":[1196,1208]},{"content":"Returns 0 if the code page is set successfully.","pos":[1212,1259]},{"content":"If an invalid code page value is supplied for <ph id=\"ph1\">`codepage`</ph>, returns –1 and the code page setting is unchanged.","pos":[1260,1368],"source":" If an invalid code page value is supplied for `codepage`, returns –1 and the code page setting is unchanged."},{"content":"Sets <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`EINVAL`</ph> if a memory allocation failure occurs.","pos":[1369,1432],"source":" Sets `errno` to `EINVAL` if a memory allocation failure occurs."},{"content":"Remarks","pos":[1441,1448]},{"content":"The <ph id=\"ph1\">`_setmbcp`</ph> function specifies a new multibyte code page.","pos":[1452,1512],"source":"The `_setmbcp` function specifies a new multibyte code page."},{"content":"By default, the run-time system automatically sets the multibyte code page to the system-default ANSI code page.","pos":[1513,1625]},{"content":"The multibyte code page setting affects all multibyte routines that are not locale dependent.","pos":[1626,1719]},{"content":"However, it is possible to instruct <ph id=\"ph1\">`_setmbcp`</ph> to use the code page defined for the current locale (see the following list of manifest constants and associated behavior results).","pos":[1720,1898],"source":" However, it is possible to instruct `_setmbcp` to use the code page defined for the current locale (see the following list of manifest constants and associated behavior results)."},{"content":"For a list of the multibyte routines that are dependent on the locale code page rather than the multibyte code page, see <bpt id=\"p1\">[</bpt>Interpretation of Multibyte-Character Sequences<ept id=\"p1\">](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)</ept>.","pos":[1899,2146],"source":" For a list of the multibyte routines that are dependent on the locale code page rather than the multibyte code page, see [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)."},{"content":"The multibyte code page also affects multibyte-character processing by the following run-time library routines:","pos":[2153,2264]},{"content":"_exec functions","pos":[2289,2304]},{"content":"_mktemp","pos":[2356,2363]},{"content":"_stat","pos":[2419,2424]},{"content":"_fullpath","pos":[2484,2493]},{"content":"_spawn functions","pos":[2553,2569]},{"content":"_tempnam","pos":[2623,2631]},{"content":"_makepath","pos":[2708,2717]},{"content":"_splitpath","pos":[2777,2787]},{"content":"tmpnam","pos":[2849,2855]},{"content":"In addition, all run-time library routines that receive multibyte-character <ph id=\"ph1\">`argv`</ph> or <ph id=\"ph2\">`envp`</ph> program arguments as parameters (such as the <ph id=\"ph3\">`_exec`</ph> and <ph id=\"ph4\">`_spawn`</ph> families) process these strings according to the multibyte code page.","pos":[2934,3162],"source":"In addition, all run-time library routines that receive multibyte-character `argv` or `envp` program arguments as parameters (such as the `_exec` and `_spawn` families) process these strings according to the multibyte code page."},{"content":"Therefore, these routines are also affected by a call to <ph id=\"ph1\">`_setmbcp`</ph> that changes the multibyte code page.","pos":[3163,3268],"source":" Therefore, these routines are also affected by a call to `_setmbcp` that changes the multibyte code page."},{"pos":[3275,3341],"content":"The <ph id=\"ph1\">`codepage`</ph> argument can be set to any of the following values:","source":"The `codepage` argument can be set to any of the following values:"},{"pos":[3365,3434],"content":"Use ANSI code page obtained from operating system at program startup."},{"pos":[3460,3599],"content":"Use the current locale's code page obtained from a previous call to <bpt id=\"p1\">[</bpt>setlocale<ept id=\"p1\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept>.","source":" Use the current locale's code page obtained from a previous call to [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md)."},{"pos":[3622,3690],"content":"Use OEM code page obtained from operating system at program startup."},{"content":"Use single-byte code page.","pos":[3714,3740]},{"content":"When the code page is set to <ph id=\"ph1\">`_MB_CP_SBCS`</ph>, a routine such as <bpt id=\"p1\">[</bpt>_ismbblead<ept id=\"p1\">](../../c-runtime-library/reference/ismbblead-ismbblead-l.md)</ept> always returns false.","pos":[3741,3897],"source":" When the code page is set to `_MB_CP_SBCS`, a routine such as [_ismbblead](../../c-runtime-library/reference/ismbblead-ismbblead-l.md) always returns false."},{"content":"Any other valid code page value, regardless of whether the value is an ANSI, OEM, or other operating-system-supported code page (except UTF-7 and UTF-8, which are not supported).","pos":[3907,4085]},{"content":"Requirements","pos":[4094,4106]},{"content":"Routine","pos":[4113,4120]},{"content":"Required header","pos":[4121,4136]},{"content":"mbctype.h&gt;","pos":[4194,4204],"source":"mbctype.h>"},{"pos":[4212,4330],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":"See Also","pos":[4339,4347]},{"content":"_getmbcp","pos":[4352,4360]},{"content":"setlocale, _wsetlocale","pos":[4413,4435]}],"content":"---\ntitle: \"_setmbcp | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_setmbcp\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-locale-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_setmbcp\"\n  - \"setmbcp\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"setmbcp function\"\n  - \"_setmbcp function\"\n  - \"multibyte code pages\"\nms.assetid: cfde53b5-0b73-4684-81b1-a8d3aafc85de\ncaps.latest.revision: 13\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _setmbcp\nSets a new multibyte code page.  \n  \n## Syntax  \n  \n```  \nint _setmbcp(  \n   int codepage   \n);  \n```  \n  \n#### Parameters  \n `codepage`  \n New code page setting for locale-independent multibyte routines.  \n  \n## Return Value  \n Returns 0 if the code page is set successfully. If an invalid code page value is supplied for `codepage`, returns –1 and the code page setting is unchanged. Sets `errno` to `EINVAL` if a memory allocation failure occurs.  \n  \n## Remarks  \n The `_setmbcp` function specifies a new multibyte code page. By default, the run-time system automatically sets the multibyte code page to the system-default ANSI code page. The multibyte code page setting affects all multibyte routines that are not locale dependent. However, it is possible to instruct `_setmbcp` to use the code page defined for the current locale (see the following list of manifest constants and associated behavior results). For a list of the multibyte routines that are dependent on the locale code page rather than the multibyte code page, see [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md).  \n  \n The multibyte code page also affects multibyte-character processing by the following run-time library routines:  \n  \n||||  \n|-|-|-|  \n|[_exec functions](../../c-runtime-library/exec-wexec-functions.md)|[_mktemp](../../c-runtime-library/reference/mktemp-wmktemp.md)|[_stat](../../c-runtime-library/reference/stat-functions.md)|  \n|[_fullpath](../../c-runtime-library/reference/fullpath-wfullpath.md)|[_spawn functions](../../c-runtime-library/spawn-wspawn-functions.md)|[_tempnam](../../c-runtime-library/reference/tempnam-wtempnam-tmpnam-wtmpnam.md)|  \n|[_makepath](../../c-runtime-library/reference/makepath-wmakepath.md)|[_splitpath](../../c-runtime-library/reference/splitpath-wsplitpath.md)|[tmpnam](../../c-runtime-library/reference/tempnam-wtempnam-tmpnam-wtmpnam.md)|  \n  \n In addition, all run-time library routines that receive multibyte-character `argv` or `envp` program arguments as parameters (such as the `_exec` and `_spawn` families) process these strings according to the multibyte code page. Therefore, these routines are also affected by a call to `_setmbcp` that changes the multibyte code page.  \n  \n The `codepage` argument can be set to any of the following values:  \n  \n-   `_MB_CP_ANSI` Use ANSI code page obtained from operating system at program startup.  \n  \n-   `_MB_CP_LOCALE` Use the current locale's code page obtained from a previous call to [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md).  \n  \n-   `_MB_CP_OEM` Use OEM code page obtained from operating system at program startup.  \n  \n-   `_MB_CP_SBCS` Use single-byte code page. When the code page is set to `_MB_CP_SBCS`, a routine such as [_ismbblead](../../c-runtime-library/reference/ismbblead-ismbblead-l.md) always returns false.  \n  \n-   Any other valid code page value, regardless of whether the value is an ANSI, OEM, or other operating-system-supported code page (except UTF-7 and UTF-8, which are not supported).  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_setmbcp`|\\<mbctype.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## See Also  \n [_getmbcp](../../c-runtime-library/reference/getmbcp.md)   \n [setlocale, _wsetlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md)"}