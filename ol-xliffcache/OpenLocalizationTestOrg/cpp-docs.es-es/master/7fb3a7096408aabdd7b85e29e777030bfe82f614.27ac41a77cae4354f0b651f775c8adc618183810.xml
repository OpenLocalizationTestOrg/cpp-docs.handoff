{"nodes":[{"pos":[12,44],"content":"CTimeSpan Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CTimeSpan Class | Microsoft Docs","pos":[0,32]}]},{"content":"CTimeSpan Class","pos":[777,792]},{"content":"An amount of time, which is internally stored as the number of seconds in the time span.","pos":[793,881]},{"content":"Syntax","pos":[890,896]},{"content":"Members","pos":[934,941]},{"content":"Public Constructors","pos":[951,970]},{"content":"Name","pos":[977,981]},{"content":"Description","pos":[982,993]},{"content":"CTimeSpan::CTimeSpan","pos":[1032,1052]},{"pos":[1077,1124],"content":"Constructs <ph id=\"ph1\">`CTimeSpan`</ph> objects in various ways.","source":"Constructs `CTimeSpan` objects in various ways."},{"content":"Public Methods","pos":[1135,1149]},{"content":"Name","pos":[1156,1160]},{"content":"Description","pos":[1161,1172]},{"content":"CTimeSpan::Format","pos":[1211,1228]},{"pos":[1250,1297],"content":"Converts a <ph id=\"ph1\">`CTimeSpan`</ph> into a formatted string.","source":"Converts a `CTimeSpan` into a formatted string."},{"content":"CTimeSpan::GetDays","pos":[1303,1321]},{"pos":[1344,1424],"content":"Returns a value that represents the number of complete days in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns a value that represents the number of complete days in this `CTimeSpan`."},{"content":"CTimeSpan::GetHours","pos":[1430,1449]},{"content":"Returns a value that represents the number of hours in the current day (–23 through 23).","pos":[1473,1561]},{"content":"CTimeSpan::GetMinutes","pos":[1567,1588]},{"content":"Returns a value that represents the number of minutes in the current hour (–59 through 59).","pos":[1614,1705]},{"content":"CTimeSpan::GetSeconds","pos":[1711,1732]},{"content":"Returns a value that represents the number of seconds in the current minute (–59 through 59).","pos":[1758,1851]},{"content":"CTimeSpan::GetTimeSpan","pos":[1857,1879]},{"pos":[1906,1950],"content":"Returns the value of the <ph id=\"ph1\">`CTimeSpan`</ph> object.","source":"Returns the value of the `CTimeSpan` object."},{"content":"CTimeSpan::GetTotalHours","pos":[1956,1980]},{"pos":[2009,2096],"content":"Returns a value that represents the total number of complete hours in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns a value that represents the total number of complete hours in this `CTimeSpan`."},{"content":"CTimeSpan::GetTotalMinutes","pos":[2102,2128]},{"pos":[2159,2248],"content":"Returns a value that represents the total number of complete minutes in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns a value that represents the total number of complete minutes in this `CTimeSpan`."},{"content":"CTimeSpan::GetTotalSeconds","pos":[2254,2280]},{"pos":[2311,2400],"content":"Returns a value that represents the total number of complete seconds in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns a value that represents the total number of complete seconds in this `CTimeSpan`."},{"content":"CTimeSpan::Serialize64","pos":[2406,2428]},{"content":"Serializes data to or from an archive.","pos":[2455,2493]},{"content":"Operators","pos":[2504,2513]},{"content":"operator + –","pos":[2535,2547]},{"pos":[2578,2617],"content":"Adds and subtracts <ph id=\"ph1\">`CTimeSpan`</ph> objects.","source":"Adds and subtracts `CTimeSpan` objects."},{"content":"operator += –=","pos":[2623,2637]},{"pos":[2674,2743],"content":"Adds and subtracts a <ph id=\"ph1\">`CTimeSpan`</ph> object to and from this <ph id=\"ph2\">`CTimeSpan`</ph>.","source":"Adds and subtracts a `CTimeSpan` object to and from this `CTimeSpan`."},{"content":"operator == &lt; etc.","pos":[2749,2767],"source":"operator == < etc."},{"content":"Compares two relative time values.","pos":[2802,2836]},{"content":"Remarks","pos":[2846,2853]},{"pos":[2869,2896],"content":"does not have a base class."},{"pos":[2915,3002],"content":"functions convert seconds to various combinations of days, hours, minutes, and seconds."},{"pos":[3009,3090],"content":"The <ph id=\"ph1\">`CTimeSpan`</ph> object is stored in a <bpt id=\"p1\">**</bpt>__time64_t<ept id=\"p1\">**</ept> structure, which is 8 bytes.","source":"The `CTimeSpan` object is stored in a **__time64_t** structure, which is 8 bytes."},{"pos":[3097,3200],"content":"A companion class, <bpt id=\"p1\">[</bpt>CTime<ept id=\"p1\">](../../atl-mfc-shared/reference/ctime-class.md)</ept>, represents an absolute time.","source":"A companion class, [CTime](../../atl-mfc-shared/reference/ctime-class.md), represents an absolute time."},{"content":"The <ph id=\"ph1\">`CTime`</ph> and <ph id=\"ph2\">`CTimeSpan`</ph> classes are not designed for derivation.","pos":[3207,3275],"source":"The `CTime` and `CTimeSpan` classes are not designed for derivation."},{"content":"Because there are no virtual functions, the size of both <ph id=\"ph1\">`CTime`</ph> and <ph id=\"ph2\">`CTimeSpan`</ph> objects is exactly 8 bytes.","pos":[3276,3384],"source":" Because there are no virtual functions, the size of both `CTime` and `CTimeSpan` objects is exactly 8 bytes."},{"content":"Most member functions are inline.","pos":[3385,3418]},{"pos":[3425,3643],"content":"For more information on using <ph id=\"ph1\">`CTimeSpan`</ph>, see the articles <bpt id=\"p1\">[</bpt>Date and Time<ept id=\"p1\">](../../atl-mfc-shared/date-and-time.md)</ept>, and <bpt id=\"p2\">[</bpt>Time Management<ept id=\"p2\">](../../c-runtime-library/time-management.md)</ept> in the <bpt id=\"p3\">*</bpt>Run-Time Library Reference<ept id=\"p3\">*</ept>.","source":"For more information on using `CTimeSpan`, see the articles [Date and Time](../../atl-mfc-shared/date-and-time.md), and [Time Management](../../c-runtime-library/time-management.md) in the *Run-Time Library Reference*."},{"content":"Requirements","pos":[3652,3664]},{"pos":[3668,3689],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> atltime.h","source":"**Header:** atltime.h"},{"pos":[3746,3776],"content":"CTimeSpan Comparison Operators"},{"content":"Comparison operators.","pos":[3780,3801]},{"content":"Parameters","pos":[4109,4119]},{"content":"The object to compare.","pos":[4136,4158]},{"content":"Return Value","pos":[4168,4180]},{"content":"These operators compare two relative time values.","pos":[4184,4233]},{"content":"They return <bpt id=\"p1\">**</bpt>true<ept id=\"p1\">**</ept> if the condition is true; otherwise <bpt id=\"p2\">**</bpt>false<ept id=\"p2\">**</ept>.","pos":[4234,4301],"source":" They return **true** if the condition is true; otherwise **false**."},{"content":"Example","pos":[4311,4318]},{"pos":[4333,4357],"content":"NVC_ATLMFC_Utilities#169"},{"pos":[4466,4486],"content":"CTimeSpan::CTimeSpan"},{"pos":[4490,4537],"content":"Constructs <ph id=\"ph1\">`CTimeSpan`</ph> objects in various ways.","source":"Constructs `CTimeSpan` objects in various ways."},{"content":"Parameters","pos":[4696,4706]},{"content":"timeSpanSrc","pos":[4711,4722]},{"content":"A <ph id=\"ph1\">`CTimeSpan`</ph> object that already exists.","pos":[4727,4768],"source":" A `CTimeSpan` object that already exists."},{"content":"A <bpt id=\"p1\">**</bpt>__time64_t<ept id=\"p1\">**</ept> time value, which is the number of seconds in the time span.","pos":[4785,4862],"source":" A **__time64_t** time value, which is the number of seconds in the time span."},{"content":"In Visual C++ versions 6.0 and earlier, <ph id=\"ph1\">`time`</ph> was a value of <ph id=\"ph2\">`time_t`</ph>.","pos":[4863,4934],"source":" In Visual C++ versions 6.0 and earlier, `time` was a value of `time_t`."},{"content":"Visual C++ .NET or later silently converts a <ph id=\"ph1\">`time_t`</ph> parameter to <bpt id=\"p1\">**</bpt>__time64_t<ept id=\"p1\">**</ept>.","pos":[4935,5017],"source":" Visual C++ .NET or later silently converts a `time_t` parameter to **__time64_t**."},{"content":", <ph id=\"ph1\">`nHours`</ph>, <ph id=\"ph2\">`nMins`</ph>,","pos":[5031,5051],"source":", `nHours`, `nMins`, "},{"content":"Days, hours, minutes, and seconds, respectively.","pos":[5063,5111]},{"content":"Remarks","pos":[5121,5128]},{"content":"All these constructors create a new <ph id=\"ph1\">`CTimeSpan`</ph> object initialized with the specified relative time.","pos":[5132,5232],"source":"All these constructors create a new `CTimeSpan` object initialized with the specified relative time."},{"content":"Each constructor is described below:","pos":[5233,5269]},{"pos":[5277,5342],"content":"<bpt id=\"p1\">**</bpt>CTimeSpan( );<ept id=\"p1\">**</ept> Constructs an uninitialized <ph id=\"ph1\">`CTimeSpan`</ph> object.","source":"**CTimeSpan( );** Constructs an uninitialized `CTimeSpan` object."},{"pos":[5350,5448],"content":"<bpt id=\"p1\">**</bpt>CTimeSpan( const CTimeSpan&amp; );<ept id=\"p1\">**</ept> Constructs a <ph id=\"ph1\">`CTimeSpan`</ph> object from another <ph id=\"ph2\">`CTimeSpan`</ph> value.","source":"**CTimeSpan( const CTimeSpan& );** Constructs a `CTimeSpan` object from another `CTimeSpan` value."},{"pos":[5456,5544],"content":"<bpt id=\"p1\">**</bpt>CTimeSpan( __time64_t );<ept id=\"p1\">**</ept> Constructs a <ph id=\"ph1\">`CTimeSpan`</ph> object from a <bpt id=\"p2\">**</bpt>__time64_t<ept id=\"p2\">**</ept> type.","source":"**CTimeSpan( __time64_t );** Constructs a `CTimeSpan` object from a **__time64_t** type."},{"pos":[5552,5698],"content":"<bpt id=\"p1\">**</bpt>CTimeSpan( LONG<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>int, int, int );<ept id=\"p2\">**</ept> Constructs a <ph id=\"ph1\">`CTimeSpan`</ph> object from components with each component constrained to the following ranges:","source":"**CTimeSpan( LONG**, **int, int, int );** Constructs a `CTimeSpan` object from components with each component constrained to the following ranges:"},{"content":"Component","pos":[5709,5718]},{"content":"Range","pos":[5719,5724]},{"content":"0–25,000 (approximately)","pos":[5777,5801]},{"content":"0–23","pos":[5819,5823]},{"content":"0–59","pos":[5840,5844]},{"content":"0–59","pos":[5861,5865]},{"content":"Note that the Debug version of the Microsoft Foundation Class Library asserts if one or more of the time-day components is out of range.","pos":[5873,6009]},{"content":"It is your responsibility to validate the arguments prior to calling.","pos":[6010,6079]},{"content":"Example","pos":[6089,6096]},{"pos":[6111,6135],"content":"NVC_ATLMFC_Utilities#162"},{"pos":[6241,6258],"content":"CTimeSpan::Format"},{"pos":[6262,6328],"content":"Generates a formatted string that corresponds to this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Generates a formatted string that corresponds to this `CTimeSpan`."},{"content":"Parameters","pos":[6464,6474]},{"content":",","pos":[6487,6488]},{"content":"A formatting string similar to the <ph id=\"ph1\">`printf`</ph> formatting string.","pos":[6504,6566],"source":" A formatting string similar to the `printf` formatting string."},{"content":"Formatting codes, preceded by a percent ( <ph id=\"ph1\">`%`</ph>) sign, are replaced by the corresponding <ph id=\"ph2\">`CTimeSpan`</ph> component.","pos":[6567,6676],"source":" Formatting codes, preceded by a percent ( `%`) sign, are replaced by the corresponding `CTimeSpan` component."},{"content":"Other characters in the formatting string are copied unchanged to the returned string.","pos":[6677,6763]},{"content":"The value and meaning of the formatting codes for <bpt id=\"p1\">**</bpt>Format<ept id=\"p1\">**</ept> are listed below:","pos":[6764,6842],"source":" The value and meaning of the formatting codes for **Format** are listed below:"},{"pos":[6850,6875],"content":"<bpt id=\"p1\">**</bpt>%D<ept id=\"p1\">**</ept> Total days in this","source":"**%D** Total days in this "},{"pos":[6895,6926],"content":"<bpt id=\"p1\">**</bpt>%H<ept id=\"p1\">**</ept> Hours in the current day","source":"**%H** Hours in the current day"},{"pos":[6934,6968],"content":"<bpt id=\"p1\">**</bpt>%M<ept id=\"p1\">**</ept> Minutes in the current hour","source":"**%M** Minutes in the current hour"},{"pos":[6976,7012],"content":"<bpt id=\"p1\">**</bpt>%S<ept id=\"p1\">**</ept> Seconds in the current minute","source":"**%S** Seconds in the current minute"},{"pos":[7020,7039],"content":"<bpt id=\"p1\">**</bpt><ph id=\"ph1\">%%</ph><ept id=\"p1\">**</ept> Percent sign","source":"**%%** Percent sign"},{"pos":[7046,7104],"content":"`nID`  \nThe ID of the string that identifies this format.","leadings":[""," "],"nodes":[{"content":"The ID of the string that identifies this format.","pos":[8,57]}]},{"content":"Return Value","pos":[7114,7126]},{"pos":[7130,7182],"content":"A <ph id=\"ph1\">`CString`</ph> object that contains the formatted time.","source":"A `CString` object that contains the formatted time."},{"content":"Remarks","pos":[7192,7199]},{"content":"The Debug version of the library checks the formatting codes and asserts if the code is not in the list above.","pos":[7203,7313]},{"content":"Example","pos":[7323,7330]},{"pos":[7345,7369],"content":"NVC_ATLMFC_Utilities#163"},{"pos":[7476,7494],"content":"CTimeSpan::GetDays"},{"pos":[7498,7578],"content":"Returns a value that represents the number of complete days in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns a value that represents the number of complete days in this `CTimeSpan`."},{"content":"Return Value","pos":[7635,7647]},{"content":"Returns the number of complete 24-hour days in the time span.","pos":[7651,7712]},{"content":"This value may be negative if the time span is negative.","pos":[7713,7769]},{"content":"Remarks","pos":[7779,7786]},{"content":"Note that Daylight Savings Time can cause <ph id=\"ph1\">`GetDays`</ph> to return a potentially surprising result.","pos":[7790,7884],"source":"Note that Daylight Savings Time can cause `GetDays` to return a potentially surprising result."},{"content":"For example, when DST is in effect, <bpt id=\"p1\">**</bpt>GetDays<ept id=\"p1\">**</ept> reports the number of days between April 1 and May 1 as 29, not 30, because one day in April is shortened by an hour and therefore does not count as a complete day.","pos":[7885,8097],"source":" For example, when DST is in effect, **GetDays** reports the number of days between April 1 and May 1 as 29, not 30, because one day in April is shortened by an hour and therefore does not count as a complete day."},{"content":"Example","pos":[8107,8114]},{"pos":[8129,8153],"content":"NVC_ATLMFC_Utilities#164"},{"pos":[8261,8280],"content":"CTimeSpan::GetHours"},{"content":"Returns a value that represents the number of hours in the current day (–23 through 23).","pos":[8284,8372]},{"content":"Return Value","pos":[8426,8438]},{"content":"Returns the number of hours in the current day.","pos":[8442,8489]},{"content":"The range is –23 through 23.","pos":[8490,8518]},{"content":"Example","pos":[8528,8535]},{"pos":[8550,8574],"content":"NVC_ATLMFC_Utilities#165"},{"pos":[8684,8705],"content":"CTimeSpan::GetMinutes"},{"content":"Returns a value that represents the number of minutes in the current hour (–59 through 59).","pos":[8709,8800]},{"content":"Return Value","pos":[8856,8868]},{"content":"Returns the number of minutes in the current hour.","pos":[8872,8922]},{"content":"The range is –59 through 59.","pos":[8923,8951]},{"content":"Example","pos":[8961,8968]},{"pos":[8972,9025],"content":"See the example for <bpt id=\"p1\">[</bpt>GetHours<ept id=\"p1\">](#ctimespan__gethours)</ept>.","source":"See the example for [GetHours](#ctimespan__gethours)."},{"pos":[9073,9094],"content":"CTimeSpan::GetSeconds"},{"content":"Returns a value that represents the number of seconds in the current minute (–59 through 59).","pos":[9098,9191]},{"content":"Return Value","pos":[9247,9259]},{"content":"Returns the number of seconds in the current minute.","pos":[9263,9315]},{"content":"The range is –59 through 59.","pos":[9316,9344]},{"content":"Example","pos":[9354,9361]},{"pos":[9365,9418],"content":"See the example for <bpt id=\"p1\">[</bpt>GetHours<ept id=\"p1\">](#ctimespan__gethours)</ept>.","source":"See the example for [GetHours](#ctimespan__gethours)."},{"pos":[9467,9489],"content":"CTimeSpan::GetTimeSpan"},{"pos":[9493,9537],"content":"Returns the value of the <ph id=\"ph1\">`CTimeSpan`</ph> object.","source":"Returns the value of the `CTimeSpan` object."},{"content":"Return Value","pos":[9616,9628]},{"pos":[9632,9684],"content":"Returns the current value of the <ph id=\"ph1\">`CTimeSpan`</ph> object.","source":"Returns the current value of the `CTimeSpan` object."},{"pos":[9735,9759],"content":"CTimeSpan::GetTotalHours"},{"pos":[9763,9850],"content":"Returns a value that represents the total number of complete hours in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns a value that represents the total number of complete hours in this `CTimeSpan`."},{"content":"Return Value","pos":[9913,9925]},{"pos":[9929,9992],"content":"Returns the total number of complete hours in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns the total number of complete hours in this `CTimeSpan`."},{"content":"Example","pos":[10002,10009]},{"pos":[10024,10048],"content":"NVC_ATLMFC_Utilities#166"},{"pos":[10163,10189],"content":"CTimeSpan::GetTotalMinutes"},{"pos":[10193,10282],"content":"Returns a value that represents the total number of complete minutes in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns a value that represents the total number of complete minutes in this `CTimeSpan`."},{"content":"Return Value","pos":[10347,10359]},{"pos":[10363,10428],"content":"Returns the total number of complete minutes in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns the total number of complete minutes in this `CTimeSpan`."},{"content":"Example","pos":[10438,10445]},{"pos":[10449,10512],"content":"See the example for <bpt id=\"p1\">[</bpt>GetTotalHours<ept id=\"p1\">](#ctimespan__gettotalhours)</ept>.","source":"See the example for [GetTotalHours](#ctimespan__gettotalhours)."},{"pos":[10565,10591],"content":"CTimeSpan::GetTotalSeconds"},{"pos":[10595,10684],"content":"Returns a value that represents the total number of complete seconds in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns a value that represents the total number of complete seconds in this `CTimeSpan`."},{"content":"Return Value","pos":[10749,10761]},{"pos":[10765,10830],"content":"Returns the total number of complete seconds in this <ph id=\"ph1\">`CTimeSpan`</ph>.","source":"Returns the total number of complete seconds in this `CTimeSpan`."},{"content":"Example","pos":[10840,10847]},{"pos":[10851,10914],"content":"See the example for <bpt id=\"p1\">[</bpt>GetTotalHours<ept id=\"p1\">](#ctimespan__gettotalhours)</ept>.","source":"See the example for [GetTotalHours](#ctimespan__gettotalhours)."},{"pos":[10967,10991],"content":"CTimeSpan::operator +, -"},{"pos":[10995,11034],"content":"Adds and subtracts <ph id=\"ph1\">`CTimeSpan`</ph> objects.","source":"Adds and subtracts `CTimeSpan` objects."},{"content":"Parameters","pos":[11160,11170]},{"content":"The value to add to the <ph id=\"ph1\">`CTimeSpan`</ph> object.","pos":[11184,11227],"source":" The value to add to the `CTimeSpan` object."},{"content":"Return Value","pos":[11237,11249]},{"pos":[11253,11315],"content":"A <ph id=\"ph1\">`CTimeSpan`</ph> object representing the result of the operation.","source":"A `CTimeSpan` object representing the result of the operation."},{"content":"Remarks","pos":[11325,11332]},{"pos":[11336,11429],"content":"These two operators allow you to add and subtract <ph id=\"ph1\">`CTimeSpan`</ph> objects to and from each other.","source":"These two operators allow you to add and subtract `CTimeSpan` objects to and from each other."},{"content":"Example","pos":[11439,11446]},{"pos":[11461,11485],"content":"NVC_ATLMFC_Utilities#167"},{"pos":[11606,11632],"content":"CTimeSpan::operator +=, -="},{"pos":[11636,11705],"content":"Adds and subtracts a <ph id=\"ph1\">`CTimeSpan`</ph> object to and from this <ph id=\"ph2\">`CTimeSpan`</ph>.","source":"Adds and subtracts a `CTimeSpan` object to and from this `CTimeSpan`."},{"content":"Parameters","pos":[11823,11833]},{"content":"The value to add to the <ph id=\"ph1\">`CTimeSpan`</ph> object.","pos":[11847,11890],"source":" The value to add to the `CTimeSpan` object."},{"content":"Return Value","pos":[11900,11912]},{"pos":[11916,11947],"content":"The updated <ph id=\"ph1\">`CTimeSpan`</ph> object.","source":"The updated `CTimeSpan` object."},{"content":"Remarks","pos":[11957,11964]},{"pos":[11968,12064],"content":"These operators allow you to add and subtract a <ph id=\"ph1\">`CTimeSpan`</ph> object to and from this <ph id=\"ph2\">`CTimeSpan`</ph>.","source":"These operators allow you to add and subtract a `CTimeSpan` object to and from this `CTimeSpan`."},{"content":"Example","pos":[12074,12081]},{"pos":[12096,12120],"content":"NVC_ATLMFC_Utilities#168"},{"pos":[12231,12253],"content":"CTimeSpan::Serialize64"},{"pos":[12261,12318],"content":"[!NOTE]\n This method is only available in MFC projects.","leadings":["","> "],"nodes":[{"content":"This method is only available in MFC projects.","pos":[9,55]}]},{"content":"Serializes the data associated with the member variable to or from an archive.","pos":[12325,12403]},{"content":"Parameters","pos":[12463,12473]},{"content":"The <ph id=\"ph1\">`CArchive`</ph> object that you want to update.","pos":[12485,12531],"source":" The `CArchive` object that you want to update."},{"content":"Return Value","pos":[12541,12553]},{"pos":[12557,12587],"content":"The updated <ph id=\"ph1\">`CArchive`</ph> object.","source":"The updated `CArchive` object."},{"content":"See Also","pos":[12596,12604]},{"content":"asctime, _wasctime","pos":[12609,12627]},{"content":"_ftime, _ftime32, _ftime64","pos":[12689,12715]},{"content":"gmtime, _gmtime32, _gmtime64","pos":[12782,12810]},{"content":"localtime, _localtime32, _localtime64","pos":[12880,12917]},{"content":"strftime, wcsftime, _strftime_l, _wcsftime_l","pos":[12996,13040]},{"content":"time, _time32, _time64","pos":[13125,13147]},{"content":"Hierarchy Chart","pos":[13211,13226]},{"content":"ATL/MFC Shared Classes","pos":[13263,13285]}],"content":"---\ntitle: \"CTimeSpan Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"ATL.CTimeSpan\"\n  - \"CTimeSpan\"\n  - \"timespan\"\n  - \"ATL::CTimeSpan\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"elapsed time, CTimeSpan object\"\n  - \"timespan\"\n  - \"time span\"\n  - \"CTimeSpan class\"\n  - \"shared classes, CTimeSpan\"\n  - \"time, elapsed\"\nms.assetid: ee1e42f6-1839-477a-8435-fb26ad475140\ncaps.latest.revision: 17\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CTimeSpan Class\nAn amount of time, which is internally stored as the number of seconds in the time span.  \n  \n## Syntax  \n  \n```\nclass CTimeSpan\n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CTimeSpan::CTimeSpan](#ctimespan__ctimespan)|Constructs `CTimeSpan` objects in various ways.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CTimeSpan::Format](#ctimespan__format)|Converts a `CTimeSpan` into a formatted string.|  \n|[CTimeSpan::GetDays](#ctimespan__getdays)|Returns a value that represents the number of complete days in this `CTimeSpan`.|  \n|[CTimeSpan::GetHours](#ctimespan__gethours)|Returns a value that represents the number of hours in the current day (–23 through 23).|  \n|[CTimeSpan::GetMinutes](#ctimespan__getminutes)|Returns a value that represents the number of minutes in the current hour (–59 through 59).|  \n|[CTimeSpan::GetSeconds](#ctimespan__getseconds)|Returns a value that represents the number of seconds in the current minute (–59 through 59).|  \n|[CTimeSpan::GetTimeSpan](#ctimespan__gettimespan)|Returns the value of the `CTimeSpan` object.|  \n|[CTimeSpan::GetTotalHours](#ctimespan__gettotalhours)|Returns a value that represents the total number of complete hours in this `CTimeSpan`.|  \n|[CTimeSpan::GetTotalMinutes](#ctimespan__gettotalminutes)|Returns a value that represents the total number of complete minutes in this `CTimeSpan`.|  \n|[CTimeSpan::GetTotalSeconds](#ctimespan__gettotalseconds)|Returns a value that represents the total number of complete seconds in this `CTimeSpan`.|  \n|[CTimeSpan::Serialize64](#ctimespan__serialize64)|Serializes data to or from an archive.|  \n  \n### Operators  \n  \n|||  \n|-|-|  \n|[operator + –](#ctimespan__operator__add_-)|Adds and subtracts `CTimeSpan` objects.|  \n|[operator += –=](#ctimespan__operator__add_eq_-_eq)|Adds and subtracts a `CTimeSpan` object to and from this `CTimeSpan`.|  \n|[operator == < etc.](#ctimespan_comparison_operators)|Compares two relative time values.|  \n  \n## Remarks  \n `CTimeSpan` does not have a base class.  \n  \n `CTimeSpan` functions convert seconds to various combinations of days, hours, minutes, and seconds.  \n  \n The `CTimeSpan` object is stored in a **__time64_t** structure, which is 8 bytes.  \n  \n A companion class, [CTime](../../atl-mfc-shared/reference/ctime-class.md), represents an absolute time.  \n  \n The `CTime` and `CTimeSpan` classes are not designed for derivation. Because there are no virtual functions, the size of both `CTime` and `CTimeSpan` objects is exactly 8 bytes. Most member functions are inline.  \n  \n For more information on using `CTimeSpan`, see the articles [Date and Time](../../atl-mfc-shared/date-and-time.md), and [Time Management](../../c-runtime-library/time-management.md) in the *Run-Time Library Reference*.  \n  \n## Requirements  \n **Header:** atltime.h  \n  \n##  <a name=\"ctimespan_comparison_operators\"></a>  CTimeSpan Comparison Operators  \n Comparison operators.  \n  \n```\nbool operator==(CTimeSpan span) const throw();\n\nbool operator!=(CTimeSpan span) const throw();\n\nbool operator<(CTimeSpan span) const throw();\n\nbool operator>(CTimeSpan span) const throw();\n\nbool operator<=(CTimeSpan span) const throw();\n\nbool operator>=(CTimeSpan span) const throw();\n```  \n  \n### Parameters  \n `span`  \n  \n The object to compare.  \n  \n### Return Value  \n These operators compare two relative time values. They return **true** if the condition is true; otherwise **false**.  \n  \n### Example  \n [!code-cpp[NVC_ATLMFC_Utilities#169](../../atl-mfc-shared/codesnippet/cpp/ctimespan-class_1.cpp)]  \n  \n##  <a name=\"ctimespan__ctimespan\"></a>  CTimeSpan::CTimeSpan  \n Constructs `CTimeSpan` objects in various ways.  \n  \n```\nCTimeSpan() throw();\n\nCTimeSpan(__time64_t time) throw();\n\nCTimeSpan(LONG lDays,\n    int nHours,\n    int nMins,\n    int nSecs) throw();\n```  \n  \n### Parameters  \n *timeSpanSrc*  \n A `CTimeSpan` object that already exists.  \n  \n `time`  \n A **__time64_t** time value, which is the number of seconds in the time span. In Visual C++ versions 6.0 and earlier, `time` was a value of `time_t`. Visual C++ .NET or later silently converts a `time_t` parameter to **__time64_t**.  \n  \n `lDays`, `nHours`, `nMins`, `nSecs`  \n Days, hours, minutes, and seconds, respectively.  \n  \n### Remarks  \n All these constructors create a new `CTimeSpan` object initialized with the specified relative time. Each constructor is described below:  \n  \n- **CTimeSpan( );** Constructs an uninitialized `CTimeSpan` object.  \n  \n- **CTimeSpan( const CTimeSpan& );** Constructs a `CTimeSpan` object from another `CTimeSpan` value.  \n  \n- **CTimeSpan( __time64_t );** Constructs a `CTimeSpan` object from a **__time64_t** type.  \n  \n- **CTimeSpan( LONG**, **int, int, int );** Constructs a `CTimeSpan` object from components with each component constrained to the following ranges:  \n  \n    |Component|Range|  \n    |---------------|-----------|  \n    |`lDays`|0–25,000 (approximately)|  \n    |`nHours`|0–23|  \n    |`nMins`|0–59|  \n    |`nSecs`|0–59|  \n  \n Note that the Debug version of the Microsoft Foundation Class Library asserts if one or more of the time-day components is out of range. It is your responsibility to validate the arguments prior to calling.  \n  \n### Example  \n [!code-cpp[NVC_ATLMFC_Utilities#162](../../atl-mfc-shared/codesnippet/cpp/ctimespan-class_2.cpp)]  \n  \n##  <a name=\"ctimespan__format\"></a>  CTimeSpan::Format  \n Generates a formatted string that corresponds to this `CTimeSpan`.  \n  \n```\nCString Format(LPCSTR pFormat) const;\n\nCString Format(LPCTSTR pszFormat) const;\n\nCString Format(UINT nID) const;\n```  \n  \n### Parameters  \n `pFormat`, `pszFormat`  \n A formatting string similar to the `printf` formatting string. Formatting codes, preceded by a percent ( `%`) sign, are replaced by the corresponding `CTimeSpan` component. Other characters in the formatting string are copied unchanged to the returned string. The value and meaning of the formatting codes for **Format** are listed below:  \n  \n- **%D** Total days in this `CTimeSpan`  \n  \n- **%H** Hours in the current day  \n  \n- **%M** Minutes in the current hour  \n  \n- **%S** Seconds in the current minute  \n  \n- **%%** Percent sign  \n  \n `nID`  \n The ID of the string that identifies this format.  \n  \n### Return Value  \n A `CString` object that contains the formatted time.  \n  \n### Remarks  \n The Debug version of the library checks the formatting codes and asserts if the code is not in the list above.  \n  \n### Example  \n [!code-cpp[NVC_ATLMFC_Utilities#163](../../atl-mfc-shared/codesnippet/cpp/ctimespan-class_3.cpp)]  \n  \n##  <a name=\"ctimespan__getdays\"></a>  CTimeSpan::GetDays  \n Returns a value that represents the number of complete days in this `CTimeSpan`.  \n  \n```\nLONGLONG\nGetDays() const throw();\n```  \n  \n### Return Value  \n Returns the number of complete 24-hour days in the time span. This value may be negative if the time span is negative.  \n  \n### Remarks  \n Note that Daylight Savings Time can cause `GetDays` to return a potentially surprising result. For example, when DST is in effect, **GetDays** reports the number of days between April 1 and May 1 as 29, not 30, because one day in April is shortened by an hour and therefore does not count as a complete day.  \n  \n### Example  \n [!code-cpp[NVC_ATLMFC_Utilities#164](../../atl-mfc-shared/codesnippet/cpp/ctimespan-class_4.cpp)]  \n  \n##  <a name=\"ctimespan__gethours\"></a>  CTimeSpan::GetHours  \n Returns a value that represents the number of hours in the current day (–23 through 23).  \n  \n```\nLONG\nGetHours() const throw();\n```  \n  \n### Return Value  \n Returns the number of hours in the current day. The range is –23 through 23.  \n  \n### Example  \n [!code-cpp[NVC_ATLMFC_Utilities#165](../../atl-mfc-shared/codesnippet/cpp/ctimespan-class_5.cpp)]  \n  \n##  <a name=\"ctimespan__getminutes\"></a>  CTimeSpan::GetMinutes  \n Returns a value that represents the number of minutes in the current hour (–59 through 59).  \n  \n```\nLONG\nGetMinutes() const throw();\n```  \n  \n### Return Value  \n Returns the number of minutes in the current hour. The range is –59 through 59.  \n  \n### Example  \n See the example for [GetHours](#ctimespan__gethours).  \n  \n##  <a name=\"ctimespan__getseconds\"></a>  CTimeSpan::GetSeconds  \n Returns a value that represents the number of seconds in the current minute (–59 through 59).  \n  \n```\nLONG\nGetSeconds() const throw();\n```  \n  \n### Return Value  \n Returns the number of seconds in the current minute. The range is –59 through 59.  \n  \n### Example  \n See the example for [GetHours](#ctimespan__gethours).  \n  \n##  <a name=\"ctimespan__gettimespan\"></a>  CTimeSpan::GetTimeSpan  \n Returns the value of the `CTimeSpan` object.  \n  \n```\n_                _time64_t GetTimeSpan() const throw();\n```  \n  \n### Return Value  \n Returns the current value of the `CTimeSpan` object.  \n  \n##  <a name=\"ctimespan__gettotalhours\"></a>  CTimeSpan::GetTotalHours  \n Returns a value that represents the total number of complete hours in this `CTimeSpan`.  \n  \n```\nLONGLONG\nGetTotalHours() const throw();\n```  \n  \n### Return Value  \n Returns the total number of complete hours in this `CTimeSpan`.  \n  \n### Example  \n [!code-cpp[NVC_ATLMFC_Utilities#166](../../atl-mfc-shared/codesnippet/cpp/ctimespan-class_6.cpp)]  \n  \n##  <a name=\"ctimespan__gettotalminutes\"></a>  CTimeSpan::GetTotalMinutes  \n Returns a value that represents the total number of complete minutes in this `CTimeSpan`.  \n  \n```\nLONGLONG\nGetTotalMinutes() const throw();\n```  \n  \n### Return Value  \n Returns the total number of complete minutes in this `CTimeSpan`.  \n  \n### Example  \n See the example for [GetTotalHours](#ctimespan__gettotalhours).  \n  \n##  <a name=\"ctimespan__gettotalseconds\"></a>  CTimeSpan::GetTotalSeconds  \n Returns a value that represents the total number of complete seconds in this `CTimeSpan`.  \n  \n```\nLONGLONG\nGetTotalSeconds() const throw();\n```  \n  \n### Return Value  \n Returns the total number of complete seconds in this `CTimeSpan`.  \n  \n### Example  \n See the example for [GetTotalHours](#ctimespan__gettotalhours).  \n  \n##  <a name=\"ctimespan__operator__add_-\"></a>  CTimeSpan::operator +, -  \n Adds and subtracts `CTimeSpan` objects.  \n  \n```\nCTimeSpan operator+(CTimeSpan span) const throw();\n\nCTimeSpan operator-(CTimeSpan span) const throw();\n```  \n  \n### Parameters  \n `span`  \n The value to add to the `CTimeSpan` object.  \n  \n### Return Value  \n A `CTimeSpan` object representing the result of the operation.  \n  \n### Remarks  \n These two operators allow you to add and subtract `CTimeSpan` objects to and from each other.  \n  \n### Example  \n [!code-cpp[NVC_ATLMFC_Utilities#167](../../atl-mfc-shared/codesnippet/cpp/ctimespan-class_7.cpp)]  \n  \n##  <a name=\"ctimespan__operator__add_eq_-_eq\"></a>  CTimeSpan::operator +=, -=  \n Adds and subtracts a `CTimeSpan` object to and from this `CTimeSpan`.  \n  \n```\nCTimeSpan& operator+=(CTimeSpan span) throw();\n\nCTimeSpan& operator-=(CTimeSpan span) throw();\n```  \n  \n### Parameters  \n `span`  \n The value to add to the `CTimeSpan` object.  \n  \n### Return Value  \n The updated `CTimeSpan` object.  \n  \n### Remarks  \n These operators allow you to add and subtract a `CTimeSpan` object to and from this `CTimeSpan`.  \n  \n### Example  \n [!code-cpp[NVC_ATLMFC_Utilities#168](../../atl-mfc-shared/codesnippet/cpp/ctimespan-class_8.cpp)]  \n  \n##  <a name=\"ctimespan__serialize64\"></a>  CTimeSpan::Serialize64  \n  \n> [!NOTE]\n>  This method is only available in MFC projects.  \n  \n Serializes the data associated with the member variable to or from an archive.  \n  \n```\nCArchive& Serialize64(CArchive& ar);\n```  \n  \n### Parameters  \n `ar`  \n The `CArchive` object that you want to update.  \n  \n### Return Value  \n The updated `CArchive` object.  \n  \n## See Also  \n [asctime, _wasctime](../../c-runtime-library/reference/asctime-wasctime.md)   \n [_ftime, _ftime32, _ftime64](../../c-runtime-library/reference/ftime-ftime32-ftime64.md)   \n [gmtime, _gmtime32, _gmtime64](../../c-runtime-library/reference/gmtime-gmtime32-gmtime64.md)   \n [localtime, _localtime32, _localtime64](../../c-runtime-library/reference/localtime-localtime32-localtime64.md)   \n [strftime, wcsftime, _strftime_l, _wcsftime_l](../../c-runtime-library/reference/strftime-wcsftime-strftime-l-wcsftime-l.md)   \n [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md)   \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [ATL/MFC Shared Classes](../../atl-mfc-shared/atl-mfc-shared-classes.md)\n\n\n"}