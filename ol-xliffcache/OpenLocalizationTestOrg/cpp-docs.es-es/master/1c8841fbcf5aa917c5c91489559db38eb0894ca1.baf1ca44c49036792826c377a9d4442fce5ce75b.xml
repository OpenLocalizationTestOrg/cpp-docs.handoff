{"nodes":[{"pos":[12,65],"content":"-MD, -MT, -LD (Use Run-Time Library) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-MD, -MT, -LD (Use Run-Time Library) | Microsoft Docs","pos":[0,53]}]},{"content":"/MD, /MT, /LD (Use Run-Time Library)","pos":[1453,1489]},{"content":"Indicates whether a multithreaded module is a DLL and specifies retail or debug versions of the run-time library.","pos":[1490,1603]},{"content":"Syntax","pos":[1612,1618]},{"content":"Remarks","pos":[1669,1676]},{"content":"Option","pos":[1683,1689]},{"content":"Description","pos":[1690,1701]},{"content":"/MD","pos":[1743,1746]},{"content":"Causes the application to use the multithread-specific and DLL-specific version of the run-time library.","pos":[1749,1853]},{"content":"Defines <ph id=\"ph1\">`_MT`</ph> and <ph id=\"ph2\">`_DLL`</ph> and causes the compiler to place the library name MSVCRT.lib into the .obj file.","pos":[1854,1959],"source":" Defines `_MT` and `_DLL` and causes the compiler to place the library name MSVCRT.lib into the .obj file."},{"content":"Applications compiled with this option are statically linked to MSVCRT.lib.","pos":[1972,2047]},{"content":"This library provides a layer of code that enables the linker to resolve external references.","pos":[2048,2141]},{"content":"The actual working code is contained in MSVCR<bpt id=\"p1\">*</bpt>versionnumber<ept id=\"p1\">*</ept>.DLL, which must be available at run time to applications linked with MSVCRT.lib.","pos":[2142,2283],"source":" The actual working code is contained in MSVCR*versionnumber*.DLL, which must be available at run time to applications linked with MSVCRT.lib."},{"content":"/MDd","pos":[2290,2294]},{"content":"Defines <ph id=\"ph1\">`_DEBUG`</ph>, <ph id=\"ph2\">`_MT`</ph>, and <ph id=\"ph3\">`_DLL`</ph> and causes the application to use the debug multithread-specific and DLL-specific version of the run-time library.","pos":[2297,2447],"source":"Defines `_DEBUG`, `_MT`, and `_DLL` and causes the application to use the debug multithread-specific and DLL-specific version of the run-time library."},{"content":"It also causes the compiler to place the library name MSVCRTD.lib into the .obj file.","pos":[2448,2533]},{"content":"/MT","pos":[2540,2543]},{"content":"Causes the application to use the multithread, static version of the run-time library.","pos":[2546,2632]},{"content":"Defines <ph id=\"ph1\">`_MT`</ph> and causes the compiler to place the library name LIBCMT.lib into the .obj file so that the linker will use LIBCMT.lib to resolve external symbols.","pos":[2633,2794],"source":" Defines `_MT` and causes the compiler to place the library name LIBCMT.lib into the .obj file so that the linker will use LIBCMT.lib to resolve external symbols."},{"content":"/MTd","pos":[2801,2805]},{"content":"Defines <ph id=\"ph1\">`_DEBUG`</ph> and <ph id=\"ph2\">`_MT`</ph>.","pos":[2808,2835],"source":"Defines `_DEBUG` and `_MT`."},{"content":"This option also causes the compiler to place the library name LIBCMTD.lib into the .obj file so that the linker will use LIBCMTD.lib to resolve external symbols.","pos":[2836,2998]},{"content":"/LD","pos":[3005,3008]},{"content":"Creates a DLL.","pos":[3011,3025]},{"content":"Passes the <bpt id=\"p1\">**</bpt>/DLL<ept id=\"p1\">**</ept> option to the linker.","pos":[3038,3079],"source":" Passes the **/DLL** option to the linker."},{"content":"The linker looks for, but does not require, a <ph id=\"ph1\">`DllMain`</ph> function.","pos":[3080,3145],"source":" The linker looks for, but does not require, a `DllMain` function."},{"content":"If you do not write a <ph id=\"ph1\">`DllMain`</ph> function, the linker inserts a <ph id=\"ph2\">`DllMain`</ph> function that returns TRUE.","pos":[3146,3246],"source":" If you do not write a `DllMain` function, the linker inserts a `DllMain` function that returns TRUE."},{"content":"Links the DLL startup code.","pos":[3259,3286]},{"content":"Creates an import library (.lib), if an export (.exp) file is not specified on the command line.","pos":[3299,3395]},{"content":"You link the import library to applications that call your DLL.","pos":[3396,3459]},{"content":"Interprets <bpt id=\"p1\">[</bpt>/Fe (Name EXE File)<ept id=\"p1\">](../../build/reference/fe-name-exe-file.md)</ept> as naming a DLL rather than an .exe file.","pos":[3472,3589],"source":" Interprets [/Fe (Name EXE File)](../../build/reference/fe-name-exe-file.md) as naming a DLL rather than an .exe file."},{"content":"By default, the program name becomes <bpt id=\"p1\">*</bpt>basename<ept id=\"p1\">*</ept>.dll instead of <bpt id=\"p2\">*</bpt>basename<ept id=\"p2\">*</ept>.exe.","pos":[3590,3668],"source":" By default, the program name becomes *basename*.dll instead of *basename*.exe."},{"content":"Implies <bpt id=\"p1\">**</bpt>/MT<ept id=\"p1\">**</ept> unless you explicitly specify <bpt id=\"p2\">**</bpt>/MD<ept id=\"p2\">**</ept>.","pos":[3681,3735],"source":" Implies **/MT** unless you explicitly specify **/MD**."},{"content":"/LDd","pos":[3742,3746]},{"content":"Creates a debug DLL.","pos":[3749,3769]},{"content":"Defines <ph id=\"ph1\">`_MT`</ph> and <ph id=\"ph2\">`_DEBUG`</ph>.","pos":[3770,3797],"source":" Defines `_MT` and `_DEBUG`."},{"pos":[3805,4092],"content":"For more information about C run-time libraries and which libraries are used when you compile with <bpt id=\"p1\">[</bpt>/clr (Common Language Runtime Compilation)<ept id=\"p1\">](../../build/reference/clr-common-language-runtime-compilation.md)</ept>, see <bpt id=\"p2\">[</bpt>CRT Library Features<ept id=\"p2\">](../../c-runtime-library/crt-library-features.md)</ept>.","source":"For more information about C run-time libraries and which libraries are used when you compile with [/clr (Common Language Runtime Compilation)](../../build/reference/clr-common-language-runtime-compilation.md), see [CRT Library Features](../../c-runtime-library/crt-library-features.md)."},{"pos":[4099,4253],"content":"All modules passed to a given invocation of the linker must have been compiled with the same run-time library compiler option (<bpt id=\"p1\">**</bpt>/MD<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>/MT<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>/LD<ept id=\"p3\">**</ept>).","source":"All modules passed to a given invocation of the linker must have been compiled with the same run-time library compiler option (**/MD**, **/MT**, **/LD**)."},{"pos":[4260,4436],"content":"For more information about how to use the debug versions of the run-time libraries, see <bpt id=\"p1\">[</bpt>C Run-Time Library Reference<ept id=\"p1\">](../../c-runtime-library/c-run-time-library-reference.md)</ept>.","source":"For more information about how to use the debug versions of the run-time libraries, see [C Run-Time Library Reference](../../c-runtime-library/c-run-time-library-reference.md)."},{"content":"Knowledge Base article Q140584 also discusses how to choose the appropriate C run-time library.","pos":[4443,4538]},{"pos":[4545,4626],"content":"For more about DLLs, see <bpt id=\"p1\">[</bpt>DLLs in Visual C++<ept id=\"p1\">](../../build/dlls-in-visual-cpp.md)</ept>.","source":"For more about DLLs, see [DLLs in Visual C++](../../build/dlls-in-visual-cpp.md)."},{"content":"To set this compiler option in the Visual Studio development environment","pos":[4636,4708]},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[4718,4767],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[4768,4865],"source":" For details, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[4875,4903],"content":"Expand the <bpt id=\"p1\">**</bpt>C/C++<ept id=\"p1\">**</ept> folder.","source":"Expand the **C/C++** folder."},{"pos":[4913,4958],"content":"Select the <bpt id=\"p1\">**</bpt>Code Generation<ept id=\"p1\">**</ept> property page.","source":"Select the **Code Generation** property page."},{"pos":[4968,5008],"content":"Modify the <bpt id=\"p1\">**</bpt>Runtime Library<ept id=\"p1\">**</ept> property.","source":"Modify the **Runtime Library** property."},{"content":"To set this compiler option programmatically","pos":[5018,5062]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.RuntimeLibrary%2A&gt;.","pos":[5072,5157],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.RuntimeLibrary%2A>."},{"content":"See Also","pos":[5166,5174]},{"content":"Compiler Options","pos":[5179,5195]},{"content":"Setting Compiler Options","pos":[5245,5269]}],"content":"---\ntitle: \"-MD, -MT, -LD (Use Run-Time Library) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/ld\"\n  - \"/mt\"\n  - \"VC.Project.VCCLWCECompilerTool.RuntimeLibrary\"\n  - \"VC.Project.VCCLCompilerTool.RuntimeLibrary\"\n  - \"/md\"\n  - \"/ml\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"/MT compiler option [C++]\"\n  - \"-MD compiler option [C++]\"\n  - \"threading [C++], multithread compiler option\"\n  - \"MSVCRTD.lib\"\n  - \"MSVCRT.lib\"\n  - \"LIBCMT.lib\"\n  - \"MD compiler option [C++]\"\n  - \"/MD compiler option [C++]\"\n  - \"MT compiler option [C++]\"\n  - \"LD compiler option [C++]\"\n  - \"MDd compiler option [C++]\"\n  - \"-MDd compiler option [C++]\"\n  - \"LIBCD.lib\"\n  - \"-MTd compiler option [C++]\"\n  - \"MTd compiler option [C++]\"\n  - \"/MTd compiler option [C++]\"\n  - \"-LD compiler option [C++]\"\n  - \"/MDd compiler option [C++]\"\n  - \"multithread compiler option\"\n  - \"_STATIC_CPPLIB symbol\"\n  - \"LIBC.lib\"\n  - \"/LD compiler option [C++]\"\n  - \"DLLs [C++], compiler options\"\n  - \"LIBCMTD.lib\"\n  - \"-MT compiler option [C++]\"\nms.assetid: cf7ed652-dc3a-49b3-aab9-ad60e5395579\ncaps.latest.revision: 19\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /MD, /MT, /LD (Use Run-Time Library)\nIndicates whether a multithreaded module is a DLL and specifies retail or debug versions of the run-time library.  \n  \n## Syntax  \n  \n```  \n/MD[d]  \n/MT[d]  \n/LD[d]  \n```  \n  \n## Remarks  \n  \n|Option|Description|  \n|------------|-----------------|  \n|**/MD**|Causes the application to use the multithread-specific and DLL-specific version of the run-time library. Defines `_MT` and `_DLL` and causes the compiler to place the library name MSVCRT.lib into the .obj file.<br /><br /> Applications compiled with this option are statically linked to MSVCRT.lib. This library provides a layer of code that enables the linker to resolve external references. The actual working code is contained in MSVCR*versionnumber*.DLL, which must be available at run time to applications linked with MSVCRT.lib.|  \n|**/MDd**|Defines `_DEBUG`, `_MT`, and `_DLL` and causes the application to use the debug multithread-specific and DLL-specific version of the run-time library. It also causes the compiler to place the library name MSVCRTD.lib into the .obj file.|  \n|**/MT**|Causes the application to use the multithread, static version of the run-time library. Defines `_MT` and causes the compiler to place the library name LIBCMT.lib into the .obj file so that the linker will use LIBCMT.lib to resolve external symbols.|  \n|**/MTd**|Defines `_DEBUG` and `_MT`. This option also causes the compiler to place the library name LIBCMTD.lib into the .obj file so that the linker will use LIBCMTD.lib to resolve external symbols.|  \n|**/LD**|Creates a DLL.<br /><br /> Passes the **/DLL** option to the linker. The linker looks for, but does not require, a `DllMain` function. If you do not write a `DllMain` function, the linker inserts a `DllMain` function that returns TRUE.<br /><br /> Links the DLL startup code.<br /><br /> Creates an import library (.lib), if an export (.exp) file is not specified on the command line. You link the import library to applications that call your DLL.<br /><br /> Interprets [/Fe (Name EXE File)](../../build/reference/fe-name-exe-file.md) as naming a DLL rather than an .exe file. By default, the program name becomes *basename*.dll instead of *basename*.exe.<br /><br /> Implies **/MT** unless you explicitly specify **/MD**.|  \n|**/LDd**|Creates a debug DLL. Defines `_MT` and `_DEBUG`.|  \n  \n For more information about C run-time libraries and which libraries are used when you compile with [/clr (Common Language Runtime Compilation)](../../build/reference/clr-common-language-runtime-compilation.md), see [CRT Library Features](../../c-runtime-library/crt-library-features.md).  \n  \n All modules passed to a given invocation of the linker must have been compiled with the same run-time library compiler option (**/MD**, **/MT**, **/LD**).  \n  \n For more information about how to use the debug versions of the run-time libraries, see [C Run-Time Library Reference](../../c-runtime-library/c-run-time-library-reference.md).  \n  \n Knowledge Base article Q140584 also discusses how to choose the appropriate C run-time library.  \n  \n For more about DLLs, see [DLLs in Visual C++](../../build/dlls-in-visual-cpp.md).  \n  \n### To set this compiler option in the Visual Studio development environment  \n  \n1.  Open the project's **Property Pages** dialog box. For details, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  Expand the **C/C++** folder.  \n  \n3.  Select the **Code Generation** property page.  \n  \n4.  Modify the **Runtime Library** property.  \n  \n### To set this compiler option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.RuntimeLibrary%2A>.  \n  \n## See Also  \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)"}