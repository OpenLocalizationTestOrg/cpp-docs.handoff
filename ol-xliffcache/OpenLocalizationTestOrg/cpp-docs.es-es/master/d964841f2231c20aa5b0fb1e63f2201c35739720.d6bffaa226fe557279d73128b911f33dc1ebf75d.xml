{"nodes":[{"pos":[12,51],"content":"unbounded_buffer Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"unbounded_buffer Class | Microsoft Docs","pos":[0,39]}]},{"pos":[594,743],"content":"An <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block is a multi-target, multi-source, ordered <ph id=\"ph2\">`propagator_block`</ph> capable of storing an unbounded number of messages.","source":"An `unbounded_buffer` messaging block is a multi-target, multi-source, ordered `propagator_block` capable of storing an unbounded number of messages."},{"pos":[752,758],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[979,989],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The payload type of the messages stored and propagated by the buffer.","pos":[1004,1073]},{"pos":[1082,1089],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[1099,1118],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[1125,1129]},{"content":"Description","pos":[1130,1141]},{"pos":[1179,1234],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::unbounded_buffer Constructor<ept id=\"p1\">](#ctor)</ept>","source":"[unbounded_buffer::unbounded_buffer Constructor](#ctor)"},{"content":"Overloaded.","pos":[1235,1246]},{"content":"Constructs an <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","pos":[1247,1296],"source":" Constructs an `unbounded_buffer` messaging block."},{"pos":[1301,1356],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::~unbounded_buffer Destructor<ept id=\"p1\">](#dtor)</ept>","source":"[unbounded_buffer::~unbounded_buffer Destructor](#dtor)"},{"pos":[1357,1405],"content":"Destroys the <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"Destroys the `unbounded_buffer` messaging block."},{"pos":[1416,1430],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[1437,1441]},{"content":"Description","pos":[1442,1453]},{"pos":[1491,1535],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::dequeue Method<ept id=\"p1\">](#dequeue)</ept>","source":"[unbounded_buffer::dequeue Method](#dequeue)"},{"pos":[1536,1596],"content":"Removes an item from the <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"Removes an item from the `unbounded_buffer` messaging block."},{"pos":[1601,1645],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::enqueue Method<ept id=\"p1\">](#enqueue)</ept>","source":"[unbounded_buffer::enqueue Method](#enqueue)"},{"pos":[1646,1701],"content":"Adds an item to the <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"Adds an item to the `unbounded_buffer` messaging block."},{"pos":[1712,1729],"content":"Protected Methods","linkify":"Protected Methods","nodes":[{"content":"Protected Methods","pos":[0,17]}]},{"content":"Name","pos":[1736,1740]},{"content":"Description","pos":[1741,1752]},{"pos":[1790,1848],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::accept_message Method<ept id=\"p1\">](#accept_message)</ept>","source":"[unbounded_buffer::accept_message Method](#accept_message)"},{"pos":[1849,1965],"content":"Accepts a message that was offered by this <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block, transferring ownership to the caller.","source":"Accepts a message that was offered by this `unbounded_buffer` messaging block, transferring ownership to the caller."},{"pos":[1970,2030],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::consume_message Method<ept id=\"p1\">](#consume_message)</ept>","source":"[unbounded_buffer::consume_message Method](#consume_message)"},{"pos":[2031,2176],"content":"Consumes a message previously offered by the <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block and reserved by the target, transferring ownership to the caller.","source":"Consumes a message previously offered by the `unbounded_buffer` messaging block and reserved by the target, transferring ownership to the caller."},{"pos":[2181,2259],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::link_target_notification Method<ept id=\"p1\">](#link_target_notification)</ept>","source":"[unbounded_buffer::link_target_notification Method](#link_target_notification)"},{"pos":[2260,2362],"content":"A callback that notifies that a new target has been linked to this <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"A callback that notifies that a new target has been linked to this `unbounded_buffer` messaging block."},{"pos":[2367,2441],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::process_input_messages Method<ept id=\"p1\">](#process_input_messages)</ept>","source":"[unbounded_buffer::process_input_messages Method](#process_input_messages)"},{"pos":[2442,2568],"content":"Places the <ph id=\"ph1\">`message``_PMessage`</ph> in this <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block and tries to offer it to all of the linked targets.","source":"Places the `message``_PMessage` in this `unbounded_buffer` messaging block and tries to offer it to all of the linked targets."},{"pos":[2573,2637],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::propagate_message Method<ept id=\"p1\">](#propagate_message)</ept>","source":"[unbounded_buffer::propagate_message Method](#propagate_message)"},{"content":"Asynchronously passes a message from an <ph id=\"ph1\">`ISource`</ph> block to this <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block.","pos":[2638,2737],"source":"Asynchronously passes a message from an `ISource` block to this `unbounded_buffer` messaging block."},{"content":"It is invoked by the <ph id=\"ph1\">`propagate`</ph> method, when called by a source block.","pos":[2738,2809],"source":" It is invoked by the `propagate` method, when called by a source block."},{"pos":[2814,2894],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::propagate_output_messages Method<ept id=\"p1\">](#propagate_output_messages)</ept>","source":"[unbounded_buffer::propagate_output_messages Method](#propagate_output_messages)"},{"content":"Places the <ph id=\"ph1\">`message``_PMessage`</ph> in this <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block and tries to offer it to all of the linked targets.","pos":[2895,3021],"source":"Places the `message``_PMessage` in this `unbounded_buffer` messaging block and tries to offer it to all of the linked targets."},{"content":"(Overrides <bpt id=\"p1\">[</bpt>source_block::propagate_output_messages<ept id=\"p1\">](source-block-class.md#propagate_output_messages)</ept>.)","pos":[3022,3125],"source":" (Overrides [source_block::propagate_output_messages](source-block-class.md#propagate_output_messages).)"},{"pos":[3130,3190],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::release_message Method<ept id=\"p1\">](#release_message)</ept>","source":"[unbounded_buffer::release_message Method](#release_message)"},{"content":"Releases a previous message reservation.","pos":[3191,3231]},{"content":"(Overrides <bpt id=\"p1\">[</bpt>source_block::release_message<ept id=\"p1\">](source-block-class.md#release_message)</ept>.)","pos":[3232,3315],"source":" (Overrides [source_block::release_message](source-block-class.md#release_message).)"},{"pos":[3320,3380],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::reserve_message Method<ept id=\"p1\">](#reserve_message)</ept>","source":"[unbounded_buffer::reserve_message Method](#reserve_message)"},{"content":"Reserves a message previously offered by this <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","pos":[3381,3462],"source":"Reserves a message previously offered by this `unbounded_buffer` messaging block."},{"content":"(Overrides <bpt id=\"p1\">[</bpt>source_block::reserve_message<ept id=\"p1\">](source-block-class.md#reserve_message)</ept>.)","pos":[3463,3546],"source":" (Overrides [source_block::reserve_message](source-block-class.md#reserve_message).)"},{"pos":[3551,3617],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::resume_propagation Method<ept id=\"p1\">](#resume_propagation)</ept>","source":"[unbounded_buffer::resume_propagation Method](#resume_propagation)"},{"content":"Resumes propagation after a reservation has been released.","pos":[3618,3676]},{"content":"(Overrides <bpt id=\"p1\">[</bpt>source_block::resume_propagation<ept id=\"p1\">](source-block-class.md#resume_propagation)</ept>.)","pos":[3677,3766],"source":" (Overrides [source_block::resume_propagation](source-block-class.md#resume_propagation).)"},{"pos":[3771,3825],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::send_message Method<ept id=\"p1\">](#send_message)</ept>","source":"[unbounded_buffer::send_message Method](#send_message)"},{"content":"Synchronously passes a message from an <ph id=\"ph1\">`ISource`</ph> block to this <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block.","pos":[3826,3924],"source":"Synchronously passes a message from an `ISource` block to this `unbounded_buffer` messaging block."},{"content":"It is invoked by the <ph id=\"ph1\">`send`</ph> method, when called by a source block.","pos":[3925,3991],"source":" It is invoked by the `send` method, when called by a source block."},{"pos":[3996,4076],"content":"<bpt id=\"p1\">[</bpt>unbounded_buffer::supports_anonymous_source Method<ept id=\"p1\">](#supports_anonymous_source)</ept>","source":"[unbounded_buffer::supports_anonymous_source Method](#supports_anonymous_source)"},{"content":"Overrides the <ph id=\"ph1\">`supports_anonymous_source`</ph> method to indicate that this block can accept messages offered to it by a source that is not linked.","pos":[4077,4219],"source":"Overrides the `supports_anonymous_source` method to indicate that this block can accept messages offered to it by a source that is not linked."},{"content":"(Overrides <bpt id=\"p1\">[</bpt>ITarget::supports_anonymous_source<ept id=\"p1\">](itarget-class.md#supports_anonymous_source)</ept>.)","pos":[4220,4313],"source":" (Overrides [ITarget::supports_anonymous_source](itarget-class.md#supports_anonymous_source).)"},{"pos":[4319,4410],"content":"For more information, see <bpt id=\"p1\">[</bpt>Asynchronous Message Blocks<ept id=\"p1\">](../asynchronous-message-blocks.md)</ept>.","source":"For more information, see [Asynchronous Message Blocks](../asynchronous-message-blocks.md)."},{"pos":[4419,4440],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[4444,4471],"content":"<bpt id=\"p1\">[</bpt>ISource<ept id=\"p1\">](isource-class.md)</ept>","source":"[ISource](isource-class.md)"},{"pos":[4478,4505],"content":"<bpt id=\"p1\">[</bpt>ITarget<ept id=\"p1\">](itarget-class.md)</ept>","source":"[ITarget](itarget-class.md)"},{"pos":[4512,4549],"content":"<bpt id=\"p1\">[</bpt>source_block<ept id=\"p1\">](source-block-class.md)</ept>","source":"[source_block](source-block-class.md)"},{"pos":[4556,4601],"content":"<bpt id=\"p1\">[</bpt>propagator_block<ept id=\"p1\">](propagator-block-class.md)</ept>","source":"[propagator_block](propagator-block-class.md)"},{"pos":[4635,4647],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[4651,4671],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> agents.h","source":"**Header:** agents.h"},{"pos":[4678,4704],"content":"<bpt id=\"p1\">**</bpt>Namespace:<ept id=\"p1\">**</ept> concurrency","source":"**Namespace:** concurrency"},{"pos":[4714,4784],"content":"<bpt id=\"p1\">&lt;a name=\"accept_message\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::accept_message Method","linkify":"<a name=\"accept_message\"></a>  unbounded_buffer::accept_message Method","source":"<a name=\"accept_message\"></a>  unbounded_buffer::accept_message Method"},{"pos":[4788,4904],"content":"Accepts a message that was offered by this <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block, transferring ownership to the caller.","source":"Accepts a message that was offered by this `unbounded_buffer` messaging block, transferring ownership to the caller."},{"pos":[5029,5039],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The <ph id=\"ph1\">`runtime_object_identity`</ph> of the offered <ph id=\"ph2\">`message`</ph> object.","pos":[5055,5117],"source":" The `runtime_object_identity` of the offered `message` object."},{"pos":[5127,5139],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[5143,5214],"content":"A pointer to the <ph id=\"ph1\">`message`</ph> object that the caller now has ownership of.","source":"A pointer to the `message` object that the caller now has ownership of."},{"pos":[5224,5296],"content":"<bpt id=\"p1\">&lt;a name=\"consume_message\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::consume_message Method","linkify":"<a name=\"consume_message\"></a>  unbounded_buffer::consume_message Method","source":"<a name=\"consume_message\"></a>  unbounded_buffer::consume_message Method"},{"pos":[5300,5445],"content":"Consumes a message previously offered by the <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block and reserved by the target, transferring ownership to the caller.","source":"Consumes a message previously offered by the `unbounded_buffer` messaging block and reserved by the target, transferring ownership to the caller."},{"pos":[5571,5581],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The <ph id=\"ph1\">`runtime_object_identity`</ph> of the <ph id=\"ph2\">`message`</ph> object being consumed.","pos":[5597,5666],"source":" The `runtime_object_identity` of the `message` object being consumed."},{"pos":[5676,5688],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[5692,5763],"content":"A pointer to the <ph id=\"ph1\">`message`</ph> object that the caller now has ownership of.","source":"A pointer to the `message` object that the caller now has ownership of."},{"pos":[5773,5780],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[5784,5851],"content":"Similar to <ph id=\"ph1\">`accept`</ph>, but is always preceded by a call to <ph id=\"ph2\">`reserve`</ph>.","source":"Similar to `accept`, but is always preceded by a call to `reserve`."},{"pos":[5861,5917],"content":"<bpt id=\"p1\">&lt;a name=\"dequeue\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::dequeue Method","linkify":"<a name=\"dequeue\"></a>  unbounded_buffer::dequeue Method","source":"<a name=\"dequeue\"></a>  unbounded_buffer::dequeue Method"},{"pos":[5921,5981],"content":"Removes an item from the <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"Removes an item from the `unbounded_buffer` messaging block."},{"pos":[6025,6037],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[6041,6104],"content":"The payload of the message removed from the <ph id=\"ph1\">`unbounded_buffer`</ph>.","source":"The payload of the message removed from the `unbounded_buffer`."},{"pos":[6114,6170],"content":"<bpt id=\"p1\">&lt;a name=\"enqueue\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::enqueue Method","linkify":"<a name=\"enqueue\"></a>  unbounded_buffer::enqueue Method","source":"<a name=\"enqueue\"></a>  unbounded_buffer::enqueue Method"},{"pos":[6174,6229],"content":"Adds an item to the <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"Adds an item to the `unbounded_buffer` messaging block."},{"pos":[6315,6325],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The item to add.","pos":[6340,6356]},{"pos":[6366,6378],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[6382,6433],"content":"<ph id=\"ph1\">`true`</ph> if the item was accepted, <ph id=\"ph2\">`false`</ph> otherwise.","source":"`true` if the item was accepted, `false` otherwise."},{"pos":[6443,6533],"content":"<bpt id=\"p1\">&lt;a name=\"link_target_notification\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::link_target_notification Method","linkify":"<a name=\"link_target_notification\"></a>  unbounded_buffer::link_target_notification Method","source":"<a name=\"link_target_notification\"></a>  unbounded_buffer::link_target_notification Method"},{"pos":[6537,6639],"content":"A callback that notifies that a new target has been linked to this <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"A callback that notifies that a new target has been linked to this `unbounded_buffer` messaging block."},{"pos":[6765,6775],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A pointer to the newly linked target.","pos":[6793,6830]},{"pos":[6840,6916],"content":"<bpt id=\"p1\">&lt;a name=\"propagate_message\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::propagate_message Method","linkify":"<a name=\"propagate_message\"></a>  unbounded_buffer::propagate_message Method","source":"<a name=\"propagate_message\"></a>  unbounded_buffer::propagate_message Method"},{"content":"Asynchronously passes a message from an <ph id=\"ph1\">`ISource`</ph> block to this <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block.","pos":[6920,7019],"source":"Asynchronously passes a message from an `ISource` block to this `unbounded_buffer` messaging block."},{"content":"It is invoked by the <ph id=\"ph1\">`propagate`</ph> method, when called by a source block.","pos":[7020,7091],"source":" It is invoked by the `propagate` method, when called by a source block."},{"pos":[7277,7287],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A pointer to the <ph id=\"ph1\">`message`</ph> object.","pos":[7306,7340],"source":" A pointer to the `message` object."},{"content":"A pointer to the source block offering the message.","pos":[7361,7412]},{"pos":[7422,7434],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[7438,7565],"content":"A <bpt id=\"p1\">[</bpt>message_status<ept id=\"p1\">](concurrency-namespace-enums.md#message_status)</ept> indication of what the target decided to do with the message.","source":"A [message_status](concurrency-namespace-enums.md#message_status) indication of what the target decided to do with the message."},{"pos":[7575,7667],"content":"<bpt id=\"p1\">&lt;a name=\"propagate_output_messages\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::propagate_output_messages Method","linkify":"<a name=\"propagate_output_messages\"></a>  unbounded_buffer::propagate_output_messages Method","source":"<a name=\"propagate_output_messages\"></a>  unbounded_buffer::propagate_output_messages Method"},{"pos":[7671,7797],"content":"Places the <ph id=\"ph1\">`message``_PMessage`</ph> in this <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block and tries to offer it to all of the linked targets.","source":"Places the `message``_PMessage` in this `unbounded_buffer` messaging block and tries to offer it to all of the linked targets."},{"pos":[7866,7873],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"If another message is already ahead of this one in the <ph id=\"ph1\">`unbounded_buffer`</ph>, propagation to linked targets will not occur until any earlier messages have been accepted or consumed.","pos":[7877,8055],"source":"If another message is already ahead of this one in the `unbounded_buffer`, propagation to linked targets will not occur until any earlier messages have been accepted or consumed."},{"content":"The first linked target to successfully <ph id=\"ph1\">`accept`</ph> or <ph id=\"ph2\">`consume`</ph> the message takes ownership, and no other target can then get the message.","pos":[8056,8192],"source":" The first linked target to successfully `accept` or `consume` the message takes ownership, and no other target can then get the message."},{"pos":[8202,8288],"content":"<bpt id=\"p1\">&lt;a name=\"process_input_messages\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::process_input_messages Method","linkify":"<a name=\"process_input_messages\"></a>  unbounded_buffer::process_input_messages Method","source":"<a name=\"process_input_messages\"></a>  unbounded_buffer::process_input_messages Method"},{"pos":[8292,8418],"content":"Places the <ph id=\"ph1\">`message``_PMessage`</ph> in this <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block and tries to offer it to all of the linked targets.","source":"Places the `message``_PMessage` in this `unbounded_buffer` messaging block and tries to offer it to all of the linked targets."},{"pos":[8543,8553],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"pos":[8578,8650],"content":"<bpt id=\"p1\">&lt;a name=\"release_message\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::release_message Method","linkify":"<a name=\"release_message\"></a>  unbounded_buffer::release_message Method","source":"<a name=\"release_message\"></a>  unbounded_buffer::release_message Method"},{"content":"Releases a previous message reservation.","pos":[8654,8694]},{"pos":[8808,8818],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The <ph id=\"ph1\">`runtime_object_identity`</ph> of the <ph id=\"ph2\">`message`</ph> object being released.","pos":[8834,8903],"source":" The `runtime_object_identity` of the `message` object being released."},{"pos":[8913,8985],"content":"<bpt id=\"p1\">&lt;a name=\"reserve_message\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::reserve_message Method","linkify":"<a name=\"reserve_message\"></a>  unbounded_buffer::reserve_message Method","source":"<a name=\"reserve_message\"></a>  unbounded_buffer::reserve_message Method"},{"pos":[8989,9070],"content":"Reserves a message previously offered by this <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"Reserves a message previously offered by this `unbounded_buffer` messaging block."},{"pos":[9184,9194],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The <ph id=\"ph1\">`runtime_object_identity`</ph> of the <ph id=\"ph2\">`message`</ph> object being reserved.","pos":[9210,9279],"source":" The `runtime_object_identity` of the `message` object being reserved."},{"pos":[9289,9301],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[9305,9372],"content":"<ph id=\"ph1\">`true`</ph> if the message was successfully reserved, <ph id=\"ph2\">`false`</ph> otherwise.","source":"`true` if the message was successfully reserved, `false` otherwise."},{"pos":[9382,9389],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[9393,9538],"content":"After <ph id=\"ph1\">`reserve`</ph> is called, if it returns <ph id=\"ph2\">`true`</ph>, either <ph id=\"ph3\">`consume`</ph> or <ph id=\"ph4\">`release`</ph> must be called to either take or release ownership of the message.","source":"After `reserve` is called, if it returns `true`, either `consume` or `release` must be called to either take or release ownership of the message."},{"pos":[9548,9626],"content":"<bpt id=\"p1\">&lt;a name=\"resume_propagation\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::resume_propagation Method","linkify":"<a name=\"resume_propagation\"></a>  unbounded_buffer::resume_propagation Method","source":"<a name=\"resume_propagation\"></a>  unbounded_buffer::resume_propagation Method"},{"content":"Resumes propagation after a reservation has been released.","pos":[9630,9688]},{"pos":[9750,9816],"content":"<bpt id=\"p1\">&lt;a name=\"send_message\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::send_message Method","linkify":"<a name=\"send_message\"></a>  unbounded_buffer::send_message Method","source":"<a name=\"send_message\"></a>  unbounded_buffer::send_message Method"},{"content":"Synchronously passes a message from an <ph id=\"ph1\">`ISource`</ph> block to this <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block.","pos":[9820,9918],"source":"Synchronously passes a message from an `ISource` block to this `unbounded_buffer` messaging block."},{"content":"It is invoked by the <ph id=\"ph1\">`send`</ph> method, when called by a source block.","pos":[9919,9985],"source":" It is invoked by the `send` method, when called by a source block."},{"pos":[10166,10176],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A pointer to the <ph id=\"ph1\">`message`</ph> object.","pos":[10195,10229],"source":" A pointer to the `message` object."},{"content":"A pointer to the source block offering the message.","pos":[10250,10301]},{"pos":[10311,10323],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[10327,10454],"content":"A <bpt id=\"p1\">[</bpt>message_status<ept id=\"p1\">](concurrency-namespace-enums.md#message_status)</ept> indication of what the target decided to do with the message.","source":"A [message_status](concurrency-namespace-enums.md#message_status) indication of what the target decided to do with the message."},{"pos":[10464,10556],"content":"<bpt id=\"p1\">&lt;a name=\"supports_anonymous_source\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::supports_anonymous_source Method","linkify":"<a name=\"supports_anonymous_source\"></a>  unbounded_buffer::supports_anonymous_source Method","source":"<a name=\"supports_anonymous_source\"></a>  unbounded_buffer::supports_anonymous_source Method"},{"pos":[10560,10702],"content":"Overrides the <ph id=\"ph1\">`supports_anonymous_source`</ph> method to indicate that this block can accept messages offered to it by a source that is not linked.","source":"Overrides the `supports_anonymous_source` method to indicate that this block can accept messages offered to it by a source that is not linked."},{"pos":[10771,10783],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[10787,10847],"content":"<ph id=\"ph1\">`true`</ph> because the block does not postpone offered messages.","source":"`true` because the block does not postpone offered messages."},{"pos":[10857,10924],"content":"<bpt id=\"p1\">&lt;a name=\"ctor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::unbounded_buffer Constructor","linkify":"<a name=\"ctor\"></a>  unbounded_buffer::unbounded_buffer Constructor","source":"<a name=\"ctor\"></a>  unbounded_buffer::unbounded_buffer Constructor"},{"pos":[10928,10977],"content":"Constructs an <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"Constructs an `unbounded_buffer` messaging block."},{"pos":[11508,11518],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A filter function which determines whether offered messages should be accepted.","pos":[11535,11614]},{"content":"The <ph id=\"ph1\">`Scheduler`</ph> object within which the propagation task for the <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block is scheduled.","pos":[11638,11751],"source":" The `Scheduler` object within which the propagation task for the `unbounded_buffer` messaging block is scheduled."},{"content":"The <ph id=\"ph1\">`ScheduleGroup`</ph> object within which the propagation task for the <ph id=\"ph2\">`unbounded_buffer`</ph> messaging block is scheduled.","pos":[11779,11896],"source":" The `ScheduleGroup` object within which the propagation task for the `unbounded_buffer` messaging block is scheduled."},{"content":"The <ph id=\"ph1\">`Scheduler`</ph> object used is implied by the schedule group.","pos":[11897,11958],"source":" The `Scheduler` object used is implied by the schedule group."},{"pos":[11968,11975],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[11979,12090],"content":"The runtime uses the default scheduler if you do not specify the <ph id=\"ph1\">`_PScheduler`</ph> or <ph id=\"ph2\">`_PScheduleGroup`</ph> parameters.","source":"The runtime uses the default scheduler if you do not specify the `_PScheduler` or `_PScheduleGroup` parameters."},{"pos":[12097,12297],"content":"The type <ph id=\"ph1\">`filter_method`</ph> is a functor with signature <ph id=\"ph2\">`bool (_Type const &amp;)`</ph> which is invoked by this <ph id=\"ph3\">`unbounded_buffer`</ph> messaging block to determine whether or not it should accept an offered message.","source":"The type `filter_method` is a functor with signature `bool (_Type const &)` which is invoked by this `unbounded_buffer` messaging block to determine whether or not it should accept an offered message."},{"pos":[12307,12374],"content":"<bpt id=\"p1\">&lt;a name=\"dtor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  unbounded_buffer::~unbounded_buffer Destructor","linkify":"<a name=\"dtor\"></a>  unbounded_buffer::~unbounded_buffer Destructor","source":"<a name=\"dtor\"></a>  unbounded_buffer::~unbounded_buffer Destructor"},{"pos":[12378,12426],"content":"Destroys the <ph id=\"ph1\">`unbounded_buffer`</ph> messaging block.","source":"Destroys the `unbounded_buffer` messaging block."},{"pos":[12473,12481],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>concurrency Namespace<ept id=\"p1\">](concurrency-namespace.md)</ept><ph id=\"ph1\"> </ph>","pos":[12485,12535],"source":"[concurrency Namespace](concurrency-namespace.md) "},{"content":"<bpt id=\"p1\"> [</bpt>overwrite_buffer Class<ept id=\"p1\">](overwrite-buffer-class.md)</ept><ph id=\"ph1\"> </ph>","pos":[12538,12591],"source":" [overwrite_buffer Class](overwrite-buffer-class.md) "},{"content":"<bpt id=\"p1\"> [</bpt>single_assignment Class<ept id=\"p1\">](single-assignment-class.md)</ept>","pos":[12594,12648],"source":" [single_assignment Class](single-assignment-class.md)"}],"content":"---\ntitle: \"unbounded_buffer Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"unbounded_buffer\"\ndev_langs: \n  - \"C++\"\nms.assetid: 6b1a939a-1819-4385-b1d8-708f83d4ec47\ncaps.latest.revision: 6\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n\n\nAn `unbounded_buffer` messaging block is a multi-target, multi-source, ordered `propagator_block` capable of storing an unbounded number of messages.  \n  \n## Syntax  \n  \n```  \ntemplate<  \n   class             _Type  \n>  \nclass unbounded_buffer : public propagator_block<multi_link_registry<ITarget<            _Type>>, multi_link_registry<ISource<            _Type>>>;  \n```  \n  \n#### Parameters  \n `_Type`  \n The payload type of the messages stored and propagated by the buffer.  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[unbounded_buffer::unbounded_buffer Constructor](#ctor)|Overloaded. Constructs an `unbounded_buffer` messaging block.|  \n|[unbounded_buffer::~unbounded_buffer Destructor](#dtor)|Destroys the `unbounded_buffer` messaging block.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[unbounded_buffer::dequeue Method](#dequeue)|Removes an item from the `unbounded_buffer` messaging block.|  \n|[unbounded_buffer::enqueue Method](#enqueue)|Adds an item to the `unbounded_buffer` messaging block.|  \n  \n### Protected Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[unbounded_buffer::accept_message Method](#accept_message)|Accepts a message that was offered by this `unbounded_buffer` messaging block, transferring ownership to the caller.|  \n|[unbounded_buffer::consume_message Method](#consume_message)|Consumes a message previously offered by the `unbounded_buffer` messaging block and reserved by the target, transferring ownership to the caller.|  \n|[unbounded_buffer::link_target_notification Method](#link_target_notification)|A callback that notifies that a new target has been linked to this `unbounded_buffer` messaging block.|  \n|[unbounded_buffer::process_input_messages Method](#process_input_messages)|Places the `message``_PMessage` in this `unbounded_buffer` messaging block and tries to offer it to all of the linked targets.|  \n|[unbounded_buffer::propagate_message Method](#propagate_message)|Asynchronously passes a message from an `ISource` block to this `unbounded_buffer` messaging block. It is invoked by the `propagate` method, when called by a source block.|  \n|[unbounded_buffer::propagate_output_messages Method](#propagate_output_messages)|Places the `message``_PMessage` in this `unbounded_buffer` messaging block and tries to offer it to all of the linked targets. (Overrides [source_block::propagate_output_messages](source-block-class.md#propagate_output_messages).)|  \n|[unbounded_buffer::release_message Method](#release_message)|Releases a previous message reservation. (Overrides [source_block::release_message](source-block-class.md#release_message).)|  \n|[unbounded_buffer::reserve_message Method](#reserve_message)|Reserves a message previously offered by this `unbounded_buffer` messaging block. (Overrides [source_block::reserve_message](source-block-class.md#reserve_message).)|  \n|[unbounded_buffer::resume_propagation Method](#resume_propagation)|Resumes propagation after a reservation has been released. (Overrides [source_block::resume_propagation](source-block-class.md#resume_propagation).)|  \n|[unbounded_buffer::send_message Method](#send_message)|Synchronously passes a message from an `ISource` block to this `unbounded_buffer` messaging block. It is invoked by the `send` method, when called by a source block.|  \n|[unbounded_buffer::supports_anonymous_source Method](#supports_anonymous_source)|Overrides the `supports_anonymous_source` method to indicate that this block can accept messages offered to it by a source that is not linked. (Overrides [ITarget::supports_anonymous_source](itarget-class.md#supports_anonymous_source).)|  \n\n For more information, see [Asynchronous Message Blocks](../asynchronous-message-blocks.md).  \n  \n## Inheritance Hierarchy  \n [ISource](isource-class.md)  \n  \n [ITarget](itarget-class.md)  \n  \n [source_block](source-block-class.md)  \n  \n [propagator_block](propagator-block-class.md)  \n  \n `unbounded_buffer`  \n  \n## Requirements  \n **Header:** agents.h  \n  \n **Namespace:** concurrency  \n  \n##  <a name=\"accept_message\"></a>  unbounded_buffer::accept_message Method  \n Accepts a message that was offered by this `unbounded_buffer` messaging block, transferring ownership to the caller.  \n  \n```  \nvirtual message<_Type> * accept_message(  \n   runtime_object_identity                 _MsgId  \n);  \n```  \n  \n### Parameters  \n `_MsgId`  \n The `runtime_object_identity` of the offered `message` object.  \n  \n### Return Value  \n A pointer to the `message` object that the caller now has ownership of.  \n  \n##  <a name=\"consume_message\"></a>  unbounded_buffer::consume_message Method  \n Consumes a message previously offered by the `unbounded_buffer` messaging block and reserved by the target, transferring ownership to the caller.  \n  \n```  \nvirtual message<_Type> * consume_message(  \n   runtime_object_identity                 _MsgId  \n);  \n```  \n  \n### Parameters  \n `_MsgId`  \n The `runtime_object_identity` of the `message` object being consumed.  \n  \n### Return Value  \n A pointer to the `message` object that the caller now has ownership of.  \n  \n### Remarks  \n Similar to `accept`, but is always preceded by a call to `reserve`.  \n  \n##  <a name=\"dequeue\"></a>  unbounded_buffer::dequeue Method  \n Removes an item from the `unbounded_buffer` messaging block.  \n  \n```  \n_Type dequeue();  \n```  \n  \n### Return Value  \n The payload of the message removed from the `unbounded_buffer`.  \n  \n##  <a name=\"enqueue\"></a>  unbounded_buffer::enqueue Method  \n Adds an item to the `unbounded_buffer` messaging block.  \n  \n```  \nbool enqueue(  \n   _Type const&                 _Item  \n);  \n```  \n  \n### Parameters  \n `_Item`  \n The item to add.  \n  \n### Return Value  \n `true` if the item was accepted, `false` otherwise.  \n  \n##  <a name=\"link_target_notification\"></a>  unbounded_buffer::link_target_notification Method  \n A callback that notifies that a new target has been linked to this `unbounded_buffer` messaging block.  \n  \n```  \nvirtual void link_target_notification(  \n   _Inout_ ITarget<_Type> *                 _PTarget  \n);  \n```  \n  \n### Parameters  \n `_PTarget`  \n A pointer to the newly linked target.  \n  \n##  <a name=\"propagate_message\"></a>  unbounded_buffer::propagate_message Method  \n Asynchronously passes a message from an `ISource` block to this `unbounded_buffer` messaging block. It is invoked by the `propagate` method, when called by a source block.  \n  \n```  \nvirtual message_status propagate_message(  \n   _Inout_ message<_Type> *                 _PMessage,  \n   _Inout_ ISource<_Type> *                 _PSource  \n);  \n```  \n  \n### Parameters  \n `_PMessage`  \n A pointer to the `message` object.  \n  \n `_PSource`  \n A pointer to the source block offering the message.  \n  \n### Return Value  \n A [message_status](concurrency-namespace-enums.md#message_status) indication of what the target decided to do with the message.  \n  \n##  <a name=\"propagate_output_messages\"></a>  unbounded_buffer::propagate_output_messages Method  \n Places the `message``_PMessage` in this `unbounded_buffer` messaging block and tries to offer it to all of the linked targets.  \n  \n```  \nvirtual void propagate_output_messages();  \n```  \n  \n### Remarks  \n If another message is already ahead of this one in the `unbounded_buffer`, propagation to linked targets will not occur until any earlier messages have been accepted or consumed. The first linked target to successfully `accept` or `consume` the message takes ownership, and no other target can then get the message.  \n  \n##  <a name=\"process_input_messages\"></a>  unbounded_buffer::process_input_messages Method  \n Places the `message``_PMessage` in this `unbounded_buffer` messaging block and tries to offer it to all of the linked targets.  \n  \n```  \nvirtual void process_input_messages(  \n   _Inout_ message<_Type> *                 _PMessage  \n);  \n```  \n  \n### Parameters  \n `_PMessage`  \n  \n##  <a name=\"release_message\"></a>  unbounded_buffer::release_message Method  \n Releases a previous message reservation.  \n  \n```  \nvirtual void release_message(  \n   runtime_object_identity                 _MsgId  \n);  \n```  \n  \n### Parameters  \n `_MsgId`  \n The `runtime_object_identity` of the `message` object being released.  \n  \n##  <a name=\"reserve_message\"></a>  unbounded_buffer::reserve_message Method  \n Reserves a message previously offered by this `unbounded_buffer` messaging block.  \n  \n```  \nvirtual bool reserve_message(  \n   runtime_object_identity                 _MsgId  \n);  \n```  \n  \n### Parameters  \n `_MsgId`  \n The `runtime_object_identity` of the `message` object being reserved.  \n  \n### Return Value  \n `true` if the message was successfully reserved, `false` otherwise.  \n  \n### Remarks  \n After `reserve` is called, if it returns `true`, either `consume` or `release` must be called to either take or release ownership of the message.  \n  \n##  <a name=\"resume_propagation\"></a>  unbounded_buffer::resume_propagation Method  \n Resumes propagation after a reservation has been released.  \n  \n```  \nvirtual void resume_propagation();  \n```  \n  \n##  <a name=\"send_message\"></a>  unbounded_buffer::send_message Method  \n Synchronously passes a message from an `ISource` block to this `unbounded_buffer` messaging block. It is invoked by the `send` method, when called by a source block.  \n  \n```  \nvirtual message_status send_message(  \n   _Inout_ message<_Type> *                 _PMessage,  \n   _Inout_ ISource<_Type> *                 _PSource  \n);  \n```  \n  \n### Parameters  \n `_PMessage`  \n A pointer to the `message` object.  \n  \n `_PSource`  \n A pointer to the source block offering the message.  \n  \n### Return Value  \n A [message_status](concurrency-namespace-enums.md#message_status) indication of what the target decided to do with the message.  \n  \n##  <a name=\"supports_anonymous_source\"></a>  unbounded_buffer::supports_anonymous_source Method  \n Overrides the `supports_anonymous_source` method to indicate that this block can accept messages offered to it by a source that is not linked.  \n  \n```  \nvirtual bool supports_anonymous_source();  \n```  \n  \n### Return Value  \n `true` because the block does not postpone offered messages.  \n  \n##  <a name=\"ctor\"></a>  unbounded_buffer::unbounded_buffer Constructor  \n Constructs an `unbounded_buffer` messaging block.  \n  \n```  \nunbounded_buffer();  \n  \nunbounded_buffer(  \n   filter_method const&                 _Filter  \n);  \n  \nunbounded_buffer(  \n   Scheduler&                 _PScheduler  \n);  \n  \nunbounded_buffer(  \n   Scheduler&                 _PScheduler,  \n   filter_method const&                 _Filter  \n);  \n  \nunbounded_buffer(  \n   ScheduleGroup&                 _PScheduleGroup  \n);  \n  \nunbounded_buffer(  \n   ScheduleGroup&                 _PScheduleGroup,  \n   filter_method const&                 _Filter  \n);  \n```  \n  \n### Parameters  \n `_Filter`  \n A filter function which determines whether offered messages should be accepted.  \n  \n `_PScheduler`  \n The `Scheduler` object within which the propagation task for the `unbounded_buffer` messaging block is scheduled.  \n  \n `_PScheduleGroup`  \n The `ScheduleGroup` object within which the propagation task for the `unbounded_buffer` messaging block is scheduled. The `Scheduler` object used is implied by the schedule group.  \n  \n### Remarks  \n The runtime uses the default scheduler if you do not specify the `_PScheduler` or `_PScheduleGroup` parameters.  \n  \n The type `filter_method` is a functor with signature `bool (_Type const &)` which is invoked by this `unbounded_buffer` messaging block to determine whether or not it should accept an offered message.  \n  \n##  <a name=\"dtor\"></a>  unbounded_buffer::~unbounded_buffer Destructor  \n Destroys the `unbounded_buffer` messaging block.  \n  \n```  \n~unbounded_buffer();  \n```  \n  \n## See Also  \n [concurrency Namespace](concurrency-namespace.md)   \n [overwrite_buffer Class](overwrite-buffer-class.md)   \n [single_assignment Class](single-assignment-class.md)\n\n\n"}