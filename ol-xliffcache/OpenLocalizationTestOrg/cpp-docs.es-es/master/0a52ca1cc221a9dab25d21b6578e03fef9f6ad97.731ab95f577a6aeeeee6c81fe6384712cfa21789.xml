{"nodes":[{"pos":[12,51],"content":"Windows Sockets in MFC | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Windows Sockets in MFC | Microsoft Docs","pos":[0,39]}]},{"content":"Windows Sockets in MFC","pos":[777,799]},{"pos":[802,1040],"content":"[!NOTE]\n MFC supports Windows Sockets 1 but does not support [Windows Sockets 2](http://msdn.microsoft.com/library/windows/desktop/ms740673). Windows Sockets 2 first shipped with Windows 98 and is the version included with Windows 2000.","leadings":["","> "],"nodes":[{"content":" MFC supports Windows Sockets 1 but does not support [Windows Sockets 2](http://msdn.microsoft.com/library/windows/desktop/ms740673). Windows Sockets 2 first shipped with Windows 98 and is the version included with Windows 2000.","pos":[8,236],"nodes":[{"content":"MFC supports Windows Sockets 1 but does not support <bpt id=\"p1\">[</bpt>Windows Sockets 2<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms740673)</ept>.","pos":[1,133],"source":" MFC supports Windows Sockets 1 but does not support [Windows Sockets 2](http://msdn.microsoft.com/library/windows/desktop/ms740673)."},{"content":"Windows Sockets 2 first shipped with Windows 98 and is the version included with Windows 2000.","pos":[134,228]}]}]},{"content":"MFC supplies two models for writing network communications programs with Windows Sockets, embodied in two MFC classes.","pos":[1047,1165]},{"content":"This article describes these models and further details MFC sockets support.","pos":[1166,1242]},{"content":"A \"socket\" is an endpoint of communication: an object through which your application communicates with other Windows Sockets applications across a network.","pos":[1243,1398]},{"pos":[1405,1561],"content":"For information on Windows Sockets, including an explanation of the socket concept, see <bpt id=\"p1\">[</bpt>Windows Sockets: Background<ept id=\"p1\">](../mfc/windows-sockets-background.md)</ept>.","source":"For information on Windows Sockets, including an explanation of the socket concept, see [Windows Sockets: Background](../mfc/windows-sockets-background.md)."},{"pos":[1619,1645],"content":"Sockets Programming Models"},{"content":"The two MFC Windows Sockets programming models are supported by the following classes:","pos":[1649,1735]},{"content":"This class encapsulates the Windows Sockets API.","pos":[1770,1818]},{"content":"<bpt id=\"p1\">[</bpt>CAsyncSocket<ept id=\"p1\">](../mfc/reference/casyncsocket-class.md)</ept> is for programmers who know network programming and want the flexibility of programming directly to the sockets API but also want the convenience of callback functions for notification of network events.","pos":[1819,2077],"source":"[CAsyncSocket](../mfc/reference/casyncsocket-class.md) is for programmers who know network programming and want the flexibility of programming directly to the sockets API but also want the convenience of callback functions for notification of network events."},{"content":"Other than packaging sockets in object-oriented form for use in C++, the only additional abstraction this class supplies is converting certain socket-related Windows messages into callbacks.","pos":[2078,2268]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Windows Sockets: Socket Notifications<ept id=\"p1\">](../mfc/windows-sockets-socket-notifications.md)</ept>.","pos":[2269,2383],"source":" For more information, see [Windows Sockets: Socket Notifications](../mfc/windows-sockets-socket-notifications.md)."},{"content":"This class, derived from <ph id=\"ph1\">`CAsyncSocket`</ph>, supplies a higher level abstraction for working with sockets through an MFC <bpt id=\"p1\">[</bpt>CArchive<ept id=\"p1\">](../mfc/reference/carchive-class.md)</ept> object.","pos":[2413,2584],"source":"This class, derived from `CAsyncSocket`, supplies a higher level abstraction for working with sockets through an MFC [CArchive](../mfc/reference/carchive-class.md) object."},{"content":"Using a socket with an archive greatly resembles using MFC's file serialization protocol.","pos":[2585,2674]},{"content":"This makes it easier to use than the <ph id=\"ph1\">`CAsyncSocket`</ph> model.","pos":[2675,2733],"source":" This makes it easier to use than the `CAsyncSocket` model."},{"content":"<bpt id=\"p1\">[</bpt>CSocket<ept id=\"p1\">](../mfc/reference/csocket-class.md)</ept> inherits many member functions from <ph id=\"ph1\">`CAsyncSocket`</ph> that encapsulate Windows Sockets APIs; you will have to use some of these functions and understand sockets programming generally.","pos":[2734,2959],"source":"[CSocket](../mfc/reference/csocket-class.md) inherits many member functions from `CAsyncSocket` that encapsulate Windows Sockets APIs; you will have to use some of these functions and understand sockets programming generally."},{"content":"But <ph id=\"ph1\">`CSocket`</ph> manages many aspects of the communication that you would have to do yourself using either the raw API or class <ph id=\"ph2\">`CAsyncSocket`</ph>.","pos":[2960,3100],"source":" But `CSocket` manages many aspects of the communication that you would have to do yourself using either the raw API or class `CAsyncSocket`."},{"content":"Most importantly, <ph id=\"ph1\">`CSocket`</ph> provides blocking (with background processing of Windows messages), which is essential to the synchronous operation of <ph id=\"ph2\">`CArchive`</ph>.","pos":[3101,3259],"source":" Most importantly, `CSocket` provides blocking (with background processing of Windows messages), which is essential to the synchronous operation of `CArchive`."},{"pos":[3266,3540],"content":"Creating and using <ph id=\"ph1\">`CSocket`</ph> and <ph id=\"ph2\">`CAsyncSocket`</ph> objects is described in <bpt id=\"p1\">[</bpt>Windows Sockets: Using Sockets with Archives<ept id=\"p1\">](../mfc/windows-sockets-using-sockets-with-archives.md)</ept> and <bpt id=\"p2\">[</bpt>Windows Sockets: Using Class CAsyncSocket<ept id=\"p2\">](../mfc/windows-sockets-using-class-casyncsocket.md)</ept>.","source":"Creating and using `CSocket` and `CAsyncSocket` objects is described in [Windows Sockets: Using Sockets with Archives](../mfc/windows-sockets-using-sockets-with-archives.md) and [Windows Sockets: Using Class CAsyncSocket](../mfc/windows-sockets-using-class-casyncsocket.md)."},{"pos":[3615,3635],"content":"Windows Sockets DLLs"},{"content":"The Microsoft Windows operating systems supply the Windows Sockets dynamic-link libraries (DLL).","pos":[3639,3735]},{"content":"Visual C++ supplies the appropriate header files and libraries and the Windows Sockets specification.","pos":[3736,3837]},{"pos":[3845,4159],"content":"[!NOTE]\n Under Windows NT and Windows 2000, Windows Sockets support for 16-bit applications is based on WINSOCK.DLL. For 32-bit applications, the support is in WSOCK32.DLL. The APIs provided are identical except that the 32-bit versions have parameters widened to 32 bits. Under Win32, thread safety is supplied.","leadings":["","> "],"nodes":[{"content":" Under Windows NT and Windows 2000, Windows Sockets support for 16-bit applications is based on WINSOCK.DLL. For 32-bit applications, the support is in WSOCK32.DLL. The APIs provided are identical except that the 32-bit versions have parameters widened to 32 bits. Under Win32, thread safety is supplied.","pos":[8,312],"nodes":[{"content":"Under Windows NT and Windows 2000, Windows Sockets support for 16-bit applications is based on WINSOCK.DLL.","pos":[1,108]},{"content":"For 32-bit applications, the support is in WSOCK32.DLL.","pos":[109,164]},{"content":"The APIs provided are identical except that the 32-bit versions have parameters widened to 32 bits.","pos":[165,264]},{"content":"Under Win32, thread safety is supplied.","pos":[265,304]}]}]},{"content":"For more information about Windows Sockets, see:","pos":[4166,4214]},{"content":"Windows Sockets: Stream Sockets","pos":[4225,4256]},{"content":"Windows Sockets: Datagram Sockets","pos":[4310,4343]},{"content":"Windows Sockets: Using Sockets with Archives","pos":[4399,4443]},{"content":"Windows Sockets: Sequence of Operations","pos":[4510,4549]},{"content":"Windows Sockets: Example of Sockets Using Archives","pos":[4611,4661]},{"content":"Windows Sockets: How Sockets with Archives Work","pos":[4734,4781]},{"content":"Windows Sockets: Using Class CAsyncSocket","pos":[4851,4892]},{"content":"Windows Sockets: Deriving from Socket Classes","pos":[4956,5001]},{"content":"Windows Sockets: Socket Notifications","pos":[5069,5106]},{"content":"Windows Sockets: Blocking","pos":[5166,5191]},{"content":"Windows Sockets: Byte Ordering","pos":[5239,5269]},{"content":"Windows Sockets: Converting Strings","pos":[5322,5357]},{"content":"Windows Sockets: Ports and Socket Addresses","pos":[5415,5458]},{"content":"See Also","pos":[5522,5530]},{"content":"Windows Sockets","pos":[5535,5550]}],"content":"---\ntitle: \"Windows Sockets in MFC | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"WINSOCK.DLL\"\n  - \"sockets [C++], programming models\"\n  - \"MFC [C++], Windows Sockets\"\n  - \"Windows Sockets [C++], MFC support\"\n  - \"Windows Sockets [C++], programming models\"\n  - \"WSOCK32.DLL\"\n  - \"sockets [C++], MFC\"\nms.assetid: 1f3c476a-9c68-49fe-9a25-d22971a334d0\ncaps.latest.revision: 12\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Windows Sockets in MFC\n> [!NOTE]\n>  MFC supports Windows Sockets 1 but does not support [Windows Sockets 2](http://msdn.microsoft.com/library/windows/desktop/ms740673). Windows Sockets 2 first shipped with Windows 98 and is the version included with Windows 2000.  \n  \n MFC supplies two models for writing network communications programs with Windows Sockets, embodied in two MFC classes. This article describes these models and further details MFC sockets support. A \"socket\" is an endpoint of communication: an object through which your application communicates with other Windows Sockets applications across a network.  \n  \n For information on Windows Sockets, including an explanation of the socket concept, see [Windows Sockets: Background](../mfc/windows-sockets-background.md).  \n  \n##  <a name=\"_core_sockets_programming_models\"></a> Sockets Programming Models  \n The two MFC Windows Sockets programming models are supported by the following classes:  \n  \n-   `CAsyncSocket`  \n  \n     This class encapsulates the Windows Sockets API. [CAsyncSocket](../mfc/reference/casyncsocket-class.md) is for programmers who know network programming and want the flexibility of programming directly to the sockets API but also want the convenience of callback functions for notification of network events. Other than packaging sockets in object-oriented form for use in C++, the only additional abstraction this class supplies is converting certain socket-related Windows messages into callbacks. For more information, see [Windows Sockets: Socket Notifications](../mfc/windows-sockets-socket-notifications.md).  \n  \n-   `CSocket`  \n  \n     This class, derived from `CAsyncSocket`, supplies a higher level abstraction for working with sockets through an MFC [CArchive](../mfc/reference/carchive-class.md) object. Using a socket with an archive greatly resembles using MFC's file serialization protocol. This makes it easier to use than the `CAsyncSocket` model. [CSocket](../mfc/reference/csocket-class.md) inherits many member functions from `CAsyncSocket` that encapsulate Windows Sockets APIs; you will have to use some of these functions and understand sockets programming generally. But `CSocket` manages many aspects of the communication that you would have to do yourself using either the raw API or class `CAsyncSocket`. Most importantly, `CSocket` provides blocking (with background processing of Windows messages), which is essential to the synchronous operation of `CArchive`.  \n  \n Creating and using `CSocket` and `CAsyncSocket` objects is described in [Windows Sockets: Using Sockets with Archives](../mfc/windows-sockets-using-sockets-with-archives.md) and [Windows Sockets: Using Class CAsyncSocket](../mfc/windows-sockets-using-class-casyncsocket.md).  \n  \n##  <a name=\"_core_mfc_socket_samples_and_windows_sockets_dlls\"></a> Windows Sockets DLLs  \n The Microsoft Windows operating systems supply the Windows Sockets dynamic-link libraries (DLL). Visual C++ supplies the appropriate header files and libraries and the Windows Sockets specification.  \n  \n> [!NOTE]\n>  Under Windows NT and Windows 2000, Windows Sockets support for 16-bit applications is based on WINSOCK.DLL. For 32-bit applications, the support is in WSOCK32.DLL. The APIs provided are identical except that the 32-bit versions have parameters widened to 32 bits. Under Win32, thread safety is supplied.  \n  \n For more information about Windows Sockets, see:  \n  \n-   [Windows Sockets: Stream Sockets](../mfc/windows-sockets-stream-sockets.md)  \n  \n-   [Windows Sockets: Datagram Sockets](../mfc/windows-sockets-datagram-sockets.md)  \n  \n-   [Windows Sockets: Using Sockets with Archives](../mfc/windows-sockets-using-sockets-with-archives.md)  \n  \n-   [Windows Sockets: Sequence of Operations](../mfc/windows-sockets-sequence-of-operations.md)  \n  \n-   [Windows Sockets: Example of Sockets Using Archives](../mfc/windows-sockets-example-of-sockets-using-archives.md)  \n  \n-   [Windows Sockets: How Sockets with Archives Work](../mfc/windows-sockets-how-sockets-with-archives-work.md)  \n  \n-   [Windows Sockets: Using Class CAsyncSocket](../mfc/windows-sockets-using-class-casyncsocket.md)  \n  \n-   [Windows Sockets: Deriving from Socket Classes](../mfc/windows-sockets-deriving-from-socket-classes.md)  \n  \n-   [Windows Sockets: Socket Notifications](../mfc/windows-sockets-socket-notifications.md)  \n  \n-   [Windows Sockets: Blocking](../mfc/windows-sockets-blocking.md)  \n  \n-   [Windows Sockets: Byte Ordering](../mfc/windows-sockets-byte-ordering.md)  \n  \n-   [Windows Sockets: Converting Strings](../mfc/windows-sockets-converting-strings.md)  \n  \n-   [Windows Sockets: Ports and Socket Addresses](../mfc/windows-sockets-ports-and-socket-addresses.md)  \n  \n## See Also  \n [Windows Sockets](../mfc/windows-sockets.md)\n\n"}