{"nodes":[{"pos":[12,69],"content":"-O1, -O2 (Minimize Size, Maximize Speed) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-O1, -O2 (Minimize Size, Maximize Speed) | Microsoft Docs","pos":[0,57]}]},{"content":"/O1, /O2 (Minimize Size, Maximize Speed)","pos":[914,954]},{"content":"Selects a predefined set of options that affect the size and speed of files.","pos":[955,1031]},{"content":"Syntax","pos":[1040,1046]},{"content":"Remarks","pos":[1082,1089]},{"pos":[1093,1143],"content":"The following table describes <bpt id=\"p1\">**</bpt>/O1<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>/O2<ept id=\"p2\">**</ept>.","source":"The following table describes **/O1** and **/O2**."},{"content":"Option","pos":[1150,1156]},{"content":"Equivalent to","pos":[1157,1170]},{"content":"Comment","pos":[1171,1178]},{"pos":[1234,1257],"content":"<bpt id=\"p1\">**</bpt>/O1<ept id=\"p1\">**</ept> (Minimize Size)","source":"**/O1** (Minimize Size)"},{"content":"/Og /Os /Oy /Ob2 /Gs /GF /Gy","pos":[1260,1288]},{"content":"Creates the smallest code in the majority of cases.","pos":[1291,1342]},{"pos":[1347,1371],"content":"<bpt id=\"p1\">**</bpt>/O2<ept id=\"p1\">**</ept> (Maximize Speed)","source":"**/O2** (Maximize Speed)"},{"content":"/Og /Oi /Ot /Oy /Ob2 /Gs /GF /Gy","pos":[1374,1406]},{"content":"Creates the fastest code in the majority of cases.","pos":[1409,1459]},{"content":"(default setting for release builds)","pos":[1460,1496]},{"content":"<bpt id=\"p1\">**</bpt>/O1<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>/O2<ept id=\"p2\">**</ept> also enable the Named Return Value optimization, which eliminates the copy constructor and destructor of a stack based return value.","pos":[1504,1656],"source":"**/O1** and **/O2** also enable the Named Return Value optimization, which eliminates the copy constructor and destructor of a stack based return value."},{"content":"Consider the following sample.","pos":[1657,1687]},{"content":"The <ph id=\"ph1\">`Test`</ph> function will not create the copy constructor or destructor.","pos":[1689,1760],"source":"  The `Test` function will not create the copy constructor or destructor."},{"content":"Add output statements to the constructor, destructor and copy constructor to see the effect of Named Return Value Optimization when you run the program.","pos":[1761,1913]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Named Return Value Optimization in Visual C++ 2005<ept id=\"p1\">](http://go.microsoft.com/fwlink/?linkid=131571)</ept>.","pos":[1914,2040],"source":" For more information, see [Named Return Value Optimization in Visual C++ 2005](http://go.microsoft.com/fwlink/?linkid=131571)."},{"content":"x86 Specific","pos":[2266,2278]},{"pos":[2287,2412],"content":"These options imply the use of the Frame-Pointer Omission (<bpt id=\"p1\">[</bpt>/Oy<ept id=\"p1\">](../../build/reference/oy-frame-pointer-omission.md)</ept>) option.","source":"These options imply the use of the Frame-Pointer Omission ([/Oy](../../build/reference/oy-frame-pointer-omission.md)) option."},{"content":"END x86 Specific","pos":[2421,2437]},{"content":"To set this compiler option in the Visual Studio development environment","pos":[2449,2521]},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[2531,2580],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[2581,2678],"source":" For details, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[2688,2715],"content":"Click the <bpt id=\"p1\">**</bpt>C/C++<ept id=\"p1\">**</ept> folder.","source":"Click the **C/C++** folder."},{"pos":[2725,2766],"content":"Click the <bpt id=\"p1\">**</bpt>Optimization<ept id=\"p1\">**</ept> property page.","source":"Click the **Optimization** property page."},{"pos":[2776,2813],"content":"Modify the <bpt id=\"p1\">**</bpt>Optimization<ept id=\"p1\">**</ept> property.","source":"Modify the **Optimization** property."},{"content":"To set this compiler option programmatically","pos":[2823,2867]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.Optimization%2A&gt;.","pos":[2877,2960],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.Optimization%2A>."},{"content":"See Also","pos":[2969,2977]},{"content":"/O Options (Optimize Code)","pos":[2982,3008]},{"content":"Compiler Options","pos":[3065,3081]},{"content":"Setting Compiler Options","pos":[3131,3155]},{"content":"/EH (Exception Handling Model)","pos":[3213,3243]}],"content":"---\ntitle: \"-O1, -O2 (Minimize Size, Maximize Speed) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/o2\"\n  - \"/o1\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"maximize speed compiler option [C++]\"\n  - \"minimize size compiler option [C++]\"\n  - \"-O2 compiler option [C++]\"\n  - \"fast code\"\n  - \"small code\"\n  - \"O2 compiler option [C++]\"\n  - \"/O2 compiler option [C++]\"\n  - \"-O1 compiler option [C++]\"\n  - \"O1 compiler option [C++]\"\n  - \"/O1 compiler option [C++]\"\nms.assetid: 2d1423f5-53d9-44da-8908-b33a351656c2\ncaps.latest.revision: 16\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /O1, /O2 (Minimize Size, Maximize Speed)\nSelects a predefined set of options that affect the size and speed of files.  \n  \n## Syntax  \n  \n```  \n/O1  \n/O2  \n```  \n  \n## Remarks  \n The following table describes **/O1** and **/O2**.  \n  \n|Option|Equivalent to|Comment|  \n|------------|-------------------|-------------|  \n|**/O1** (Minimize Size)|**/Og /Os /Oy /Ob2 /Gs /GF /Gy**|Creates the smallest code in the majority of cases.|  \n|**/O2** (Maximize Speed)|**/Og /Oi /Ot /Oy /Ob2 /Gs /GF /Gy**|Creates the fastest code in the majority of cases. (default setting for release builds)|  \n  \n **/O1** and **/O2** also enable the Named Return Value optimization, which eliminates the copy constructor and destructor of a stack based return value. Consider the following sample.  The `Test` function will not create the copy constructor or destructor. Add output statements to the constructor, destructor and copy constructor to see the effect of Named Return Value Optimization when you run the program. For more information, see [Named Return Value Optimization in Visual C++ 2005](http://go.microsoft.com/fwlink/?linkid=131571).  \n  \n```  \n// O1_O2_NRVO.cpp  \n// compile with: /O1  \nstruct A {  \n   A() {}  \n   ~A() {}  \n   A(const A& aa) {}  \n};  \n  \nA Test() {  \n   A a;  \n   return a;  \n}  \nint main() {  \n   A aa;  \n   aa = Test();  \n}  \n```  \n  \n **x86 Specific**  \n  \n These options imply the use of the Frame-Pointer Omission ([/Oy](../../build/reference/oy-frame-pointer-omission.md)) option.  \n  \n **END x86 Specific**  \n  \n### To set this compiler option in the Visual Studio development environment  \n  \n1.  Open the project's **Property Pages** dialog box. For details, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  Click the **C/C++** folder.  \n  \n3.  Click the **Optimization** property page.  \n  \n4.  Modify the **Optimization** property.  \n  \n### To set this compiler option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.Optimization%2A>.  \n  \n## See Also  \n [/O Options (Optimize Code)](../../build/reference/o-options-optimize-code.md)   \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)   \n [/EH (Exception Handling Model)](../../build/reference/eh-exception-handling-model.md)"}