{"nodes":[{"pos":[12,80],"content":"Example: Displaying a Dialog Box via a Menu Command | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Example: Displaying a Dialog Box via a Menu Command | Microsoft Docs","pos":[0,68]}]},{"content":"Example: Displaying a Dialog Box via a Menu Command","pos":[814,865]},{"content":"This topic contains procedures to:","pos":[866,900]},{"content":"Display a modal dialog box through a menu command.","pos":[910,960]},{"content":"Display a modeless dialog box through a menu command.","pos":[970,1023]},{"pos":[1030,1199],"content":"Both sample procedures are for MFC applications and will work in an application you create with the <bpt id=\"p1\">[</bpt>MFC Application Wizard<ept id=\"p1\">](../mfc/reference/mfc-application-wizard.md)</ept>.","source":"Both sample procedures are for MFC applications and will work in an application you create with the [MFC Application Wizard](../mfc/reference/mfc-application-wizard.md)."},{"content":"The procedures use the following names and values:","pos":[1206,1256]},{"content":"Item","pos":[1263,1267]},{"content":"Name or value","pos":[1268,1281]},{"content":"Application","pos":[1321,1332]},{"content":"DisplayDialog","pos":[1333,1346]},{"content":"Menu command","pos":[1351,1363]},{"content":"Test command on View menu; Command ID = ID_VIEW_TEST","pos":[1364,1416]},{"content":"Dialog box","pos":[1421,1431]},{"content":"Test dialog box; Class = CTestDialog; Header file = TestDialog.h; Variable = testdlg, ptestdlg","pos":[1432,1526]},{"content":"Command handler","pos":[1531,1546]},{"content":"OnViewTest","pos":[1547,1557]},{"content":"To display a modal dialog box","pos":[1568,1597]},{"pos":[1607,1698],"content":"Create the menu command; see <bpt id=\"p1\">[</bpt>Creating Menus or Menu Items<ept id=\"p1\">](../windows/creating-a-menu.md)</ept>.","source":"Create the menu command; see [Creating Menus or Menu Items](../windows/creating-a-menu.md)."},{"pos":[1708,1801],"content":"Create the dialog box; see <bpt id=\"p1\">[</bpt>Starting the Dialog Editor<ept id=\"p1\">](../mfc/creating-a-new-dialog-box.md)</ept>.","source":"Create the dialog box; see [Starting the Dialog Editor](../mfc/creating-a-new-dialog-box.md)."},{"content":"Add a class for your dialog box.","pos":[1811,1843]},{"content":"See <bpt id=\"p1\">[</bpt>Adding a Class<ept id=\"p1\">](../ide/adding-a-class-visual-cpp.md)</ept> for more information.","pos":[1844,1923],"source":" See [Adding a Class](../ide/adding-a-class-visual-cpp.md) for more information."},{"content":"In <bpt id=\"p1\">**</bpt>Class View<ept id=\"p1\">**</ept>, select the document class (CDisplayDialogDoc).","pos":[1933,1998],"source":"In **Class View**, select the document class (CDisplayDialogDoc)."},{"content":"In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> window, click the <bpt id=\"p2\">**</bpt>Events<ept id=\"p2\">**</ept> button.","pos":[1999,2057],"source":" In the **Properties** window, click the **Events** button."},{"content":"Double-click the ID of the menu command (ID_VIEW_TEST) in the left pane of the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> window and select <bpt id=\"p2\">**</bpt>Command<ept id=\"p2\">**</ept>.","pos":[2058,2182],"source":" Double-click the ID of the menu command (ID_VIEW_TEST) in the left pane of the **Properties** window and select **Command**."},{"content":"In the right pane, click the down arrow and select <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\&lt;</ph>Add&gt; OnViewTest<ept id=\"p1\">**</ept>.","pos":[2183,2256],"source":" In the right pane, click the down arrow and select **\\<Add> OnViewTest**."},{"content":"If you added the menu command to the mainframe of an MDI application, select the application class (CDisplayDialogApp) instead.","pos":[2267,2394]},{"content":"Add the following include statement to CDisplayDialogDoc.cpp (or CDisplayDialogApp.cpp) after the existing include statements:","pos":[2404,2530]},{"pos":[2552,2580],"content":"NVC_MFCControlLadenDialog#42"},{"pos":[2673,2738],"content":"Add the following code to <ph id=\"ph1\">`OnViewTest`</ph> to implement the function:","source":"Add the following code to `OnViewTest` to implement the function:"},{"pos":[2760,2788],"content":"NVC_MFCControlLadenDialog#43"},{"content":"To display a modeless dialog box","pos":[2881,2913]},{"content":"Do the first four steps to display a modal dialog box, except select the view class (CDisplayDialogView) in step 4.","pos":[2923,3038]},{"content":"Edit DisplayDialogView.h:","pos":[3048,3073]},{"content":"Declare the dialog box class preceding the first class declaration:","pos":[3087,3154]},{"pos":[3180,3208],"content":"NVC_MFCControlLadenDialog#44"},{"content":"Declare a pointer to the dialog box after the Attributes public section:","pos":[3303,3375]},{"pos":[3401,3429],"content":"NVC_MFCControlLadenDialog#45"},{"content":"Edit DisplayDialogView.cpp:","pos":[3520,3547]},{"content":"Add the following include statement after the existing include statements:","pos":[3561,3635]},{"pos":[3661,3689],"content":"NVC_MFCControlLadenDialog#42"},{"content":"Add the following code to the constructor:","pos":[3786,3828]},{"pos":[3854,3882],"content":"NVC_MFCControlLadenDialog#46"},{"content":"Add the following code to the destructor:","pos":[3979,4020]},{"pos":[4046,4074],"content":"NVC_MFCControlLadenDialog#47"},{"pos":[4171,4236],"content":"Add the following code to <ph id=\"ph1\">`OnViewTest`</ph> to implement the function:","source":"Add the following code to `OnViewTest` to implement the function:"},{"pos":[4262,4290],"content":"NVC_MFCControlLadenDialog#48"},{"content":"Also, see the following Knowledge Base article:","pos":[4380,4427]},{"content":"Q251059 : HOWTO: Provide Your Own Window Class Name for an MFC Dialog Box","pos":[4437,4510]},{"content":"See Also","pos":[4519,4527]},{"content":"Dialog Boxes","pos":[4532,4544]},{"content":"Modal and Modeless Dialog Boxes","pos":[4575,4606]}],"content":"---\ntitle: \"Example: Displaying a Dialog Box via a Menu Command | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"MFC dialog boxes, examples\"\n  - \"MFC dialog boxes, displaying\"\n  - \"modeless dialog boxes, displaying\"\n  - \"dialog boxes, MFC\"\n  - \"modal dialog boxes, displaying\"\n  - \"examples [MFC], dialog boxes\"\n  - \"menu items, examples\"\nms.assetid: e8692549-acd7-478f-9c5e-ba310ce8cccd\ncaps.latest.revision: 10\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Example: Displaying a Dialog Box via a Menu Command\nThis topic contains procedures to:  \n  \n-   Display a modal dialog box through a menu command.  \n  \n-   Display a modeless dialog box through a menu command.  \n  \n Both sample procedures are for MFC applications and will work in an application you create with the [MFC Application Wizard](../mfc/reference/mfc-application-wizard.md).  \n  \n The procedures use the following names and values:  \n  \n|Item|Name or value|  \n|----------|-------------------|  \n|Application|DisplayDialog|  \n|Menu command|Test command on View menu; Command ID = ID_VIEW_TEST|  \n|Dialog box|Test dialog box; Class = CTestDialog; Header file = TestDialog.h; Variable = testdlg, ptestdlg|  \n|Command handler|OnViewTest|  \n  \n### To display a modal dialog box  \n  \n1.  Create the menu command; see [Creating Menus or Menu Items](../windows/creating-a-menu.md).  \n  \n2.  Create the dialog box; see [Starting the Dialog Editor](../mfc/creating-a-new-dialog-box.md).  \n  \n3.  Add a class for your dialog box. See [Adding a Class](../ide/adding-a-class-visual-cpp.md) for more information.  \n  \n4.  In **Class View**, select the document class (CDisplayDialogDoc). In the **Properties** window, click the **Events** button. Double-click the ID of the menu command (ID_VIEW_TEST) in the left pane of the **Properties** window and select **Command**. In the right pane, click the down arrow and select **\\<Add> OnViewTest**.  \n  \n     If you added the menu command to the mainframe of an MDI application, select the application class (CDisplayDialogApp) instead.  \n  \n5.  Add the following include statement to CDisplayDialogDoc.cpp (or CDisplayDialogApp.cpp) after the existing include statements:  \n  \n     [!code-cpp[NVC_MFCControlLadenDialog#42](../mfc/codesnippet/cpp/example-displaying-a-dialog-box-via-a-menu-command_1.cpp)]  \n  \n6.  Add the following code to `OnViewTest` to implement the function:  \n  \n     [!code-cpp[NVC_MFCControlLadenDialog#43](../mfc/codesnippet/cpp/example-displaying-a-dialog-box-via-a-menu-command_2.cpp)]  \n  \n### To display a modeless dialog box  \n  \n1.  Do the first four steps to display a modal dialog box, except select the view class (CDisplayDialogView) in step 4.  \n  \n2.  Edit DisplayDialogView.h:  \n  \n    -   Declare the dialog box class preceding the first class declaration:  \n  \n         [!code-cpp[NVC_MFCControlLadenDialog#44](../mfc/codesnippet/cpp/example-displaying-a-dialog-box-via-a-menu-command_3.h)]  \n  \n    -   Declare a pointer to the dialog box after the Attributes public section:  \n  \n         [!code-cpp[NVC_MFCControlLadenDialog#45](../mfc/codesnippet/cpp/example-displaying-a-dialog-box-via-a-menu-command_4.h)]  \n  \n3.  Edit DisplayDialogView.cpp:  \n  \n    -   Add the following include statement after the existing include statements:  \n  \n         [!code-cpp[NVC_MFCControlLadenDialog#42](../mfc/codesnippet/cpp/example-displaying-a-dialog-box-via-a-menu-command_1.cpp)]  \n  \n    -   Add the following code to the constructor:  \n  \n         [!code-cpp[NVC_MFCControlLadenDialog#46](../mfc/codesnippet/cpp/example-displaying-a-dialog-box-via-a-menu-command_5.cpp)]  \n  \n    -   Add the following code to the destructor:  \n  \n         [!code-cpp[NVC_MFCControlLadenDialog#47](../mfc/codesnippet/cpp/example-displaying-a-dialog-box-via-a-menu-command_6.cpp)]  \n  \n    -   Add the following code to `OnViewTest` to implement the function:  \n  \n         [!code-cpp[NVC_MFCControlLadenDialog#48](../mfc/codesnippet/cpp/example-displaying-a-dialog-box-via-a-menu-command_7.cpp)]  \n  \n Also, see the following Knowledge Base article:  \n  \n-   Q251059 : HOWTO: Provide Your Own Window Class Name for an MFC Dialog Box  \n  \n## See Also  \n [Dialog Boxes](../mfc/dialog-boxes.md)   \n [Modal and Modeless Dialog Boxes](../mfc/modal-and-modeless-dialog-boxes.md)\n\n"}