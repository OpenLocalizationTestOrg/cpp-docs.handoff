{"nodes":[{"pos":[12,55],"content":"Document-View Architecture | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Document-View Architecture | Microsoft Docs","pos":[0,43]}]},{"content":"Document/View Architecture","pos":[855,881]},{"content":"By default, the MFC Application Wizard creates an application skeleton with a document class and a view class.","pos":[882,992]},{"content":"MFC separates data management into these two classes.","pos":[993,1046]},{"content":"The document stores the data and manages printing the data and coordinates updating multiple views of the data.","pos":[1047,1158]},{"content":"The view displays the data and manages user interaction with it, including selection and editing.","pos":[1159,1256]},{"content":"In this model, an MFC document object reads and writes data to persistent storage.","pos":[1263,1345]},{"content":"The document may also provide an interface to the data wherever it resides (such as in a database).","pos":[1346,1445]},{"content":"A separate view object manages data display, from rendering the data in a window to user selection and editing of data.","pos":[1446,1565]},{"content":"The view obtains display data from the document and communicates back to the document any data changes.","pos":[1566,1669]},{"content":"While you can easily override or ignore the document/view separation, there are compelling reasons to follow this model in most cases.","pos":[1676,1810]},{"content":"One of the best is when you need multiple views of the same document, such as both a spreadsheet and a chart view.","pos":[1811,1925]},{"content":"The document/view model lets a separate view object represent each view of the data, while code common to all views (such as a calculation engine) can reside in the document.","pos":[1926,2100]},{"content":"The document also takes on the task of updating all views whenever the data changes.","pos":[2101,2185]},{"content":"The MFC document/view architecture makes it easy to support multiple views, multiple document types, splitter windows, and other valuable user-interface features.","pos":[2192,2354]},{"content":"The parts of the MFC framework most visible both to the user and to you, the programmer, are the document and view.","pos":[2361,2476]},{"content":"Most of your work in developing an application with the framework goes into writing your document and view classes.","pos":[2477,2592]},{"content":"This article family describes:","pos":[2593,2623]},{"content":"The purposes of documents and views and how they interact in the framework.","pos":[2633,2708]},{"content":"What you must do to implement them.","pos":[2718,2753]},{"content":"At the heart of document/view are four key classes:","pos":[2760,2811]},{"content":"The <bpt id=\"p1\">[</bpt>CDocument<ept id=\"p1\">](../mfc/reference/cdocument-class.md)</ept> (or <bpt id=\"p2\">[</bpt>COleDocument<ept id=\"p2\">](../mfc/reference/coledocument-class.md)</ept>) class supports objects used to store or control your program's data and provides the basic functionality for programmer-defined document classes.","pos":[2818,3076],"source":"The [CDocument](../mfc/reference/cdocument-class.md) (or [COleDocument](../mfc/reference/coledocument-class.md)) class supports objects used to store or control your program's data and provides the basic functionality for programmer-defined document classes."},{"content":"A document represents the unit of data that the user typically opens with the Open command on the File menu and saves with the Save command on the File menu.","pos":[3077,3234]},{"content":"The <bpt id=\"p1\">[</bpt>CView<ept id=\"p1\">](../mfc/reference/cview-class.md)</ept> (or one of its many derived classes) provides the basic functionality for programmer-defined view classes.","pos":[3241,3392],"source":"The [CView](../mfc/reference/cview-class.md) (or one of its many derived classes) provides the basic functionality for programmer-defined view classes."},{"content":"A view is attached to a document and acts as an intermediary between the document and the user: the view renders an image of the document on the screen and interprets user input as operations upon the document.","pos":[3393,3603]},{"content":"The view also renders the image for both printing and print preview.","pos":[3604,3672]},{"pos":[3679,3835],"content":"<bpt id=\"p1\">[</bpt>CFrameWnd<ept id=\"p1\">](../mfc/reference/cframewnd-class.md)</ept> (or one of its variations) supports objects that provides the frame around one or more views of a document.","source":"[CFrameWnd](../mfc/reference/cframewnd-class.md) (or one of its variations) supports objects that provides the frame around one or more views of a document."},{"pos":[3842,4208],"content":"<bpt id=\"p1\">[</bpt>CDocTemplate<ept id=\"p1\">](../mfc/reference/cdoctemplate-class.md)</ept> (or <bpt id=\"p2\">[</bpt>CSingleDocTemplate<ept id=\"p2\">](../mfc/reference/csingledoctemplate-class.md)</ept> or <bpt id=\"p3\">[</bpt>CMultiDocTemplate<ept id=\"p3\">](../mfc/reference/cmultidoctemplate-class.md)</ept>) supports an object that coordinates one or more existing documents of a given type and manages creating the correct document, view, and frame window objects for that type.","source":"[CDocTemplate](../mfc/reference/cdoctemplate-class.md) (or [CSingleDocTemplate](../mfc/reference/csingledoctemplate-class.md) or [CMultiDocTemplate](../mfc/reference/cmultidoctemplate-class.md)) supports an object that coordinates one or more existing documents of a given type and manages creating the correct document, view, and frame window objects for that type."},{"content":"The following figure shows the relationship between a document and its view.","pos":[4215,4291]},{"content":"View is the part of the document that's displayed","pos":[4300,4349]},{"content":"Document and View","pos":[4389,4406]},{"content":"The document/view implementation in the class library separates the data itself from its display and from user operations on the data.","pos":[4413,4547]},{"content":"All changes to the data are managed through the document class.","pos":[4548,4611]},{"content":"The view calls this interface to access and update the data.","pos":[4612,4672]},{"content":"Documents, their associated views, and the frame windows that frame the views are created by a document template.","pos":[4679,4792]},{"content":"The document template is responsible for creating and managing all documents of one document type.","pos":[4793,4891]},{"content":"What do you want to know more about","pos":[4900,4935]},{"content":"A portrait of the document/view architecture","pos":[4946,4990]},{"content":"Advantages of the document/view architecture","pos":[5058,5102]},{"content":"Document and view classes created by the Application Wizard","pos":[5170,5229]},{"content":"Alternatives to the document/view architecture","pos":[5316,5362]},{"content":"Adding Multiple Views to a Single Document","pos":[5432,5474]},{"content":"Using Documents","pos":[5540,5555]},{"content":"Using Views","pos":[5594,5605]},{"content":"Multiple Document Types, Views, and Frame Windows","pos":[5640,5689]},{"content":"Initializing and cleaning up documents and views","pos":[5760,5808]},{"content":"Initialize your own additions to document &amp; view classes","pos":[5880,5936],"source":"Initialize your own additions to document & view classes"},{"content":"Using database classes with documents and views","pos":[6000,6047]},{"content":"Using database classes without documents and views","pos":[6123,6173]},{"content":"Samples","pos":[6252,6259]},{"content":"See Also","pos":[6295,6303]},{"content":"User Interface Elements","pos":[6308,6331]},{"content":"Windows","pos":[6377,6384]},{"content":"Frame Windows","pos":[6410,6423]},{"content":"Document Templates and the Document/View Creation Process","pos":[6455,6512]},{"content":"Document/View Creation","pos":[6588,6610]},{"content":"Creating New Documents, Windows, and Views","pos":[6651,6693]}],"content":"---\ntitle: \"Document-View Architecture | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CView class, view architecture\"\n  - \"CDocument class\"\n  - \"MFC, views\"\n  - \"views, MFC document/view model\"\n  - \"document objects\"\n  - \"document objects, MFC document/view model\"\n  - \"MFC, documents\"\n  - \"documents, MFC document/view model\"\n  - \"document objects, document/view architecture\"\nms.assetid: 6127768a-553f-462a-b01b-a5ee6068c81e\ncaps.latest.revision: 12\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Document/View Architecture\nBy default, the MFC Application Wizard creates an application skeleton with a document class and a view class. MFC separates data management into these two classes. The document stores the data and manages printing the data and coordinates updating multiple views of the data. The view displays the data and manages user interaction with it, including selection and editing.  \n  \n In this model, an MFC document object reads and writes data to persistent storage. The document may also provide an interface to the data wherever it resides (such as in a database). A separate view object manages data display, from rendering the data in a window to user selection and editing of data. The view obtains display data from the document and communicates back to the document any data changes.  \n  \n While you can easily override or ignore the document/view separation, there are compelling reasons to follow this model in most cases. One of the best is when you need multiple views of the same document, such as both a spreadsheet and a chart view. The document/view model lets a separate view object represent each view of the data, while code common to all views (such as a calculation engine) can reside in the document. The document also takes on the task of updating all views whenever the data changes.  \n  \n The MFC document/view architecture makes it easy to support multiple views, multiple document types, splitter windows, and other valuable user-interface features.  \n  \n The parts of the MFC framework most visible both to the user and to you, the programmer, are the document and view. Most of your work in developing an application with the framework goes into writing your document and view classes. This article family describes:  \n  \n-   The purposes of documents and views and how they interact in the framework.  \n  \n-   What you must do to implement them.  \n  \n At the heart of document/view are four key classes:  \n  \n The [CDocument](../mfc/reference/cdocument-class.md) (or [COleDocument](../mfc/reference/coledocument-class.md)) class supports objects used to store or control your program's data and provides the basic functionality for programmer-defined document classes. A document represents the unit of data that the user typically opens with the Open command on the File menu and saves with the Save command on the File menu.  \n  \n The [CView](../mfc/reference/cview-class.md) (or one of its many derived classes) provides the basic functionality for programmer-defined view classes. A view is attached to a document and acts as an intermediary between the document and the user: the view renders an image of the document on the screen and interprets user input as operations upon the document. The view also renders the image for both printing and print preview.  \n  \n [CFrameWnd](../mfc/reference/cframewnd-class.md) (or one of its variations) supports objects that provides the frame around one or more views of a document.  \n  \n [CDocTemplate](../mfc/reference/cdoctemplate-class.md) (or [CSingleDocTemplate](../mfc/reference/csingledoctemplate-class.md) or [CMultiDocTemplate](../mfc/reference/cmultidoctemplate-class.md)) supports an object that coordinates one or more existing documents of a given type and manages creating the correct document, view, and frame window objects for that type.  \n  \n The following figure shows the relationship between a document and its view.  \n  \n ![View is the part of the document that's displayed](../mfc/media/vc379n1.gif \"vc379n1\")  \nDocument and View  \n  \n The document/view implementation in the class library separates the data itself from its display and from user operations on the data. All changes to the data are managed through the document class. The view calls this interface to access and update the data.  \n  \n Documents, their associated views, and the frame windows that frame the views are created by a document template. The document template is responsible for creating and managing all documents of one document type.  \n  \n## What do you want to know more about  \n  \n-   [A portrait of the document/view architecture](../mfc/a-portrait-of-the-document-view-architecture.md)  \n  \n-   [Advantages of the document/view architecture](../mfc/advantages-of-the-document-view-architecture.md)  \n  \n-   [Document and view classes created by the Application Wizard](../mfc/document-and-view-classes-created-by-the-mfc-application-wizard.md)  \n  \n-   [Alternatives to the document/view architecture](../mfc/alternatives-to-the-document-view-architecture.md)  \n  \n-   [Adding Multiple Views to a Single Document](../mfc/adding-multiple-views-to-a-single-document.md)  \n  \n-   [Using Documents](../mfc/using-documents.md)  \n  \n-   [Using Views](../mfc/using-views.md)  \n  \n-   [Multiple Document Types, Views, and Frame Windows](../mfc/multiple-document-types-views-and-frame-windows.md)  \n  \n-   [Initializing and cleaning up documents and views](../mfc/initializing-and-cleaning-up-documents-and-views.md)  \n  \n-   [Initialize your own additions to document & view classes](../mfc/creating-new-documents-windows-and-views.md)  \n  \n-   [Using database classes with documents and views](../data/mfc-using-database-classes-with-documents-and-views.md)  \n  \n-   [Using database classes without documents and views](../data/mfc-using-database-classes-without-documents-and-views.md)  \n  \n-   [Samples](../visual-cpp-samples.md)  \n  \n## See Also  \n [User Interface Elements](../mfc/user-interface-elements-mfc.md)   \n [Windows](../mfc/windows.md)   \n [Frame Windows](../mfc/frame-windows.md)   \n [Document Templates and the Document/View Creation Process](../mfc/document-templates-and-the-document-view-creation-process.md)   \n [Document/View Creation](../mfc/document-view-creation.md)   \n [Creating New Documents, Windows, and Views](../mfc/creating-new-documents-windows-and-views.md)\n\n"}