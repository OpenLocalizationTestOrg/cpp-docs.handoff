{"nodes":[{"pos":[12,47],"content":"CTokenGroups Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CTokenGroups Class | Microsoft Docs","pos":[0,35]}]},{"pos":[657,675],"content":"CTokenGroups Class","linkify":"CTokenGroups Class","nodes":[{"content":"CTokenGroups Class","pos":[0,18]}]},{"pos":[676,735],"content":"This class is a wrapper for the <bpt id=\"p1\">**</bpt>TOKEN_GROUPS<ept id=\"p1\">**</ept> structure.","source":"This class is a wrapper for the **TOKEN_GROUPS** structure."},{"pos":[743,853],"content":"[!IMPORTANT]\n This class and its members cannot be used in applications that execute in the Windows Runtime.","leadings":["","> "],"nodes":[{"content":"This class and its members cannot be used in applications that execute in the Windows Runtime.","pos":[14,108]}]},{"pos":[862,868],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[909,916],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[926,945],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[952,956]},{"content":"Description","pos":[957,968]},{"pos":[1006,1063],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::CTokenGroups<ept id=\"p1\">](#ctokengroups__ctokengroups)</ept>","source":"[CTokenGroups::CTokenGroups](#ctokengroups__ctokengroups)"},{"content":"The constructor.","pos":[1064,1080]},{"pos":[1085,1148],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::~CTokenGroups<ept id=\"p1\">](#ctokengroups___dtorctokengroups)</ept>","source":"[CTokenGroups::~CTokenGroups](#ctokengroups___dtorctokengroups)"},{"content":"The destructor.","pos":[1149,1164]},{"pos":[1175,1189],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[1196,1200]},{"content":"Description","pos":[1201,1212]},{"pos":[1250,1289],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::Add<ept id=\"p1\">](#ctokengroups__add)</ept>","source":"[CTokenGroups::Add](#ctokengroups__add)"},{"pos":[1290,1372],"content":"Adds a <ph id=\"ph1\">`CSid`</ph> or existing <bpt id=\"p1\">**</bpt>TOKEN_GROUPS<ept id=\"p1\">**</ept> structure to the <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"Adds a `CSid` or existing **TOKEN_GROUPS** structure to the `CTokenGroups` object."},{"pos":[1377,1422],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::Delete<ept id=\"p1\">](#ctokengroups__delete)</ept>","source":"[CTokenGroups::Delete](#ctokengroups__delete)"},{"pos":[1423,1501],"content":"Deletes a <ph id=\"ph1\">`CSid`</ph> and its associated attributes from the <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"Deletes a `CSid` and its associated attributes from the `CTokenGroups` object."},{"pos":[1506,1557],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::DeleteAll<ept id=\"p1\">](#ctokengroups__deleteall)</ept>","source":"[CTokenGroups::DeleteAll](#ctokengroups__deleteall)"},{"pos":[1558,1648],"content":"Deletes all <ph id=\"ph1\">`CSid`</ph> objects and their associated attributes from the <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"Deletes all `CSid` objects and their associated attributes from the `CTokenGroups` object."},{"pos":[1653,1702],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::GetCount<ept id=\"p1\">](#ctokengroups__getcount)</ept>","source":"[CTokenGroups::GetCount](#ctokengroups__getcount)"},{"pos":[1703,1807],"content":"Returns the number of <ph id=\"ph1\">`CSid`</ph> objects and associated attributes contained in the <bpt id=\"p1\">**</bpt>CTokenGroups<ept id=\"p1\">**</ept> object.","source":"Returns the number of `CSid` objects and associated attributes contained in the **CTokenGroups** object."},{"pos":[1812,1863],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::GetLength<ept id=\"p1\">](#ctokengroups__getlength)</ept>","source":"[CTokenGroups::GetLength](#ctokengroups__getlength)"},{"pos":[1864,1910],"content":"Returns the size of the <ph id=\"ph1\">`CTokenGroups`</ph> object.","source":"Returns the size of the `CTokenGroups` object."},{"pos":[1915,1980],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::GetPTOKEN_GROUPS<ept id=\"p1\">](#ctokengroups__getptoken_groups)</ept>","source":"[CTokenGroups::GetPTOKEN_GROUPS](#ctokengroups__getptoken_groups)"},{"pos":[1981,2035],"content":"Retrieves a pointer to the <bpt id=\"p1\">**</bpt>TOKEN_GROUPS<ept id=\"p1\">**</ept> structure.","source":"Retrieves a pointer to the **TOKEN_GROUPS** structure."},{"pos":[2040,2113],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::GetSidsAndAttributes<ept id=\"p1\">](#ctokengroups__getsidsandattributes)</ept>","source":"[CTokenGroups::GetSidsAndAttributes](#ctokengroups__getsidsandattributes)"},{"pos":[2114,2197],"content":"Retrieves the <ph id=\"ph1\">`CSid`</ph> objects and attributes belonging to the <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"Retrieves the `CSid` objects and attributes belonging to the `CTokenGroups` object."},{"pos":[2202,2253],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::LookupSid<ept id=\"p1\">](#ctokengroups__lookupsid)</ept>","source":"[CTokenGroups::LookupSid](#ctokengroups__lookupsid)"},{"pos":[2254,2311],"content":"Retrieves the attributes associated with a <ph id=\"ph1\">`CSid`</ph> object.","source":"Retrieves the attributes associated with a `CSid` object."},{"pos":[2322,2338],"content":"Public Operators","linkify":"Public Operators","nodes":[{"content":"Public Operators","pos":[0,16]}]},{"content":"Name","pos":[2345,2349]},{"content":"Description","pos":[2350,2361]},{"pos":[2399,2494],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::operator const TOKEN_GROUPS *<ept id=\"p1\">](#ctokengroups__operator_const_token_groups__star)</ept>","source":"[CTokenGroups::operator const TOKEN_GROUPS *](#ctokengroups__operator_const_token_groups__star)"},{"pos":[2495,2574],"content":"Casts the <ph id=\"ph1\">`CTokenGroups`</ph> object to a pointer to the <bpt id=\"p1\">**</bpt>TOKEN_GROUPS<ept id=\"p1\">**</ept> structure.","source":"Casts the `CTokenGroups` object to a pointer to the **TOKEN_GROUPS** structure."},{"pos":[2579,2633],"content":"<bpt id=\"p1\">[</bpt>CTokenGroups::operator =<ept id=\"p1\">](#ctokengroups__operator_eq)</ept>","source":"[CTokenGroups::operator =](#ctokengroups__operator_eq)"},{"content":"Assignment operator.","pos":[2634,2654]},{"pos":[2664,2671],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[2675,2903],"content":"An <bpt id=\"p1\">[</bpt>access token<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa374909)</ept> is an object that describes the security context of a process or thread and is allocated to each user logged onto a Windows NT or Windows 2000 system.","source":"An [access token](http://msdn.microsoft.com/library/windows/desktop/aa374909) is an object that describes the security context of a process or thread and is allocated to each user logged onto a Windows NT or Windows 2000 system."},{"pos":[2910,3130],"content":"The <bpt id=\"p1\">**</bpt>CTokenGroups<ept id=\"p1\">**</ept> class is a wrapper for the <bpt id=\"p2\">[</bpt>TOKEN_GROUPS<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/aa379624)</ept> structure, containing information about the group security identifiers (SIDs) in an access token.","source":"The **CTokenGroups** class is a wrapper for the [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure, containing information about the group security identifiers (SIDs) in an access token."},{"pos":[3137,3337],"content":"For an introduction to the access control model in Windows, see <bpt id=\"p1\">[</bpt>Access Control<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa374860)</ept> in the <ph id=\"ph1\">[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]</ph>.","source":"For an introduction to the access control model in Windows, see [Access Control](http://msdn.microsoft.com/library/windows/desktop/aa374860) in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]."},{"pos":[3346,3358],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3362,3387],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> atlsecurity.h","source":"**Header:** atlsecurity.h"},{"pos":[3397,3448],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__add\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::Add","linkify":"<a name=\"ctokengroups__add\"></a>  CTokenGroups::Add","source":"<a name=\"ctokengroups__add\"></a>  CTokenGroups::Add"},{"pos":[3452,3534],"content":"Adds a <ph id=\"ph1\">`CSid`</ph> or existing <bpt id=\"p1\">**</bpt>TOKEN_GROUPS<ept id=\"p1\">**</ept> structure to the <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"Adds a `CSid` or existing **TOKEN_GROUPS** structure to the `CTokenGroups` object."},{"pos":[3677,3687],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A <bpt id=\"p1\">[</bpt>CSid<ept id=\"p1\">](../../atl/reference/csid-class.md)</ept> object.","pos":[3701,3752],"source":" A [CSid](../../atl/reference/csid-class.md) object."},{"content":"The attributes to associate with the <ph id=\"ph1\">`CSid`</ph> object.","pos":[3777,3828],"source":" The attributes to associate with the `CSid` object."},{"content":"<bpt id=\"p1\">*</bpt>rTokenGroups<ept id=\"p1\">*</ept>","pos":[3835,3849],"source":"*rTokenGroups*"},{"content":"A <bpt id=\"p1\">[</bpt>TOKEN_GROUPS<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379624)</ept> structure.","pos":[3853,3940],"source":" A [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure."},{"pos":[3950,3957],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[3961,4067],"content":"These methods add one or more <ph id=\"ph1\">`CSid`</ph> objects and their associated attributes to the <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"These methods add one or more `CSid` objects and their associated attributes to the `CTokenGroups` object."},{"pos":[4077,4146],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__ctokengroups\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::CTokenGroups","linkify":"<a name=\"ctokengroups__ctokengroups\"></a>  CTokenGroups::CTokenGroups","source":"<a name=\"ctokengroups__ctokengroups\"></a>  CTokenGroups::CTokenGroups"},{"content":"The constructor.","pos":[4150,4166]},{"pos":[4318,4328],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The <ph id=\"ph1\">`CTokenGroups`</ph> object or <bpt id=\"p1\">[</bpt>TOKEN_GROUPS<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379624)</ept> structure with which to construct the <ph id=\"ph2\">`CTokenGroups`</ph> object.","pos":[4341,4505],"source":" The `CTokenGroups` object or [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure with which to construct the `CTokenGroups` object."},{"pos":[4515,4522],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[4526,4659],"content":"The <ph id=\"ph1\">`CTokenGroups`</ph> object can optionally be created using a <bpt id=\"p1\">**</bpt>TOKEN_GROUPS<ept id=\"p1\">**</ept> structure or a previously defined <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"The `CTokenGroups` object can optionally be created using a **TOKEN_GROUPS** structure or a previously defined `CTokenGroups` object."},{"pos":[4669,4744],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups___dtorctokengroups\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::~CTokenGroups","linkify":"<a name=\"ctokengroups___dtorctokengroups\"></a>  CTokenGroups::~CTokenGroups","source":"<a name=\"ctokengroups___dtorctokengroups\"></a>  CTokenGroups::~CTokenGroups"},{"content":"The destructor.","pos":[4748,4763]},{"pos":[4819,4826],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The destructor frees all allocated resources.","pos":[4830,4875]},{"pos":[4885,4942],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__delete\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::Delete","linkify":"<a name=\"ctokengroups__delete\"></a>  CTokenGroups::Delete","source":"<a name=\"ctokengroups__delete\"></a>  CTokenGroups::Delete"},{"pos":[4946,5024],"content":"Deletes a <ph id=\"ph1\">`CSid`</ph> and its associated attributes from the <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"Deletes a `CSid` and its associated attributes from the `CTokenGroups` object."},{"pos":[5086,5096],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The <bpt id=\"p1\">[</bpt>CSid<ept id=\"p1\">](../../atl/reference/csid-class.md)</ept> object for which the security identifier (SID) and attributes should be removed.","pos":[5110,5236],"source":" The [CSid](../../atl/reference/csid-class.md) object for which the security identifier (SID) and attributes should be removed."},{"pos":[5246,5258],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[5262,5317],"content":"Returns true if the <ph id=\"ph1\">`CSid`</ph> is removed, false otherwise.","source":"Returns true if the `CSid` is removed, false otherwise."},{"pos":[5327,5390],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__deleteall\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::DeleteAll","linkify":"<a name=\"ctokengroups__deleteall\"></a>  CTokenGroups::DeleteAll","source":"<a name=\"ctokengroups__deleteall\"></a>  CTokenGroups::DeleteAll"},{"pos":[5394,5484],"content":"Deletes all <ph id=\"ph1\">`CSid`</ph> objects and their associated attributes from the <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"Deletes all `CSid` objects and their associated attributes from the `CTokenGroups` object."},{"pos":[5533,5594],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__getcount\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::GetCount","linkify":"<a name=\"ctokengroups__getcount\"></a>  CTokenGroups::GetCount","source":"<a name=\"ctokengroups__getcount\"></a>  CTokenGroups::GetCount"},{"pos":[5598,5663],"content":"Returns the number of <ph id=\"ph1\">`CSid`</ph> objects contained in <ph id=\"ph2\">`CTokenGroups`</ph>.","source":"Returns the number of `CSid` objects contained in `CTokenGroups`."},{"pos":[5717,5729],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[5733,5876],"content":"Returns the number of <bpt id=\"p1\">[</bpt>CSid<ept id=\"p1\">](../../atl/reference/csid-class.md)</ept> objects and their associated attributes contained in the <ph id=\"ph1\">`CTokenGroups`</ph> object.","source":"Returns the number of [CSid](../../atl/reference/csid-class.md) objects and their associated attributes contained in the `CTokenGroups` object."},{"pos":[5886,5949],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__getlength\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::GetLength","linkify":"<a name=\"ctokengroups__getlength\"></a>  CTokenGroups::GetLength","source":"<a name=\"ctokengroups__getlength\"></a>  CTokenGroups::GetLength"},{"pos":[5953,6000],"content":"Returns the size of the <bpt id=\"p1\">**</bpt>CTokenGroup<ept id=\"p1\">**</ept> object.","source":"Returns the size of the **CTokenGroup** object."},{"pos":[6055,6062],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[6066,6129],"content":"Returns the total size of the <bpt id=\"p1\">**</bpt>CTokenGroup<ept id=\"p1\">**</ept> object, in bytes.","source":"Returns the total size of the **CTokenGroup** object, in bytes."},{"pos":[6139,6216],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__getptoken_groups\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::GetPTOKEN_GROUPS","linkify":"<a name=\"ctokengroups__getptoken_groups\"></a>  CTokenGroups::GetPTOKEN_GROUPS","source":"<a name=\"ctokengroups__getptoken_groups\"></a>  CTokenGroups::GetPTOKEN_GROUPS"},{"pos":[6220,6274],"content":"Retrieves a pointer to the <bpt id=\"p1\">**</bpt>TOKEN_GROUPS<ept id=\"p1\">**</ept> structure.","source":"Retrieves a pointer to the **TOKEN_GROUPS** structure."},{"pos":[6354,6366],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[6370,6534],"content":"Retrieves a pointer to the <bpt id=\"p1\">[</bpt>TOKEN_GROUPS<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379624)</ept> structure belonging to the <ph id=\"ph1\">`CTokenGroups`</ph> access token object.","source":"Retrieves a pointer to the [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure belonging to the `CTokenGroups` access token object."},{"pos":[6544,6629],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__getsidsandattributes\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::GetSidsAndAttributes","linkify":"<a name=\"ctokengroups__getsidsandattributes\"></a>  CTokenGroups::GetSidsAndAttributes","source":"<a name=\"ctokengroups__getsidsandattributes\"></a>  CTokenGroups::GetSidsAndAttributes"},{"pos":[6633,6733],"content":"Retrieves the <ph id=\"ph1\">`CSid`</ph> objects and (optionally) the attributes belonging to the <ph id=\"ph2\">`CTokenGroups`</ph> object.","source":"Retrieves the `CSid` objects and (optionally) the attributes belonging to the `CTokenGroups` object."},{"pos":[6871,6881],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Pointer to an array of <bpt id=\"p1\">[</bpt>CSid<ept id=\"p1\">](../../atl/reference/csid-class.md)</ept> objects.","pos":[6896,6969],"source":" Pointer to an array of [CSid](../../atl/reference/csid-class.md) objects."},{"content":"Pointer to an array of DWORDs.","pos":[6993,7023]},{"content":"If this parameter is omitted or NULL, the attributes are not retrieved.","pos":[7024,7095]},{"pos":[7105,7112],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[7116,7279],"content":"This method will enumerate all of the <ph id=\"ph1\">`CSid`</ph> objects contained in the <ph id=\"ph2\">`CTokenGroups`</ph> object and place them and (optionally) the attribute flags into array objects.","source":"This method will enumerate all of the `CSid` objects contained in the `CTokenGroups` object and place them and (optionally) the attribute flags into array objects."},{"pos":[7289,7352],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__lookupsid\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::LookupSid","linkify":"<a name=\"ctokengroups__lookupsid\"></a>  CTokenGroups::LookupSid","source":"<a name=\"ctokengroups__lookupsid\"></a>  CTokenGroups::LookupSid"},{"pos":[7356,7413],"content":"Retrieves the attributes associated with a <ph id=\"ph1\">`CSid`</ph> object.","source":"Retrieves the attributes associated with a `CSid` object."},{"pos":[7517,7527],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The <bpt id=\"p1\">[</bpt>CSid<ept id=\"p1\">](../../atl/reference/csid-class.md)</ept> object.","pos":[7541,7594],"source":" The [CSid](../../atl/reference/csid-class.md) object."},{"content":"Pointer to a DWORD which will accept the <ph id=\"ph1\">`CSid`</ph> object's attribute.","pos":[7620,7687],"source":" Pointer to a DWORD which will accept the `CSid` object's attribute."},{"content":"If omitted or NULL, the attribute will not be retrieved.","pos":[7688,7744]},{"pos":[7754,7766],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[7770,7823],"content":"Returns true if the <ph id=\"ph1\">`CSid`</ph> is found, false otherwise.","source":"Returns true if the `CSid` is found, false otherwise."},{"pos":[7833,7840],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Setting <ph id=\"ph1\">`pdwAttributes`</ph> to NULL provides a way of confirming the existence of the <ph id=\"ph2\">`CSid`</ph> without accessing the attribute.","pos":[7844,7965],"source":"Setting `pdwAttributes` to NULL provides a way of confirming the existence of the `CSid` without accessing the attribute."},{"content":"Note that this method should not be used to check access rights as incorrect results may occur under Windows 2000.","pos":[7966,8080]},{"content":"Applications should instead use the <bpt id=\"p1\">[</bpt>CAccessToken::CheckTokenMembership<ept id=\"p1\">](../../atl/reference/caccesstoken-class.md#caccesstoken__checktokenmembership)</ept> method.","pos":[8081,8239],"source":" Applications should instead use the [CAccessToken::CheckTokenMembership](../../atl/reference/caccesstoken-class.md#caccesstoken__checktokenmembership) method."},{"pos":[8249,8315],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__operator_eq\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::operator =","linkify":"<a name=\"ctokengroups__operator_eq\"></a>  CTokenGroups::operator =","source":"<a name=\"ctokengroups__operator_eq\"></a>  CTokenGroups::operator ="},{"content":"Assignment operator.","pos":[8319,8339]},{"pos":[8491,8501],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The <ph id=\"ph1\">`CTokenGroups`</ph> object or <bpt id=\"p1\">[</bpt>TOKEN_GROUPS<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379624)</ept> structure to assign to the <ph id=\"ph2\">`CTokenGroups`</ph> object.","pos":[8514,8667],"source":" The `CTokenGroups` object or [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure to assign to the `CTokenGroups` object."},{"pos":[8677,8689],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[8693,8735],"content":"Returns the updated <ph id=\"ph1\">`CTokenGroups`</ph> object.","source":"Returns the updated `CTokenGroups` object."},{"pos":[8745,8852],"content":"<bpt id=\"p1\">&lt;a name=\"ctokengroups__operator_const_token_groups__star\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CTokenGroups::operator const TOKEN_GROUPS *","linkify":"<a name=\"ctokengroups__operator_const_token_groups__star\"></a>  CTokenGroups::operator const TOKEN_GROUPS *","source":"<a name=\"ctokengroups__operator_const_token_groups__star\"></a>  CTokenGroups::operator const TOKEN_GROUPS *"},{"pos":[8856,8917],"content":"Casts a value to a pointer to the <bpt id=\"p1\">**</bpt>TOKEN_GROUPS<ept id=\"p1\">**</ept> structure.","source":"Casts a value to a pointer to the **TOKEN_GROUPS** structure."},{"content":"```operator const TOKEN_GROUPS *() const throw(...);","pos":[8923,8975]}],"content":"---\ntitle: \"CTokenGroups Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"ATL::CTokenGroups\"\n  - \"ATL.CTokenGroups\"\n  - \"CTokenGroups\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CTokenGroups class\"\nms.assetid: 2ab08076-4b08-4487-bc70-ec6dee304190\ncaps.latest.revision: 23\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CTokenGroups Class\nThis class is a wrapper for the **TOKEN_GROUPS** structure.  \n  \n> [!IMPORTANT]\n>  This class and its members cannot be used in applications that execute in the Windows Runtime.  \n  \n## Syntax  \n  \n```\nclass CTokenGroups\n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CTokenGroups::CTokenGroups](#ctokengroups__ctokengroups)|The constructor.|  \n|[CTokenGroups::~CTokenGroups](#ctokengroups___dtorctokengroups)|The destructor.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CTokenGroups::Add](#ctokengroups__add)|Adds a `CSid` or existing **TOKEN_GROUPS** structure to the `CTokenGroups` object.|  \n|[CTokenGroups::Delete](#ctokengroups__delete)|Deletes a `CSid` and its associated attributes from the `CTokenGroups` object.|  \n|[CTokenGroups::DeleteAll](#ctokengroups__deleteall)|Deletes all `CSid` objects and their associated attributes from the `CTokenGroups` object.|  \n|[CTokenGroups::GetCount](#ctokengroups__getcount)|Returns the number of `CSid` objects and associated attributes contained in the **CTokenGroups** object.|  \n|[CTokenGroups::GetLength](#ctokengroups__getlength)|Returns the size of the `CTokenGroups` object.|  \n|[CTokenGroups::GetPTOKEN_GROUPS](#ctokengroups__getptoken_groups)|Retrieves a pointer to the **TOKEN_GROUPS** structure.|  \n|[CTokenGroups::GetSidsAndAttributes](#ctokengroups__getsidsandattributes)|Retrieves the `CSid` objects and attributes belonging to the `CTokenGroups` object.|  \n|[CTokenGroups::LookupSid](#ctokengroups__lookupsid)|Retrieves the attributes associated with a `CSid` object.|  \n  \n### Public Operators  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CTokenGroups::operator const TOKEN_GROUPS *](#ctokengroups__operator_const_token_groups__star)|Casts the `CTokenGroups` object to a pointer to the **TOKEN_GROUPS** structure.|  \n|[CTokenGroups::operator =](#ctokengroups__operator_eq)|Assignment operator.|  \n  \n## Remarks  \n An [access token](http://msdn.microsoft.com/library/windows/desktop/aa374909) is an object that describes the security context of a process or thread and is allocated to each user logged onto a Windows NT or Windows 2000 system.  \n  \n The **CTokenGroups** class is a wrapper for the [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure, containing information about the group security identifiers (SIDs) in an access token.  \n  \n For an introduction to the access control model in Windows, see [Access Control](http://msdn.microsoft.com/library/windows/desktop/aa374860) in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  \n  \n## Requirements  \n **Header:** atlsecurity.h  \n  \n##  <a name=\"ctokengroups__add\"></a>  CTokenGroups::Add  \n Adds a `CSid` or existing **TOKEN_GROUPS** structure to the `CTokenGroups` object.  \n  \n```\nvoid Add(const CSid& rSid,  DWORD dwAttributes) throw(...);\n\n    void Add(const TOKEN_GROUPS& rTokenGroups) throw(...);\n```  \n  \n### Parameters  \n `rSid`  \n A [CSid](../../atl/reference/csid-class.md) object.  \n  \n `dwAttributes`  \n The attributes to associate with the `CSid` object.  \n  \n *rTokenGroups*  \n A [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure.  \n  \n### Remarks  \n These methods add one or more `CSid` objects and their associated attributes to the `CTokenGroups` object.  \n  \n##  <a name=\"ctokengroups__ctokengroups\"></a>  CTokenGroups::CTokenGroups  \n The constructor.  \n  \n```\nCTokenGroups() throw();\nCTokenGroups(const CTokenGroups& rhs) throw(...);\n\n    CTokenGroups(const TOKEN_GROUPS& rhs) throw(...);\n```  \n  \n### Parameters  \n `rhs`  \n The `CTokenGroups` object or [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure with which to construct the `CTokenGroups` object.  \n  \n### Remarks  \n The `CTokenGroups` object can optionally be created using a **TOKEN_GROUPS** structure or a previously defined `CTokenGroups` object.  \n  \n##  <a name=\"ctokengroups___dtorctokengroups\"></a>  CTokenGroups::~CTokenGroups  \n The destructor.  \n  \n```\nvirtual ~CTokenGroups() throw();\n```  \n  \n### Remarks  \n The destructor frees all allocated resources.  \n  \n##  <a name=\"ctokengroups__delete\"></a>  CTokenGroups::Delete  \n Deletes a `CSid` and its associated attributes from the `CTokenGroups` object.  \n  \n```\nbool Delete(const CSid& rSid) throw();\n```  \n  \n### Parameters  \n `rSid`  \n The [CSid](../../atl/reference/csid-class.md) object for which the security identifier (SID) and attributes should be removed.  \n  \n### Return Value  \n Returns true if the `CSid` is removed, false otherwise.  \n  \n##  <a name=\"ctokengroups__deleteall\"></a>  CTokenGroups::DeleteAll  \n Deletes all `CSid` objects and their associated attributes from the `CTokenGroups` object.  \n  \n```\nvoid DeleteAll() throw();\n```  \n  \n##  <a name=\"ctokengroups__getcount\"></a>  CTokenGroups::GetCount  \n Returns the number of `CSid` objects contained in `CTokenGroups`.  \n  \n```\nUINT GetCount() const throw();\n```  \n  \n### Return Value  \n Returns the number of [CSid](../../atl/reference/csid-class.md) objects and their associated attributes contained in the `CTokenGroups` object.  \n  \n##  <a name=\"ctokengroups__getlength\"></a>  CTokenGroups::GetLength  \n Returns the size of the **CTokenGroup** object.  \n  \n```\nUINT GetLength() const throw();\n```  \n  \n### Remarks  \n Returns the total size of the **CTokenGroup** object, in bytes.  \n  \n##  <a name=\"ctokengroups__getptoken_groups\"></a>  CTokenGroups::GetPTOKEN_GROUPS  \n Retrieves a pointer to the **TOKEN_GROUPS** structure.  \n  \n```\nconst TOKEN_GROUPS* GetPTOKEN_GROUPS() const throw(...);\n```  \n  \n### Return Value  \n Retrieves a pointer to the [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure belonging to the `CTokenGroups` access token object.  \n  \n##  <a name=\"ctokengroups__getsidsandattributes\"></a>  CTokenGroups::GetSidsAndAttributes  \n Retrieves the `CSid` objects and (optionally) the attributes belonging to the `CTokenGroups` object.  \n  \n```\nvoid GetSidsAndAttributes(\n    CSid::CSidArray* pSids,\n    CAtlArray<DWORD>* pAttributes = NULL) const throw(...);\n```  \n  \n### Parameters  \n `pSids`  \n Pointer to an array of [CSid](../../atl/reference/csid-class.md) objects.  \n  \n `pAttributes`  \n Pointer to an array of DWORDs. If this parameter is omitted or NULL, the attributes are not retrieved.  \n  \n### Remarks  \n This method will enumerate all of the `CSid` objects contained in the `CTokenGroups` object and place them and (optionally) the attribute flags into array objects.  \n  \n##  <a name=\"ctokengroups__lookupsid\"></a>  CTokenGroups::LookupSid  \n Retrieves the attributes associated with a `CSid` object.  \n  \n```\nbool LookupSid(const CSid& rSid,\n    DWORD* pdwAttributes = NULL) const throw();\n```  \n  \n### Parameters  \n `rSid`  \n The [CSid](../../atl/reference/csid-class.md) object.  \n  \n `pdwAttributes`  \n Pointer to a DWORD which will accept the `CSid` object's attribute. If omitted or NULL, the attribute will not be retrieved.  \n  \n### Return Value  \n Returns true if the `CSid` is found, false otherwise.  \n  \n### Remarks  \n Setting `pdwAttributes` to NULL provides a way of confirming the existence of the `CSid` without accessing the attribute. Note that this method should not be used to check access rights as incorrect results may occur under Windows 2000. Applications should instead use the [CAccessToken::CheckTokenMembership](../../atl/reference/caccesstoken-class.md#caccesstoken__checktokenmembership) method.  \n  \n##  <a name=\"ctokengroups__operator_eq\"></a>  CTokenGroups::operator =  \n Assignment operator.  \n  \n```\nCTokenGroups& operator= (const TOKEN_GROUPS& rhs) throw(...);\n\n    CTokenGroups& operator= (const CTokenGroups& rhs) throw(...);\n```  \n  \n### Parameters  \n `rhs`  \n The `CTokenGroups` object or [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure to assign to the `CTokenGroups` object.  \n  \n### Return Value  \n Returns the updated `CTokenGroups` object.  \n  \n##  <a name=\"ctokengroups__operator_const_token_groups__star\"></a>  CTokenGroups::operator const TOKEN_GROUPS *  \n Casts a value to a pointer to the **TOKEN_GROUPS** structure.  \n  \n```operator const TOKEN_GROUPS *() const throw(...);\n```  \n  \n### Remarks  \n Casts a value to a pointer to the [TOKEN_GROUPS](http://msdn.microsoft.com/library/windows/desktop/aa379624) structure.  \n  \n## See Also  \n [Security Sample](../../visual-cpp-samples.md)   \n [CSid Class](../../atl/reference/csid-class.md)   \n [Class Overview](../../atl/atl-class-overview.md)   \n [Security Global Functions](../../atl/reference/security-global-functions.md)\n"}