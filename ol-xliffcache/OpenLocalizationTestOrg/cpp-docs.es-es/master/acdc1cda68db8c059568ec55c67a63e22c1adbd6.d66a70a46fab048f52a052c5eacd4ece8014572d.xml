{"nodes":[{"pos":[12,50],"content":"_access_s, _waccess_s | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_access_s, _waccess_s | Microsoft Docs","pos":[0,38]}]},{"content":"_access_s, _waccess_s","pos":[1121,1142]},{"content":"Determines file read/write permissions.","pos":[1143,1182]},{"content":"This is a version of <bpt id=\"p1\">[</bpt>_access, _waccess<ept id=\"p1\">](../../c-runtime-library/reference/access-waccess.md)</ept> with security enhancements as described in <bpt id=\"p2\">[</bpt>Security Features in the CRT<ept id=\"p2\">](../../c-runtime-library/security-features-in-the-crt.md)</ept>.","pos":[1183,1408],"source":" This is a version of [_access, _waccess](../../c-runtime-library/reference/access-waccess.md) with security enhancements as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md)."},{"content":"Syntax","pos":[1417,1423]},{"content":"Parameters","pos":[1585,1595]},{"content":"File or directory path.","pos":[1609,1632]},{"content":"Permission setting.","pos":[1649,1668]},{"content":"Return Value","pos":[1677,1689]},{"content":"Each function returns 0 if the file has the given mode.","pos":[1693,1748]},{"content":"The function returns an error code if the named file does not exist or is not accessible in the given mode.","pos":[1749,1856]},{"content":"In this case, the function returns an error code from the set as follows and also sets <ph id=\"ph1\">`errno`</ph> to the same value.","pos":[1857,1970],"source":" In this case, the function returns an error code from the set as follows and also sets `errno` to the same value."},{"content":"Access denied.","pos":[1989,2003]},{"content":"The file's permission setting does not allow specified access.","pos":[2004,2066]},{"content":"File name or path not found.","pos":[2085,2113]},{"content":"Invalid parameter.","pos":[2132,2150]},{"pos":[2157,2299],"content":"For more information, see <bpt id=\"p1\">[</bpt>errno, _doserrno, _sys_errlist, and _sys_nerr<ept id=\"p1\">](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)</ept>.","source":"For more information, see [errno, _doserrno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)."},{"content":"Remarks","pos":[2308,2315]},{"content":"When used with files, the <ph id=\"ph1\">`_access_s`</ph> function determines whether the specified file exists and can be accessed as specified by the value of <ph id=\"ph2\">`mode`</ph>.","pos":[2319,2467],"source":"When used with files, the `_access_s` function determines whether the specified file exists and can be accessed as specified by the value of `mode`."},{"content":"When used with directories, <ph id=\"ph1\">`_access_s`</ph> determines only whether the specified directory exists.","pos":[2468,2563],"source":" When used with directories, `_access_s` determines only whether the specified directory exists."},{"content":"In <ph id=\"ph1\">[!INCLUDE[Win2kFamily](../../c-runtime-library/includes/win2kfamily_md.md)]</ph> and later operating systems, all directories have read and write access.","pos":[2564,2715],"source":" In [!INCLUDE[Win2kFamily](../../c-runtime-library/includes/win2kfamily_md.md)] and later operating systems, all directories have read and write access."},{"content":"mode value","pos":[2722,2732]},{"content":"Checks file for","pos":[2733,2748]},{"content":"00","pos":[2796,2798]},{"content":"Existence only.","pos":[2799,2814]},{"content":"02","pos":[2819,2821]},{"content":"Write permission.","pos":[2822,2839]},{"content":"04","pos":[2844,2846]},{"content":"Read permission.","pos":[2847,2863]},{"content":"06","pos":[2868,2870]},{"content":"Read and write permission.","pos":[2871,2897]},{"content":"Permission to read or write the file is not enough to ensure the ability to open a file.","pos":[2905,2993]},{"content":"For example, if a file is locked by another process, it might not be accessible even though <ph id=\"ph1\">`_access_s`</ph> returns 0.","pos":[2994,3108],"source":" For example, if a file is locked by another process, it might not be accessible even though `_access_s` returns 0."},{"content":"is a wide-character version of <ph id=\"ph1\">`_access_s`</ph>, where the <ph id=\"ph2\">`path`</ph> argument to <ph id=\"ph3\">`_waccess_s`</ph> is a wide-character string.","pos":[3128,3241],"source":" is a wide-character version of `_access_s`, where the `path` argument to `_waccess_s` is a wide-character string."},{"content":"Otherwise, <ph id=\"ph1\">`_waccess_s`</ph> and <ph id=\"ph2\">`_access_s`</ph> behave identically.","pos":[3242,3301],"source":" Otherwise, `_waccess_s` and `_access_s` behave identically."},{"content":"These functions validate their parameters.","pos":[3308,3350]},{"content":"If <ph id=\"ph1\">`path`</ph> is <ph id=\"ph2\">`NULL`</ph> or <ph id=\"ph3\">`mode`</ph> does not specify a valid mode, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[3351,3542],"source":" If `path` is `NULL` or `mode` does not specify a valid mode, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, these functions set <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`EINVAL`</ph> and return <ph id=\"ph3\">`EINVAL`</ph>.","pos":[3543,3640],"source":" If execution is allowed to continue, these functions set `errno` to `EINVAL` and return `EINVAL`."},{"content":"Generic-Text Routine Mappings","pos":[3650,3679]},{"content":"Tchar.h routine","pos":[3686,3701]},{"content":"_UNICODE and _MBCS not defined","pos":[3702,3732]},{"content":"_MBCS defined","pos":[3733,3746]},{"content":"_UNICODE defined","pos":[3747,3763]},{"content":"Requirements","pos":[3937,3949]},{"content":"Routine","pos":[3956,3963]},{"content":"Required header","pos":[3964,3979]},{"content":"Optional header","pos":[3980,3995]},{"content":"io.h&gt;","pos":[4076,4081],"source":"io.h>"},{"content":"errno.h&gt;","pos":[4084,4092],"source":"errno.h>"},{"content":"wchar.h&gt; or <ph id=\"ph1\">\\&lt;</ph>io.h&gt;","pos":[4112,4131],"source":"wchar.h> or \\<io.h>"},{"content":"errno.h&gt;","pos":[4134,4142],"source":"errno.h>"},{"content":"Example","pos":[4152,4159]},{"pos":[4163,4288],"content":"This example uses <ph id=\"ph1\">`_access_s`</ph> to check the file named crt_access_s.c to see whether it exists and whether writing is allowed.","source":"This example uses `_access_s` to check the file named crt_access_s.c to see whether it exists and whether writing is allowed."},{"content":".NET Framework Equivalent","pos":[5193,5218]},{"content":"&lt;xref:System.IO.FileAccess?displayProperty=fullName&gt;","pos":[5222,5274],"source":"<xref:System.IO.FileAccess?displayProperty=fullName>"},{"content":"See Also","pos":[5283,5291]},{"content":"File Handling","pos":[5296,5309]},{"content":"_access, _waccess","pos":[5358,5375]},{"content":"_chmod, _wchmod","pos":[5435,5450]},{"content":"_fstat, _fstat32, _fstat64, _fstati64, _fstat32i64, _fstat64i32","pos":[5508,5571]},{"content":"_open, _wopen","pos":[5669,5682]},{"content":"_stat, _wstat Functions","pos":[5738,5761]}],"content":"---\ntitle: \"_access_s, _waccess_s | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_access_s\"\n  - \"_waccess_s\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-filesystem-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"waccess_s\"\n  - \"access_s\"\n  - \"_waccess_s\"\n  - \"_access_s\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"access_s function\"\n  - \"taccess_s function\"\n  - \"_taccess_s function\"\n  - \"waccess_s function\"\n  - \"_access_s function\"\n  - \"_waccess_s function\"\nms.assetid: fb3004fc-dcd3-4569-8b27-d817546e947e\ncaps.latest.revision: 28\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _access_s, _waccess_s\nDetermines file read/write permissions. This is a version of [_access, _waccess](../../c-runtime-library/reference/access-waccess.md) with security enhancements as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md).  \n  \n## Syntax  \n  \n```  \nerrno_t _access_s(   \n   const char *path,   \n   int mode   \n);  \nerrno_t _waccess_s(   \n   const wchar_t *path,   \n   int mode   \n);  \n```  \n  \n#### Parameters  \n `path`  \n File or directory path.  \n  \n `mode`  \n Permission setting.  \n  \n## Return Value  \n Each function returns 0 if the file has the given mode. The function returns an error code if the named file does not exist or is not accessible in the given mode. In this case, the function returns an error code from the set as follows and also sets `errno` to the same value.  \n  \n `EACCES`  \n Access denied. The file's permission setting does not allow specified access.  \n  \n `ENOENT`  \n File name or path not found.  \n  \n `EINVAL`  \n Invalid parameter.  \n  \n For more information, see [errno, _doserrno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md).  \n  \n## Remarks  \n When used with files, the `_access_s` function determines whether the specified file exists and can be accessed as specified by the value of `mode`. When used with directories, `_access_s` determines only whether the specified directory exists. In [!INCLUDE[Win2kFamily](../../c-runtime-library/includes/win2kfamily_md.md)] and later operating systems, all directories have read and write access.  \n  \n|mode value|Checks file for|  \n|----------------|---------------------|  \n|00|Existence only.|  \n|02|Write permission.|  \n|04|Read permission.|  \n|06|Read and write permission.|  \n  \n Permission to read or write the file is not enough to ensure the ability to open a file. For example, if a file is locked by another process, it might not be accessible even though `_access_s` returns 0.  \n  \n `_waccess_s` is a wide-character version of `_access_s`, where the `path` argument to `_waccess_s` is a wide-character string. Otherwise, `_waccess_s` and `_access_s` behave identically.  \n  \n These functions validate their parameters. If `path` is `NULL` or `mode` does not specify a valid mode, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, these functions set `errno` to `EINVAL` and return `EINVAL`.  \n  \n### Generic-Text Routine Mappings  \n  \n|Tchar.h routine|_UNICODE and _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|--------------------------------------|--------------------|-----------------------|  \n|`_taccess_s`|`_access_s`|`_access_s`|`_waccess_s`|  \n  \n## Requirements  \n  \n|Routine|Required header|Optional header|  \n|-------------|---------------------|---------------------|  \n|`_access_s`|\\<io.h>|\\<errno.h>|  \n|`_waccess_s`|\\<wchar.h> or \\<io.h>|\\<errno.h>|  \n  \n## Example  \n This example uses `_access_s` to check the file named crt_access_s.c to see whether it exists and whether writing is allowed.  \n  \n```  \n// crt_access_s.c  \n  \n#include <io.h>  \n#include <stdio.h>  \n#include <stdlib.h>  \n  \nint main( void )  \n{  \n    errno_t err = 0;  \n  \n    // Check for existence.   \n    if ((err = _access_s( \"crt_access_s.c\", 0 )) == 0 )  \n    {  \n        printf_s( \"File crt_access_s.c exists.\\n\" );  \n  \n        // Check for write permission.   \n        if ((err = _access_s( \"crt_access_s.c\", 2 )) == 0 )  \n        {  \n            printf_s( \"File crt_access_s.c does have \"  \n                      \"write permission.\\n\" );  \n        }  \n        else  \n        {  \n            printf_s( \"File crt_access_s.c does not have \"  \n                      \"write permission.\\n\" );  \n        }  \n    }  \n    else  \n    {  \n        printf_s( \"File crt_access_s.c does not exist.\\n\" );  \n    }  \n}  \n```  \n  \n```Output  \nFile crt_access_s.c exists.  \nFile crt_access_s.c does not have write permission.  \n```  \n  \n## .NET Framework Equivalent  \n <xref:System.IO.FileAccess?displayProperty=fullName>  \n  \n## See Also  \n [File Handling](../../c-runtime-library/file-handling.md)   \n [_access, _waccess](../../c-runtime-library/reference/access-waccess.md)   \n [_chmod, _wchmod](../../c-runtime-library/reference/chmod-wchmod.md)   \n [_fstat, _fstat32, _fstat64, _fstati64, _fstat32i64, _fstat64i32](../../c-runtime-library/reference/fstat-fstat32-fstat64-fstati64-fstat32i64-fstat64i32.md)   \n [_open, _wopen](../../c-runtime-library/reference/open-wopen.md)   \n [_stat, _wstat Functions](../../c-runtime-library/reference/stat-functions.md)"}