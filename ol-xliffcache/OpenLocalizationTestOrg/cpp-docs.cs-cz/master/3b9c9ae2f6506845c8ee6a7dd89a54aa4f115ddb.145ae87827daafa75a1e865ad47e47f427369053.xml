{"nodes":[{"pos":[12,48],"content":"Using Tree Controls | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Using Tree Controls | Microsoft Docs","pos":[0,36]}]},{"content":"Using Tree Controls","pos":[621,640]},{"pos":[641,750],"content":"Typical usage of a tree control (<bpt id=\"p1\">[</bpt>CTreeCtrl<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md)</ept>) follows the pattern below:","source":"Typical usage of a tree control ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) follows the pattern below:"},{"content":"The control is created.","pos":[760,783]},{"content":"If the control is specified in a dialog box template or if you're using <ph id=\"ph1\">`CTreeView`</ph>, creation is automatic when the dialog box or view is created.","pos":[784,930],"source":" If the control is specified in a dialog box template or if you're using `CTreeView`, creation is automatic when the dialog box or view is created."},{"content":"If you want to create the tree control as a child window of some other window, use the <bpt id=\"p1\">[</bpt>Create<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md#ctreectrl__create)</ept> member function.","pos":[931,1098],"source":" If you want to create the tree control as a child window of some other window, use the [Create](../mfc/reference/ctreectrl-class.md#ctreectrl__create) member function."},{"content":"If you want your tree control to use images, set an image list by calling <bpt id=\"p1\">[</bpt>SetImageList<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md#ctreectrl__setimagelist)</ept>.","pos":[1108,1258],"source":"If you want your tree control to use images, set an image list by calling [SetImageList](../mfc/reference/ctreectrl-class.md#ctreectrl__setimagelist)."},{"content":"You can also change the indentation by calling <bpt id=\"p1\">[</bpt>SetIndent<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md#ctreectrl__setindent)</ept>.","pos":[1259,1376],"source":" You can also change the indentation by calling [SetIndent](../mfc/reference/ctreectrl-class.md#ctreectrl__setindent)."},{"content":"A good time to do this is in <bpt id=\"p1\">[</bpt>OnInitDialog<ept id=\"p1\">](../mfc/reference/cdialog-class.md#cdialog__oninitdialog)</ept> (for controls in dialog boxes) or <bpt id=\"p2\">[</bpt>OnInitialUpdate<ept id=\"p2\">](../mfc/reference/cview-class.md#cview__oninitialupdate)</ept> (for views).","pos":[1377,1598],"source":" A good time to do this is in [OnInitDialog](../mfc/reference/cdialog-class.md#cdialog__oninitdialog) (for controls in dialog boxes) or [OnInitialUpdate](../mfc/reference/cview-class.md#cview__oninitialupdate) (for views)."},{"content":"Put data into the control by calling the <ph id=\"ph1\">`CTreeCtrl`</ph>'s <bpt id=\"p1\">[</bpt>InsertItem<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md#ctreectrl__insertitem)</ept> function once for each data item.","pos":[1608,1768],"source":"Put data into the control by calling the `CTreeCtrl`'s [InsertItem](../mfc/reference/ctreectrl-class.md#ctreectrl__insertitem) function once for each data item."},{"content":"returns a handle to the item you can use to refer to it later, such as when adding child items.","pos":[1782,1877]},{"content":"A good time to initialize the data is in <ph id=\"ph1\">`OnInitDialog`</ph> (for controls in dialog boxes) or <ph id=\"ph2\">`OnInitialUpdate`</ph> (for views).","pos":[1878,1998],"source":" A good time to initialize the data is in `OnInitDialog` (for controls in dialog boxes) or `OnInitialUpdate` (for views)."},{"content":"As the user interacts with the control, it will send various notification messages.","pos":[2008,2091]},{"content":"You can specify a function to handle each of the messages you want to handle by adding an <bpt id=\"p1\">**</bpt>ON_NOTIFY_REFLECT<ept id=\"p1\">**</ept> macro in your control window's message map or by adding an <ph id=\"ph1\">`ON_NOTIFY`</ph> macro to your parent window's message map.","pos":[2092,2317],"source":" You can specify a function to handle each of the messages you want to handle by adding an **ON_NOTIFY_REFLECT** macro in your control window's message map or by adding an `ON_NOTIFY` macro to your parent window's message map."},{"content":"See <bpt id=\"p1\">[</bpt>Tree Control Notification Messages<ept id=\"p1\">](../mfc/tree-control-notification-messages.md)</ept> later in this topic for a list of possible notifications.","pos":[2318,2462],"source":" See [Tree Control Notification Messages](../mfc/tree-control-notification-messages.md) later in this topic for a list of possible notifications."},{"content":"Call the various Set member functions to set values for the control.","pos":[2472,2540]},{"content":"Changes that you can make include setting the indentation and changing the text, image, or data associated with an item.","pos":[2541,2661]},{"content":"Use the various Get functions to examine the contents of the control.","pos":[2671,2740]},{"content":"You can also traverse the contents of the tree control with functions that allow you to retrieve handles to parents, children, and siblings of a specified item.","pos":[2741,2901]},{"content":"You can even sort the children of a particular node.","pos":[2902,2954]},{"content":"When you're done with the control, make sure it's properly destroyed.","pos":[2964,3033]},{"content":"If the tree control is in a dialog box or if it's a view, it and the <ph id=\"ph1\">`CTreeCtrl`</ph> object will be destroyed automatically.","pos":[3034,3154],"source":" If the tree control is in a dialog box or if it's a view, it and the `CTreeCtrl` object will be destroyed automatically."},{"content":"If not, you need to ensure that both the control and the <ph id=\"ph1\">`CTreeCtrl`</ph> object are properly destroyed.","pos":[3155,3254],"source":" If not, you need to ensure that both the control and the `CTreeCtrl` object are properly destroyed."},{"content":"See Also","pos":[3263,3271]},{"content":"Using CTreeCtrl","pos":[3276,3291]},{"content":"Controls","pos":[3325,3333]}],"content":"---\ntitle: \"Using Tree Controls | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CTreeCtrl class, using\"\n  - \"tree controls, about tree controls\"\nms.assetid: 4e92941a-e477-4fb1-b1ce-4abeafbef1c1\ncaps.latest.revision: 10\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Using Tree Controls\nTypical usage of a tree control ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) follows the pattern below:  \n  \n-   The control is created. If the control is specified in a dialog box template or if you're using `CTreeView`, creation is automatic when the dialog box or view is created. If you want to create the tree control as a child window of some other window, use the [Create](../mfc/reference/ctreectrl-class.md#ctreectrl__create) member function.  \n  \n-   If you want your tree control to use images, set an image list by calling [SetImageList](../mfc/reference/ctreectrl-class.md#ctreectrl__setimagelist). You can also change the indentation by calling [SetIndent](../mfc/reference/ctreectrl-class.md#ctreectrl__setindent). A good time to do this is in [OnInitDialog](../mfc/reference/cdialog-class.md#cdialog__oninitdialog) (for controls in dialog boxes) or [OnInitialUpdate](../mfc/reference/cview-class.md#cview__oninitialupdate) (for views).  \n  \n-   Put data into the control by calling the `CTreeCtrl`'s [InsertItem](../mfc/reference/ctreectrl-class.md#ctreectrl__insertitem) function once for each data item. `InsertItem` returns a handle to the item you can use to refer to it later, such as when adding child items. A good time to initialize the data is in `OnInitDialog` (for controls in dialog boxes) or `OnInitialUpdate` (for views).  \n  \n-   As the user interacts with the control, it will send various notification messages. You can specify a function to handle each of the messages you want to handle by adding an **ON_NOTIFY_REFLECT** macro in your control window's message map or by adding an `ON_NOTIFY` macro to your parent window's message map. See [Tree Control Notification Messages](../mfc/tree-control-notification-messages.md) later in this topic for a list of possible notifications.  \n  \n-   Call the various Set member functions to set values for the control. Changes that you can make include setting the indentation and changing the text, image, or data associated with an item.  \n  \n-   Use the various Get functions to examine the contents of the control. You can also traverse the contents of the tree control with functions that allow you to retrieve handles to parents, children, and siblings of a specified item. You can even sort the children of a particular node.  \n  \n-   When you're done with the control, make sure it's properly destroyed. If the tree control is in a dialog box or if it's a view, it and the `CTreeCtrl` object will be destroyed automatically. If not, you need to ensure that both the control and the `CTreeCtrl` object are properly destroyed.  \n  \n## See Also  \n [Using CTreeCtrl](../mfc/using-ctreectrl.md)   \n [Controls](../mfc/controls-mfc.md)\n\n"}