{"nodes":[{"pos":[12,87],"content":"How to: Create Agents that Use Specific Scheduler Policies | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Create Agents that Use Specific Scheduler Policies | Microsoft Docs","pos":[0,75]}]},{"content":"How to: Create Agents that Use Specific Scheduler Policies","pos":[742,800]},{"content":"An agent is an application component that works asynchronously with other components to solve larger computing tasks.","pos":[801,918]},{"content":"An agent typically has a set life cycle and maintains state.","pos":[919,979]},{"content":"Every agent can have unique application requirements.","pos":[986,1039]},{"content":"For example, an agent that enables user interaction (either retrieving input or displaying output) might require higher priority access to computing resources.","pos":[1040,1199]},{"content":"Scheduler policies let you control the strategy that the scheduler uses when it manages tasks.","pos":[1200,1294]},{"content":"This topic demonstrates how to create agents that use specific scheduler policies.","pos":[1295,1377]},{"pos":[1384,1602],"content":"For a basic example that uses custom scheduler policies together with asynchronous message blocks, see <bpt id=\"p1\">[</bpt>How to: Specify Specific Scheduler Policies<ept id=\"p1\">](../../parallel/concrt/how-to-specify-specific-scheduler-policies.md)</ept>.","source":"For a basic example that uses custom scheduler policies together with asynchronous message blocks, see [How to: Specify Specific Scheduler Policies](../../parallel/concrt/how-to-specify-specific-scheduler-policies.md)."},{"content":"This topic uses functionality from the Asynchronous Agents Library, such as agents, message blocks, and message-passing functions, to perform work.","pos":[1609,1756]},{"content":"For more information about the Asynchronous Agents Library, see <bpt id=\"p1\">[</bpt>Asynchronous Agents Library<ept id=\"p1\">](../../parallel/concrt/asynchronous-agents-library.md)</ept>.","pos":[1757,1905],"source":" For more information about the Asynchronous Agents Library, see [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md)."},{"content":"Example","pos":[1914,1921]},{"content":"The following example defines two classes that derive from <bpt id=\"p1\">[</bpt>concurrency::agent<ept id=\"p1\">](../../parallel/concrt/reference/agent-class.md)</ept>: <ph id=\"ph1\">`permutor`</ph> and <ph id=\"ph2\">`printer`</ph>.","pos":[1925,2079],"source":"The following example defines two classes that derive from [concurrency::agent](../../parallel/concrt/reference/agent-class.md): `permutor` and `printer`."},{"content":"The <ph id=\"ph1\">`permutor`</ph> class computes all permutations of a given input string.","pos":[2080,2151],"source":" The `permutor` class computes all permutations of a given input string."},{"content":"The <ph id=\"ph1\">`printer`</ph> class prints progress messages to the console.","pos":[2152,2212],"source":" The `printer` class prints progress messages to the console."},{"content":"The <ph id=\"ph1\">`permutor`</ph> class performs a computationally-intensive operation, which might use all available computing resources.","pos":[2213,2332],"source":" The `permutor` class performs a computationally-intensive operation, which might use all available computing resources."},{"content":"To be useful, the <ph id=\"ph1\">`printer`</ph> class must print each progress message in a timely manner.","pos":[2333,2419],"source":" To be useful, the `printer` class must print each progress message in a timely manner."},{"content":"To provide the <ph id=\"ph1\">`printer`</ph> class fair access to computing resources, this example uses steps that are described in <bpt id=\"p1\">[</bpt>How to: Manage a Scheduler Instance<ept id=\"p1\">](../../parallel/concrt/how-to-manage-a-scheduler-instance.md)</ept> to create a scheduler instance that has a custom policy.","pos":[2426,2694],"source":"To provide the `printer` class fair access to computing resources, this example uses steps that are described in [How to: Manage a Scheduler Instance](../../parallel/concrt/how-to-manage-a-scheduler-instance.md) to create a scheduler instance that has a custom policy."},{"content":"The custom policy specifies the thread priority to be the highest priority class.","pos":[2695,2776]},{"content":"To illustrate the benefits of using a scheduler that has a custom policy, this example performs the overall task two times.","pos":[2783,2906]},{"content":"The example first uses the default scheduler to schedule both tasks.","pos":[2907,2975]},{"content":"The example then uses the default scheduler to schedule the <ph id=\"ph1\">`permutor`</ph> object, and a scheduler that has a custom policy to schedule the <ph id=\"ph2\">`printer`</ph> object.","pos":[2976,3129],"source":" The example then uses the default scheduler to schedule the `permutor` object, and a scheduler that has a custom policy to schedule the `printer` object."},{"pos":[3147,3171],"content":"concrt-permute-strings#1"},{"content":"This example produces the following output.","pos":[3283,3326]},{"pos":[3548,3736],"content":"Although both sets of tasks produce the same result, the version that uses a custom policy enables the <ph id=\"ph1\">`printer`</ph> object to run at an elevated priority so that it behaves more responsively.","source":"Although both sets of tasks produce the same result, the version that uses a custom policy enables the `printer` object to run at an elevated priority so that it behaves more responsively."},{"content":"Compiling the Code","pos":[3745,3763]},{"pos":[3767,3964],"content":"Copy the example code and paste it in a Visual Studio project, or paste it in a file that is named <ph id=\"ph1\">`permute-strings.cpp`</ph> and then run the following command in a Visual Studio Command Prompt window.","source":"Copy the example code and paste it in a Visual Studio project, or paste it in a file that is named `permute-strings.cpp` and then run the following command in a Visual Studio Command Prompt window."},{"content":"cl.exe /EHsc permute-strings.cpp","pos":[3973,4005]},{"content":"See Also","pos":[4016,4024]},{"content":"Scheduler Policies","pos":[4029,4047]},{"content":"Asynchronous Agents","pos":[4099,4118]}],"content":"---\ntitle: \"How to: Create Agents that Use Specific Scheduler Policies | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"scheduler policies, agents [Concurrency Runtime]\"\n  - \"creating agents that use specific policies [Concurrency Runtime]\"\nms.assetid: 46a3e265-0777-4ec3-a142-967bafc49d67\ncaps.latest.revision: 14\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# How to: Create Agents that Use Specific Scheduler Policies\nAn agent is an application component that works asynchronously with other components to solve larger computing tasks. An agent typically has a set life cycle and maintains state.  \n  \n Every agent can have unique application requirements. For example, an agent that enables user interaction (either retrieving input or displaying output) might require higher priority access to computing resources. Scheduler policies let you control the strategy that the scheduler uses when it manages tasks. This topic demonstrates how to create agents that use specific scheduler policies.  \n  \n For a basic example that uses custom scheduler policies together with asynchronous message blocks, see [How to: Specify Specific Scheduler Policies](../../parallel/concrt/how-to-specify-specific-scheduler-policies.md).  \n  \n This topic uses functionality from the Asynchronous Agents Library, such as agents, message blocks, and message-passing functions, to perform work. For more information about the Asynchronous Agents Library, see [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md).  \n  \n## Example  \n The following example defines two classes that derive from [concurrency::agent](../../parallel/concrt/reference/agent-class.md): `permutor` and `printer`. The `permutor` class computes all permutations of a given input string. The `printer` class prints progress messages to the console. The `permutor` class performs a computationally-intensive operation, which might use all available computing resources. To be useful, the `printer` class must print each progress message in a timely manner.  \n  \n To provide the `printer` class fair access to computing resources, this example uses steps that are described in [How to: Manage a Scheduler Instance](../../parallel/concrt/how-to-manage-a-scheduler-instance.md) to create a scheduler instance that has a custom policy. The custom policy specifies the thread priority to be the highest priority class.  \n  \n To illustrate the benefits of using a scheduler that has a custom policy, this example performs the overall task two times. The example first uses the default scheduler to schedule both tasks. The example then uses the default scheduler to schedule the `permutor` object, and a scheduler that has a custom policy to schedule the `printer` object.  \n  \n [!code-cpp[concrt-permute-strings#1](../../parallel/concrt/codesnippet/cpp/how-to-create-agents-that-use-specific-scheduler-policies_1.cpp)]  \n  \n This example produces the following output.  \n  \n```Output  \nWith default scheduler:  \nComputing all permutations of 'Grapefruit'...  \n100% complete...  \n \nWith higher context priority:  \nComputing all permutations of 'Grapefruit'...  \n100% complete...  \n```  \n  \n Although both sets of tasks produce the same result, the version that uses a custom policy enables the `printer` object to run at an elevated priority so that it behaves more responsively.  \n  \n## Compiling the Code  \n Copy the example code and paste it in a Visual Studio project, or paste it in a file that is named `permute-strings.cpp` and then run the following command in a Visual Studio Command Prompt window.  \n  \n **cl.exe /EHsc permute-strings.cpp**  \n  \n## See Also  \n [Scheduler Policies](../../parallel/concrt/scheduler-policies.md)   \n [Asynchronous Agents](../../parallel/concrt/asynchronous-agents.md)   \n \n\n"}