{"nodes":[{"pos":[12,52],"content":"CRuntimeClass Structure | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CRuntimeClass Structure | Microsoft Docs","pos":[0,40]}]},{"pos":[732,755],"content":"CRuntimeClass Structure","linkify":"CRuntimeClass Structure","nodes":[{"content":"CRuntimeClass Structure","pos":[0,23]}]},{"pos":[756,922],"content":"Each class derived from <ph id=\"ph1\">`CObject`</ph> is associated with a <ph id=\"ph2\">`CRuntimeClass`</ph> structure that you can use to obtain information about an object or its base class at run time.","source":"Each class derived from `CObject` is associated with a `CRuntimeClass` structure that you can use to obtain information about an object or its base class at run time."},{"pos":[931,937],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[984,991],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[1001,1015],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[1022,1026]},{"content":"Description","pos":[1027,1038]},{"pos":[1076,1135],"content":"<bpt id=\"p1\">[</bpt>CRuntimeClass::CreateObject<ept id=\"p1\">](#cruntimeclass__createobject)</ept>","source":"[CRuntimeClass::CreateObject](#cruntimeclass__createobject)"},{"content":"Creates an object during run time.","pos":[1136,1170]},{"pos":[1175,1226],"content":"<bpt id=\"p1\">[</bpt>CRuntimeClass::FromName<ept id=\"p1\">](#cruntimeclass__fromname)</ept>","source":"[CRuntimeClass::FromName](#cruntimeclass__fromname)"},{"content":"Creates an object during run time using the familiar class name.","pos":[1227,1291]},{"pos":[1296,1357],"content":"<bpt id=\"p1\">[</bpt>CRuntimeClass::IsDerivedFrom<ept id=\"p1\">](#cruntimeclass__isderivedfrom)</ept>","source":"[CRuntimeClass::IsDerivedFrom](#cruntimeclass__isderivedfrom)"},{"content":"Determines if the class is derived from the specified class.","pos":[1358,1418]},{"pos":[1429,1448],"content":"Public Data Members","linkify":"Public Data Members","nodes":[{"content":"Public Data Members","pos":[0,19]}]},{"content":"Name","pos":[1455,1459]},{"content":"Description","pos":[1460,1471]},{"pos":[1509,1574],"content":"<bpt id=\"p1\">[</bpt>CRuntimeClass::m_lpszClassName<ept id=\"p1\">](#cruntimeclass__m_lpszclassname)</ept>","source":"[CRuntimeClass::m_lpszClassName](#cruntimeclass__m_lpszclassname)"},{"content":"The name of the class.","pos":[1575,1597]},{"pos":[1602,1663],"content":"<bpt id=\"p1\">[</bpt>CRuntimeClass::m_nObjectSize<ept id=\"p1\">](#cruntimeclass__m_nobjectsize)</ept>","source":"[CRuntimeClass::m_nObjectSize](#cruntimeclass__m_nobjectsize)"},{"content":"The size of the object in bytes.","pos":[1664,1696]},{"pos":[1701,1760],"content":"<bpt id=\"p1\">[</bpt>CRuntimeClass::m_pBaseClass<ept id=\"p1\">](#cruntimeclass__m_pbaseclass)</ept>","source":"[CRuntimeClass::m_pBaseClass](#cruntimeclass__m_pbaseclass)"},{"pos":[1761,1822],"content":"A pointer to the <ph id=\"ph1\">`CRuntimeClass`</ph> structure of the base class.","source":"A pointer to the `CRuntimeClass` structure of the base class."},{"pos":[1827,1896],"content":"<bpt id=\"p1\">[</bpt>CRuntimeClass::m_pfnCreateObject<ept id=\"p1\">](#cruntimeclass__m_pfncreateobject)</ept>","source":"[CRuntimeClass::m_pfnCreateObject](#cruntimeclass__m_pfncreateobject)"},{"content":"A pointer to the function that dynamically creates the object.","pos":[1897,1959]},{"pos":[1964,2033],"content":"<bpt id=\"p1\">[</bpt>CRuntimeClass::m_pfnGetBaseClass<ept id=\"p1\">](#cruntimeclass__m_pfngetbaseclass)</ept>","source":"[CRuntimeClass::m_pfnGetBaseClass](#cruntimeclass__m_pfngetbaseclass)"},{"pos":[2034,2113],"content":"Returns the <ph id=\"ph1\">`CRuntimeClass`</ph> structure (only available when dynamically linked).","source":"Returns the `CRuntimeClass` structure (only available when dynamically linked)."},{"pos":[2118,2171],"content":"<bpt id=\"p1\">[</bpt>CRuntimeClass::m_wSchema<ept id=\"p1\">](#cruntimeclass__m_wschema)</ept>","source":"[CRuntimeClass::m_wSchema](#cruntimeclass__m_wschema)"},{"content":"The schema number of the class.","pos":[2172,2203]},{"pos":[2213,2220],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[2224,2296],"content":"<ph id=\"ph1\">`CRuntimeClass`</ph> is a structure and therefore does not have a base class.","source":"`CRuntimeClass` is a structure and therefore does not have a base class."},{"content":"The ability to determine the class of an object at run time is useful when extra type checking of function arguments is needed, or when you must write special-purpose code based on the class of an object.","pos":[2303,2507]},{"content":"Run-time class information is not supported directly by the C++ language.","pos":[2508,2581]},{"content":"<ph id=\"ph1\">`CRuntimeClass`</ph> provides information on the related C++ object, such as a pointer to the <ph id=\"ph2\">`CRuntimeClass`</ph> of the base class and the ASCII class name of the related class.","pos":[2588,2757],"source":"`CRuntimeClass` provides information on the related C++ object, such as a pointer to the `CRuntimeClass` of the base class and the ASCII class name of the related class."},{"content":"This structure also implements various functions that can be used to dynamically create objects, specifying the type of object by using a familiar name, and determining if the related class is derived from a specific class.","pos":[2758,2981]},{"pos":[2988,3141],"content":"For more information on using <ph id=\"ph1\">`CRuntimeClass`</ph>, see the article <bpt id=\"p1\">[</bpt>Accessing Run-Time Class Information<ept id=\"p1\">](../../mfc/accessing-run-time-class-information.md)</ept>.","source":"For more information on using `CRuntimeClass`, see the article [Accessing Run-Time Class Information](../../mfc/accessing-run-time-class-information.md)."},{"pos":[3150,3171],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[3199,3211],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3215,3232],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afx.h","source":"**Header:** afx.h"},{"pos":[3242,3313],"content":"<bpt id=\"p1\">&lt;a name=\"cruntimeclass__createobject\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CRuntimeClass::CreateObject","linkify":"<a name=\"cruntimeclass__createobject\"></a>  CRuntimeClass::CreateObject","source":"<a name=\"cruntimeclass__createobject\"></a>  CRuntimeClass::CreateObject"},{"content":"Call this function to dynamically create the specified class during run time.","pos":[3317,3394]},{"pos":[3569,3579],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The familiar name of the class to be created.","pos":[3602,3647]},{"pos":[3657,3669],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[3673,3808],"content":"A pointer to the newly created object, or <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> if the class name is not found or there is insufficient memory to create the object.","source":"A pointer to the newly created object, or **NULL** if the class name is not found or there is insufficient memory to create the object."},{"pos":[3818,3825],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Classes derived from <ph id=\"ph1\">`CObject`</ph> can support dynamic creation, which is the ability to create an object of a specified class at run time.","pos":[3829,3964],"source":"Classes derived from `CObject` can support dynamic creation, which is the ability to create an object of a specified class at run time."},{"content":"Document, view, and frame classes, for example, should support dynamic creation.","pos":[3965,4045]},{"content":"For more information on dynamic creation and the <ph id=\"ph1\">`CreateObject`</ph> member, see <bpt id=\"p1\">[</bpt>CObject Class<ept id=\"p1\">](../../mfc/using-cobject.md)</ept> and <bpt id=\"p2\">[</bpt>CObject Class: Specifying Levels of Functionality<ept id=\"p2\">](../../mfc/specifying-levels-of-functionality.md)</ept>.","pos":[4046,4271],"source":" For more information on dynamic creation and the `CreateObject` member, see [CObject Class](../../mfc/using-cobject.md) and [CObject Class: Specifying Levels of Functionality](../../mfc/specifying-levels-of-functionality.md)."},{"pos":[4281,4288],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4293,4360],"content":"See the example for <bpt id=\"p1\">[</bpt>IsDerivedFrom<ept id=\"p1\">](#cruntimeclass__isderivedfrom)</ept>.","source":"See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom)."},{"pos":[4370,4433],"content":"<bpt id=\"p1\">&lt;a name=\"cruntimeclass__fromname\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CRuntimeClass::FromName","linkify":"<a name=\"cruntimeclass__fromname\"></a>  CRuntimeClass::FromName","source":"<a name=\"cruntimeclass__fromname\"></a>  CRuntimeClass::FromName"},{"pos":[4437,4532],"content":"Call this function to retrieve the <ph id=\"ph1\">`CRuntimeClass`</ph> structure associated with the familiar name.","source":"Call this function to retrieve the `CRuntimeClass` structure associated with the familiar name."},{"pos":[4683,4693],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The familiar name of a class derived from <ph id=\"ph1\">`CObject`</ph>.","pos":[4716,4768],"source":" The familiar name of a class derived from `CObject`."},{"pos":[4778,4790],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"A pointer to a <ph id=\"ph1\">`CRuntimeClass`</ph> object, corresponding to the name as passed in <ph id=\"ph2\">`lpszClassName`</ph>.","pos":[4794,4888],"source":"A pointer to a `CRuntimeClass` object, corresponding to the name as passed in `lpszClassName`."},{"content":"The function returns <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> if no matching class name was found.","pos":[4889,4955],"source":" The function returns **NULL** if no matching class name was found."},{"pos":[4965,4972],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4976,5069],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFCCObjectSample#17<ept id=\"p2\">](../../mfc/codesnippet/cpp/cruntimeclass-structure_1.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFCCObjectSample#17](../../mfc/codesnippet/cpp/cruntimeclass-structure_1.cpp)]"},{"pos":[5079,5152],"content":"<bpt id=\"p1\">&lt;a name=\"cruntimeclass__isderivedfrom\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CRuntimeClass::IsDerivedFrom","linkify":"<a name=\"cruntimeclass__isderivedfrom\"></a>  CRuntimeClass::IsDerivedFrom","source":"<a name=\"cruntimeclass__isderivedfrom\"></a>  CRuntimeClass::IsDerivedFrom"},{"pos":[5156,5275],"content":"Call this function to determine if the calling class is derived from the class specified in the <bpt id=\"p1\">*</bpt>pBaseClass<ept id=\"p1\">*</ept> parameter.","source":"Call this function to determine if the calling class is derived from the class specified in the *pBaseClass* parameter."},{"pos":[5362,5372],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"<bpt id=\"p1\">*</bpt>pBaseClass<ept id=\"p1\">*</ept>","pos":[5376,5388],"source":"*pBaseClass*"},{"content":"The familiar name of a class derived from <ph id=\"ph1\">`CObject`</ph>.","pos":[5392,5444],"source":" The familiar name of a class derived from `CObject`."},{"pos":[5454,5466],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[5470,5624],"content":"<bpt id=\"p1\">**</bpt>TRUE<ept id=\"p1\">**</ept> if the class calling <ph id=\"ph1\">`IsDerivedFrom`</ph> is derived from the base class whose <ph id=\"ph2\">`CRuntimeClass`</ph> structure is given as a parameter; otherwise <bpt id=\"p2\">**</bpt>FALSE<ept id=\"p2\">**</ept>.","source":"**TRUE** if the class calling `IsDerivedFrom` is derived from the base class whose `CRuntimeClass` structure is given as a parameter; otherwise **FALSE**."},{"pos":[5634,5641],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The relationship is determined by \"walking\" from the member's class up the chain of derived classes all the way to the top.","pos":[5645,5768]},{"content":"This function only returns <bpt id=\"p1\">**</bpt>FALSE<ept id=\"p1\">**</ept> if no match is found for the base class.","pos":[5769,5846],"source":" This function only returns **FALSE** if no match is found for the base class."},{"pos":[5854,6090],"content":"[!NOTE]\n To use the `CRuntimeClass` structure, you must include the `IMPLEMENT_DYNAMIC`, `IMPLEMENT_DYNCREATE`, or `IMPLEMENT_SERIAL` macro in the implementation of the class for which you want to retrieve run-time object information.","leadings":["","> "],"nodes":[{"content":"To use the <ph id=\"ph1\">`CRuntimeClass`</ph> structure, you must include the <ph id=\"ph2\">`IMPLEMENT_DYNAMIC`</ph>, <ph id=\"ph3\">`IMPLEMENT_DYNCREATE`</ph>, or <ph id=\"ph4\">`IMPLEMENT_SERIAL`</ph> macro in the implementation of the class for which you want to retrieve run-time object information.","pos":[9,234],"source":" To use the `CRuntimeClass` structure, you must include the `IMPLEMENT_DYNAMIC`, `IMPLEMENT_DYNCREATE`, or `IMPLEMENT_SERIAL` macro in the implementation of the class for which you want to retrieve run-time object information."}]},{"pos":[6097,6265],"content":"For more information on using <ph id=\"ph1\">`CRuntimeClass`</ph>, see the article <bpt id=\"p1\">[</bpt>CObject Class: Accessing Run-Time Class Information<ept id=\"p1\">](../../mfc/accessing-run-time-class-information.md)</ept>.","source":"For more information on using `CRuntimeClass`, see the article [CObject Class: Accessing Run-Time Class Information](../../mfc/accessing-run-time-class-information.md)."},{"pos":[6275,6282],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[6286,6379],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFCCObjectSample#18<ept id=\"p2\">](../../mfc/codesnippet/cpp/cruntimeclass-structure_2.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFCCObjectSample#18](../../mfc/codesnippet/cpp/cruntimeclass-structure_2.cpp)]"},{"pos":[6389,6466],"content":"<bpt id=\"p1\">&lt;a name=\"cruntimeclass__m_lpszclassname\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CRuntimeClass::m_lpszClassName","linkify":"<a name=\"cruntimeclass__m_lpszclassname\"></a>  CRuntimeClass::m_lpszClassName","source":"<a name=\"cruntimeclass__m_lpszclassname\"></a>  CRuntimeClass::m_lpszClassName"},{"content":"A null-terminated string containing the ASCII class name.","pos":[6470,6527]},{"pos":[6537,6544],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[6548,6642],"content":"This name can be used to create an instance of the class using the <ph id=\"ph1\">`FromName`</ph> member function.","source":"This name can be used to create an instance of the class using the `FromName` member function."},{"pos":[6652,6659],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[6664,6731],"content":"See the example for <bpt id=\"p1\">[</bpt>IsDerivedFrom<ept id=\"p1\">](#cruntimeclass__isderivedfrom)</ept>.","source":"See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom)."},{"pos":[6741,6814],"content":"<bpt id=\"p1\">&lt;a name=\"cruntimeclass__m_nobjectsize\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CRuntimeClass::m_nObjectSize","linkify":"<a name=\"cruntimeclass__m_nobjectsize\"></a>  CRuntimeClass::m_nObjectSize","source":"<a name=\"cruntimeclass__m_nobjectsize\"></a>  CRuntimeClass::m_nObjectSize"},{"content":"The size of the object, in bytes.","pos":[6818,6851]},{"pos":[6861,6868],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"If the object has data members that point to allocated memory, the size of that memory is not included.","pos":[6872,6975]},{"pos":[6985,6992],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[6997,7064],"content":"See the example for <bpt id=\"p1\">[</bpt>IsDerivedFrom<ept id=\"p1\">](#cruntimeclass__isderivedfrom)</ept>.","source":"See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom)."},{"pos":[7074,7145],"content":"<bpt id=\"p1\">&lt;a name=\"cruntimeclass__m_pbaseclass\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CRuntimeClass::m_pBaseClass","linkify":"<a name=\"cruntimeclass__m_pbaseclass\"></a>  CRuntimeClass::m_pBaseClass","source":"<a name=\"cruntimeclass__m_pbaseclass\"></a>  CRuntimeClass::m_pBaseClass"},{"pos":[7149,7281],"content":"If your application statically links to MFC, this data member contains a pointer to the <ph id=\"ph1\">`CRuntimeClass`</ph> structure of the base class.","source":"If your application statically links to MFC, this data member contains a pointer to the `CRuntimeClass` structure of the base class."},{"pos":[7291,7298],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[7302,7419],"content":"If your application dynamically links to the MFC library, see <bpt id=\"p1\">[</bpt>m_pfnGetBaseClass<ept id=\"p1\">](#cruntimeclass__m_pfngetbaseclass)</ept>.","source":"If your application dynamically links to the MFC library, see [m_pfnGetBaseClass](#cruntimeclass__m_pfngetbaseclass)."},{"pos":[7429,7436],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[7441,7508],"content":"See the example for <bpt id=\"p1\">[</bpt>IsDerivedFrom<ept id=\"p1\">](#cruntimeclass__isderivedfrom)</ept>.","source":"See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom)."},{"pos":[7518,7599],"content":"<bpt id=\"p1\">&lt;a name=\"cruntimeclass__m_pfncreateobject\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CRuntimeClass::m_pfnCreateObject","linkify":"<a name=\"cruntimeclass__m_pfncreateobject\"></a>  CRuntimeClass::m_pfnCreateObject","source":"<a name=\"cruntimeclass__m_pfncreateobject\"></a>  CRuntimeClass::m_pfnCreateObject"},{"content":"A function pointer to the default constructor that creates an object of your class.","pos":[7603,7686]},{"pos":[7696,7703],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[7707,7815],"content":"This pointer is only valid if the class supports dynamic creation; otherwise, the function returns <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept>.","source":"This pointer is only valid if the class supports dynamic creation; otherwise, the function returns **NULL**."},{"pos":[7825,7906],"content":"<bpt id=\"p1\">&lt;a name=\"cruntimeclass__m_pfngetbaseclass\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CRuntimeClass::m_pfnGetBaseClass","linkify":"<a name=\"cruntimeclass__m_pfngetbaseclass\"></a>  CRuntimeClass::m_pfnGetBaseClass","source":"<a name=\"cruntimeclass__m_pfngetbaseclass\"></a>  CRuntimeClass::m_pfnGetBaseClass"},{"pos":[7910,8067],"content":"If your application uses the MFC library as a shared DLL, this data member points to a function that returns the <ph id=\"ph1\">`CRuntimeClass`</ph> structure of the base class.","source":"If your application uses the MFC library as a shared DLL, this data member points to a function that returns the `CRuntimeClass` structure of the base class."},{"pos":[8077,8084],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[8088,8194],"content":"If your application statically links to the MFC library, see <bpt id=\"p1\">[</bpt>m_pBaseClass<ept id=\"p1\">](#cruntimeclass__m_pbaseclass)</ept>.","source":"If your application statically links to the MFC library, see [m_pBaseClass](#cruntimeclass__m_pbaseclass)."},{"pos":[8204,8211],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[8216,8283],"content":"See the example for <bpt id=\"p1\">[</bpt>IsDerivedFrom<ept id=\"p1\">](#cruntimeclass__isderivedfrom)</ept>.","source":"See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom)."},{"pos":[8293,8358],"content":"<bpt id=\"p1\">&lt;a name=\"cruntimeclass__m_wschema\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CRuntimeClass::m_wSchema","linkify":"<a name=\"cruntimeclass__m_wschema\"></a>  CRuntimeClass::m_wSchema","source":"<a name=\"cruntimeclass__m_wschema\"></a>  CRuntimeClass::m_wSchema"},{"content":"The schema number ( -1 for nonserializable classes).","pos":[8362,8414]},{"pos":[8424,8431],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[8435,8560],"content":"For more information on schema numbers, see the <bpt id=\"p1\">[</bpt>IMPLEMENT_SERIAL<ept id=\"p1\">](run-time-object-model-services.md#implement_serial)</ept> macro.","source":"For more information on schema numbers, see the [IMPLEMENT_SERIAL](run-time-object-model-services.md#implement_serial) macro."},{"pos":[8570,8577],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[8582,8649],"content":"See the example for <bpt id=\"p1\">[</bpt>IsDerivedFrom<ept id=\"p1\">](#cruntimeclass__isderivedfrom)</ept>.","source":"See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom)."},{"pos":[8658,8666],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Hierarchy Chart<ept id=\"p1\">](../../mfc/hierarchy-chart.md)</ept><ph id=\"ph1\"> </ph>","pos":[8670,8718],"source":"[Hierarchy Chart](../../mfc/hierarchy-chart.md) "},{"content":"<bpt id=\"p1\"> [</bpt>CObject::GetRuntimeClass<ept id=\"p1\">](../../mfc/reference/cobject-class.md#cobject__getruntimeclass)</ept><ph id=\"ph1\"> </ph>","pos":[8721,8812],"source":" [CObject::GetRuntimeClass](../../mfc/reference/cobject-class.md#cobject__getruntimeclass) "},{"content":"<bpt id=\"p1\"> [</bpt>CObject::IsKindOf<ept id=\"p1\">](../../mfc/reference/cobject-class.md#cobject__iskindof)</ept><ph id=\"ph1\"> </ph>","pos":[8815,8892],"source":" [CObject::IsKindOf](../../mfc/reference/cobject-class.md#cobject__iskindof) "},{"content":"<bpt id=\"p1\"> [</bpt>RUNTIME_CLASS<ept id=\"p1\">](run-time-object-model-services.md#runtime_class)</ept><ph id=\"ph1\"> </ph>","pos":[8895,8961],"source":" [RUNTIME_CLASS](run-time-object-model-services.md#runtime_class) "},{"content":"<bpt id=\"p1\"> [</bpt>IMPLEMENT_DYNAMIC<ept id=\"p1\">](run-time-object-model-services.md#implement_dynamic)</ept><ph id=\"ph1\"> </ph>","pos":[8964,9038],"source":" [IMPLEMENT_DYNAMIC](run-time-object-model-services.md#implement_dynamic) "},{"content":"<bpt id=\"p1\"> [</bpt>IMPLEMENT_DYNCREATE<ept id=\"p1\">](run-time-object-model-services.md#implement_dyncreate)</ept><ph id=\"ph1\"> </ph>","pos":[9041,9119],"source":" [IMPLEMENT_DYNCREATE](run-time-object-model-services.md#implement_dyncreate) "},{"content":"<bpt id=\"p1\"> [</bpt>IMPLEMENT_SERIAL<ept id=\"p1\">](run-time-object-model-services.md#implement_serial)</ept>","pos":[9122,9193],"source":" [IMPLEMENT_SERIAL](run-time-object-model-services.md#implement_serial)"}],"content":"---\ntitle: \"CRuntimeClass Structure | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CRuntimeClass\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CRuntimeClass structure\"\n  - \"dynamic class information\"\n  - \"runtime, class information\"\n  - \"run-time class, CRuntimeClass structure\"\nms.assetid: de62b6ef-90d4-420f-8c70-f58b36976a2b\ncaps.latest.revision: 20\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CRuntimeClass Structure\nEach class derived from `CObject` is associated with a `CRuntimeClass` structure that you can use to obtain information about an object or its base class at run time.  \n  \n## Syntax  \n  \n```  \nstruct CRuntimeClass  \n```  \n  \n## Members  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CRuntimeClass::CreateObject](#cruntimeclass__createobject)|Creates an object during run time.|  \n|[CRuntimeClass::FromName](#cruntimeclass__fromname)|Creates an object during run time using the familiar class name.|  \n|[CRuntimeClass::IsDerivedFrom](#cruntimeclass__isderivedfrom)|Determines if the class is derived from the specified class.|  \n  \n### Public Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CRuntimeClass::m_lpszClassName](#cruntimeclass__m_lpszclassname)|The name of the class.|  \n|[CRuntimeClass::m_nObjectSize](#cruntimeclass__m_nobjectsize)|The size of the object in bytes.|  \n|[CRuntimeClass::m_pBaseClass](#cruntimeclass__m_pbaseclass)|A pointer to the `CRuntimeClass` structure of the base class.|  \n|[CRuntimeClass::m_pfnCreateObject](#cruntimeclass__m_pfncreateobject)|A pointer to the function that dynamically creates the object.|  \n|[CRuntimeClass::m_pfnGetBaseClass](#cruntimeclass__m_pfngetbaseclass)|Returns the `CRuntimeClass` structure (only available when dynamically linked).|  \n|[CRuntimeClass::m_wSchema](#cruntimeclass__m_wschema)|The schema number of the class.|  \n  \n## Remarks  \n `CRuntimeClass` is a structure and therefore does not have a base class.  \n  \n The ability to determine the class of an object at run time is useful when extra type checking of function arguments is needed, or when you must write special-purpose code based on the class of an object. Run-time class information is not supported directly by the C++ language.  \n  \n `CRuntimeClass` provides information on the related C++ object, such as a pointer to the `CRuntimeClass` of the base class and the ASCII class name of the related class. This structure also implements various functions that can be used to dynamically create objects, specifying the type of object by using a familiar name, and determining if the related class is derived from a specific class.  \n  \n For more information on using `CRuntimeClass`, see the article [Accessing Run-Time Class Information](../../mfc/accessing-run-time-class-information.md).  \n  \n## Inheritance Hierarchy  \n `CRuntimeClass`  \n  \n## Requirements  \n **Header:** afx.h  \n  \n##  <a name=\"cruntimeclass__createobject\"></a>  CRuntimeClass::CreateObject  \n Call this function to dynamically create the specified class during run time.  \n  \n```  \nCObject* CreateObject();\n\n \nstatic CObject* PASCAL CreateObject(LPCSTR lpszClassName);\n\n \nstatic CObject* PASCAL CreateObject(LPCWSTR lpszClassName);\n```  \n  \n### Parameters  \n `lpszClassName`  \n The familiar name of the class to be created.  \n  \n### Return Value  \n A pointer to the newly created object, or **NULL** if the class name is not found or there is insufficient memory to create the object.  \n  \n### Remarks  \n Classes derived from `CObject` can support dynamic creation, which is the ability to create an object of a specified class at run time. Document, view, and frame classes, for example, should support dynamic creation. For more information on dynamic creation and the `CreateObject` member, see [CObject Class](../../mfc/using-cobject.md) and [CObject Class: Specifying Levels of Functionality](../../mfc/specifying-levels-of-functionality.md).  \n  \n### Example  \n  See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom).  \n  \n##  <a name=\"cruntimeclass__fromname\"></a>  CRuntimeClass::FromName  \n Call this function to retrieve the `CRuntimeClass` structure associated with the familiar name.  \n  \n```  \nstatic CRuntimeClass* PASCAL FromName(LPCSTR lpszClassName);\n\n \nstatic CRuntimeClass* PASCAL FromName(LPCWSTR lpszClassName);\n```  \n  \n### Parameters  \n `lpszClassName`  \n The familiar name of a class derived from `CObject`.  \n  \n### Return Value  \n A pointer to a `CRuntimeClass` object, corresponding to the name as passed in `lpszClassName`. The function returns **NULL** if no matching class name was found.  \n  \n### Example  \n [!code-cpp[NVC_MFCCObjectSample#17](../../mfc/codesnippet/cpp/cruntimeclass-structure_1.cpp)]  \n  \n##  <a name=\"cruntimeclass__isderivedfrom\"></a>  CRuntimeClass::IsDerivedFrom  \n Call this function to determine if the calling class is derived from the class specified in the *pBaseClass* parameter.  \n  \n```  \nBOOL IsDerivedFrom(const CRuntimeClass* pBaseClass) const;\n\n \n```  \n  \n### Parameters  \n *pBaseClass*  \n The familiar name of a class derived from `CObject`.  \n  \n### Return Value  \n **TRUE** if the class calling `IsDerivedFrom` is derived from the base class whose `CRuntimeClass` structure is given as a parameter; otherwise **FALSE**.  \n  \n### Remarks  \n The relationship is determined by \"walking\" from the member's class up the chain of derived classes all the way to the top. This function only returns **FALSE** if no match is found for the base class.  \n  \n> [!NOTE]\n>  To use the `CRuntimeClass` structure, you must include the `IMPLEMENT_DYNAMIC`, `IMPLEMENT_DYNCREATE`, or `IMPLEMENT_SERIAL` macro in the implementation of the class for which you want to retrieve run-time object information.  \n  \n For more information on using `CRuntimeClass`, see the article [CObject Class: Accessing Run-Time Class Information](../../mfc/accessing-run-time-class-information.md).  \n  \n### Example  \n [!code-cpp[NVC_MFCCObjectSample#18](../../mfc/codesnippet/cpp/cruntimeclass-structure_2.cpp)]  \n  \n##  <a name=\"cruntimeclass__m_lpszclassname\"></a>  CRuntimeClass::m_lpszClassName  \n A null-terminated string containing the ASCII class name.  \n  \n### Remarks  \n This name can be used to create an instance of the class using the `FromName` member function.  \n  \n### Example  \n  See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom).  \n  \n##  <a name=\"cruntimeclass__m_nobjectsize\"></a>  CRuntimeClass::m_nObjectSize  \n The size of the object, in bytes.  \n  \n### Remarks  \n If the object has data members that point to allocated memory, the size of that memory is not included.  \n  \n### Example  \n  See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom).  \n  \n##  <a name=\"cruntimeclass__m_pbaseclass\"></a>  CRuntimeClass::m_pBaseClass  \n If your application statically links to MFC, this data member contains a pointer to the `CRuntimeClass` structure of the base class.  \n  \n### Remarks  \n If your application dynamically links to the MFC library, see [m_pfnGetBaseClass](#cruntimeclass__m_pfngetbaseclass).  \n  \n### Example  \n  See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom).  \n  \n##  <a name=\"cruntimeclass__m_pfncreateobject\"></a>  CRuntimeClass::m_pfnCreateObject  \n A function pointer to the default constructor that creates an object of your class.  \n  \n### Remarks  \n This pointer is only valid if the class supports dynamic creation; otherwise, the function returns **NULL**.  \n  \n##  <a name=\"cruntimeclass__m_pfngetbaseclass\"></a>  CRuntimeClass::m_pfnGetBaseClass  \n If your application uses the MFC library as a shared DLL, this data member points to a function that returns the `CRuntimeClass` structure of the base class.  \n  \n### Remarks  \n If your application statically links to the MFC library, see [m_pBaseClass](#cruntimeclass__m_pbaseclass).  \n  \n### Example  \n  See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom).  \n  \n##  <a name=\"cruntimeclass__m_wschema\"></a>  CRuntimeClass::m_wSchema  \n The schema number ( -1 for nonserializable classes).  \n  \n### Remarks  \n For more information on schema numbers, see the [IMPLEMENT_SERIAL](run-time-object-model-services.md#implement_serial) macro.  \n  \n### Example  \n  See the example for [IsDerivedFrom](#cruntimeclass__isderivedfrom).  \n  \n## See Also  \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [CObject::GetRuntimeClass](../../mfc/reference/cobject-class.md#cobject__getruntimeclass)   \n [CObject::IsKindOf](../../mfc/reference/cobject-class.md#cobject__iskindof)   \n [RUNTIME_CLASS](run-time-object-model-services.md#runtime_class)   \n [IMPLEMENT_DYNAMIC](run-time-object-model-services.md#implement_dynamic)   \n [IMPLEMENT_DYNCREATE](run-time-object-model-services.md#implement_dyncreate)   \n [IMPLEMENT_SERIAL](run-time-object-model-services.md#implement_serial)\n\n\n\n"}