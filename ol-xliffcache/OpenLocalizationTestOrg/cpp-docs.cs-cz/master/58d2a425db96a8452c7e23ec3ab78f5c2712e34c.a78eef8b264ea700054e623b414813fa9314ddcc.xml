{"nodes":[{"pos":[12,63],"content":"strspn, wcsspn, _mbsspn, _mbsspn_l | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"strspn, wcsspn, _mbsspn, _mbsspn_l | Microsoft Docs","pos":[0,51]}]},{"pos":[1336,1370],"content":"strspn, wcsspn, _mbsspn, _mbsspn_l","linkify":"strspn, wcsspn, _mbsspn, _mbsspn_l","nodes":[{"content":"strspn, wcsspn, _mbsspn, _mbsspn_l","pos":[0,34]}]},{"content":"Returns the index of the first character, in a string, that does not belong to a set of characters.","pos":[1371,1470]},{"pos":[1478,1715],"content":"[!IMPORTANT]\n `_mbsspn` and `_mbsspn_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","leadings":["","> "],"nodes":[{"content":" `_mbsspn` and `_mbsspn_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","pos":[13,235],"nodes":[{"content":"<ph id=\"ph1\"> `_mbsspn`</ph> and <ph id=\"ph2\">`_mbsspn_l`</ph> cannot be used in applications that execute in the Windows Runtime.","pos":[0,94],"source":" `_mbsspn` and `_mbsspn_l` cannot be used in applications that execute in the Windows Runtime."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CRT functions not supported with /ZW<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)</ept>.","pos":[95,222],"source":" For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)."}]}]},{"pos":[1724,1730],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[2116,2126],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Null-terminated string to search.","pos":[2139,2172]},{"content":"Null-terminated character set.","pos":[2195,2225]},{"content":"Locale to use.","pos":[2244,2258]},{"pos":[2267,2279],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns an integer value specifying the length of the substring in <ph id=\"ph1\">`str`</ph> that consists entirely of characters in <ph id=\"ph2\">`strCharSet`</ph><bpt id=\"p1\">*</bpt>.<ept id=\"p1\">*</ept>","pos":[2283,2411],"source":"Returns an integer value specifying the length of the substring in `str` that consists entirely of characters in `strCharSet`*.*"},{"content":"If <ph id=\"ph1\">`str`</ph> begins with a character not in <ph id=\"ph2\">`strCharSet`</ph><bpt id=\"p1\">*</bpt>,<ept id=\"p1\">*</ept> the function returns 0.","pos":[2412,2491],"source":" If `str` begins with a character not in `strCharSet`*,* the function returns 0."},{"pos":[2500,2507],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`strspn`</ph> function returns the index of the first character in <ph id=\"ph2\">`str`</ph> that does not belong to the set of characters in <ph id=\"ph3\">`strCharSet`</ph>.","pos":[2511,2645],"source":"The `strspn` function returns the index of the first character in `str` that does not belong to the set of characters in `strCharSet`."},{"content":"The search does not include terminating null characters.","pos":[2646,2702]},{"content":"<ph id=\"ph1\">`wcsspn`</ph> and <ph id=\"ph2\">`_mbsspn`</ph> are wide-character and multibyte-character versions of <ph id=\"ph3\">`strspn`</ph><bpt id=\"p1\">**</bpt>.<ept id=\"p1\">**</ept>","pos":[2709,2800],"source":"`wcsspn` and `_mbsspn` are wide-character and multibyte-character versions of `strspn`**.**"},{"content":"The arguments of <ph id=\"ph1\">`wcsspn`</ph> are wide-character strings; those of <ph id=\"ph2\">`_mbsspn`</ph> are multibyte-character strings.","pos":[2801,2906],"source":" The arguments of `wcsspn` are wide-character strings; those of `_mbsspn` are multibyte-character strings."},{"content":"<ph id=\"ph1\">`_mbsspn`</ph> validates its parameters.","pos":[2907,2942],"source":"`_mbsspn` validates its parameters."},{"content":"If <ph id=\"ph1\">`str`</ph> or <ph id=\"ph2\">`strCharSet`</ph> is<ph id=\"ph3\">`NULL`</ph>, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept> .","pos":[2943,3109],"source":" If `str` or `strCharSet` is`NULL`, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md) ."},{"content":"If execution is allowed to continue, <ph id=\"ph1\">`_mbspn`</ph> sets <ph id=\"ph2\">`errno`</ph> to <ph id=\"ph3\">`EINVAL`</ph> and returns 0.","pos":[3110,3195],"source":" If execution is allowed to continue, `_mbspn` sets `errno` to `EINVAL` and returns 0."},{"content":"<ph id=\"ph1\">`strspn`</ph> and <ph id=\"ph2\">`wcsspn`</ph> do not validate their parameters.","pos":[3196,3251],"source":"`strspn` and `wcsspn` do not validate their parameters."},{"content":"These three functions behave identically otherwise.","pos":[3252,3303]},{"content":"The output value is affected by the setting of the <ph id=\"ph1\">`LC_CTYPE`</ph> category setting of the locale; see <bpt id=\"p1\">[</bpt>setlocale<ept id=\"p1\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept> for more information.","pos":[3310,3500],"source":"The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md) for more information."},{"content":"The versions of these functions without the <ph id=\"ph1\">`_l`</ph> suffix use the current locale for this locale-dependent behavior; the versions with the <ph id=\"ph2\">`_l`</ph> suffix are identical except that they use the locale parameter passed in instead.","pos":[3501,3724],"source":" The versions of these functions without the `_l` suffix use the current locale for this locale-dependent behavior; the versions with the `_l` suffix are identical except that they use the locale parameter passed in instead."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept>.","pos":[3725,3795],"source":" For more information, see [Locale](../../c-runtime-library/locale.md)."},{"pos":[3805,3834],"content":"Generic-Text Routine Mappings","linkify":"Generic-Text Routine Mappings","nodes":[{"content":"Generic-Text Routine Mappings","pos":[0,29]}]},{"content":"TCHAR.H routine","pos":[3841,3856]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[3857,3885],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[3886,3899]},{"content":"_UNICODE defined","pos":[3900,3916]},{"pos":[4071,4078],"content":"<bpt id=\"p1\">**</bpt>n/a<ept id=\"p1\">**</ept>","source":"**n/a**"},{"pos":[4079,4086],"content":"<bpt id=\"p1\">**</bpt>n/a<ept id=\"p1\">**</ept>","source":"**n/a**"},{"pos":[4099,4106],"content":"<bpt id=\"p1\">**</bpt>n/a<ept id=\"p1\">**</ept>","source":"**n/a**"},{"pos":[4116,4128],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Routine","pos":[4135,4142]},{"content":"Required header","pos":[4143,4158]},{"content":"<ph id=\"ph1\">\\&lt;</ph>string.h&gt;","pos":[4212,4223],"source":"\\<string.h>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>string.h&gt; or <ph id=\"ph2\">\\&lt;</ph>wchar.h&gt;","pos":[4237,4262],"source":"\\<string.h> or \\<wchar.h>"},{"pos":[4267,4289],"content":"<ph id=\"ph1\">`_mbsspn`</ph>, <ph id=\"ph2\">`_mbsspn_l`</ph>","source":"`_mbsspn`, `_mbsspn_l`"},{"content":"<ph id=\"ph1\">\\&lt;</ph>mbstring.h&gt;","pos":[4290,4303],"source":"\\<mbstring.h>"},{"pos":[4311,4415],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"pos":[4424,4431],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[5042,5067],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"pos":[5071,5169],"content":"<bpt id=\"p1\">[</bpt>System::String::Substring<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/system.string.substring.aspx)</ept>","source":"[System::String::Substring](https://msdn.microsoft.com/en-us/library/system.string.substring.aspx)"},{"pos":[5178,5186],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>String Manipulation<ept id=\"p1\">](../../c-runtime-library/string-manipulation-crt.md)</ept><ph id=\"ph1\"> </ph>","pos":[5190,5264],"source":"[String Manipulation](../../c-runtime-library/string-manipulation-crt.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept><ph id=\"ph1\"> </ph>","pos":[5267,5312],"source":" [Locale](../../c-runtime-library/locale.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Interpretation of Multibyte-Character Sequences<ept id=\"p1\">](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)</ept><ph id=\"ph1\"> </ph>","pos":[5315,5442],"source":" [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_strspnp, _wcsspnp, _mbsspnp, _mbsspnp_l<ept id=\"p1\">](../../c-runtime-library/reference/strspnp-wcsspnp-mbsspnp-mbsspnp-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[5445,5561],"source":" [_strspnp, _wcsspnp, _mbsspnp, _mbsspnp_l](../../c-runtime-library/reference/strspnp-wcsspnp-mbsspnp-mbsspnp-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>strcspn, wcscspn, _mbscspn, _mbscspn_l<ept id=\"p1\">](../../c-runtime-library/reference/strcspn-wcscspn-mbscspn-mbscspn-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[5564,5678],"source":" [strcspn, wcscspn, _mbscspn, _mbscspn_l](../../c-runtime-library/reference/strcspn-wcscspn-mbscspn-mbscspn-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>strncat, _strncat_l, wcsncat, _wcsncat_l, _mbsncat, _mbsncat_l<ept id=\"p1\">](../../c-runtime-library/reference/strncat-strncat-l-wcsncat-wcsncat-l-mbsncat-mbsncat-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[5681,5839],"source":" [strncat, _strncat_l, wcsncat, _wcsncat_l, _mbsncat, _mbsncat_l](../../c-runtime-library/reference/strncat-strncat-l-wcsncat-wcsncat-l-mbsncat-mbsncat-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>strncmp, wcsncmp, _mbsncmp, _mbsncmp_l<ept id=\"p1\">](../../c-runtime-library/reference/strncmp-wcsncmp-mbsncmp-mbsncmp-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[5842,5956],"source":" [strncmp, wcsncmp, _mbsncmp, _mbsncmp_l](../../c-runtime-library/reference/strncmp-wcsncmp-mbsncmp-mbsncmp-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>strncpy, _strncpy_l, wcsncpy, _wcsncpy_l, _mbsncpy, _mbsncpy_l<ept id=\"p1\">](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[5959,6117],"source":" [strncpy, _strncpy_l, wcsncpy, _wcsncpy_l, _mbsncpy, _mbsncpy_l](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_strnicmp, _wcsnicmp, _mbsnicmp, _strnicmp_l, _wcsnicmp_l, _mbsnicmp_l<ept id=\"p1\">](../../c-runtime-library/reference/strnicmp-wcsnicmp-mbsnicmp-strnicmp-l-wcsnicmp-l-mbsnicmp-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[6120,6292],"source":" [_strnicmp, _wcsnicmp, _mbsnicmp, _strnicmp_l, _wcsnicmp_l, _mbsnicmp_l](../../c-runtime-library/reference/strnicmp-wcsnicmp-mbsnicmp-strnicmp-l-wcsnicmp-l-mbsnicmp-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>strrchr, wcsrchr, _mbsrchr, _mbsrchr_l<ept id=\"p1\">](../../c-runtime-library/reference/strrchr-wcsrchr-mbsrchr-mbsrchr-l.md)</ept>","pos":[6295,6408],"source":" [strrchr, wcsrchr, _mbsrchr, _mbsrchr_l](../../c-runtime-library/reference/strrchr-wcsrchr-mbsrchr-mbsrchr-l.md)"}],"content":"---\ntitle: \"strspn, wcsspn, _mbsspn, _mbsspn_l | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_mbsspn_l\"\n  - \"wcsspn\"\n  - \"strspn\"\n  - \"_mbsspn\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-multibyte-l1-1-0.dll\"\n  - \"api-ms-win-crt-string-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_ftcsspn\"\n  - \"wcsspn\"\n  - \"_mbsspn\"\n  - \"_tcsspn\"\n  - \"strspn\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"wcsspn function\"\n  - \"strings [C++], searching\"\n  - \"mbsspn function\"\n  - \"tcsspn function\"\n  - \"strspn function\"\n  - \"substrings, finding\"\n  - \"_mbsspn_l function\"\n  - \"ftcsspn function\"\n  - \"_mbsspn function\"\n  - \"_ftcsspn function\"\n  - \"mbsspn_l function\"\n  - \"_tcsspn function\"\nms.assetid: d077284a-809f-4068-959e-c6d6262677eb\ncaps.latest.revision: 22\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# strspn, wcsspn, _mbsspn, _mbsspn_l\nReturns the index of the first character, in a string, that does not belong to a set of characters.  \n  \n> [!IMPORTANT]\n>  `_mbsspn` and `_mbsspn_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).  \n  \n## Syntax  \n  \n```  \nsize_t strspn(  \n   const char *str,  \n   const char *strCharSet   \n);  \nsize_t wcsspn(  \n   const wchar_t *str,  \n   const wchar_t *strCharSet   \n);  \nsize_t _mbsspn(  \n   const unsigned char *str,  \n   const unsigned char *strCharSet   \n);  \nsize_t _mbsspn_l(  \n   const unsigned char *str,  \n   const unsigned char *strCharSet,  \n   _locale_t locale  \n);  \n```  \n  \n#### Parameters  \n `str`  \n Null-terminated string to search.  \n  \n `strCharSet`  \n Null-terminated character set.  \n  \n `locale`  \n Locale to use.  \n  \n## Return Value  \n Returns an integer value specifying the length of the substring in `str` that consists entirely of characters in `strCharSet`*.* If `str` begins with a character not in `strCharSet`*,* the function returns 0.  \n  \n## Remarks  \n The `strspn` function returns the index of the first character in `str` that does not belong to the set of characters in `strCharSet`. The search does not include terminating null characters.  \n  \n `wcsspn` and `_mbsspn` are wide-character and multibyte-character versions of `strspn`**.** The arguments of `wcsspn` are wide-character strings; those of `_mbsspn` are multibyte-character strings. `_mbsspn` validates its parameters. If `str` or `strCharSet` is`NULL`, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md) . If execution is allowed to continue, `_mbspn` sets `errno` to `EINVAL` and returns 0. `strspn` and `wcsspn` do not validate their parameters. These three functions behave identically otherwise.  \n  \n The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md) for more information. The versions of these functions without the `_l` suffix use the current locale for this locale-dependent behavior; the versions with the `_l` suffix are identical except that they use the locale parameter passed in instead. For more information, see [Locale](../../c-runtime-library/locale.md).  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_tcsspn`|`strspn`|`_mbsspn`|`wcsspn`|  \n|**n/a**|**n/a**|`_mbsspn_l`|**n/a**|  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`strspn`|\\<string.h>|  \n|`wcsspn`|\\<string.h> or \\<wchar.h>|  \n|`_mbsspn`, `_mbsspn_l`|\\<mbstring.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n  \n```  \n// crt_strspn.c  \n// This program uses strspn to determine  \n// the length of the segment in the string \"cabbage\"  \n// consisting of a's, b's, and c's. In other words,  \n// it finds the first non-abc letter.  \n//  \n  \n#include <string.h>  \n#include <stdio.h>  \n  \nint main( void )  \n{  \n   char string[] = \"cabbage\";  \n   int  result;  \n   result = strspn( string, \"abc\" );  \n   printf( \"The portion of '%s' containing only a, b, or c \"  \n           \"is %d bytes long\\n\", string, result );  \n}  \n```  \n  \n```Output  \nThe portion of 'cabbage' containing only a, b, or c is 5 bytes long  \n```  \n  \n## .NET Framework Equivalent  \n [System::String::Substring](https://msdn.microsoft.com/en-us/library/system.string.substring.aspx)  \n  \n## See Also  \n [String Manipulation](../../c-runtime-library/string-manipulation-crt.md)   \n [Locale](../../c-runtime-library/locale.md)   \n [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)   \n [_strspnp, _wcsspnp, _mbsspnp, _mbsspnp_l](../../c-runtime-library/reference/strspnp-wcsspnp-mbsspnp-mbsspnp-l.md)   \n [strcspn, wcscspn, _mbscspn, _mbscspn_l](../../c-runtime-library/reference/strcspn-wcscspn-mbscspn-mbscspn-l.md)   \n [strncat, _strncat_l, wcsncat, _wcsncat_l, _mbsncat, _mbsncat_l](../../c-runtime-library/reference/strncat-strncat-l-wcsncat-wcsncat-l-mbsncat-mbsncat-l.md)   \n [strncmp, wcsncmp, _mbsncmp, _mbsncmp_l](../../c-runtime-library/reference/strncmp-wcsncmp-mbsncmp-mbsncmp-l.md)   \n [strncpy, _strncpy_l, wcsncpy, _wcsncpy_l, _mbsncpy, _mbsncpy_l](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)   \n [_strnicmp, _wcsnicmp, _mbsnicmp, _strnicmp_l, _wcsnicmp_l, _mbsnicmp_l](../../c-runtime-library/reference/strnicmp-wcsnicmp-mbsnicmp-strnicmp-l-wcsnicmp-l-mbsnicmp-l.md)   \n [strrchr, wcsrchr, _mbsrchr, _mbsrchr_l](../../c-runtime-library/reference/strrchr-wcsrchr-mbsrchr-mbsrchr-l.md)"}