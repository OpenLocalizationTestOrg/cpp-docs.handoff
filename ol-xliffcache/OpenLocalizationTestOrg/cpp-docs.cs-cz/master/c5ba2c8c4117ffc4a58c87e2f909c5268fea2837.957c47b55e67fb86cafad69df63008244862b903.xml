{"nodes":[{"pos":[12,49],"content":"Compiler Error C2051 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Error C2051 | Microsoft Docs","pos":[0,37]}]},{"content":"Compiler Error C2051","pos":[597,617]},{"content":"case expression not constant","pos":[618,646]},{"content":"Case expressions must be integer constants.","pos":[653,696]},{"content":"The following sample generates C2051:","pos":[703,740]},{"content":"Possible resolution:","pos":[995,1015]}],"content":"---\ntitle: \"Compiler Error C2051 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"C2051\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C2051\"\nms.assetid: 81c0469a-78e2-49fa-bd76-97cdb135e3ea\ncaps.latest.revision: 7\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Compiler Error C2051\ncase expression not constant  \n  \n Case expressions must be integer constants.  \n  \n The following sample generates C2051:  \n  \n```  \n// C2051.cpp  \nclass X {};  \n  \nint main() {  \n   static X x;  \n   int i = 0;  \n  \n   switch (i) {  \n      case x:   // C2051 use constant expression to resolve error  \n         break;  \n      default:  \n         break;  \n   }  \n}  \n```  \n  \n Possible resolution:  \n  \n```  \n// C2051b.cpp  \nclass X {};  \n  \nint main() {  \n   static X x;  \n   int i = 0;  \n  \n   switch (i) {  \n      case 1:  \n         break;  \n      default:  \n         break;  \n   }  \n}  \n```"}