{"nodes":[{"pos":[12,51],"content":"ATL_DRAWINFO Structure | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"ATL_DRAWINFO Structure | Microsoft Docs","pos":[0,39]}]},{"pos":[663,685],"content":"ATL_DRAWINFO Structure","linkify":"ATL_DRAWINFO Structure","nodes":[{"content":"ATL_DRAWINFO Structure","pos":[0,22]}]},{"content":"Contains information used for rendering to various targets, such as a printer, metafile, or ActiveX control.","pos":[686,794]},{"pos":[803,809],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1129,1136],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"content":"The size of the structure, in bytes.","pos":[1152,1188]},{"content":"<bpt id=\"p1\">**</bpt>dwDrawAspect<ept id=\"p1\">**</ept>","pos":[1195,1211],"source":"**dwDrawAspect**"},{"content":"Specifies how the target is to be represented.","pos":[1215,1261]},{"content":"Representations can include content, an icon, a thumbnail, or a printed document.","pos":[1262,1343]},{"content":"For a list of possible values, see <bpt id=\"p1\">[</bpt>DVASPECT<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms690318)</ept> and <bpt id=\"p2\">[</bpt>DVASPECT2<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/ms688644)</ept>.","pos":[1344,1526],"source":" For a list of possible values, see [DVASPECT](http://msdn.microsoft.com/library/windows/desktop/ms690318) and [DVASPECT2](http://msdn.microsoft.com/library/windows/desktop/ms688644)."},{"content":"<bpt id=\"p1\">**</bpt>lindex<ept id=\"p1\">**</ept>","pos":[1533,1543],"source":"**lindex**"},{"content":"Portion of the target that is of interest for the draw operation.","pos":[1547,1612]},{"content":"Its interpretation varies depending on the value in the <bpt id=\"p1\">**</bpt>dwDrawAspect<ept id=\"p1\">**</ept> member.","pos":[1613,1693],"source":" Its interpretation varies depending on the value in the **dwDrawAspect** member."},{"content":"<bpt id=\"p1\">**</bpt>ptd<ept id=\"p1\">**</ept>","pos":[1700,1707],"source":"**ptd**"},{"content":"Pointer to a <bpt id=\"p1\">[</bpt>DVTARGETDEVICE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms686613)</ept> structure that enables drawing optimizations depending on the aspect specified.","pos":[1711,1880],"source":" Pointer to a [DVTARGETDEVICE](http://msdn.microsoft.com/library/windows/desktop/ms686613) structure that enables drawing optimizations depending on the aspect specified."},{"content":"Note that newer objects and containers that support optimized drawing interfaces support this member as well.","pos":[1881,1990]},{"content":"Older objects and containers that do not support optimized drawing interfaces always specify <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> for this member.","pos":[1991,2109],"source":" Older objects and containers that do not support optimized drawing interfaces always specify **NULL** for this member."},{"content":"<bpt id=\"p1\">**</bpt>hicTargetDev<ept id=\"p1\">**</ept>","pos":[2116,2132],"source":"**hicTargetDev**"},{"content":"Information context for the target device pointed to by <bpt id=\"p1\">**</bpt>ptd<ept id=\"p1\">**</ept> from which the object can extract device metrics and test the device's capabilities.","pos":[2136,2284],"source":" Information context for the target device pointed to by **ptd** from which the object can extract device metrics and test the device's capabilities."},{"content":"If <bpt id=\"p1\">**</bpt>ptd<ept id=\"p1\">**</ept> is <bpt id=\"p2\">**</bpt>NULL<ept id=\"p2\">**</ept>, the object should ignore the value in the <bpt id=\"p3\">**</bpt>hicTargetDev<ept id=\"p3\">**</ept> member.","pos":[2285,2375],"source":" If **ptd** is **NULL**, the object should ignore the value in the **hicTargetDev** member."},{"content":"<bpt id=\"p1\">**</bpt>hdcDraw<ept id=\"p1\">**</ept>","pos":[2382,2393],"source":"**hdcDraw**"},{"content":"The device context on which to draw.","pos":[2397,2433]},{"content":"For a windowless object, the <bpt id=\"p1\">**</bpt>hdcDraw<ept id=\"p1\">**</ept> member is in the <ph id=\"ph1\">`MM_TEXT`</ph> mapping mode with its logical coordinates matching the client coordinates of the containing window.","pos":[2434,2601],"source":" For a windowless object, the **hdcDraw** member is in the `MM_TEXT` mapping mode with its logical coordinates matching the client coordinates of the containing window."},{"content":"In addition, the device context should be in the same state as the one normally passed by a <ph id=\"ph1\">`WM_PAINT`</ph> message.","pos":[2602,2713],"source":" In addition, the device context should be in the same state as the one normally passed by a `WM_PAINT` message."},{"content":"<bpt id=\"p1\">**</bpt>prcBounds<ept id=\"p1\">**</ept>","pos":[2720,2733],"source":"**prcBounds**"},{"content":"Pointer to a <bpt id=\"p1\">[</bpt>RECTL<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd162907)</ept> structure specifying the rectangle on <bpt id=\"p2\">**</bpt>hdcDraw<ept id=\"p2\">**</ept> and in which the object should be drawn.","pos":[2737,2908],"source":" Pointer to a [RECTL](http://msdn.microsoft.com/library/windows/desktop/dd162907) structure specifying the rectangle on **hdcDraw** and in which the object should be drawn."},{"content":"This member controls the positioning and stretching of the object.","pos":[2909,2975]},{"content":"This member should be <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> to draw a windowless in-place active object.","pos":[2976,3051],"source":" This member should be **NULL** to draw a windowless in-place active object."},{"content":"In every other situation, <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> is not a legal value and should result in an <ph id=\"ph1\">`E_INVALIDARG`</ph> error code.","pos":[3052,3158],"source":" In every other situation, **NULL** is not a legal value and should result in an `E_INVALIDARG` error code."},{"content":"If the container passes a non-<bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> value to a windowless object, the object should render the requested aspect into the specified device context and rectangle.","pos":[3159,3322],"source":" If the container passes a non-**NULL** value to a windowless object, the object should render the requested aspect into the specified device context and rectangle."},{"content":"A container can request this from a windowless object to render a second, non-active view of the object or to print the object.","pos":[3323,3450]},{"content":"<bpt id=\"p1\">**</bpt>prcWBounds<ept id=\"p1\">**</ept>","pos":[3457,3471],"source":"**prcWBounds**"},{"content":"If <bpt id=\"p1\">**</bpt>hdcDraw<ept id=\"p1\">**</ept> is a metafile device context (see <bpt id=\"p2\">[</bpt>GetDeviceCaps<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/dd144877)</ept> in the <ph id=\"ph1\">[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]</ph>), this is a pointer to a <bpt id=\"p3\">**</bpt>RECTL<ept id=\"p3\">**</ept> structure specifying the bounding rectangle in the underlying metafile.","pos":[3475,3765],"source":" If **hdcDraw** is a metafile device context (see [GetDeviceCaps](http://msdn.microsoft.com/library/windows/desktop/dd144877) in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]), this is a pointer to a **RECTL** structure specifying the bounding rectangle in the underlying metafile."},{"content":"The rectangle structure contains the window extent and window origin.","pos":[3766,3835]},{"content":"These values are useful for drawing metafiles.","pos":[3836,3882]},{"content":"The rectangle indicated by <bpt id=\"p1\">**</bpt>prcBounds<ept id=\"p1\">**</ept> is nested inside this <bpt id=\"p2\">**</bpt>prcWBounds<ept id=\"p2\">**</ept> rectangle; they are in the same coordinate space.","pos":[3883,4010],"source":" The rectangle indicated by **prcBounds** is nested inside this **prcWBounds** rectangle; they are in the same coordinate space."},{"content":"<bpt id=\"p1\">**</bpt>bOptimize<ept id=\"p1\">**</ept>","pos":[4017,4030],"source":"**bOptimize**"},{"content":"Nonzero if the drawing of the control is to be optimized, otherwise 0.","pos":[4034,4104]},{"content":"If the drawing is optimized, the state of the device context is automatically restored when you are finished rendering.","pos":[4105,4224]},{"content":"<bpt id=\"p1\">**</bpt>bZoomed<ept id=\"p1\">**</ept>","pos":[4231,4242],"source":"**bZoomed**"},{"content":"Nonzero if the target has a zoom factor, otherwise 0.","pos":[4246,4299]},{"content":"The zoom factor is stored in <bpt id=\"p1\">**</bpt>ZoomNum<ept id=\"p1\">**</ept>.","pos":[4300,4341],"source":" The zoom factor is stored in **ZoomNum**."},{"content":"<bpt id=\"p1\">**</bpt>bRectInHimetric<ept id=\"p1\">**</ept>","pos":[4348,4367],"source":"**bRectInHimetric**"},{"content":"Nonzero if the dimensions of <bpt id=\"p1\">**</bpt>prcBounds<ept id=\"p1\">**</ept> are in <bpt id=\"p2\">**</bpt>HIMETRIC<ept id=\"p2\">**</ept>, otherwise 0.","pos":[4371,4447],"source":" Nonzero if the dimensions of **prcBounds** are in **HIMETRIC**, otherwise 0."},{"content":"<bpt id=\"p1\">**</bpt>ZoomNum<ept id=\"p1\">**</ept>","pos":[4454,4465],"source":"**ZoomNum**"},{"content":"The width and height of the rectangle into which the object is rendered.","pos":[4469,4541]},{"content":"The zoom factor along the x-axis (the proportion of the object's natural size to its current extent) of the target is the value of <bpt id=\"p1\">**</bpt>ZoomNum.cx<ept id=\"p1\">**</ept> divided by the value of <bpt id=\"p2\">**</bpt>ZoomDen.cx<ept id=\"p2\">**</ept>.","pos":[4542,4727],"source":" The zoom factor along the x-axis (the proportion of the object's natural size to its current extent) of the target is the value of **ZoomNum.cx** divided by the value of **ZoomDen.cx**."},{"content":"The zoom factor along the y-axis is achieved in a similar fashion.","pos":[4728,4794]},{"content":"<bpt id=\"p1\">**</bpt>ZoomDen<ept id=\"p1\">**</ept>","pos":[4801,4812],"source":"**ZoomDen**"},{"content":"The actual width and height of the target.","pos":[4816,4858]},{"pos":[4867,4874],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Typical usage of this structure would be the retrieval of information during the rendering of the target object.","pos":[4878,4990]},{"content":"For example, you could retrieve values from <ph id=\"ph1\">`ATL_DRAWINFO`</ph> inside your overload of <bpt id=\"p1\">[</bpt>CComControlBase::OnDrawAdvanced<ept id=\"p1\">](ccomcontrolbase-class.md#ccomcontrolbase__ondrawadvanced)</ept>.","pos":[4991,5166],"source":" For example, you could retrieve values from `ATL_DRAWINFO` inside your overload of [CComControlBase::OnDrawAdvanced](ccomcontrolbase-class.md#ccomcontrolbase__ondrawadvanced)."},{"content":"This structure stores pertinent information used to render the appearance of an object for the target device.","pos":[5173,5282]},{"content":"The information provided can be used in drawing to the screen, a printer, or even a metafile.","pos":[5283,5376]},{"pos":[5385,5397],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[5401,5421],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> atlctl.h","source":"**Header:** atlctl.h"},{"pos":[5430,5438],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Structures<ept id=\"p1\">](../../atl/reference/atl-structures.md)</ept><ph id=\"ph1\"> </ph>","pos":[5442,5494],"source":"[Structures](../../atl/reference/atl-structures.md) "},{"content":"<bpt id=\"p1\"> [</bpt>IViewObject::Draw<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms688655)</ept><ph id=\"ph1\"> </ph>","pos":[5497,5578],"source":" [IViewObject::Draw](http://msdn.microsoft.com/library/windows/desktop/ms688655) "},{"content":"<bpt id=\"p1\"> [</bpt>CComControlBase::OnDrawAdvanced<ept id=\"p1\">](../../atl/reference/ccomcontrolbase-class.md#ccomcontrolbase__ondrawadvanced)</ept>","pos":[5581,5693],"source":" [CComControlBase::OnDrawAdvanced](../../atl/reference/ccomcontrolbase-class.md#ccomcontrolbase__ondrawadvanced)"}],"content":"---\ntitle: \"ATL_DRAWINFO Structure | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"ATL::ATL_DRAWINFO\"\n  - \"ATL_DRAWINFO\"\n  - \"ATL.ATL_DRAWINFO\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"ATL_DRAWINFO structure\"\nms.assetid: dd2e2aa8-e8c5-403b-b4df-35c0f6f57fb7\ncaps.latest.revision: 16\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# ATL_DRAWINFO Structure\nContains information used for rendering to various targets, such as a printer, metafile, or ActiveX control.  \n  \n## Syntax  \n  \n```\nstruct ATL_DRAWINFO {\n    UINT cbSize;\n    DWORD dwDrawAspect;\n    LONG lindex;\n    DVTARGETDEVICE* ptd;\n    HDC hicTargetDev;\n    HDC hdcDraw;\n    LPCRECTL prcBounds;\n    LPCRECTL prcWBounds;\n    BOOL bOptimize;\n    BOOL bZoomed;\n    BOOL bRectInHimetric;\n    SIZEL ZoomNum;\n    SIZEL ZoomDen;\n};\n```  \n  \n## Members  \n `cbSize`  \n The size of the structure, in bytes.  \n  \n **dwDrawAspect**  \n Specifies how the target is to be represented. Representations can include content, an icon, a thumbnail, or a printed document. For a list of possible values, see [DVASPECT](http://msdn.microsoft.com/library/windows/desktop/ms690318) and [DVASPECT2](http://msdn.microsoft.com/library/windows/desktop/ms688644).  \n  \n **lindex**  \n Portion of the target that is of interest for the draw operation. Its interpretation varies depending on the value in the **dwDrawAspect** member.  \n  \n **ptd**  \n Pointer to a [DVTARGETDEVICE](http://msdn.microsoft.com/library/windows/desktop/ms686613) structure that enables drawing optimizations depending on the aspect specified. Note that newer objects and containers that support optimized drawing interfaces support this member as well. Older objects and containers that do not support optimized drawing interfaces always specify **NULL** for this member.  \n  \n **hicTargetDev**  \n Information context for the target device pointed to by **ptd** from which the object can extract device metrics and test the device's capabilities. If **ptd** is **NULL**, the object should ignore the value in the **hicTargetDev** member.  \n  \n **hdcDraw**  \n The device context on which to draw. For a windowless object, the **hdcDraw** member is in the `MM_TEXT` mapping mode with its logical coordinates matching the client coordinates of the containing window. In addition, the device context should be in the same state as the one normally passed by a `WM_PAINT` message.  \n  \n **prcBounds**  \n Pointer to a [RECTL](http://msdn.microsoft.com/library/windows/desktop/dd162907) structure specifying the rectangle on **hdcDraw** and in which the object should be drawn. This member controls the positioning and stretching of the object. This member should be **NULL** to draw a windowless in-place active object. In every other situation, **NULL** is not a legal value and should result in an `E_INVALIDARG` error code. If the container passes a non-**NULL** value to a windowless object, the object should render the requested aspect into the specified device context and rectangle. A container can request this from a windowless object to render a second, non-active view of the object or to print the object.  \n  \n **prcWBounds**  \n If **hdcDraw** is a metafile device context (see [GetDeviceCaps](http://msdn.microsoft.com/library/windows/desktop/dd144877) in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]), this is a pointer to a **RECTL** structure specifying the bounding rectangle in the underlying metafile. The rectangle structure contains the window extent and window origin. These values are useful for drawing metafiles. The rectangle indicated by **prcBounds** is nested inside this **prcWBounds** rectangle; they are in the same coordinate space.  \n  \n **bOptimize**  \n Nonzero if the drawing of the control is to be optimized, otherwise 0. If the drawing is optimized, the state of the device context is automatically restored when you are finished rendering.  \n  \n **bZoomed**  \n Nonzero if the target has a zoom factor, otherwise 0. The zoom factor is stored in **ZoomNum**.  \n  \n **bRectInHimetric**  \n Nonzero if the dimensions of **prcBounds** are in **HIMETRIC**, otherwise 0.  \n  \n **ZoomNum**  \n The width and height of the rectangle into which the object is rendered. The zoom factor along the x-axis (the proportion of the object's natural size to its current extent) of the target is the value of **ZoomNum.cx** divided by the value of **ZoomDen.cx**. The zoom factor along the y-axis is achieved in a similar fashion.  \n  \n **ZoomDen**  \n The actual width and height of the target.  \n  \n## Remarks  \n Typical usage of this structure would be the retrieval of information during the rendering of the target object. For example, you could retrieve values from `ATL_DRAWINFO` inside your overload of [CComControlBase::OnDrawAdvanced](ccomcontrolbase-class.md#ccomcontrolbase__ondrawadvanced).  \n  \n This structure stores pertinent information used to render the appearance of an object for the target device. The information provided can be used in drawing to the screen, a printer, or even a metafile.  \n  \n## Requirements  \n **Header:** atlctl.h  \n  \n## See Also  \n [Structures](../../atl/reference/atl-structures.md)   \n [IViewObject::Draw](http://msdn.microsoft.com/library/windows/desktop/ms688655)   \n [CComControlBase::OnDrawAdvanced](../../atl/reference/ccomcontrolbase-class.md#ccomcontrolbase__ondrawadvanced)\n\n\n\n\n\n"}