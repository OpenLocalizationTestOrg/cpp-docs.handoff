{"nodes":[{"pos":[12,47],"content":"CSplitButton Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CSplitButton Class | Microsoft Docs","pos":[0,35]}]},{"pos":[577,595],"content":"CSplitButton Class","linkify":"CSplitButton Class","nodes":[{"content":"CSplitButton Class","pos":[0,18]}]},{"content":"The <ph id=\"ph1\">`CSplitButton`</ph> class represents a split button control.","pos":[596,655],"source":"The `CSplitButton` class represents a split button control."},{"content":"The split button control performs a default behavior when a user clicks the main part of the button, and displays a drop-down menu when a user clicks the drop-down arrow of the button.","pos":[656,840]},{"pos":[849,855],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[917,924],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[934,953],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[960,964]},{"content":"Description","pos":[965,976]},{"pos":[1014,1071],"content":"<bpt id=\"p1\">[</bpt>CSplitButton::CSplitButton<ept id=\"p1\">](#csplitbutton__csplitbutton)</ept>","source":"[CSplitButton::CSplitButton](#csplitbutton__csplitbutton)"},{"pos":[1072,1107],"content":"Constructs a <ph id=\"ph1\">`CSplitButton`</ph> object.","source":"Constructs a `CSplitButton` object."},{"pos":[1118,1132],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[1139,1143]},{"content":"Description","pos":[1144,1155]},{"pos":[1193,1238],"content":"<bpt id=\"p1\">[</bpt>CSplitButton::Create<ept id=\"p1\">](#csplitbutton__create)</ept>","source":"[CSplitButton::Create](#csplitbutton__create)"},{"pos":[1239,1345],"content":"Creates a split button control with specified styles and attaches it to the current <ph id=\"ph1\">`CSplitButton`</ph> object.","source":"Creates a split button control with specified styles and attaches it to the current `CSplitButton` object."},{"pos":[1350,1413],"content":"<bpt id=\"p1\">[</bpt>CSplitButton::SetDropDownMenu<ept id=\"p1\">](#csplitbutton__setdropdownmenu)</ept>","source":"[CSplitButton::SetDropDownMenu](#csplitbutton__setdropdownmenu)"},{"content":"Sets the drop-down menu that is displayed when a user clicks the drop-down arrow of the current split button control.","pos":[1414,1531]},{"pos":[1542,1559],"content":"Protected Methods","linkify":"Protected Methods","nodes":[{"content":"Protected Methods","pos":[0,17]}]},{"content":"Name","pos":[1566,1570]},{"content":"Description","pos":[1571,1582]},{"pos":[1620,1673],"content":"<bpt id=\"p1\">[</bpt>CSplitButton::OnDropDown<ept id=\"p1\">](#csplitbutton__ondropdown)</ept>","source":"[CSplitButton::OnDropDown](#csplitbutton__ondropdown)"},{"pos":[1674,1811],"content":"Handles the <ph id=\"ph1\">`BCN_DROPDOWN`</ph> notification that the system sends when a user clicks the drop-down arrow of the current split button control.","source":"Handles the `BCN_DROPDOWN` notification that the system sends when a user clicks the drop-down arrow of the current split button control."},{"pos":[1821,1828],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`CSplitButton`</ph> class is derived from the <bpt id=\"p1\">[</bpt>CButton<ept id=\"p1\">](../../mfc/reference/cbutton-class.md)</ept> class.","pos":[1832,1931],"source":"The `CSplitButton` class is derived from the [CButton](../../mfc/reference/cbutton-class.md) class."},{"content":"The split button control is a button control whose style is <ph id=\"ph1\">`BS_SPLITBUTTON`</ph>.","pos":[1932,2009],"source":" The split button control is a button control whose style is `BS_SPLITBUTTON`."},{"content":"It displays a custom menu when a user clicks the drop-down arrow.","pos":[2010,2075]},{"content":"For more information, see the <ph id=\"ph1\">`BS_SPLITBUTTON`</ph> and <ph id=\"ph2\">`BS_DEFSPLITBUTTON`</ph> styles in <bpt id=\"p1\">[</bpt>Button Styles<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/bb775951)</ept>.","pos":[2076,2233],"source":" For more information, see the `BS_SPLITBUTTON` and `BS_DEFSPLITBUTTON` styles in [Button Styles](http://msdn.microsoft.com/library/windows/desktop/bb775951)."},{"content":"The following figure depicts a dialog box that contains a pager control and a (1) split button control.","pos":[2240,2343]},{"content":"The (2) drop-down arrow has already been clicked and the (3) submenu is displayed.","pos":[2344,2426]},{"pos":[2433,2549],"content":"<bpt id=\"p1\">![</bpt>Dialog with a splitbutton and pager control.<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../mfc/reference/media/splitbutton_pager.png \"</bpt>splitbutton_pager<ept id=\"p2\">\")</ept>","source":"![Dialog with a splitbutton and pager control.](../../mfc/reference/media/splitbutton_pager.png \"splitbutton_pager\")"},{"pos":[2558,2579],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[2583,2630],"content":"<bpt id=\"p1\">[</bpt>CObject<ept id=\"p1\">](../../mfc/reference/cobject-class.md)</ept>","source":"[CObject](../../mfc/reference/cobject-class.md)"},{"pos":[2637,2690],"content":"<bpt id=\"p1\">[</bpt>CCmdTarget<ept id=\"p1\">](../../mfc/reference/ccmdtarget-class.md)</ept>","source":"[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)"},{"pos":[2697,2738],"content":"<bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept>","source":"[CWnd](../../mfc/reference/cwnd-class.md)"},{"pos":[2745,2792],"content":"<bpt id=\"p1\">[</bpt>CButton<ept id=\"p1\">](../../mfc/reference/cbutton-class.md)</ept>","source":"[CButton](../../mfc/reference/cbutton-class.md)"},{"pos":[2822,2834],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[2838,2858],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxcmn.h","source":"**Header:** afxcmn.h"},{"pos":[2865,2974],"content":"This class is supported in <ph id=\"ph1\">[!INCLUDE[windowsver](../../build/reference/includes/windowsver_md.md)]</ph> and later.","source":"This class is supported in [!INCLUDE[windowsver](../../build/reference/includes/windowsver_md.md)] and later."},{"pos":[2981,3159],"content":"Additional requirements for this class are described in <bpt id=\"p1\">[</bpt>Build Requirements for Windows Vista Common Controls<ept id=\"p1\">](../../mfc/build-requirements-for-windows-vista-common-controls.md)</ept>.","source":"Additional requirements for this class are described in [Build Requirements for Windows Vista Common Controls](../../mfc/build-requirements-for-windows-vista-common-controls.md)."},{"pos":[3169,3226],"content":"<bpt id=\"p1\">&lt;a name=\"csplitbutton__create\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CSplitButton::Create","linkify":"<a name=\"csplitbutton__create\"></a>  CSplitButton::Create","source":"<a name=\"csplitbutton__create\"></a>  CSplitButton::Create"},{"pos":[3230,3336],"content":"Creates a split button control with specified styles and attaches it to the current <ph id=\"ph1\">`CSplitButton`</ph> object.","source":"Creates a split button control with specified styles and attaches it to the current `CSplitButton` object."},{"pos":[3469,3479],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Parameter","pos":[3486,3495]},{"content":"Description","pos":[3496,3507]},{"pos":[3550,3564],"content":"[in] <ph id=\"ph1\">`dwStyle`</ph>","source":"[in] `dwStyle`"},{"content":"A bitwise combination (OR) of styles to be applied to the control.","pos":[3565,3631]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Button Styles<ept id=\"p1\">](../../mfc/reference/button-styles.md)</ept>.","pos":[3632,3712],"source":" For more information, see [Button Styles](../../mfc/reference/button-styles.md)."},{"pos":[3717,3728],"content":"[in] <ph id=\"ph1\">`rect`</ph>","source":"[in] `rect`"},{"pos":[3729,3874],"content":"A reference to a <bpt id=\"p1\">[</bpt>RECT<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd162897)</ept> structure that contains the position and size of the control.","source":"A reference to a [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) structure that contains the position and size of the control."},{"pos":[3879,3896],"content":"[in] <ph id=\"ph1\">`pParentWnd`</ph>","source":"[in] `pParentWnd`"},{"pos":[3897,4011],"content":"A non-null pointer to a <bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept> object that is the parent window of the control.","source":"A non-null pointer to a [CWnd](../../mfc/reference/cwnd-class.md) object that is the parent window of the control."},{"pos":[4016,4026],"content":"[in] <ph id=\"ph1\">`nID`</ph>","source":"[in] `nID`"},{"content":"The ID of the control.","pos":[4027,4049]},{"pos":[4060,4072],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[4076,4132],"content":"<ph id=\"ph1\">`true`</ph> if this method is successful; otherwise, <ph id=\"ph2\">`false`</ph>.","source":"`true` if this method is successful; otherwise, `false`."},{"pos":[4142,4211],"content":"<bpt id=\"p1\">&lt;a name=\"csplitbutton__csplitbutton\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CSplitButton::CSplitButton","linkify":"<a name=\"csplitbutton__csplitbutton\"></a>  CSplitButton::CSplitButton","source":"<a name=\"csplitbutton__csplitbutton\"></a>  CSplitButton::CSplitButton"},{"content":"Constructs a <ph id=\"ph1\">`CSplitButton`</ph> object.","pos":[4215,4250],"source":"Constructs a `CSplitButton` object."},{"content":"The constructor's parameters specify a submenu that is displayed when a user clicks the drop-down arrow of the split button control.","pos":[4251,4383]},{"pos":[4519,4529],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Parameter","pos":[4536,4545]},{"content":"Description","pos":[4546,4557]},{"pos":[4600,4614],"content":"[in] <ph id=\"ph1\">`nMenuId`</ph>","source":"[in] `nMenuId`"},{"content":"The resource ID of the menu bar.","pos":[4615,4647]},{"pos":[4652,4669],"content":"[in] <ph id=\"ph1\">`nSubMenuId`</ph>","source":"[in] `nSubMenuId`"},{"content":"The resource ID of a submenu.","pos":[4670,4699]},{"pos":[4704,4716],"content":"[in] <ph id=\"ph1\">`pMenu`</ph>","source":"[in] `pMenu`"},{"content":"A pointer to a <bpt id=\"p1\">[</bpt>CMenu<ept id=\"p1\">](../../mfc/reference/cmenu-class.md)</ept> object that specifies a submenu.","pos":[4717,4808],"source":"A pointer to a [CMenu](../../mfc/reference/cmenu-class.md) object that specifies a submenu."},{"content":"The <ph id=\"ph1\">`CSplitButton`</ph> object deletes the <ph id=\"ph2\">`CMenu`</ph> object and its associated <ph id=\"ph3\">`HMENU`</ph> when the <ph id=\"ph4\">`CSplitButton`</ph> object goes out of scope.","pos":[4809,4938],"source":" The `CSplitButton` object deletes the `CMenu` object and its associated `HMENU` when the `CSplitButton` object goes out of scope."},{"pos":[4949,4956],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[4960,5097],"content":"Use the <bpt id=\"p1\">[</bpt>CSplitButton::Create<ept id=\"p1\">](#csplitbutton__create)</ept> method to create a split button control and attach it to the <ph id=\"ph1\">`CSplitButton`</ph> object.","source":"Use the [CSplitButton::Create](#csplitbutton__create) method to create a split button control and attach it to the `CSplitButton` object."},{"pos":[5107,5172],"content":"<bpt id=\"p1\">&lt;a name=\"csplitbutton__ondropdown\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CSplitButton::OnDropDown","linkify":"<a name=\"csplitbutton__ondropdown\"></a>  CSplitButton::OnDropDown","source":"<a name=\"csplitbutton__ondropdown\"></a>  CSplitButton::OnDropDown"},{"pos":[5176,5313],"content":"Handles the <ph id=\"ph1\">`BCN_DROPDOWN`</ph> notification that the system sends when a user clicks the drop-down arrow of the current split button control.","source":"Handles the `BCN_DROPDOWN` notification that the system sends when a user clicks the drop-down arrow of the current split button control."},{"pos":[5408,5418],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Parameter","pos":[5425,5434]},{"content":"Description","pos":[5435,5446]},{"pos":[5489,5502],"content":"[in] <ph id=\"ph1\">`pNMHDR`</ph>","source":"[in] `pNMHDR`"},{"pos":[5503,5719],"content":"Pointer to an <bpt id=\"p1\">[</bpt>NMHDR<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/bb775514)</ept> structure that contains information about the <bpt id=\"p2\">[</bpt>BCN_DROPDOWN<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/bb775983)</ept> notification.","source":"Pointer to an [NMHDR](http://msdn.microsoft.com/library/windows/desktop/bb775514) structure that contains information about the [BCN_DROPDOWN](http://msdn.microsoft.com/library/windows/desktop/bb775983) notification."},{"pos":[5724,5739],"content":"[out] <ph id=\"ph1\">`pResult`</ph>","source":"[out] `pResult`"},{"pos":[5740,5882],"content":"(Not used; no value is returned.) Return value of the <bpt id=\"p1\">[</bpt>BCN_DROPDOWN<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/bb775983)</ept> notification.","source":"(Not used; no value is returned.) Return value of the [BCN_DROPDOWN](http://msdn.microsoft.com/library/windows/desktop/bb775983) notification."},{"pos":[5893,5900],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"When the user clicks the drop-down arrow on a split button control, system sends a <ph id=\"ph1\">`BCN_DROPDOWN`</ph> notification message, which the <ph id=\"ph2\">`OnDropDown`</ph> method handles.","pos":[5904,6062],"source":"When the user clicks the drop-down arrow on a split button control, system sends a `BCN_DROPDOWN` notification message, which the `OnDropDown` method handles."},{"content":"However, the <ph id=\"ph1\">`CSplitButton`</ph> object does not forward the <ph id=\"ph2\">`BCN_DROPDOWN`</ph> notification to the control that contains the split button control.","pos":[6063,6201],"source":" However, the `CSplitButton` object does not forward the `BCN_DROPDOWN` notification to the control that contains the split button control."},{"content":"Consequently, the containing control cannot support a custom action in response to the notification.","pos":[6202,6302]},{"content":"To implement a custom action that the containing control supports, use a <bpt id=\"p1\">[</bpt>CButton<ept id=\"p1\">](../../mfc/reference/cbutton-class.md)</ept> object with a style of <ph id=\"ph1\">`BS_SPLITBUTTON`</ph> instead of a <ph id=\"ph2\">`CSplitButton`</ph> object.","pos":[6309,6505],"source":"To implement a custom action that the containing control supports, use a [CButton](../../mfc/reference/cbutton-class.md) object with a style of `BS_SPLITBUTTON` instead of a `CSplitButton` object."},{"content":"Then implement a handler for the <ph id=\"ph1\">`BCN_DROPDOWN`</ph> notification in the <ph id=\"ph2\">`CButton`</ph> object.","pos":[6506,6591],"source":" Then implement a handler for the `BCN_DROPDOWN` notification in the `CButton` object."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Button Styles<ept id=\"p1\">](../../mfc/reference/button-styles.md)</ept>.","pos":[6592,6672],"source":" For more information, see [Button Styles](../../mfc/reference/button-styles.md)."},{"content":"To implement a custom action that the split button control itself supports, use <bpt id=\"p1\">[</bpt>message reflection<ept id=\"p1\">](../../mfc/tn062-message-reflection-for-windows-controls.md)</ept>.","pos":[6679,6840],"source":"To implement a custom action that the split button control itself supports, use [message reflection](../../mfc/tn062-message-reflection-for-windows-controls.md)."},{"content":"Derive your own class from the <ph id=\"ph1\">`CSplitButton`</ph> class and name it, for example, CMySplitButton.","pos":[6841,6934],"source":" Derive your own class from the `CSplitButton` class and name it, for example, CMySplitButton."},{"content":"Then add the following message map to your application to handle the <ph id=\"ph1\">`BCN_DROPDOWN`</ph> notification:","pos":[6935,7032],"source":" Then add the following message map to your application to handle the `BCN_DROPDOWN` notification:"},{"pos":[7198,7273],"content":"<bpt id=\"p1\">&lt;a name=\"csplitbutton__setdropdownmenu\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CSplitButton::SetDropDownMenu","linkify":"<a name=\"csplitbutton__setdropdownmenu\"></a>  CSplitButton::SetDropDownMenu","source":"<a name=\"csplitbutton__setdropdownmenu\"></a>  CSplitButton::SetDropDownMenu"},{"content":"Sets the drop-down menu that is displayed when a user clicks the drop-down arrow of the current split button control.","pos":[7277,7394]},{"pos":[7528,7538],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Parameter","pos":[7545,7554]},{"content":"Description","pos":[7555,7566]},{"pos":[7609,7623],"content":"[in] <ph id=\"ph1\">`nMenuId`</ph>","source":"[in] `nMenuId`"},{"content":"The resource ID of the menu bar.","pos":[7624,7656]},{"pos":[7661,7678],"content":"[in] <ph id=\"ph1\">`nSubMenuId`</ph>","source":"[in] `nSubMenuId`"},{"content":"The resource ID of a submenu.","pos":[7679,7708]},{"pos":[7713,7725],"content":"[in] <ph id=\"ph1\">`pMenu`</ph>","source":"[in] `pMenu`"},{"content":"Pointer to a <bpt id=\"p1\">[</bpt>CMenu<ept id=\"p1\">](../../mfc/reference/cmenu-class.md)</ept> object that specifies a submenu.","pos":[7726,7815],"source":"Pointer to a [CMenu](../../mfc/reference/cmenu-class.md) object that specifies a submenu."},{"content":"The <ph id=\"ph1\">`CSplitButton`</ph> object deletes the <ph id=\"ph2\">`CMenu`</ph> object and its associated <ph id=\"ph3\">`HMENU`</ph> when the <ph id=\"ph4\">`CSplitButton`</ph> object goes out of scope.","pos":[7816,7945],"source":" The `CSplitButton` object deletes the `CMenu` object and its associated `HMENU` when the `CSplitButton` object goes out of scope."},{"pos":[7956,7963],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`nMenuId`</ph> parameter identifies a menu bar, which is a horizontal list of menu bar items.","pos":[7967,8059],"source":"The `nMenuId` parameter identifies a menu bar, which is a horizontal list of menu bar items."},{"content":"The <ph id=\"ph1\">`nSubMenuId`</ph> parameter is a zero-based index number that identifies a submenu, which is the drop-down list of menu items associated with each menu bar item.","pos":[8060,8220],"source":" The `nSubMenuId` parameter is a zero-based index number that identifies a submenu, which is the drop-down list of menu items associated with each menu bar item."},{"content":"For example, a typical application has a menu that contains the menu bar items, \"File,\" \"Edit,\" and \"Help.\"","pos":[8221,8328]},{"content":"The \"File\" menu bar item has a submenu that contains the menu items, \"Open,\" \"Close\" and \"Exit.\"","pos":[8329,8425]},{"content":"When the drop-down arrow of the split-button control is clicked, the control displays the specified submenu, not the menu bar.","pos":[8426,8552]},{"content":"The following figure depicts a dialog box that contains a pager control and a (1) split button control.","pos":[8559,8662]},{"content":"The (2) drop-down arrow has already been clicked and the (3) submenu is displayed.","pos":[8663,8745]},{"pos":[8752,8868],"content":"<bpt id=\"p1\">![</bpt>Dialog with a splitbutton and pager control.<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../mfc/reference/media/splitbutton_pager.png \"</bpt>splitbutton_pager<ept id=\"p2\">\")</ept>","source":"![Dialog with a splitbutton and pager control.](../../mfc/reference/media/splitbutton_pager.png \"splitbutton_pager\")"},{"pos":[8878,8885],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The first statement in the following code example demonstrates the <bpt id=\"p1\">[</bpt>CSplitButton::SetDropDownMenu<ept id=\"p1\">](#csplitbutton__setdropdownmenu)</ept> method.","pos":[8889,9027],"source":"The first statement in the following code example demonstrates the [CSplitButton::SetDropDownMenu](#csplitbutton__setdropdownmenu) method."},{"content":"We created the menu with the Visual Studio resource editor, which automatically named the menu bar ID, <ph id=\"ph1\">`IDR_MENU1`</ph>.","pos":[9028,9143],"source":" We created the menu with the Visual Studio resource editor, which automatically named the menu bar ID, `IDR_MENU1`."},{"content":"The <ph id=\"ph1\">`nSubMenuId`</ph> parameter, which is zero, refers to the only submenu of the menu bar.","pos":[9144,9230],"source":" The `nSubMenuId` parameter, which is zero, refers to the only submenu of the menu bar."},{"pos":[9237,9337],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFC_CSplitButton_s2#1<ept id=\"p2\">](../../mfc/reference/codesnippet/cpp/csplitbutton-class_1.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFC_CSplitButton_s2#1](../../mfc/reference/codesnippet/cpp/csplitbutton-class_1.cpp)]"},{"pos":[9346,9354],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>CSplitButton Class<ept id=\"p1\">](../../mfc/reference/csplitbutton-class.md)</ept><ph id=\"ph1\"> </ph>","pos":[9358,9422],"source":"[CSplitButton Class](../../mfc/reference/csplitbutton-class.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Hierarchy Chart<ept id=\"p1\">](../../mfc/hierarchy-chart.md)</ept><ph id=\"ph1\"> </ph>","pos":[9425,9474],"source":" [Hierarchy Chart](../../mfc/hierarchy-chart.md) "},{"content":"<bpt id=\"p1\"> [</bpt>CButton Class<ept id=\"p1\">](../../mfc/reference/cbutton-class.md)</ept>","pos":[9477,9531],"source":" [CButton Class](../../mfc/reference/cbutton-class.md)"}],"content":"---\ntitle: \"CSplitButton Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CSplitButton class\"\nms.assetid: 6844d0a9-6408-4e44-9b5f-57628ed8bad6\ncaps.latest.revision: 24\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CSplitButton Class\nThe `CSplitButton` class represents a split button control. The split button control performs a default behavior when a user clicks the main part of the button, and displays a drop-down menu when a user clicks the drop-down arrow of the button.  \n  \n## Syntax  \n  \n```  \nclass CSplitButton : public CButton  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CSplitButton::CSplitButton](#csplitbutton__csplitbutton)|Constructs a `CSplitButton` object.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CSplitButton::Create](#csplitbutton__create)|Creates a split button control with specified styles and attaches it to the current `CSplitButton` object.|  \n|[CSplitButton::SetDropDownMenu](#csplitbutton__setdropdownmenu)|Sets the drop-down menu that is displayed when a user clicks the drop-down arrow of the current split button control.|  \n  \n### Protected Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CSplitButton::OnDropDown](#csplitbutton__ondropdown)|Handles the `BCN_DROPDOWN` notification that the system sends when a user clicks the drop-down arrow of the current split button control.|  \n  \n## Remarks  \n The `CSplitButton` class is derived from the [CButton](../../mfc/reference/cbutton-class.md) class. The split button control is a button control whose style is `BS_SPLITBUTTON`. It displays a custom menu when a user clicks the drop-down arrow. For more information, see the `BS_SPLITBUTTON` and `BS_DEFSPLITBUTTON` styles in [Button Styles](http://msdn.microsoft.com/library/windows/desktop/bb775951).  \n  \n The following figure depicts a dialog box that contains a pager control and a (1) split button control. The (2) drop-down arrow has already been clicked and the (3) submenu is displayed.  \n  \n ![Dialog with a splitbutton and pager control.](../../mfc/reference/media/splitbutton_pager.png \"splitbutton_pager\")  \n  \n## Inheritance Hierarchy  \n [CObject](../../mfc/reference/cobject-class.md)  \n  \n [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  \n  \n [CWnd](../../mfc/reference/cwnd-class.md)  \n  \n [CButton](../../mfc/reference/cbutton-class.md)  \n  \n `CSplitButton`  \n  \n## Requirements  \n **Header:** afxcmn.h  \n  \n This class is supported in [!INCLUDE[windowsver](../../build/reference/includes/windowsver_md.md)] and later.  \n  \n Additional requirements for this class are described in [Build Requirements for Windows Vista Common Controls](../../mfc/build-requirements-for-windows-vista-common-controls.md).  \n  \n##  <a name=\"csplitbutton__create\"></a>  CSplitButton::Create  \n Creates a split button control with specified styles and attaches it to the current `CSplitButton` object.  \n  \n```  \nvirtual BOOL Create(\n    DWORD dwStyle,   \n    const RECT& rect,   \n    CWnd* pParentWnd,   \n    UINT nID);\n```  \n  \n### Parameters  \n  \n|Parameter|Description|  \n|---------------|-----------------|  \n|[in] `dwStyle`|A bitwise combination (OR) of styles to be applied to the control. For more information, see [Button Styles](../../mfc/reference/button-styles.md).|  \n|[in] `rect`|A reference to a [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) structure that contains the position and size of the control.|  \n|[in] `pParentWnd`|A non-null pointer to a [CWnd](../../mfc/reference/cwnd-class.md) object that is the parent window of the control.|  \n|[in] `nID`|The ID of the control.|  \n  \n### Return Value  \n `true` if this method is successful; otherwise, `false`.  \n  \n##  <a name=\"csplitbutton__csplitbutton\"></a>  CSplitButton::CSplitButton  \n Constructs a `CSplitButton` object. The constructor's parameters specify a submenu that is displayed when a user clicks the drop-down arrow of the split button control.  \n  \n```  \nCSplitButton();\n\n \nCSplitButton(\n    UINT nMenuId,   \n    UINT nSubMenuId)  \nCSplitButton(\n    CMenu* pMenu)  \n```  \n  \n### Parameters  \n  \n|Parameter|Description|  \n|---------------|-----------------|  \n|[in] `nMenuId`|The resource ID of the menu bar.|  \n|[in] `nSubMenuId`|The resource ID of a submenu.|  \n|[in] `pMenu`|A pointer to a [CMenu](../../mfc/reference/cmenu-class.md) object that specifies a submenu. The `CSplitButton` object deletes the `CMenu` object and its associated `HMENU` when the `CSplitButton` object goes out of scope.|  \n  \n### Remarks  \n Use the [CSplitButton::Create](#csplitbutton__create) method to create a split button control and attach it to the `CSplitButton` object.  \n  \n##  <a name=\"csplitbutton__ondropdown\"></a>  CSplitButton::OnDropDown  \n Handles the `BCN_DROPDOWN` notification that the system sends when a user clicks the drop-down arrow of the current split button control.  \n  \n```  \nafx_msg void OnDropDown(\n    NMHDR* pNMHDR,   \n    LRESULT* pResult);\n```  \n  \n### Parameters  \n  \n|Parameter|Description|  \n|---------------|-----------------|  \n|[in] `pNMHDR`|Pointer to an [NMHDR](http://msdn.microsoft.com/library/windows/desktop/bb775514) structure that contains information about the [BCN_DROPDOWN](http://msdn.microsoft.com/library/windows/desktop/bb775983) notification.|  \n|[out] `pResult`|(Not used; no value is returned.) Return value of the [BCN_DROPDOWN](http://msdn.microsoft.com/library/windows/desktop/bb775983) notification.|  \n  \n### Remarks  \n When the user clicks the drop-down arrow on a split button control, system sends a `BCN_DROPDOWN` notification message, which the `OnDropDown` method handles. However, the `CSplitButton` object does not forward the `BCN_DROPDOWN` notification to the control that contains the split button control. Consequently, the containing control cannot support a custom action in response to the notification.  \n  \n To implement a custom action that the containing control supports, use a [CButton](../../mfc/reference/cbutton-class.md) object with a style of `BS_SPLITBUTTON` instead of a `CSplitButton` object. Then implement a handler for the `BCN_DROPDOWN` notification in the `CButton` object. For more information, see [Button Styles](../../mfc/reference/button-styles.md).  \n  \n To implement a custom action that the split button control itself supports, use [message reflection](../../mfc/tn062-message-reflection-for-windows-controls.md). Derive your own class from the `CSplitButton` class and name it, for example, CMySplitButton. Then add the following message map to your application to handle the `BCN_DROPDOWN` notification:  \n  \n```  \nBEGIN_MESSAGE_MAP(CMySplitButton,\n    CSplitButton)  \n    ON_NOTIFY_REFLECT(BCN_DROPDOWN, &CMySplitButton::OnDropDown)  \nEND_MESSAGE_MAP()  \n```  \n  \n##  <a name=\"csplitbutton__setdropdownmenu\"></a>  CSplitButton::SetDropDownMenu  \n Sets the drop-down menu that is displayed when a user clicks the drop-down arrow of the current split button control.  \n  \n```  \nvoid SetDropDownMenu(\n    UINT nMenuId,   \n    UINT nSubMenuId);\n\n \nvoid SetDropDownMenu(\n    CMenu* pMenu);\n```  \n  \n### Parameters  \n  \n|Parameter|Description|  \n|---------------|-----------------|  \n|[in] `nMenuId`|The resource ID of the menu bar.|  \n|[in] `nSubMenuId`|The resource ID of a submenu.|  \n|[in] `pMenu`|Pointer to a [CMenu](../../mfc/reference/cmenu-class.md) object that specifies a submenu. The `CSplitButton` object deletes the `CMenu` object and its associated `HMENU` when the `CSplitButton` object goes out of scope.|  \n  \n### Remarks  \n The `nMenuId` parameter identifies a menu bar, which is a horizontal list of menu bar items. The `nSubMenuId` parameter is a zero-based index number that identifies a submenu, which is the drop-down list of menu items associated with each menu bar item. For example, a typical application has a menu that contains the menu bar items, \"File,\" \"Edit,\" and \"Help.\" The \"File\" menu bar item has a submenu that contains the menu items, \"Open,\" \"Close\" and \"Exit.\" When the drop-down arrow of the split-button control is clicked, the control displays the specified submenu, not the menu bar.  \n  \n The following figure depicts a dialog box that contains a pager control and a (1) split button control. The (2) drop-down arrow has already been clicked and the (3) submenu is displayed.  \n  \n ![Dialog with a splitbutton and pager control.](../../mfc/reference/media/splitbutton_pager.png \"splitbutton_pager\")  \n  \n### Example  \n The first statement in the following code example demonstrates the [CSplitButton::SetDropDownMenu](#csplitbutton__setdropdownmenu) method. We created the menu with the Visual Studio resource editor, which automatically named the menu bar ID, `IDR_MENU1`. The `nSubMenuId` parameter, which is zero, refers to the only submenu of the menu bar.  \n  \n [!code-cpp[NVC_MFC_CSplitButton_s2#1](../../mfc/reference/codesnippet/cpp/csplitbutton-class_1.cpp)]  \n  \n## See Also  \n [CSplitButton Class](../../mfc/reference/csplitbutton-class.md)   \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [CButton Class](../../mfc/reference/cbutton-class.md)\n"}