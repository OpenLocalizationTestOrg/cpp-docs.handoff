{"nodes":[{"pos":[12,61],"content":"Compiler Warning (Level 1) C4731 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Warning (Level 1) C4731 | Microsoft Docs","pos":[0,49]}]},{"pos":[609,641],"content":"Compiler Warning (Level 1) C4731","linkify":"Compiler Warning (Level 1) C4731","nodes":[{"content":"Compiler Warning (Level 1) C4731","pos":[0,32]}]},{"content":"'pointer' : frame pointer register 'register' modified by inline assembly code","pos":[642,720]},{"content":"A frame pointer register was modified.","pos":[727,765]},{"content":"You must save and restore the register in your inline assembly block or frame variable (local or parameter, depending on the register modified), or your code may not work properly.","pos":[766,946]},{"content":"The following sample generates C4731:","pos":[953,990]},{"content":"EBP is the frame pointer (FPO is disallowed) and it is being modified.","pos":[1211,1281]},{"content":"When <ph id=\"ph1\">`p`</ph> is later referenced, it is referenced relative to <ph id=\"ph2\">`EBP`</ph>.","pos":[1282,1347],"source":" When `p` is later referenced, it is referenced relative to `EBP`."},{"content":"But <ph id=\"ph1\">`EBP`</ph> has been overwritten by the code, so the program will not work properly and may even fault.","pos":[1348,1449],"source":" But `EBP` has been overwritten by the code, so the program will not work properly and may even fault."}],"content":"---\ntitle: \"Compiler Warning (Level 1) C4731 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"C4731\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C4731\"\nms.assetid: 5658c24c-3e6f-4505-835b-1fb92d47cab0\ncaps.latest.revision: 6\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Compiler Warning (Level 1) C4731\n'pointer' : frame pointer register 'register' modified by inline assembly code  \n  \n A frame pointer register was modified. You must save and restore the register in your inline assembly block or frame variable (local or parameter, depending on the register modified), or your code may not work properly.  \n  \n The following sample generates C4731:  \n  \n```  \n// C4731.cpp  \n// compile with: /W1 /LD  \n// processor: x86  \n// C4731 expected  \nvoid bad(int p) {  \n   __asm  \n   {  \n      mov ebp, 1  \n   }  \n  \n   if (p == 1)  \n   {  \n      // ...  \n   }  \n}  \n```  \n  \n EBP is the frame pointer (FPO is disallowed) and it is being modified. When `p` is later referenced, it is referenced relative to `EBP`. But `EBP` has been overwritten by the code, so the program will not work properly and may even fault."}