{"nodes":[{"pos":[12,34],"content":"_ecvt | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_ecvt | Microsoft Docs","pos":[0,22]}]},{"content":"_ecvt","pos":[977,982]},{"content":"Converts a <ph id=\"ph1\">`double`</ph> number to a string.","pos":[983,1022],"source":"Converts a `double` number to a string."},{"content":"A more secure version of this function is available; see <bpt id=\"p1\">[</bpt>_ecvt_s<ept id=\"p1\">](../../c-runtime-library/reference/ecvt-s.md)</ept>.","pos":[1023,1135],"source":" A more secure version of this function is available; see [_ecvt_s](../../c-runtime-library/reference/ecvt-s.md)."},{"content":"Syntax","pos":[1144,1150]},{"content":"Parameters","pos":[1263,1273]},{"content":"Number to be converted.","pos":[1288,1311]},{"content":"Number of digits stored.","pos":[1329,1353]},{"content":"Stored decimal-point position.","pos":[1369,1399]},{"content":"Sign of the converted number.","pos":[1416,1445]},{"content":"Return Value","pos":[1454,1466]},{"pos":[1478,1547],"content":"returns a pointer to the string of digits; NULL if an error occurred."},{"content":"Remarks","pos":[1556,1563]},{"content":"The <ph id=\"ph1\">`_ecvt`</ph> function converts a floating-point number to a character string.","pos":[1567,1643],"source":"The `_ecvt` function converts a floating-point number to a character string."},{"content":"The <ph id=\"ph1\">`value`</ph> parameter is the floating-point number to be converted.","pos":[1644,1711],"source":" The `value` parameter is the floating-point number to be converted."},{"content":"This function stores up to <ph id=\"ph1\">`count`</ph> digits of <ph id=\"ph2\">`value`</ph> as a string and appends a null character ('\\0').","pos":[1712,1813],"source":" This function stores up to `count` digits of `value` as a string and appends a null character ('\\0')."},{"content":"If the number of digits in <ph id=\"ph1\">`value`</ph> exceeds <ph id=\"ph2\">`count`</ph>, the low-order digit is rounded.","pos":[1814,1897],"source":" If the number of digits in `value` exceeds `count`, the low-order digit is rounded."},{"content":"If there are fewer than <ph id=\"ph1\">`count`</ph> digits, the string is padded with zeros.","pos":[1898,1970],"source":" If there are fewer than `count` digits, the string is padded with zeros."},{"pos":[1977,2054],"content":"The total number of digits returned by <ph id=\"ph1\">`_ecvt`</ph> will not exceed <ph id=\"ph2\">`_CVTBUFSIZE`</ph>.","source":"The total number of digits returned by `_ecvt` will not exceed `_CVTBUFSIZE`."},{"content":"Only digits are stored in the string.","pos":[2061,2098]},{"content":"The position of the decimal point and the sign of <ph id=\"ph1\">`value`</ph> can be obtained from <ph id=\"ph2\">`dec`</ph> and <ph id=\"ph3\">`sign`</ph> after the call.","pos":[2099,2210],"source":" The position of the decimal point and the sign of `value` can be obtained from `dec` and `sign` after the call."},{"content":"The <ph id=\"ph1\">`dec`</ph> parameter points to an integer value giving the position of the decimal point with respect to the beginning of the string.","pos":[2211,2343],"source":" The `dec` parameter points to an integer value giving the position of the decimal point with respect to the beginning of the string."},{"content":"A 0 or negative integer value indicates that the decimal point lies to the left of the first digit.","pos":[2344,2443]},{"content":"The <ph id=\"ph1\">`sign`</ph> parameter points to an integer that indicates the sign of the converted number.","pos":[2444,2534],"source":" The `sign` parameter points to an integer that indicates the sign of the converted number."},{"content":"If the integer value is 0, the number is positive.","pos":[2535,2585]},{"content":"Otherwise, the number is negative.","pos":[2586,2620]},{"content":"The difference between <ph id=\"ph1\">`_ecvt`</ph> and <ph id=\"ph2\">`_fcvt`</ph> is in the interpretation of the <ph id=\"ph3\">`count`</ph> parameter.","pos":[2627,2720],"source":"The difference between `_ecvt` and `_fcvt` is in the interpretation of the `count` parameter."},{"content":"interprets <ph id=\"ph1\">`count`</ph> as the total number of digits in the output string, whereas <ph id=\"ph2\">`_fcvt`</ph> interprets <ph id=\"ph3\">`count`</ph> as the number of digits after the decimal point.","pos":[2729,2883],"source":" interprets `count` as the total number of digits in the output string, whereas `_fcvt` interprets `count` as the number of digits after the decimal point."},{"content":"and <ph id=\"ph1\">`_fcvt`</ph> use a single statically allocated buffer for the conversion.","pos":[2898,2970],"source":" and `_fcvt` use a single statically allocated buffer for the conversion."},{"content":"Each call to one of these routines destroys the result of the previous call.","pos":[2971,3047]},{"content":"This function validates its parameters.","pos":[3054,3093]},{"content":"If <ph id=\"ph1\">`dec`</ph> or <ph id=\"ph2\">`sign`</ph> is NULL, or <ph id=\"ph3\">`count`</ph> is 0, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[3094,3269],"source":" If `dec` or `sign` is NULL, or `count` is 0, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, <ph id=\"ph1\">`errno`</ph> is set to <ph id=\"ph2\">`EINVAL`</ph> and NULL is returned.","pos":[3270,3355],"source":" If execution is allowed to continue, `errno` is set to `EINVAL` and NULL is returned."},{"content":"Requirements","pos":[3364,3376]},{"content":"Function","pos":[3383,3391]},{"content":"Required header","pos":[3392,3407]},{"content":"stdlib.h&gt;","pos":[3463,3472],"source":"stdlib.h>"},{"pos":[3480,3598],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":"Example","pos":[3607,3614]},{"content":".NET Framework Equivalent","pos":[4304,4329]},{"content":"System::Convert::ToString","pos":[4334,4359]},{"content":"See Also","pos":[4440,4448]},{"content":"Data Conversion","pos":[4453,4468]},{"content":"Floating-Point Support","pos":[4519,4541]},{"content":"atof, _atof_l, _wtof, _wtof_l","pos":[4599,4628]},{"content":"_fcvt","pos":[4697,4702]},{"content":"_gcvt","pos":[4752,4757]}],"content":"---\ntitle: \"_ecvt | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_ecvt\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-convert-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_ecvt\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"_ecvt function\"\n  - \"numbers, converting\"\n  - \"converting double numbers\"\n  - \"ecvt function\"\nms.assetid: a916eb05-92d1-4b5c-8563-093acdb49dc8\ncaps.latest.revision: 21\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _ecvt\nConverts a `double` number to a string. A more secure version of this function is available; see [_ecvt_s](../../c-runtime-library/reference/ecvt-s.md).  \n  \n## Syntax  \n  \n```  \nchar *_ecvt(   \n   double value,  \n   int count,  \n   int *dec,  \n   int *sign   \n);  \n```  \n  \n#### Parameters  \n `value`  \n Number to be converted.  \n  \n `count`  \n Number of digits stored.  \n  \n `dec`  \n Stored decimal-point position.  \n  \n `sign`  \n Sign of the converted number.  \n  \n## Return Value  \n `_ecvt` returns a pointer to the string of digits; NULL if an error occurred.  \n  \n## Remarks  \n The `_ecvt` function converts a floating-point number to a character string. The `value` parameter is the floating-point number to be converted. This function stores up to `count` digits of `value` as a string and appends a null character ('\\0'). If the number of digits in `value` exceeds `count`, the low-order digit is rounded. If there are fewer than `count` digits, the string is padded with zeros.  \n  \n The total number of digits returned by `_ecvt` will not exceed `_CVTBUFSIZE`.  \n  \n Only digits are stored in the string. The position of the decimal point and the sign of `value` can be obtained from `dec` and `sign` after the call. The `dec` parameter points to an integer value giving the position of the decimal point with respect to the beginning of the string. A 0 or negative integer value indicates that the decimal point lies to the left of the first digit. The `sign` parameter points to an integer that indicates the sign of the converted number. If the integer value is 0, the number is positive. Otherwise, the number is negative.  \n  \n The difference between `_ecvt` and `_fcvt` is in the interpretation of the `count` parameter. `_ecvt` interprets `count` as the total number of digits in the output string, whereas `_fcvt` interprets `count` as the number of digits after the decimal point.  \n  \n `_ecvt` and `_fcvt` use a single statically allocated buffer for the conversion. Each call to one of these routines destroys the result of the previous call.  \n  \n This function validates its parameters. If `dec` or `sign` is NULL, or `count` is 0, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, `errno` is set to `EINVAL` and NULL is returned.  \n  \n## Requirements  \n  \n|Function|Required header|  \n|--------------|---------------------|  \n|`_ecvt`|\\<stdlib.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Example  \n  \n```  \n// crt_ecvt.c  \n// compile with: /W3  \n// This program uses _ecvt to convert a  \n// floating-point number to a character string.  \n  \n#include <stdlib.h>  \n#include <stdio.h>  \n  \nint main( void )  \n{  \n   int     decimal,   sign;  \n   char    *buffer;  \n   int     precision = 10;  \n   double  source = 3.1415926535;  \n  \n   buffer = _ecvt( source, precision, &decimal, &sign ); // C4996  \n   // Note: _ecvt is deprecated; consider using _ecvt_s instead  \n   printf( \"source: %2.10f   buffer: '%s'  decimal: %d  sign: %d\\n\",  \n           source, buffer, decimal, sign );  \n}  \n```  \n  \n```Output  \nsource: 3.1415926535   buffer: '3141592654'  decimal: 1  sign: 0  \n```  \n  \n## .NET Framework Equivalent  \n [System::Convert::ToString](https://msdn.microsoft.com/en-us/library/system.convert.tostring.aspx)  \n  \n## See Also  \n [Data Conversion](../../c-runtime-library/data-conversion.md)   \n [Floating-Point Support](../../c-runtime-library/floating-point-support.md)   \n [atof, _atof_l, _wtof, _wtof_l](../../c-runtime-library/reference/atof-atof-l-wtof-wtof-l.md)   \n [_fcvt](../../c-runtime-library/reference/fcvt.md)   \n [_gcvt](../../c-runtime-library/reference/gcvt.md)"}