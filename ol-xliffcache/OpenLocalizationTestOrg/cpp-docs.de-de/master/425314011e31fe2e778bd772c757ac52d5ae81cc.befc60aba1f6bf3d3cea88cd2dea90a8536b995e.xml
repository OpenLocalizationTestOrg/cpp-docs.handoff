{"nodes":[{"pos":[12,61],"content":"-GL (Whole Program Optimization) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-GL (Whole Program Optimization) | Microsoft Docs","pos":[0,49]}]},{"content":"/GL (Whole Program Optimization)","pos":[796,828]},{"content":"Enables whole program optimization.","pos":[829,864]},{"content":"Syntax","pos":[873,879]},{"content":"Remarks","pos":[912,919]},{"content":"Whole program optimization allows the compiler to perform optimizations with information on all modules in the program.","pos":[923,1042]},{"content":"Without whole program optimization, optimizations are performed on a per module (compiland) basis.","pos":[1043,1141]},{"content":"Whole program optimization is off by default and must be explicitly enabled.","pos":[1148,1224]},{"content":"However, it is also possible to explicitly disable it with <bpt id=\"p1\">**</bpt>/GL-<ept id=\"p1\">**</ept>.","pos":[1225,1293],"source":" However, it is also possible to explicitly disable it with **/GL-**."},{"content":"With information on all modules, the compiler can:","pos":[1300,1350]},{"content":"Optimize the use of registers across function boundaries.","pos":[1360,1417]},{"content":"Do a better job of tracking modifications to global data, allowing a reduction in the number of loads and stores.","pos":[1427,1540]},{"content":"Do a better job of tracking the possible set of items modified by a pointer dereference, reducing the numbers of loads and stores.","pos":[1550,1680]},{"content":"Inline a function in a module even when the function is defined in another module.","pos":[1690,1772]},{"pos":[1779,1974],"content":".obj files produced with <bpt id=\"p1\">**</bpt>/GL<ept id=\"p1\">**</ept> will not be available to such linker utilities as <bpt id=\"p2\">[</bpt>EDITBIN<ept id=\"p2\">](../../build/reference/editbin-reference.md)</ept> and <bpt id=\"p3\">[</bpt>DUMPBIN<ept id=\"p3\">](../../build/reference/dumpbin-reference.md)</ept>.","source":".obj files produced with **/GL** will not be available to such linker utilities as [EDITBIN](../../build/reference/editbin-reference.md) and [DUMPBIN](../../build/reference/dumpbin-reference.md)."},{"pos":[1981,2149],"content":"If you compile your program with <bpt id=\"p1\">**</bpt>/GL<ept id=\"p1\">**</ept> and <bpt id=\"p2\">[</bpt>/c<ept id=\"p2\">](../../build/reference/c-compile-without-linking.md)</ept>, you should use the /LTCG linker option to create the output file.","source":"If you compile your program with **/GL** and [/c](../../build/reference/c-compile-without-linking.md), you should use the /LTCG linker option to create the output file."},{"pos":[2156,2249],"content":"<bpt id=\"p1\">[</bpt>/ZI<ept id=\"p1\">](../../build/reference/z7-zi-zi-debug-information-format.md)</ept> cannot be used with <bpt id=\"p2\">**</bpt>/GL<ept id=\"p2\">**</ept>","source":"[/ZI](../../build/reference/z7-zi-zi-debug-information-format.md) cannot be used with **/GL**"},{"content":"The format of files produced with <bpt id=\"p1\">**</bpt>/GL<ept id=\"p1\">**</ept> in the current version may not be readable by subsequent versions of Visual C++.","pos":[2256,2378],"source":"The format of files produced with **/GL** in the current version may not be readable by subsequent versions of Visual C++."},{"content":"You should not ship a .lib file comprised of .obj files that were produced with <bpt id=\"p1\">**</bpt>/GL<ept id=\"p1\">**</ept> unless you are willing to ship copies of the .lib file for all versions of Visual C++ you expect your users to use, now and in the future.","pos":[2379,2605],"source":" You should not ship a .lib file comprised of .obj files that were produced with **/GL** unless you are willing to ship copies of the .lib file for all versions of Visual C++ you expect your users to use, now and in the future."},{"content":".obj files produced with <bpt id=\"p1\">**</bpt>/GL<ept id=\"p1\">**</ept> and precompiled header files should not be used to build a .lib file unless the .lib file will be linked on the same machine that produced the <bpt id=\"p2\">**</bpt>/GL<ept id=\"p2\">**</ept> .obj file.","pos":[2612,2806],"source":".obj files produced with **/GL** and precompiled header files should not be used to build a .lib file unless the .lib file will be linked on the same machine that produced the **/GL** .obj file."},{"content":"Information from the .obj file's precompiled header file will be needed at link time.","pos":[2807,2892]},{"content":"For more information on the optimizations available with and the limitations of whole program optimization, see <bpt id=\"p1\">[</bpt>/LTCG<ept id=\"p1\">](../../build/reference/ltcg-link-time-code-generation.md)</ept>.","pos":[2899,3076],"source":"For more information on the optimizations available with and the limitations of whole program optimization, see [/LTCG](../../build/reference/ltcg-link-time-code-generation.md)."},{"content":"<bpt id=\"p1\">**</bpt>/GL<ept id=\"p1\">**</ept> also makes profile guided optimization available; see /LTCG.","pos":[3078,3146],"source":"**/GL** also makes profile guided optimization available; see /LTCG."},{"content":"When compiling for profile guided optimizations and if you want function ordering from your profile guided optimizations, you must compile with <bpt id=\"p1\">[</bpt>/Gy<ept id=\"p1\">](../../build/reference/gy-enable-function-level-linking.md)</ept> or a compiler option that implies /Gy.","pos":[3148,3395],"source":"  When compiling for profile guided optimizations and if you want function ordering from your profile guided optimizations, you must compile with [/Gy](../../build/reference/gy-enable-function-level-linking.md) or a compiler option that implies /Gy."},{"content":"To set this linker option in the Visual Studio development environment","pos":[3405,3475]},{"pos":[3485,3655],"content":"See <bpt id=\"p1\">[</bpt>/LTCG (Link-time Code Generation)<ept id=\"p1\">](../../build/reference/ltcg-link-time-code-generation.md)</ept> for information on how to specify <bpt id=\"p2\">**</bpt>/GL<ept id=\"p2\">**</ept> in the development environment.","source":"See [/LTCG (Link-time Code Generation)](../../build/reference/ltcg-link-time-code-generation.md) for information on how to specify **/GL** in the development environment."},{"content":"To set this linker option programmatically","pos":[3665,3707]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.WholeProgramOptimization%2A&gt;.","pos":[3717,3812],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.WholeProgramOptimization%2A>."},{"content":"See Also","pos":[3821,3829]},{"content":"Compiler Options","pos":[3834,3850]},{"content":"Setting Compiler Options","pos":[3900,3924]}],"content":"---\ntitle: \"-GL (Whole Program Optimization) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/gl\"\n  - \"VC.Project.VCCLWCECompilerTool.WholeProgramOptimization\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"/GL compiler option [C++]\"\n  - \"whole program optimizations and C++ compiler\"\n  - \"-GL compiler option [C++]\"\n  - \"GL compiler option [C++]\"\nms.assetid: 09d51e2d-9728-4bd0-b5dc-3b8284aca1d1\ncaps.latest.revision: 12\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /GL (Whole Program Optimization)\nEnables whole program optimization.  \n  \n## Syntax  \n  \n```  \n/GL[-]  \n```  \n  \n## Remarks  \n Whole program optimization allows the compiler to perform optimizations with information on all modules in the program. Without whole program optimization, optimizations are performed on a per module (compiland) basis.  \n  \n Whole program optimization is off by default and must be explicitly enabled. However, it is also possible to explicitly disable it with **/GL-**.  \n  \n With information on all modules, the compiler can:  \n  \n-   Optimize the use of registers across function boundaries.  \n  \n-   Do a better job of tracking modifications to global data, allowing a reduction in the number of loads and stores.  \n  \n-   Do a better job of tracking the possible set of items modified by a pointer dereference, reducing the numbers of loads and stores.  \n  \n-   Inline a function in a module even when the function is defined in another module.  \n  \n .obj files produced with **/GL** will not be available to such linker utilities as [EDITBIN](../../build/reference/editbin-reference.md) and [DUMPBIN](../../build/reference/dumpbin-reference.md).  \n  \n If you compile your program with **/GL** and [/c](../../build/reference/c-compile-without-linking.md), you should use the /LTCG linker option to create the output file.  \n  \n [/ZI](../../build/reference/z7-zi-zi-debug-information-format.md) cannot be used with **/GL**  \n  \n The format of files produced with **/GL** in the current version may not be readable by subsequent versions of Visual C++. You should not ship a .lib file comprised of .obj files that were produced with **/GL** unless you are willing to ship copies of the .lib file for all versions of Visual C++ you expect your users to use, now and in the future.  \n  \n .obj files produced with **/GL** and precompiled header files should not be used to build a .lib file unless the .lib file will be linked on the same machine that produced the **/GL** .obj file. Information from the .obj file's precompiled header file will be needed at link time.  \n  \n For more information on the optimizations available with and the limitations of whole program optimization, see [/LTCG](../../build/reference/ltcg-link-time-code-generation.md).  **/GL** also makes profile guided optimization available; see /LTCG.  When compiling for profile guided optimizations and if you want function ordering from your profile guided optimizations, you must compile with [/Gy](../../build/reference/gy-enable-function-level-linking.md) or a compiler option that implies /Gy.  \n  \n### To set this linker option in the Visual Studio development environment  \n  \n1.  See [/LTCG (Link-time Code Generation)](../../build/reference/ltcg-link-time-code-generation.md) for information on how to specify **/GL** in the development environment.  \n  \n### To set this linker option programmatically  \n  \n1.  See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.WholeProgramOptimization%2A>.  \n  \n## See Also  \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)"}