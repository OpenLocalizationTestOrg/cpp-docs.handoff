{"nodes":[{"pos":[12,103],"content":"Walkthrough: Compiling a C++ Program that Targets the CLR in Visual Studio | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Walkthrough: Compiling a C++ Program that Targets the CLR in Visual Studio | Microsoft Docs","pos":[0,91]}]},{"content":"Walkthrough: Compiling a C++ Program that Targets the CLR in Visual Studio","pos":[745,819]},{"content":"You can create Visual C++ programs that use .NET classes and compile them by using the Visual Studio Development Environment.","pos":[820,945]},{"content":"For this procedure you can type your own Visual C++ program or use one of the sample programs.","pos":[952,1046]},{"content":"The sample program that we use in this procedure creates a text file named textfile.txt and saves it to the project directory.","pos":[1047,1173]},{"content":"Prerequisites","pos":[1182,1195]},{"content":"These topics assume that you understand the fundamentals of the C++ language.","pos":[1199,1276]},{"content":"To create a new project in Visual Studio and add a new source file","pos":[1286,1352]},{"content":"Create a new project.","pos":[1362,1383]},{"content":"On the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, point to <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Project…<ept id=\"p3\">**</ept>.","pos":[1384,1452],"source":" On the **File** menu, point to **New**, and then click **Project…**."},{"pos":[1462,1549],"content":"From the Visual C++ project types, click <bpt id=\"p1\">**</bpt>CLR<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>CLR Empty Project<ept id=\"p2\">**</ept>.","source":"From the Visual C++ project types, click **CLR**, and then click **CLR Empty Project**."},{"content":"Type a project name.","pos":[1559,1579]},{"content":"By default, the solution that contains the project has the same name as the new project, but you can enter a different name.","pos":[1590,1714]},{"content":"You can enter a different location for the project if you want.","pos":[1715,1778]},{"pos":[1789,1828],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to create the new project.","source":"Click **OK** to create the new project."},{"pos":[1838,1924],"content":"If Solution Explorer is not visible, click <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> on the <bpt id=\"p2\">**</bpt>View<ept id=\"p2\">**</ept> menu.","source":"If Solution Explorer is not visible, click **Solution Explorer** on the **View** menu."},{"content":"Add a new source file to the project:","pos":[1934,1971]},{"pos":[1985,2088],"content":"Right-click the <bpt id=\"p1\">**</bpt>Source Files<ept id=\"p1\">**</ept> folder in Solution Explorer, point to <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept> and click <bpt id=\"p3\">**</bpt>New Item…<ept id=\"p3\">**</ept>.","source":"Right-click the **Source Files** folder in Solution Explorer, point to **Add** and click **New Item…**."},{"pos":[2102,2172],"content":"Click <bpt id=\"p1\">**</bpt>C++ File (.cpp)<ept id=\"p1\">**</ept> and type a file name and then click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","source":"Click **C++ File (.cpp)** and type a file name and then click **Add**."},{"pos":[2183,2335],"content":"The <bpt id=\"p1\">**</bpt>.cpp<ept id=\"p1\">**</ept> file appears in the <bpt id=\"p2\">**</bpt>Source Files<ept id=\"p2\">**</ept> folder in Solution Explorer and a tabbed window appears where you type the code you want in that file.","source":"The **.cpp** file appears in the **Source Files** folder in Solution Explorer and a tabbed window appears where you type the code you want in that file."},{"content":"Click in the newly created tab in Visual Studio and type a valid Visual C++ program, or copy and paste one of the sample programs.","pos":[2345,2475]},{"pos":[2486,2680],"content":"For example, you can use the <bpt id=\"p1\">[</bpt>How to: Write a Text File (C++/CLI)<ept id=\"p1\">](../dotnet/how-to-write-a-text-file-cpp-cli.md)</ept> sample program (in the <bpt id=\"p2\">**</bpt>File Handling and I/O<ept id=\"p2\">**</ept> node of the Programming Guide).","source":"For example, you can use the [How to: Write a Text File (C++/CLI)](../dotnet/how-to-write-a-text-file-cpp-cli.md) sample program (in the **File Handling and I/O** node of the Programming Guide)."},{"pos":[2691,2875],"content":"If you use the sample program, notice that you use the <ph id=\"ph1\">`gcnew`</ph>keyword instead of <ph id=\"ph2\">`new`</ph> when creating a .NET object, and that <ph id=\"ph3\">`gcnew`</ph> returns a handle (<ph id=\"ph4\">`^`</ph>) rather than a pointer (<ph id=\"ph5\">`*`</ph>):","source":"If you use the sample program, notice that you use the `gcnew`keyword instead of `new` when creating a .NET object, and that `gcnew` returns a handle (`^`) rather than a pointer (`*`):"},{"pos":[2947,3105],"content":"For more information on the new Visual C++ syntax, see <bpt id=\"p1\">[</bpt>Component Extensions for Runtime Platforms<ept id=\"p1\">](../windows/component-extensions-for-runtime-platforms.md)</ept>.","source":"For more information on the new Visual C++ syntax, see [Component Extensions for Runtime Platforms](../windows/component-extensions-for-runtime-platforms.md)."},{"pos":[3115,3163],"content":"On the <bpt id=\"p1\">**</bpt>Build<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Build Solution<ept id=\"p2\">**</ept>.","source":"On the **Build** menu, click **Build Solution**."},{"pos":[3174,3333],"content":"The <bpt id=\"p1\">**</bpt>Output<ept id=\"p1\">**</ept> window displays information about the compilation progress, such as the location of the build log and a message that indicates the build status.","source":"The **Output** window displays information about the compilation progress, such as the location of the build log and a message that indicates the build status."},{"content":"If you make changes and run the program without doing a build, a dialog box might indicate that the project is out of date.","pos":[3344,3467]},{"content":"Select the checkbox on this dialog before you click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> if you want Visual Studio to always use the current versions of files instead of prompting you each time it builds the application.","pos":[3468,3658],"source":" Select the checkbox on this dialog before you click **OK** if you want Visual Studio to always use the current versions of files instead of prompting you each time it builds the application."},{"pos":[3668,3725],"content":"On the <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Start without Debugging<ept id=\"p2\">**</ept>.","source":"On the **Debug** menu, click **Start without Debugging**."},{"content":"If you used the sample program, when you run the program a command window is displayed that indicates the text file has been created.","pos":[3734,3867]},{"content":"Press any key to close the command window.","pos":[3868,3910]},{"content":"The <bpt id=\"p1\">**</bpt>textfile.txt<ept id=\"p1\">**</ept> text file is now located in your project directory.","pos":[3921,3993],"source":"The **textfile.txt** text file is now located in your project directory."},{"content":"You can open this file by using Notepad.","pos":[3994,4034]},{"pos":[4046,4361],"content":"[!NOTE]\n Choosing the empty CLR project template automatically set the **/clr** compiler option. To verify this, right-click the project in **Solution Explorer** and clicking **Properties**, and then check the **Common Language Runtime support** option in the **General** node of **Configuration Properties**.","leadings":["","    > "],"nodes":[{"content":" Choosing the empty CLR project template automatically set the **/clr** compiler option. To verify this, right-click the project in **Solution Explorer** and clicking **Properties**, and then check the **Common Language Runtime support** option in the **General** node of **Configuration Properties**.","pos":[8,309],"nodes":[{"content":"Choosing the empty CLR project template automatically set the <bpt id=\"p1\">**</bpt>/clr<ept id=\"p1\">**</ept> compiler option.","pos":[1,88],"source":" Choosing the empty CLR project template automatically set the **/clr** compiler option."},{"content":"To verify this, right-click the project in <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> and clicking <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>, and then check the <bpt id=\"p3\">**</bpt>Common Language Runtime support<ept id=\"p3\">**</ept> option in the <bpt id=\"p4\">**</bpt>General<ept id=\"p4\">**</ept> node of <bpt id=\"p5\">**</bpt>Configuration Properties<ept id=\"p5\">**</ept>.","pos":[89,301],"source":" To verify this, right-click the project in **Solution Explorer** and clicking **Properties**, and then check the **Common Language Runtime support** option in the **General** node of **Configuration Properties**."}]}]},{"content":"What's Next","pos":[4370,4381]},{"pos":[4385,4676],"content":"<bpt id=\"p1\">**</bpt>Previous:<ept id=\"p1\">**</ept> <bpt id=\"p2\">[</bpt>Walkthrough: Compiling a Native C++ Program on the Command Line<ept id=\"p2\">](../build/walkthrough-compiling-a-native-cpp-program-on-the-command-line.md)</ept> &amp;#124; <bpt id=\"p3\">**</bpt>Next:<ept id=\"p3\">**</ept><bpt id=\"p4\">[</bpt>Walkthrough: Compile a C Program on the Command Line<ept id=\"p4\">](../build/walkthrough-compile-a-c-program-on-the-command-line.md)</ept>","source":"**Previous:** [Walkthrough: Compiling a Native C++ Program on the Command Line](../build/walkthrough-compiling-a-native-cpp-program-on-the-command-line.md) &#124; **Next:**[Walkthrough: Compile a C Program on the Command Line](../build/walkthrough-compile-a-c-program-on-the-command-line.md)"},{"content":"See Also","pos":[4685,4693]},{"content":"Visual C++ Guided Tour","pos":[4698,4720]},{"content":"C++ Language Reference","pos":[4797,4819]},{"content":"Building C/C++ Programs","pos":[4860,4883]}],"content":"---\ntitle: \"Walkthrough: Compiling a C++ Program that Targets the CLR in Visual Studio | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"command-line applications [C++], managed code\"\n  - \"compiling programs [C++]\"\n  - \"Visual C++, managed code\"\n  - \"managed code [C++]\"\nms.assetid: 339f89df-a5d2-4040-831a-ddbe25b5dce4\ncaps.latest.revision: 40\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Walkthrough: Compiling a C++ Program that Targets the CLR in Visual Studio\nYou can create Visual C++ programs that use .NET classes and compile them by using the Visual Studio Development Environment.  \n  \n For this procedure you can type your own Visual C++ program or use one of the sample programs. The sample program that we use in this procedure creates a text file named textfile.txt and saves it to the project directory.  \n  \n## Prerequisites  \n These topics assume that you understand the fundamentals of the C++ language.  \n  \n### To create a new project in Visual Studio and add a new source file  \n  \n1.  Create a new project. On the **File** menu, point to **New**, and then click **Project…**.  \n  \n2.  From the Visual C++ project types, click **CLR**, and then click **CLR Empty Project**.  \n  \n3.  Type a project name.  \n  \n     By default, the solution that contains the project has the same name as the new project, but you can enter a different name. You can enter a different location for the project if you want.  \n  \n     Click **OK** to create the new project.  \n  \n4.  If Solution Explorer is not visible, click **Solution Explorer** on the **View** menu.  \n  \n5.  Add a new source file to the project:  \n  \n    -   Right-click the **Source Files** folder in Solution Explorer, point to **Add** and click **New Item…**.  \n  \n    -   Click **C++ File (.cpp)** and type a file name and then click **Add**.  \n  \n     The **.cpp** file appears in the **Source Files** folder in Solution Explorer and a tabbed window appears where you type the code you want in that file.  \n  \n6.  Click in the newly created tab in Visual Studio and type a valid Visual C++ program, or copy and paste one of the sample programs.  \n  \n     For example, you can use the [How to: Write a Text File (C++/CLI)](../dotnet/how-to-write-a-text-file-cpp-cli.md) sample program (in the **File Handling and I/O** node of the Programming Guide).  \n  \n     If you use the sample program, notice that you use the `gcnew`keyword instead of `new` when creating a .NET object, and that `gcnew` returns a handle (`^`) rather than a pointer (`*`):  \n  \n     `StreamWriter^ sw = gcnew StreamWriter(fileName);`  \n  \n     For more information on the new Visual C++ syntax, see [Component Extensions for Runtime Platforms](../windows/component-extensions-for-runtime-platforms.md).  \n  \n7.  On the **Build** menu, click **Build Solution**.  \n  \n     The **Output** window displays information about the compilation progress, such as the location of the build log and a message that indicates the build status.  \n  \n     If you make changes and run the program without doing a build, a dialog box might indicate that the project is out of date. Select the checkbox on this dialog before you click **OK** if you want Visual Studio to always use the current versions of files instead of prompting you each time it builds the application.  \n  \n8.  On the **Debug** menu, click **Start without Debugging**.  \n  \n9. If you used the sample program, when you run the program a command window is displayed that indicates the text file has been created. Press any key to close the command window.  \n  \n     The **textfile.txt** text file is now located in your project directory. You can open this file by using Notepad.  \n  \n    > [!NOTE]\n    >  Choosing the empty CLR project template automatically set the **/clr** compiler option. To verify this, right-click the project in **Solution Explorer** and clicking **Properties**, and then check the **Common Language Runtime support** option in the **General** node of **Configuration Properties**.  \n  \n## What's Next  \n **Previous:** [Walkthrough: Compiling a Native C++ Program on the Command Line](../build/walkthrough-compiling-a-native-cpp-program-on-the-command-line.md) &#124; **Next:**[Walkthrough: Compile a C Program on the Command Line](../build/walkthrough-compile-a-c-program-on-the-command-line.md)  \n  \n## See Also  \n [Visual C++ Guided Tour](http://msdn.microsoft.com/en-us/499cb66f-7df1-45d6-8b6b-33d94fd1f17c)   \n [C++ Language Reference](../cpp/cpp-language-reference.md)   \n [Building C/C++ Programs](../build/building-c-cpp-programs.md)"}