{"nodes":[{"pos":[12,97],"content":"-GENPROFILE, -FASTGENPROFILE (Generate Profiling Instrumented Build) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-GENPROFILE, -FASTGENPROFILE (Generate Profiling Instrumented Build) | Microsoft Docs","pos":[0,85]}]},{"content":"/GENPROFILE, /FASTGENPROFILE (Generate Profiling Instrumented Build)","pos":[733,801]},{"content":"Specifies generation of a .pgd file by the linker to support profile-guided optimization (PGO).","pos":[802,897]},{"content":"/GENPROFILE and /FASTGENPROFILE use different default parameters.","pos":[899,964]},{"content":"Use /GENPROFILE to favor precision over speed and memory usage during profiling.","pos":[965,1045]},{"content":"Use /FASTGENPROFILE to favor smaller memory usage and speed over precision.","pos":[1046,1121]},{"content":"Syntax","pos":[1130,1136]},{"content":"Remarks","pos":[1291,1298]},{"content":"COUNTER32 &amp;#124; COUNTER64","pos":[1302,1328],"source":"COUNTER32 &#124; COUNTER64"},{"content":"Use COUNTER32 to specify the use of 32-bit probe counters, and COUNTER64 to specify  64-bit probe counters.","pos":[1332,1439]},{"content":"When you specify /GENPROFILE, the default is COUNTER64.","pos":[1440,1495]},{"content":"When you specify /FASTGENPROFILE, the default is COUNTER32.","pos":[1496,1555]},{"content":"EXACT &amp;#124; NOEXACT","pos":[1562,1582],"source":"EXACT &#124; NOEXACT"},{"content":"Use EXACT to specify thread-safe interlocked increments for probes.","pos":[1586,1653]},{"content":"NOEXACT specifies unprotected increment operations for probes.","pos":[1654,1716]},{"content":"The default is NOEXACT.","pos":[1717,1740]},{"content":"MEMMAX=value, MEMMIN=value","pos":[1747,1773]},{"content":"Use MEMMAX and MEMMIN to specify the maximum and minimum reservation sizes for training data in memory.","pos":[1777,1880]},{"content":"The value is the amount of memory to reserve in bytes.","pos":[1881,1935]},{"content":"By default, these values are determined by an internal heuristic.","pos":[1937,2002]},{"content":"PATH &amp;#124; NOPATH","pos":[2009,2027],"source":"PATH &#124; NOPATH"},{"content":"Use PATH to specify a separate set of PGO counters for each unique path to a function.","pos":[2031,2117]},{"content":"Use NOPATH to specify only one set of counters for each function.","pos":[2118,2183]},{"content":"When you specify /GENPROFILE, the default is PATH.","pos":[2186,2236]},{"content":"When you specify /FASTGENPROFILE, the default is NOPATH.","pos":[2237,2293]},{"content":"TRACKEH &amp;#124; NOTRACKEH","pos":[2300,2324],"source":"TRACKEH &#124; NOTRACKEH"},{"content":"Specifies whether to use extra counters to keep an accurate count when exceptions are thrown during training.","pos":[2328,2437]},{"content":"Use TRACKEH to specify extra counters for an exact count.","pos":[2438,2495]},{"content":"Use NOTRACKEH to specify single counters for code that does not use exception handling or that does not encounter exceptions in your training scenarios.","pos":[2496,2648]},{"content":"When you specify /GENPROFILE, the default is TRACKEH.","pos":[2650,2703]},{"content":"When you specify /FASTGENPROFILE, the default is NOTRACKEH.","pos":[2704,2763]},{"content":"PGD=filename","pos":[2770,2782]},{"content":"Specifies a base file name for the .pgd file.","pos":[2786,2831]},{"content":"By default, the linker uses the base executable image file name with a .pgd extension.","pos":[2832,2918]},{"content":"The /GENPROFILE and /FASTGENPROFILE options tell the linker to generate the profiling instrumentation file needed to support application training for profile-guided optimization (PGO).","pos":[2925,3109]},{"content":"The profiling information generated by application training is used as input to perform targeted whole-program optimizations during builds.","pos":[3110,3249]},{"content":"You can set additional options to control various profiling features for performance during app training and builds.","pos":[3252,3368]},{"content":"The default options specified by /GENPROFILE give most accurate results, especially for large, complex multi-threaded apps.","pos":[3369,3492]},{"content":"The /FASTGENPROFILE option uses different defaults for a lower memory footprint and faster performance during training, at the expense of accuracy.","pos":[3493,3640]},{"content":"Profiling information is captured when you run the instrumented app after you build by using /GENPROFILE of /FASTGENPROFILE.","pos":[3647,3771]},{"content":"This information is used by the linker when you specify the /USEPROFILE option.","pos":[3772,3851]},{"content":"For more information on how to train your app and details on the collected data, see Profile Guided Optimization.","pos":[3852,3965]},{"content":"You must also specify /LTCG when you specify /GENPROFILE or /FASTGENPROFILE.","pos":[3972,4048]},{"content":"See Also","pos":[4057,4065]},{"content":"Setting Linker Options","pos":[4070,4092]},{"content":"Linker Options","pos":[4148,4162]},{"content":"/LTCG (Link-time Code Generation)","pos":[4210,4243]}],"content":"---\ntitle: \"-GENPROFILE, -FASTGENPROFILE (Generate Profiling Instrumented Build) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"GENPROFILE\"\n  - \"FASTGENPROFILE\"\n  - \"/GENPROFILE\"\n  - \"/FASTGENPROFILE\"\nhelpviewer_keywords: \n  - \"GENPROFILE\"\n  - \"FASTGENPROFILE\"\nms.assetid: deff5ce7-46f5-448a-b9cd-a7a83a6864c6\ncaps.latest.revision: 6\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# /GENPROFILE, /FASTGENPROFILE (Generate Profiling Instrumented Build)\nSpecifies generation of a .pgd file by the linker to support profile-guided optimization (PGO).  /GENPROFILE and /FASTGENPROFILE use different default parameters. Use /GENPROFILE to favor precision over speed and memory usage during profiling. Use /FASTGENPROFILE to favor smaller memory usage and speed over precision.  \n  \n## Syntax  \n  \n```  \n/{GENPROFILE|FASTGENPROFILE}[:{COUNTER32|COUNTER64|EXACT|MEMMAX=#|MEMMIN=#|NOEXACT|NOPATH|NOTRACKEH|PATH|PGD=filename|TRACKEH}]   \n```  \n  \n## Remarks  \n COUNTER32 &#124; COUNTER64  \n Use COUNTER32 to specify the use of 32-bit probe counters, and COUNTER64 to specify  64-bit probe counters. When you specify /GENPROFILE, the default is COUNTER64. When you specify /FASTGENPROFILE, the default is COUNTER32.  \n  \n EXACT &#124; NOEXACT  \n Use EXACT to specify thread-safe interlocked increments for probes. NOEXACT specifies unprotected increment operations for probes. The default is NOEXACT.  \n  \n MEMMAX=value, MEMMIN=value  \n Use MEMMAX and MEMMIN to specify the maximum and minimum reservation sizes for training data in memory. The value is the amount of memory to reserve in bytes.  By default, these values are determined by an internal heuristic.  \n  \n PATH &#124; NOPATH  \n Use PATH to specify a separate set of PGO counters for each unique path to a function. Use NOPATH to specify only one set of counters for each function.   When you specify /GENPROFILE, the default is PATH. When you specify /FASTGENPROFILE, the default is NOPATH.  \n  \n TRACKEH &#124; NOTRACKEH  \n Specifies whether to use extra counters to keep an accurate count when exceptions are thrown during training. Use TRACKEH to specify extra counters for an exact count. Use NOTRACKEH to specify single counters for code that does not use exception handling or that does not encounter exceptions in your training scenarios.  When you specify /GENPROFILE, the default is TRACKEH. When you specify /FASTGENPROFILE, the default is NOTRACKEH.  \n  \n PGD=filename  \n Specifies a base file name for the .pgd file. By default, the linker uses the base executable image file name with a .pgd extension.  \n  \n The /GENPROFILE and /FASTGENPROFILE options tell the linker to generate the profiling instrumentation file needed to support application training for profile-guided optimization (PGO). The profiling information generated by application training is used as input to perform targeted whole-program optimizations during builds.   You can set additional options to control various profiling features for performance during app training and builds. The default options specified by /GENPROFILE give most accurate results, especially for large, complex multi-threaded apps. The /FASTGENPROFILE option uses different defaults for a lower memory footprint and faster performance during training, at the expense of accuracy.  \n  \n Profiling information is captured when you run the instrumented app after you build by using /GENPROFILE of /FASTGENPROFILE. This information is used by the linker when you specify the /USEPROFILE option. For more information on how to train your app and details on the collected data, see Profile Guided Optimization.  \n  \n You must also specify /LTCG when you specify /GENPROFILE or /FASTGENPROFILE.  \n  \n## See Also  \n [Setting Linker Options](../../build/reference/setting-linker-options.md)   \n [Linker Options](../../build/reference/linker-options.md)   \n [/LTCG (Link-time Code Generation)](../../build/reference/ltcg-link-time-code-generation.md)"}