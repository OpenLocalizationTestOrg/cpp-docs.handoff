{"nodes":[{"pos":[12,38],"content":"_chsize_s | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_chsize_s | Microsoft Docs","pos":[0,26]}]},{"pos":[985,994],"content":"_chsize_s","linkify":"_chsize_s","nodes":[{"content":"_chsize_s","pos":[0,9]}]},{"content":"Changes the size of a file.","pos":[995,1022]},{"content":"This is a version of <bpt id=\"p1\">[</bpt>_chsize<ept id=\"p1\">](../../c-runtime-library/reference/chsize.md)</ept> with security enhancements as described in <bpt id=\"p2\">[</bpt>Security Features in the CRT<ept id=\"p2\">](../../c-runtime-library/security-features-in-the-crt.md)</ept>.","pos":[1023,1230],"source":" This is a version of [_chsize](../../c-runtime-library/reference/chsize.md) with security enhancements as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md)."},{"pos":[1239,1245],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1330,1340],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"File descriptor referring to an open file.","pos":[1352,1394]},{"content":"New length of the file in bytes.","pos":[1411,1443]},{"pos":[1452,1464],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"<ph id=\"ph1\">`_chsize_s`</ph> returns the value 0 if the file size is successfully changed.","pos":[1468,1541],"source":"`_chsize_s` returns the value 0 if the file size is successfully changed."},{"content":"A nonzero return value indicates an error: the return value is <ph id=\"ph1\">`EACCES`</ph> if the specified file is locked against access, <ph id=\"ph2\">`EBADF`</ph> if the specified file is read-only or the descriptor is invalid, <ph id=\"ph3\">`ENOSPC`</ph> if no space is left on the device, or <ph id=\"ph4\">`EINVAL`</ph> if size is less than zero.","pos":[1542,1817],"source":" A nonzero return value indicates an error: the return value is `EACCES` if the specified file is locked against access, `EBADF` if the specified file is read-only or the descriptor is invalid, `ENOSPC` if no space is left on the device, or `EINVAL` if size is less than zero."},{"content":"<ph id=\"ph1\">`errno`</ph> is set to the same value.","pos":[1818,1851],"source":"`errno` is set to the same value."},{"pos":[1858,2035],"content":"For more information about these and other return codes, see <bpt id=\"p1\">[</bpt>_doserrno, errno, _sys_errlist, and _sys_nerr<ept id=\"p1\">](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)</ept>.","source":"For more information about these and other return codes, see [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)."},{"pos":[2044,2051],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`_chsize_s`</ph> function extends or truncates the file associated with <ph id=\"ph2\">`fd`</ph> to the length specified by <ph id=\"ph3\">`size`</ph>.","pos":[2055,2165],"source":"The `_chsize_s` function extends or truncates the file associated with `fd` to the length specified by `size`."},{"content":"The file must be open in a mode that permits writing.","pos":[2166,2219]},{"content":"Null characters ('\\0') are appended if the file is extended.","pos":[2220,2280]},{"content":"If the file is truncated, all data from the end of the shortened file to the original length of the file is lost.","pos":[2281,2394]},{"content":"<ph id=\"ph1\">`_chsize_s`</ph> takes a 64-bit integer as the file size, and therefore can handle file sizes greater than 4 GB.","pos":[2401,2508],"source":"`_chsize_s` takes a 64-bit integer as the file size, and therefore can handle file sizes greater than 4 GB."},{"content":"<ph id=\"ph1\">`_chsize`</ph> is limited to 32-bit file sizes.","pos":[2509,2551],"source":"`_chsize` is limited to 32-bit file sizes."},{"content":"This function validates its parameters.","pos":[2558,2597]},{"content":"If <ph id=\"ph1\">`fd`</ph> is not a valid file descriptor or size is less than zero, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[2598,2794],"source":" If `fd` is not a valid file descriptor or size is less than zero, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"pos":[2803,2815],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Routine","pos":[2822,2829]},{"content":"Required header","pos":[2830,2845]},{"content":"Optional header","pos":[2846,2861]},{"content":"<ph id=\"ph1\">\\&lt;</ph>io.h&gt;","pos":[2940,2947],"source":"\\<io.h>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>errno.h&gt;","pos":[2948,2958],"source":"\\<errno.h>"},{"pos":[2966,3084],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"pos":[3093,3118],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"pos":[3128,3233],"content":"<bpt id=\"p1\">[</bpt>System::IO::Stream::SetLength<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/system.io.stream.setlength.aspx)</ept>","source":"[System::IO::Stream::SetLength](https://msdn.microsoft.com/en-us/library/system.io.stream.setlength.aspx)"},{"pos":[3243,3356],"content":"<bpt id=\"p1\">[</bpt>System::IO::FileStream::SetLength<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/system.io.filestream.setlength.aspx)</ept>","source":"[System::IO::FileStream::SetLength](https://msdn.microsoft.com/en-us/library/system.io.filestream.setlength.aspx)"},{"pos":[3365,3373],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>File Handling<ept id=\"p1\">](../../c-runtime-library/file-handling.md)</ept><ph id=\"ph1\"> </ph>","pos":[3377,3435],"source":"[File Handling](../../c-runtime-library/file-handling.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_chsize<ept id=\"p1\">](../../c-runtime-library/reference/chsize.md)</ept><ph id=\"ph1\"> </ph>","pos":[3438,3494],"source":" [_chsize](../../c-runtime-library/reference/chsize.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_close<ept id=\"p1\">](../../c-runtime-library/reference/close.md)</ept><ph id=\"ph1\"> </ph>","pos":[3497,3551],"source":" [_close](../../c-runtime-library/reference/close.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_creat, _wcreat<ept id=\"p1\">](../../c-runtime-library/reference/creat-wcreat.md)</ept><ph id=\"ph1\"> </ph>","pos":[3554,3624],"source":" [_creat, _wcreat](../../c-runtime-library/reference/creat-wcreat.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_open, _wopen<ept id=\"p1\">](../../c-runtime-library/reference/open-wopen.md)</ept>","pos":[3627,3692],"source":" [_open, _wopen](../../c-runtime-library/reference/open-wopen.md)"}],"content":"---\ntitle: \"_chsize_s | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_chsize_s\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-stdio-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"chsize_s\"\n  - \"_chsize_s\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"files [C++], changing size\"\n  - \"chsize_s function\"\n  - \"_chsize_s function\"\nms.assetid: d88d2e94-6e3b-42a5-8631-16ac4d82fa38\ncaps.latest.revision: 16\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _chsize_s\nChanges the size of a file. This is a version of [_chsize](../../c-runtime-library/reference/chsize.md) with security enhancements as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md).  \n  \n## Syntax  \n  \n```  \nerrno_t _chsize_s(   \n   int fd,  \n   __int64 size   \n);  \n```  \n  \n#### Parameters  \n `fd`  \n File descriptor referring to an open file.  \n  \n `size`  \n New length of the file in bytes.  \n  \n## Return Value  \n `_chsize_s` returns the value 0 if the file size is successfully changed. A nonzero return value indicates an error: the return value is `EACCES` if the specified file is locked against access, `EBADF` if the specified file is read-only or the descriptor is invalid, `ENOSPC` if no space is left on the device, or `EINVAL` if size is less than zero. `errno` is set to the same value.  \n  \n For more information about these and other return codes, see [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md).  \n  \n## Remarks  \n The `_chsize_s` function extends or truncates the file associated with `fd` to the length specified by `size`. The file must be open in a mode that permits writing. Null characters ('\\0') are appended if the file is extended. If the file is truncated, all data from the end of the shortened file to the original length of the file is lost.  \n  \n `_chsize_s` takes a 64-bit integer as the file size, and therefore can handle file sizes greater than 4 GB. `_chsize` is limited to 32-bit file sizes.  \n  \n This function validates its parameters. If `fd` is not a valid file descriptor or size is less than zero, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md).  \n  \n## Requirements  \n  \n|Routine|Required header|Optional header|  \n|-------------|---------------------|---------------------|  \n|`_chsize_s`|\\<io.h>|\\<errno.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## .NET Framework Equivalent  \n  \n-   [System::IO::Stream::SetLength](https://msdn.microsoft.com/en-us/library/system.io.stream.setlength.aspx)  \n  \n-   [System::IO::FileStream::SetLength](https://msdn.microsoft.com/en-us/library/system.io.filestream.setlength.aspx)  \n  \n## See Also  \n [File Handling](../../c-runtime-library/file-handling.md)   \n [_chsize](../../c-runtime-library/reference/chsize.md)   \n [_close](../../c-runtime-library/reference/close.md)   \n [_creat, _wcreat](../../c-runtime-library/reference/creat-wcreat.md)   \n [_open, _wopen](../../c-runtime-library/reference/open-wopen.md)"}