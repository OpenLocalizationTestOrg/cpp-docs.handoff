{"nodes":[{"pos":[12,41],"content":"gslice Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"gslice Class | Microsoft Docs","pos":[0,29]}]},{"content":"gslice Class","pos":[652,664]},{"content":"A utility class to valarray that is used to define multidimensional subsets of a valarray.","pos":[665,755]},{"content":"If a valarray is regarded as a multidimensional matrix with all elements in an array, then the slice extracts a vector out of the multidimensional array.","pos":[756,909]},{"content":"Remarks","pos":[918,925]},{"content":"The class stores the parameters that characterize an object of type <bpt id=\"p1\">[</bpt>gslice_array<ept id=\"p1\">](../standard-library/gslice-array-class.md)</ept>.","pos":[929,1055],"source":"The class stores the parameters that characterize an object of type [gslice_array](../standard-library/gslice-array-class.md)."},{"content":"The subset of a valarray is indirectly constructed when an object of class gslice appears as an argument for an object of class <bpt id=\"p1\">[</bpt>valarray<ept id=\"p1\">](../standard-library/valarray-class.md#valarray__operator_at)</ept><bpt id=\"p2\">**</bpt><ph id=\"ph1\">\\&lt;</ph>Type&gt;<ept id=\"p2\">**</ept>.","pos":[1056,1267],"source":" The subset of a valarray is indirectly constructed when an object of class gslice appears as an argument for an object of class [valarray](../standard-library/valarray-class.md#valarray__operator_at)**\\<Type>**."},{"content":"The stored values that specify the subset selected from the parent valarray include:","pos":[1268,1352]},{"content":"A starting index.","pos":[1362,1379]},{"pos":[1389,1435],"content":"A length vector of class <bpt id=\"p1\">**</bpt>valarray&lt;size_t&gt;<ept id=\"p1\">**</ept>.","source":"A length vector of class **valarray<size_t>**."},{"pos":[1445,1491],"content":"A stride vector of class <bpt id=\"p1\">**</bpt>valarray&lt;size_t&gt;<ept id=\"p1\">**</ept>.","source":"A stride vector of class **valarray<size_t>**."},{"content":"The two vectors must have the same length.","pos":[1498,1540]},{"content":"If the set defined by a gslice is the subset of a constant valarray, then the gslice is a new valarray.","pos":[1547,1650]},{"content":"If the set defined by a gslice is the subset of a nonconstant valarray, then the gslice has reference semantics to the original valarray.","pos":[1651,1788]},{"content":"The evaluation mechanism for nonconstant valarrays saves time and memory.","pos":[1789,1862]},{"content":"Operations on valarrays are guaranteed only if the source and destination subsets defined by the gslices are distinct and all indices are valid.","pos":[1869,2013]},{"content":"Constructors","pos":[2023,2035]},{"content":"gslice","pos":[2057,2063]},{"pos":[2082,2204],"content":"Defines a subset of a <ph id=\"ph1\">`valarray`</ph> that consists of multiple slices of the <ph id=\"ph2\">`valarray`</ph> that all start at a specified element.","source":"Defines a subset of a `valarray` that consists of multiple slices of the `valarray` that all start at a specified element."},{"content":"Member Functions","pos":[2215,2231]},{"content":"size","pos":[2253,2257]},{"pos":[2274,2367],"content":"Finds the array values specifying the numbers of elements in a general slice of a <ph id=\"ph1\">`valarray`</ph>.","source":"Finds the array values specifying the numbers of elements in a general slice of a `valarray`."},{"content":"start","pos":[2373,2378]},{"pos":[2396,2456],"content":"Finds the starting index of a general slice of a <ph id=\"ph1\">`valarray`</ph>.","source":"Finds the starting index of a general slice of a `valarray`."},{"content":"stride","pos":[2462,2468]},{"pos":[2487,2558],"content":"Finds the distance between elements in a general slice of a <ph id=\"ph1\">`valarray`</ph>.","source":"Finds the distance between elements in a general slice of a `valarray`."},{"content":"Requirements","pos":[2568,2580]},{"pos":[2584,2607],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph>valarray&gt;","source":"**Header:** \\<valarray>"},{"pos":[2614,2632],"content":"<bpt id=\"p1\">**</bpt>Namespace:<ept id=\"p1\">**</ept> std","source":"**Namespace:** std"},{"pos":[2673,2687],"content":"gslice::gslice"},{"content":"A utility class to valarray that is used to define multi-dimensional slices of a valarray.","pos":[2691,2781]},{"content":"Parameters","pos":[2932,2942]},{"content":"The valarray index of the first element in the subset.","pos":[2963,3017]},{"content":"An array specifying the number of elements in each slice.","pos":[3039,3096]},{"content":"An array specifying the stride in each slice.","pos":[3118,3163]},{"content":"Return Value","pos":[3173,3185]},{"content":"The default constructor stores zero for the starting index, and zero-length vectors for the length and stride vectors.","pos":[3189,3307]},{"content":"The second constructor stores <ph id=\"ph1\">`_StartIndex`</ph> for the starting index, <ph id=\"ph2\">`_LenArray`</ph> for the length array, and <ph id=\"ph3\">`_IncArray`</ph> for the stride array.","pos":[3308,3447],"source":" The second constructor stores `_StartIndex` for the starting index, `_LenArray` for the length array, and `_IncArray` for the stride array."},{"content":"Remarks","pos":[3457,3464]},{"content":"<bpt id=\"p1\">**</bpt>gslice<ept id=\"p1\">**</ept> defines a subset of a valarray that consists of multiple slices of the valarray that each start at the same specified element.","pos":[3468,3605],"source":"**gslice** defines a subset of a valarray that consists of multiple slices of the valarray that each start at the same specified element."},{"content":"The ability to use arrays to define multiple slices is the only difference between <ph id=\"ph1\">`gslice`</ph> and <bpt id=\"p1\">[</bpt>slice::slice<ept id=\"p1\">](../standard-library/slice-class.md#slice__slice)</ept>.","pos":[3606,3766],"source":" The ability to use arrays to define multiple slices is the only difference between `gslice` and [slice::slice](../standard-library/slice-class.md#slice__slice)."},{"content":"The first slice has a first element with an index of <ph id=\"ph1\">`_StartIndex`</ph>, a number of elements specified by the first element of <ph id=\"ph2\">`_LenArray`</ph>, and a stride given by the first element of <ph id=\"ph3\">`_IncArray`</ph>.","pos":[3767,3958],"source":" The first slice has a first element with an index of `_StartIndex`, a number of elements specified by the first element of `_LenArray`, and a stride given by the first element of `_IncArray`."},{"content":"The next set of orthogonal slices has first elements given by the first slice.","pos":[3959,4037]},{"content":"The second element of <ph id=\"ph1\">`_LenArray`</ph> specifies the number of elements.","pos":[4038,4105],"source":" The second element of `_LenArray` specifies the number of elements."},{"content":"The stride is given by the second element of <ph id=\"ph1\">`_IncArray`</ph>.","pos":[4106,4163],"source":" The stride is given by the second element of `_IncArray`."},{"content":"A third dimension of slices would take the elements of the two-dimensional array as the starting elements and proceed analogously","pos":[4164,4293]},{"content":"Example","pos":[4303,4310]},{"pos":[5370,5382],"content":"gslice::size"},{"content":"Finds the array values specifying the numbers of elements in a general slice of a valarray.","pos":[5386,5477]},{"content":"Return Value","pos":[5533,5545]},{"content":"A valarray specifying the number of elements in each slice of a general slice of a valarray.","pos":[5549,5641]},{"content":"Remarks","pos":[5651,5658]},{"content":"The member function returns the stored lengths of slices.","pos":[5662,5719]},{"content":"Example","pos":[5729,5736]},{"pos":[7277,7290],"content":"gslice::start"},{"content":"Finds the starting index of a general slice of a valarray.","pos":[7294,7352]},{"content":"Return Value","pos":[7399,7411]},{"content":"The starting index of a general slice of a valarray.","pos":[7415,7467]},{"content":"Example","pos":[7477,7484]},{"pos":[8746,8760],"content":"gslice::stride"},{"content":"Finds the distance between elements in a general slice of a valarray.","pos":[8764,8833]},{"content":"Return Value","pos":[8891,8903]},{"content":"A valarray specifying the distances between elements in each slice of a general slice of a valarray.","pos":[8907,9007]},{"content":"Example","pos":[9017,9024]},{"content":"See Also","pos":[10378,10386]},{"content":"Thread Safety in the C++ Standard Library","pos":[10391,10432]}],"content":"---\ntitle: \"gslice Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"std::gslice\"\n  - \"std.gslice\"\n  - \"gslice\"\n  - \"valarray/std::gslice\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"gslice class\"\nms.assetid: f47cffd0-ea59-4b13-848b-7a5ce1d7e2a3\ncaps.latest.revision: 21\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# gslice Class\nA utility class to valarray that is used to define multidimensional subsets of a valarray. If a valarray is regarded as a multidimensional matrix with all elements in an array, then the slice extracts a vector out of the multidimensional array.  \n  \n## Remarks  \n The class stores the parameters that characterize an object of type [gslice_array](../standard-library/gslice-array-class.md). The subset of a valarray is indirectly constructed when an object of class gslice appears as an argument for an object of class [valarray](../standard-library/valarray-class.md#valarray__operator_at)**\\<Type>**. The stored values that specify the subset selected from the parent valarray include:  \n  \n-   A starting index.  \n  \n-   A length vector of class **valarray<size_t>**.  \n  \n-   A stride vector of class **valarray<size_t>**.  \n  \n The two vectors must have the same length.  \n  \n If the set defined by a gslice is the subset of a constant valarray, then the gslice is a new valarray. If the set defined by a gslice is the subset of a nonconstant valarray, then the gslice has reference semantics to the original valarray. The evaluation mechanism for nonconstant valarrays saves time and memory.  \n  \n Operations on valarrays are guaranteed only if the source and destination subsets defined by the gslices are distinct and all indices are valid.  \n  \n### Constructors  \n  \n|||  \n|-|-|  \n|[gslice](#gslice__gslice)|Defines a subset of a `valarray` that consists of multiple slices of the `valarray` that all start at a specified element.|  \n  \n### Member Functions  \n  \n|||  \n|-|-|  \n|[size](#gslice__size)|Finds the array values specifying the numbers of elements in a general slice of a `valarray`.|  \n|[start](#gslice__start)|Finds the starting index of a general slice of a `valarray`.|  \n|[stride](#gslice__stride)|Finds the distance between elements in a general slice of a `valarray`.|  \n  \n## Requirements  \n **Header:** \\<valarray>  \n  \n **Namespace:** std  \n  \n##  <a name=\"gslice__gslice\"></a>  gslice::gslice  \n A utility class to valarray that is used to define multi-dimensional slices of a valarray.  \n  \n```  \ngslice();\n\ngslice(\n    size_t _StartIndex,  \n    const valarray<size_t>& _LenArray,  \n    const valarray<size_t>& _IncArray);\n```  \n  \n### Parameters  \n `_StartIndex`  \n The valarray index of the first element in the subset.  \n  \n `_LenArray`  \n An array specifying the number of elements in each slice.  \n  \n `_IncArray`  \n An array specifying the stride in each slice.  \n  \n### Return Value  \n The default constructor stores zero for the starting index, and zero-length vectors for the length and stride vectors. The second constructor stores `_StartIndex` for the starting index, `_LenArray` for the length array, and `_IncArray` for the stride array.  \n  \n### Remarks  \n **gslice** defines a subset of a valarray that consists of multiple slices of the valarray that each start at the same specified element. The ability to use arrays to define multiple slices is the only difference between `gslice` and [slice::slice](../standard-library/slice-class.md#slice__slice). The first slice has a first element with an index of `_StartIndex`, a number of elements specified by the first element of `_LenArray`, and a stride given by the first element of `_IncArray`. The next set of orthogonal slices has first elements given by the first slice. The second element of `_LenArray` specifies the number of elements. The stride is given by the second element of `_IncArray`. A third dimension of slices would take the elements of the two-dimensional array as the starting elements and proceed analogously  \n  \n### Example  \n  \n```cpp  \n// gslice_ctor.cpp  \n// compile with: /EHsc  \n#include <valarray>  \n#include <iostream>  \n  \nint main( )  \n{  \n   using namespace std;  \n   int i;  \n  \n   valarray<int> va ( 20 ), vaResult;  \n   for ( i = 0 ; i < 20 ; i+=1 )   \n      va [ i ] =  i;  \n  \n   cout << \"The operand valarray va is:\" << endl << \"(\";  \n   for ( i = 0 ; i < 20 ; i++ )  \n      cout << \" \" << va [ i ];  \n   cout << \" )\" << endl;  \n  \n   valarray<size_t> Len ( 2 ), Stride ( 2 );  \n   Len [0] = 4;  \n   Len [1] = 4;  \n   Stride [0] = 7;  \n   Stride [1] = 4;  \n  \n   gslice vaGSlice ( 0, Len, Stride );  \n   vaResult = va [ vaGSlice ];  \n  \n   cout << \"The valarray for vaGSlice is vaResult:\" << endl  \n        << \"va[vaGSlice] = (\";  \n  \n   for ( i = 0 ; i < 8 ; i++ )  \n      cout << \" \" << vaResult [ i ];  \n   cout << \")\" << endl;  \n}  \n```  \n  \n```Output  \nThe operand valarray va is:  \n( 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 )  \nThe valarray for vaGSlice is vaResult:  \nva[vaGSlice] = ( 0 4 8 12 7 11 15 19)  \n```  \n  \n##  <a name=\"gslice__size\"></a>  gslice::size  \n Finds the array values specifying the numbers of elements in a general slice of a valarray.  \n  \n```  \nvalarray<size_t> size() const;\n```  \n  \n### Return Value  \n A valarray specifying the number of elements in each slice of a general slice of a valarray.  \n  \n### Remarks  \n The member function returns the stored lengths of slices.  \n  \n### Example  \n  \n```cpp  \n// gslice_size.cpp  \n// compile with: /EHsc  \n#include <valarray>  \n#include <iostream>  \n  \nint main( )  \n{  \n   using namespace std;  \n   int i;  \n   size_t sizeVA;  \n  \n   valarray<int> va ( 20 ), vaResult;  \n   for ( i = 0 ; i < 20 ; i+=1 )  \n      va [ i ] =  i;  \n  \n   cout << \"The operand valarray va is:\\n ( \";  \n      for ( i = 0 ; i < 20 ; i++ )  \n         cout << va [ i ] << \" \";  \n   cout << \").\" << endl;  \n  \n   sizeVA = va.size ( );  \n   cout << \"The size of the valarray is: \"  \n        << sizeVA << \".\" << endl << endl;  \n  \n   valarray<size_t> Len ( 2 ), Stride ( 2 );  \n   Len [0] = 4;  \n   Len [1] = 4;  \n   Stride [0] = 7;  \n   Stride [1] = 4;  \n  \n   gslice vaGSlice ( 0, Len, Stride );  \n   vaResult = va [ vaGSlice ];  \n   const valarray <size_t> sizeGS = vaGSlice.size ( );  \n  \n   cout << \"The valarray for vaGSlice is vaResult:\"  \n        << \"\\n va[vaGSlice] = ( \";  \n      for ( i = 0 ; i < 8 ; i++ )  \n         cout << vaResult [ i ] << \" \";  \n   cout << \").\" << endl;  \n  \n   cout << \"The size of vaResult is:\"  \n        << \"\\n vaGSlice.size ( ) = ( \";  \n      for ( i = 0 ; i < 2 ; i++ )  \n         cout << sizeGS[ i ] << \" \";  \n   cout << \").\" << endl;  \n}  \n```  \n  \n```Output  \nThe operand valarray va is:  \n ( 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ).  \nThe size of the valarray is: 20.  \n  \nThe valarray for vaGSlice is vaResult:  \n va[vaGSlice] = ( 0 4 8 12 7 11 15 19 ).  \nThe size of vaResult is:  \n vaGSlice.size ( ) = ( 4 4 ).  \n```  \n  \n##  <a name=\"gslice__start\"></a>  gslice::start  \n Finds the starting index of a general slice of a valarray.  \n  \n```  \nsize_t start() const;\n```  \n  \n### Return Value  \n The starting index of a general slice of a valarray.  \n  \n### Example  \n  \n```cpp  \n// gslice_start.cpp  \n// compile with: /EHsc  \n#include <valarray>  \n#include <iostream>  \n  \nint main( )  \n{  \n   using namespace std;  \n   int i;  \n  \n   valarray<int> va ( 20 ), vaResult;  \n   for (i = 0 ; i < 20 ; i+=1 )  \n      va [ i ] =  i;  \n  \n   cout << \"The operand valarray va is:\\n ( \";  \n      for ( i = 0 ; i < 20 ; i++ )  \n         cout << va [ i ] << \" \";  \n   cout << \").\" << endl;  \n  \n   valarray<size_t> Len ( 2 ), Stride ( 2 );  \n   Len [0] = 4;  \n   Len [1] = 4;  \n   Stride [0] = 7;  \n   Stride [1] = 4;  \n  \n   gslice vaGSlice ( 0, Len, Stride );  \n   vaResult = va [ vaGSlice ];  \n   size_t vaGSstart = vaGSlice.start ( );  \n  \n   cout << \"The valarray for vaGSlice is vaResult:\"  \n        << \"\\n va[vaGSlice] = ( \";  \n      for (i = 0 ; i < 8 ; i++ )  \n         cout << vaResult [ i ] << \" \";  \n   cout << \").\" << endl;  \n  \n   cout << \"The index of the first element of vaResult is: \"  \n        << vaGSstart << \".\" << endl;  \n}  \n```  \n  \n```Output  \nThe operand valarray va is:  \n ( 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ).  \nThe valarray for vaGSlice is vaResult:  \n va[vaGSlice] = ( 0 4 8 12 7 11 15 19 ).  \nThe index of the first element of vaResult is: 0.  \n```  \n  \n##  <a name=\"gslice__stride\"></a>  gslice::stride  \n Finds the distance between elements in a general slice of a valarray.  \n  \n```  \nvalarray<size_t> stride() const;\n```  \n  \n### Return Value  \n A valarray specifying the distances between elements in each slice of a general slice of a valarray.  \n  \n### Example  \n  \n```cpp  \n// gslice_stride.cpp  \n// compile with: /EHsc  \n#include <valarray>  \n#include <iostream>  \n  \nint main( )  \n{  \n   using namespace std;  \n   int i;  \n  \n   valarray<int> va ( 20 ), vaResult;  \n   for (i = 0 ; i < 20 ; i+=1 )  \n      va [ i ] =  i;  \n  \n   cout << \"The operand valarray va is:\\n ( \";  \n      for (i = 0 ; i < 20 ; i++ )  \n         cout << va [ i ] << \" \";  \n   cout << \").\" << endl;  \n  \n   valarray<size_t> Len ( 2 ), Stride ( 2 );  \n   Len [0] = 4;  \n   Len [1] = 4;  \n   Stride [0] = 7;  \n   Stride [1] = 4;  \n  \n   gslice vaGSlice ( 0, Len, Stride );  \n   vaResult = va [ vaGSlice ];  \n   const valarray <size_t> strideGS = vaGSlice.stride ( );  \n  \n   cout << \"The valarray for vaGSlice is vaResult:\"  \n        << \"\\n va[vaGSlice] = ( \";  \n      for ( i = 0 ; i < 8 ; i++ )  \n         cout << vaResult [ i ] << \" \";  \n   cout << \").\" << endl;  \n  \n   cout << \"The strides of vaResult are:\"  \n        << \"\\n vaGSlice.stride ( ) = ( \";  \n      for ( i = 0 ; i < 2 ; i++ )  \n         cout << strideGS[ i ] << \" \";  \n   cout << \").\" << endl;  \n  \n}  \n```  \n  \n```Output  \nThe operand valarray va is:  \n ( 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ).  \nThe valarray for vaGSlice is vaResult:  \n va[vaGSlice] = ( 0 4 8 12 7 11 15 19 ).  \nThe strides of vaResult are:  \n vaGSlice.stride ( ) = ( 7 4 ).  \n```  \n  \n## See Also  \n [Thread Safety in the C++ Standard Library](../standard-library/thread-safety-in-the-cpp-standard-library.md)\n\n"}