{"nodes":[{"pos":[12,57],"content":"Linker Tools Warning LNK4227 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Linker Tools Warning LNK4227 | Microsoft Docs","pos":[0,45]}]},{"pos":[610,638],"content":"Linker Tools Warning LNK4227","linkify":"Linker Tools Warning LNK4227","nodes":[{"content":"Linker Tools Warning LNK4227","pos":[0,28]}]},{"content":"metadata operation warning (HRESULT) : warning_message","pos":[639,693]},{"content":"The linker detected metadata differences when merging:","pos":[699,753]},{"content":"One or more referenced assemblies with the assembly currently being built.","pos":[763,837]},{"content":"One or more source code files in a compilation.","pos":[847,894]},{"content":"For example, LNK4227 may be caused if you have two global functions with the same name but parameter information declared differently (declarations are not consistent in all compilands).","pos":[900,1086]},{"content":"Use ildasm.exe /TEXT /METADATA <ph id=\"ph1\">`object_file`</ph> on each .obj file and you should see how the types differ.","pos":[1087,1190],"source":" Use ildasm.exe /TEXT /METADATA `object_file` on each .obj file and you should see how the types differ."},{"content":"LNK4227 also reports problems that originate with another tool.","pos":[1196,1259]},{"content":"For example, al.exe; see <bpt id=\"p1\">[</bpt>Al.exe Tool Errors and Warnings<ept id=\"p1\">](http://msdn.microsoft.com/en-us/7f125d49-0a03-47a6-9ba9-d61a679a7d4b)</ept>.","pos":[1260,1389],"source":" For example, al.exe; see [Al.exe Tool Errors and Warnings](http://msdn.microsoft.com/en-us/7f125d49-0a03-47a6-9ba9-d61a679a7d4b)."},{"content":"The metadata problems must be fixed to resolve the warning.","pos":[1395,1454]},{"content":"For example, LNK4227 is generated when a referenced assembly was signed differently than the assembly that references it.","pos":[1460,1581]},{"content":"The following sample generates LNK4227:","pos":[1587,1626]},{"content":"and then,","pos":[1797,1806]},{"content":"LNK4227 can also be generated when version numbers in the wrong format are passed to assembly attributes.","pos":[2157,2262]},{"content":"The '*' notation is specific to the AssemblyVersionAttribute.","pos":[2264,2325]},{"content":"To resolve this warning, use only numbers in the version attributes other than AssemblyVersionAttribute.","pos":[2327,2431]},{"content":"The following sample generates LNK4227:","pos":[2437,2476]}],"content":"---\ntitle: \"Linker Tools Warning LNK4227 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"LNK4227\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"LNK4227\"\nms.assetid: 941a0414-9964-4e02-8487-f9daa42ef7f9\ncaps.latest.revision: 11\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Linker Tools Warning LNK4227\nmetadata operation warning (HRESULT) : warning_message  \n  \nThe linker detected metadata differences when merging:  \n  \n-   One or more referenced assemblies with the assembly currently being built.  \n  \n-   One or more source code files in a compilation.  \n  \nFor example, LNK4227 may be caused if you have two global functions with the same name but parameter information declared differently (declarations are not consistent in all compilands). Use ildasm.exe /TEXT /METADATA `object_file` on each .obj file and you should see how the types differ.  \n  \nLNK4227 also reports problems that originate with another tool. For example, al.exe; see [Al.exe Tool Errors and Warnings](http://msdn.microsoft.com/en-us/7f125d49-0a03-47a6-9ba9-d61a679a7d4b).  \n  \nThe metadata problems must be fixed to resolve the warning.  \n  \nFor example, LNK4227 is generated when a referenced assembly was signed differently than the assembly that references it.  \n  \nThe following sample generates LNK4227:  \n  \n```  \n// LNK4227.cpp  \n// compile with: /clr  \nusing namespace System::Reflection;  \n  \n[assembly:AssemblyDelaySignAttribute(false)];  \n  \nint main() {}  \n```  \n  \n and then,  \n  \n```  \n// LNK4227b.cpp  \n// compile with: /clr LNK4227.cpp /FeLNK4227b.exe  \nusing namespace System::Reflection;  \nusing namespace System::Runtime::CompilerServices;  \n  \n[assembly:AssemblyDelaySignAttribute(true)];  \n// Try the following line instead  \n// [assembly:AssemblyDelaySignAttribute(false)];  \n  \nref class MyClass  \n{  \n};  \n```  \n  \nLNK4227 can also be generated when version numbers in the wrong format are passed to assembly attributes.  The '*' notation is specific to the AssemblyVersionAttribute.  To resolve this warning, use only numbers in the version attributes other than AssemblyVersionAttribute.  \n  \nThe following sample generates LNK4227:  \n  \n```  \n// LNK4227e.cpp  \n// compile with: /clr /LD /W1  \nusing namespace System::Reflection;  \n[assembly:AssemblyVersionAttribute(\"2.3.*\")];   // OK  \n[assembly:AssemblyFileVersionAttribute(\"2.3.*\")];   // LNK4227  \n// try the following line instead  \n// [assembly:AssemblyFileVersionAttribute(\"2.3\")];  \n```"}