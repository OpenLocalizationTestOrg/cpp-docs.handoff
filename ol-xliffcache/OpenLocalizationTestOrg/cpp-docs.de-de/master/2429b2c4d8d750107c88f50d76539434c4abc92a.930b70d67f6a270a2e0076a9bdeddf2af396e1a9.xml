{"nodes":[{"pos":[12,50],"content":"CMFCColorButton Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CMFCColorButton Class | Microsoft Docs","pos":[0,38]}]},{"content":"CMFCColorButton Class","pos":[1159,1180]},{"pos":[1181,1333],"content":"The <ph id=\"ph1\">`CMFCColorButton`</ph> and <bpt id=\"p1\">[</bpt>CMFCColorBar Class<ept id=\"p1\">](../../mfc/reference/cmfccolorbar-class.md)</ept> classes are used together to implement a color picker control.","source":"The `CMFCColorButton` and [CMFCColorBar Class](../../mfc/reference/cmfccolorbar-class.md) classes are used together to implement a color picker control."},{"content":"Syntax","pos":[1342,1348]},{"content":"Members","pos":[1416,1423]},{"content":"Public Constructors","pos":[1433,1452]},{"content":"Name","pos":[1459,1463]},{"content":"Description","pos":[1464,1475]},{"content":"CMFCColorButton::CMFCColorButton","pos":[1514,1546]},{"pos":[1583,1625],"content":"Constructs a new <ph id=\"ph1\">`CMFCColorButton`</ph> object.","source":"Constructs a new `CMFCColorButton` object."},{"content":"Public Methods","pos":[1636,1650]},{"content":"Name","pos":[1657,1661]},{"content":"Description","pos":[1662,1673]},{"content":"CMFCColorButton::EnableAutomaticButton","pos":[1712,1750]},{"content":"Enables and disables an \"automatic\" button that is positioned above the regular color buttons.","pos":[1793,1887]},{"content":"(The standard system automatic button is labeled <bpt id=\"p1\">**</bpt>Automatic<ept id=\"p1\">**</ept>.)","pos":[1888,1952],"source":" (The standard system automatic button is labeled **Automatic**.)"},{"content":"CMFCColorButton::EnableOtherButton","pos":[1958,1992]},{"content":"Enables and disables an \"other\" button that is positioned below the regular color buttons.","pos":[2031,2121]},{"content":"(The standard system \"other\" button is labeled <bpt id=\"p1\">**</bpt>More Colors…<ept id=\"p1\">**</ept>.)","pos":[2122,2187],"source":" (The standard system \"other\" button is labeled **More Colors…**.)"},{"content":"CMFCColorButton::GetAutomaticColor","pos":[2193,2227]},{"content":"Retrieves the current automatic color.","pos":[2266,2304]},{"content":"CMFCColorButton::GetColor","pos":[2310,2335]},{"content":"Retrieves a button's color.","pos":[2365,2392]},{"content":"CMFCColorButton::SetColor","pos":[2398,2423]},{"content":"Sets a button's color.","pos":[2453,2475]},{"content":"CMFCColorButton::SetColorName","pos":[2481,2510]},{"content":"Sets a color name.","pos":[2544,2562]},{"content":"CMFCColorButton::SetColumnsNumber","pos":[2568,2601]},{"content":"Sets the number of columns on the color picker dialog box.","pos":[2639,2697]},{"content":"CMFCColorButton::SetDocumentColors","pos":[2703,2737]},{"content":"Specifies a list of document-specific colors that are displayed on the color picker dialog box.","pos":[2776,2871]},{"content":"CMFCColorButton::SetPalette","pos":[2877,2904]},{"content":"Specifies a palette of standard display colors.","pos":[2936,2983]},{"content":"CMFCColorButton::SizeToContent","pos":[2989,3019]},{"content":"Changes the size of the button control, depending on its text and image size.","pos":[3054,3131]},{"content":"Protected Methods","pos":[3142,3159]},{"content":"Name","pos":[3166,3170]},{"content":"Description","pos":[3171,3182]},{"content":"CMFCColorButton::IsDrawXPTheme","pos":[3221,3251]},{"content":"Indicates whether the current color button is displayed in the visual style of Windows XP.","pos":[3286,3376]},{"content":"CMFCColorButton::OnDraw","pos":[3382,3405]},{"content":"Called by the framework to display an image of the button.","pos":[3433,3491]},{"content":"CMFCColorButton::OnDrawBorder","pos":[3497,3526]},{"content":"Called by the framework to display the button's border.","pos":[3560,3615]},{"content":"CMFCColorButton::OnDrawFocusRect","pos":[3621,3653]},{"content":"Called by the framework to display a focus rectangle when the button has a focus.","pos":[3690,3771]},{"content":"CMFCColorButton::OnShowColorPopup","pos":[3777,3810]},{"content":"Called by the framework when the color picker dialog box is about to be displayed.","pos":[3848,3930]},{"content":"CMFCColorButton::RebuildPalette","pos":[3936,3967]},{"pos":[4003,4109],"content":"Initializes the <ph id=\"ph1\">`m_pPalette`</ph> protected data member to the specified palette or the default system palette.","source":"Initializes the `m_pPalette` protected data member to the specified palette or the default system palette."},{"content":"CMFCColorButton::UpdateColor","pos":[4115,4143]},{"content":"Called by the framework when the user selects a color from the palette of the color picker dialog box.","pos":[4176,4278]},{"content":"Data Members","pos":[4289,4301]},{"content":"Name","pos":[4308,4312]},{"content":"Description","pos":[4313,4324]},{"content":"A Boolean.","pos":[4379,4389]},{"content":"If <ph id=\"ph1\">`TRUE`</ph>, the framework displays the <bpt id=\"p1\">[</bpt>CMFCColorDialog<ept id=\"p1\">](../../mfc/reference/cmfccolordialog-class.md)</ept> color dialog box when the <bpt id=\"p2\">*</bpt>other<ept id=\"p2\">*</ept> button is clicked, or if <ph id=\"ph2\">`FALSE`</ph>, the system color dialog box.","pos":[4390,4588],"source":" If `TRUE`, the framework displays the [CMFCColorDialog](../../mfc/reference/cmfccolordialog-class.md) color dialog box when the *other* button is clicked, or if `FALSE`, the system color dialog box."},{"content":"The default value is <ph id=\"ph1\">`TRUE`</ph>.","pos":[4589,4617],"source":" The default value is `TRUE`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CMFCColorButton::EnableOtherButton<ept id=\"p1\">](#cmfccolorbutton__enableotherbutton)</ept>.","pos":[4618,4718],"source":" For more information, see [CMFCColorButton::EnableOtherButton](#cmfccolorbutton__enableotherbutton)."},{"content":"A Boolean.","pos":[4741,4751]},{"content":"If <ph id=\"ph1\">`TRUE`</ph>, the framework sets the focus on the color menu when the menu is displayed, or if <ph id=\"ph2\">`FALSE`</ph>, does not change the focus.","pos":[4752,4879],"source":" If `TRUE`, the framework sets the focus on the color menu when the menu is displayed, or if `FALSE`, does not change the focus."},{"content":"The default value is <ph id=\"ph1\">`TRUE`</ph>.","pos":[4880,4908],"source":" The default value is `TRUE`."},{"content":"CMFCColorButton::m_bEnabledInCustomizeMode","pos":[4914,4956]},{"content":"Indicates whether customization mode is enabled for the color button.","pos":[5003,5072]},{"content":"A <bpt id=\"p1\">[</bpt>COLORREF<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd183449)</ept> value.","pos":[5087,5166],"source":"A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) value."},{"content":"Contains the currently selected color.","pos":[5167,5205]},{"content":"A <bpt id=\"p1\">[</bpt>COLORREF<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd183449)</ept> value.","pos":[5229,5308],"source":"A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) value."},{"content":"Contains the currently selected default color.","pos":[5309,5355]},{"content":"A <bpt id=\"p1\">[</bpt>CArray<ept id=\"p1\">](../../mfc/reference/carray-class.md)</ept> of <bpt id=\"p2\">[</bpt>COLORREF<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/dd183449)</ept> values.","pos":[5371,5500],"source":"A [CArray](../../mfc/reference/carray-class.md) of [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) values."},{"content":"Contains the currently available colors.","pos":[5501,5541]},{"content":"A <bpt id=\"p1\">[</bpt>CList<ept id=\"p1\">](../../mfc/reference/clist-class.md)</ept> of <bpt id=\"p2\">[</bpt>COLORREF<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/dd183449)</ept> values.","pos":[5563,5690],"source":"A [CList](../../mfc/reference/clist-class.md) of [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) values."},{"content":"Contains the current document colors.","pos":[5691,5728]},{"content":"An integer.","pos":[5746,5757]},{"content":"Contains the number of columns to display in the grid of colors in a color selection menu.","pos":[5758,5848]},{"content":"A pointer to a <bpt id=\"p1\">[</bpt>CPalette<ept id=\"p1\">](../../mfc/reference/cpalette-class.md)</ept>.","pos":[5866,5931],"source":"A pointer to a [CPalette](../../mfc/reference/cpalette-class.md)."},{"content":"Contains the colors that are available in the current color selection menu.","pos":[5932,6007]},{"content":"A pointer to a <bpt id=\"p1\">[</bpt>CMFCColorPopupMenu Class<ept id=\"p1\">](../../mfc/reference/cmfccolorpopupmenu-class.md)</ept> object.","pos":[6023,6121],"source":"A pointer to a [CMFCColorPopupMenu Class](../../mfc/reference/cmfccolorpopupmenu-class.md) object."},{"content":"The color selection menu that is displayed when you click the color button.","pos":[6122,6197]},{"content":"A string.","pos":[6223,6232]},{"content":"The label of the \"automatic\" button in a color selection menu.","pos":[6233,6295]},{"content":"A string.","pos":[6321,6330]},{"content":"The label of the button in a color selection menu that displays the document colors.","pos":[6331,6415]},{"content":"A string.","pos":[6437,6446]},{"content":"The label of the \"other\" button in a color selection menu.","pos":[6447,6505]},{"content":"Remarks","pos":[6515,6522]},{"content":"By default, the <ph id=\"ph1\">`CMFCColorButton`</ph> class behaves as a push button that opens a color picker dialog box.","pos":[6526,6628],"source":"By default, the `CMFCColorButton` class behaves as a push button that opens a color picker dialog box."},{"content":"The color picker dialog box contains an array of small color buttons and an \"other\" button that displays a custom color picker.","pos":[6629,6756]},{"content":"(The standard system \"other\" button is labeled <bpt id=\"p1\">**</bpt>More Colors…<ept id=\"p1\">**</ept>.) When a user selects a new color, the <ph id=\"ph1\">`CMFCColorButton`</ph> object reflects the change and displays the selected color.","pos":[6757,6937],"source":" (The standard system \"other\" button is labeled **More Colors…**.) When a user selects a new color, the `CMFCColorButton` object reflects the change and displays the selected color."},{"content":"Create a color button control either directly in your code, or by using the <bpt id=\"p1\">**</bpt>ClassWizard<ept id=\"p1\">**</ept> tool and a dialog box template.","pos":[6944,7067],"source":"Create a color button control either directly in your code, or by using the **ClassWizard** tool and a dialog box template."},{"content":"If you create a color button control directly, add a <ph id=\"ph1\">`CMFCColorButton`</ph> variable to your application, and then call the constructor and <ph id=\"ph2\">`Create`</ph> methods of the <ph id=\"ph3\">`CMFCColorButton`</ph> object.","pos":[7068,7252],"source":" If you create a color button control directly, add a `CMFCColorButton` variable to your application, and then call the constructor and `Create` methods of the `CMFCColorButton` object."},{"content":"If you use the <bpt id=\"p1\">**</bpt>ClassWizard<ept id=\"p1\">**</ept>, add a <ph id=\"ph1\">`CButton`</ph> variable to your application, and then change the type of the variable from <ph id=\"ph2\">`CButton`</ph> to <ph id=\"ph3\">`CMFCColorButton`</ph>.","pos":[7253,7408],"source":" If you use the **ClassWizard**, add a `CButton` variable to your application, and then change the type of the variable from `CButton` to `CMFCColorButton`."},{"content":"The color picker dialog box ( <bpt id=\"p1\">[</bpt>CMFCColorBar Class<ept id=\"p1\">](../../mfc/reference/cmfccolorbar-class.md)</ept>) is displayed by the <bpt id=\"p2\">[</bpt>CMFCColorButton::OnShowColorPopup<ept id=\"p2\">](#cmfccolorbutton__onshowcolorpopup)</ept> method when the framework calls the <ph id=\"ph1\">`OnLButtonDown`</ph> event handler.","pos":[7415,7668],"source":"The color picker dialog box ( [CMFCColorBar Class](../../mfc/reference/cmfccolorbar-class.md)) is displayed by the [CMFCColorButton::OnShowColorPopup](#cmfccolorbutton__onshowcolorpopup) method when the framework calls the `OnLButtonDown` event handler."},{"content":"The <bpt id=\"p1\">[</bpt>CMFCColorButton::OnShowColorPopup<ept id=\"p1\">](#cmfccolorbutton__onshowcolorpopup)</ept> method can be overridden to support custom color selection.","pos":[7669,7804],"source":" The [CMFCColorButton::OnShowColorPopup](#cmfccolorbutton__onshowcolorpopup) method can be overridden to support custom color selection."},{"content":"The <ph id=\"ph1\">`CMFCColorButton`</ph> object notifies its parent that a color is changing by sending it a <ph id=\"ph2\">`WM_COMMAND | BN_CLICKED`</ph> notification.","pos":[7811,7940],"source":"The `CMFCColorButton` object notifies its parent that a color is changing by sending it a `WM_COMMAND | BN_CLICKED` notification."},{"content":"The parent uses the <bpt id=\"p1\">[</bpt>CMFCColorButton::GetColor<ept id=\"p1\">](#cmfccolorbutton__getcolor)</ept> method to retrieve the current color.","pos":[7941,8054],"source":" The parent uses the [CMFCColorButton::GetColor](#cmfccolorbutton__getcolor) method to retrieve the current color."},{"content":"Example","pos":[8063,8070]},{"content":"The following example demonstrates how to configure a color button by using various methods in the <ph id=\"ph1\">`CMFCColorButton`</ph> class.","pos":[8074,8197],"source":"The following example demonstrates how to configure a color button by using various methods in the `CMFCColorButton` class."},{"content":"The methods set the color of the color button and its number of columns, and enable the automatic and the other buttons.","pos":[8198,8318]},{"content":"This example is part of the <bpt id=\"p1\">[</bpt>Status Bar Demo sample<ept id=\"p1\">](../../visual-cpp-samples.md)</ept>.","pos":[8319,8401],"source":" This example is part of the [Status Bar Demo sample](../../visual-cpp-samples.md)."},{"content":"NVC_MFC_StatusBarDemo#10","pos":[8419,8443]},{"content":"NVC_MFC_StatusBarDemo#11","pos":[8522,8546]},{"content":"Requirements","pos":[8622,8634]},{"pos":[8638,8666],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxcolorbutton.h","source":"**Header:** afxcolorbutton.h"},{"pos":[8725,8757],"content":"CMFCColorButton::CMFCColorButton"},{"pos":[8761,8803],"content":"Constructs a new <ph id=\"ph1\">`CMFCColorButton`</ph> object.","source":"Constructs a new `CMFCColorButton` object."},{"pos":[8902,8940],"content":"CMFCColorButton::EnableAutomaticButton"},{"content":"Enable or disable the \"automatic\" button of a color picker control and set the automatic (default) color.","pos":[8944,9049]},{"content":"Parameters","pos":[9182,9192]},{"content":"[in]","pos":[9196,9200]},{"content":"Specifies the automatic button's text.","pos":[9216,9254]},{"content":"[in]","pos":[9261,9265]},{"content":"An RGB value that specifies the automatic button's default color.","pos":[9286,9351]},{"content":"[in]","pos":[9358,9362]},{"content":"Specifies whether the automatic button is enabled or disabled.","pos":[9376,9438]},{"content":"Remarks","pos":[9448,9455]},{"pos":[9516,9550],"content":"CMFCColorButton::EnableOtherButton"},{"content":"Enable or disable the \"other\" button, which appears below regular color buttons.","pos":[9554,9634]},{"content":"Parameters","pos":[9762,9772]},{"content":"[in]","pos":[9776,9780]},{"content":"Specifies the button's text.","pos":[9796,9824]},{"content":"[in]","pos":[9831,9835]},{"content":"Specifies whether the <bpt id=\"p1\">[</bpt>CMFCColorDialog<ept id=\"p1\">](../../mfc/reference/cmfccolordialog-class.md)</ept> dialog box or the system color dialog box is opened when the user clicks the button.","pos":[9854,10024],"source":" Specifies whether the [CMFCColorDialog](../../mfc/reference/cmfccolordialog-class.md) dialog box or the system color dialog box is opened when the user clicks the button."},{"content":"[in]","pos":[10031,10035]},{"content":"Specifies whether the \"other\" button is enabled or disabled.","pos":[10049,10109]},{"content":"Remarks","pos":[10119,10126]},{"content":"Click the \"other\" button to display a color dialog box.","pos":[10130,10185]},{"content":"If the <bpt id=\"p1\">*</bpt>bAltColorDlg<ept id=\"p1\">*</ept> parameter is <ph id=\"ph1\">`TRUE`</ph>, the <bpt id=\"p2\">[</bpt>CMFCColorDialog Class<ept id=\"p2\">](../../mfc/reference/cmfccolordialog-class.md)</ept> is displayed; otherwise, the system color dialog box is displayed.","pos":[10186,10369],"source":" If the *bAltColorDlg* parameter is `TRUE`, the [CMFCColorDialog Class](../../mfc/reference/cmfccolordialog-class.md) is displayed; otherwise, the system color dialog box is displayed."},{"pos":[10430,10464],"content":"CMFCColorButton::GetAutomaticColor"},{"content":"Retrieves the current automatic (default) color.","pos":[10468,10516]},{"content":"Return Value","pos":[10580,10592]},{"content":"An RGB value representing the current automatic color.","pos":[10596,10650]},{"content":"Remarks","pos":[10660,10667]},{"pos":[10671,10802],"content":"The current automatic color is set by the <bpt id=\"p1\">[</bpt>CMFCColorButton::EnableAutomaticButton<ept id=\"p1\">](#cmfccolorbutton__enableautomaticbutton)</ept> method.","source":"The current automatic color is set by the [CMFCColorButton::EnableAutomaticButton](#cmfccolorbutton__enableautomaticbutton) method."},{"pos":[10854,10879],"content":"CMFCColorButton::GetColor"},{"content":"Retrieves the currently selected color.","pos":[10883,10922]},{"content":"Return Value","pos":[10977,10989]},{"content":"An RGB value.","pos":[10993,11006]},{"content":"Remarks","pos":[11016,11023]},{"pos":[11080,11110],"content":"CMFCColorButton::IsDrawXPTheme"},{"content":"Indicates whether the current color button is displayed in the visual style of Windows XP.","pos":[11114,11204]},{"content":"Return Value","pos":[11260,11272]},{"pos":[11283,11410],"content":"if visual styles are supported and the current color button is displayed in the visual style of Windows XP; otherwise, <ph id=\"ph1\">`FALSE`</ph>.","source":" if visual styles are supported and the current color button is displayed in the visual style of Windows XP; otherwise, `FALSE`."},{"pos":[11479,11521],"content":"CMFCColorButton::m_bEnabledInCustomizeMode"},{"content":"Sets a color button to customization mode.","pos":[11525,11567]},{"content":"Remarks","pos":[11626,11633]},{"content":"If you need to add a color button to a customization dialog's page (or allow the user to make another color selection during customization), enable the button by setting the <ph id=\"ph1\">`m_bEnabledInCustomizeMode`</ph> member to <ph id=\"ph2\">`TRUE`</ph>.","pos":[11637,11856],"source":"If you need to add a color button to a customization dialog's page (or allow the user to make another color selection during customization), enable the button by setting the `m_bEnabledInCustomizeMode` member to `TRUE`."},{"content":"By default, this member is set to <ph id=\"ph1\">`FALSE`</ph>.","pos":[11857,11899],"source":" By default, this member is set to `FALSE`."},{"pos":[11949,11972],"content":"CMFCColorButton::OnDraw"},{"content":"Called by the framework to render an image of the button.","pos":[11976,12033]},{"content":"Parameters","pos":[12139,12149]},{"content":"[in]","pos":[12153,12157]},{"content":"Points to the device context that is used to render the image of the button.","pos":[12167,12243]},{"content":"[in]","pos":[12250,12254]},{"content":"A rectangle that bounds the button.","pos":[12265,12300]},{"content":"[in]","pos":[12307,12311]},{"content":"Specifies the visual state of the button.","pos":[12325,12366]},{"content":"Remarks","pos":[12376,12383]},{"content":"Override this method to customize the rendering process.","pos":[12387,12443]},{"pos":[12499,12528],"content":"CMFCColorButton::OnDrawBorder"},{"content":"Called by the framework to display the border of the button.","pos":[12532,12592]},{"content":"Parameters","pos":[12704,12714]},{"content":"[in]","pos":[12718,12722]},{"content":"Points to the device context used to draw the border.","pos":[12732,12785]},{"content":"[in]","pos":[12792,12796]},{"content":"A rectangle in the device context that is specified by the the <ph id=\"ph1\">`pDC`</ph> parameter that defines the boundaries of the button to be drawn.","pos":[12813,12946],"source":" A rectangle in the device context that is specified by the the `pDC` parameter that defines the boundaries of the button to be drawn."},{"content":"[in]","pos":[12953,12957]},{"content":"Specifies the visual state of the button.","pos":[12971,13012]},{"content":"Remarks","pos":[13022,13029]},{"content":"Override this function to customize the color button's border appearance.","pos":[13033,13106]},{"pos":[13165,13197],"content":"CMFCColorButton::OnDrawFocusRect"},{"content":"Called by the framework to display a focus rectangle when the button has focus.","pos":[13201,13280]},{"content":"Parameters","pos":[13381,13391]},{"content":"[in]","pos":[13395,13399]},{"content":"Points to the device context used to draw the focus rectangle.","pos":[13409,13471]},{"content":"[in]","pos":[13478,13482]},{"content":"A rectangle in the device context specified by the <ph id=\"ph1\">`pDC`</ph> parameter that defines the boundaries of the button.","pos":[13499,13608],"source":" A rectangle in the device context specified by the `pDC` parameter that defines the boundaries of the button."},{"content":"Remarks","pos":[13618,13625]},{"content":"Override this method to customize appearance of the focus rectangle.","pos":[13629,13697]},{"pos":[13757,13790],"content":"CMFCColorButton::OnShowColorPopup"},{"content":"Called before the popup color bar is displayed.","pos":[13794,13841]},{"content":"Remarks","pos":[13899,13906]},{"pos":[13964,13995],"content":"CMFCColorButton::RebuildPalette"},{"pos":[13999,14105],"content":"Initializes the <ph id=\"ph1\">`m_pPalette`</ph> protected data member to the specified palette or the default system palette.","source":"Initializes the `m_pPalette` protected data member to the specified palette or the default system palette."},{"content":"Parameters","pos":[14167,14177]},{"content":"Parameter","pos":[14184,14193]},{"content":"Description","pos":[14194,14205]},{"pos":[14248,14252],"content":"[in]"},{"content":"A pointer to a logical palette or <ph id=\"ph1\">`NULL`</ph>.","pos":[14260,14301],"source":"A pointer to a logical palette or `NULL`."},{"content":"If <ph id=\"ph1\">`NULL`</ph>, the default system palette is used.","pos":[14302,14348],"source":" If `NULL`, the default system palette is used."},{"pos":[14401,14426],"content":"CMFCColorButton::SetColor"},{"content":"Specifies the color of the button.","pos":[14430,14464]},{"content":"Parameters","pos":[14520,14530]},{"content":"[in]","pos":[14534,14538]},{"content":"An RGB value.","pos":[14550,14563]},{"content":"Remarks","pos":[14573,14580]},{"pos":[14636,14665],"content":"CMFCColorButton::SetColorName"},{"content":"Specifies the name of a color.","pos":[14669,14699]},{"content":"Parameters","pos":[14801,14811]},{"content":"[in]","pos":[14815,14819]},{"content":"The color's RGB value.","pos":[14831,14853]},{"content":"[in]","pos":[14860,14864]},{"content":"The color's name.","pos":[14878,14895]},{"content":"Remarks","pos":[14905,14912]},{"content":"The list of color names is global per application.","pos":[14916,14966]},{"content":"Consequently, this method transfers its parameters to <bpt id=\"p1\">[</bpt>CMFCColorBar::SetColorName<ept id=\"p1\">](../../mfc/reference/cmfccolorbar-class.md#cmfccolorbar__setcolorname)</ept>.","pos":[14967,15120],"source":" Consequently, this method transfers its parameters to [CMFCColorBar::SetColorName](../../mfc/reference/cmfccolorbar-class.md#cmfccolorbar__setcolorname)."},{"pos":[15180,15213],"content":"CMFCColorButton::SetColumnsNumber"},{"content":"Defines the number of columns that are displayed in the table of colors that is presented to the user during the user's color selection process.","pos":[15217,15361]},{"content":"Parameters","pos":[15423,15433]},{"content":"[in]","pos":[15437,15441]},{"content":"Specifies the number of columns.","pos":[15456,15488]},{"content":"Remarks","pos":[15498,15505]},{"content":"The user can select a color from a popup color bar that displays a table of predefined colors.","pos":[15509,15603]},{"content":"Use this method to define the number of columns in the table.","pos":[15604,15665]},{"pos":[15726,15760],"content":"CMFCColorButton::SetDocumentColors"},{"content":"Specifies a set of colors and the set's name.","pos":[15764,15809]},{"content":"The set of colors is displayed using a <bpt id=\"p1\">[</bpt>CMFCColorBar Class<ept id=\"p1\">](../../mfc/reference/cmfccolorbar-class.md)</ept> object.","pos":[15810,15920],"source":" The set of colors is displayed using a [CMFCColorBar Class](../../mfc/reference/cmfccolorbar-class.md) object."},{"content":"Parameters","pos":[16036,16046]},{"content":"[in]","pos":[16050,16054]},{"content":"Specifies the label to be displayed with the set of document colors.","pos":[16070,16138]},{"content":"[in]","pos":[16145,16149]},{"content":"A reference to a list of RGB values.","pos":[16165,16201]},{"content":"Remarks","pos":[16211,16218]},{"content":"A <ph id=\"ph1\">`CMFCColorButton`</ph> object maintains a list of RGB values that are transferred to a <bpt id=\"p1\">[</bpt>CMFCColorBar Class<ept id=\"p1\">](../../mfc/reference/cmfccolorbar-class.md)</ept> object.","pos":[16222,16377],"source":"A `CMFCColorButton` object maintains a list of RGB values that are transferred to a [CMFCColorBar Class](../../mfc/reference/cmfccolorbar-class.md) object."},{"content":"When the color bar is displayed, these colors are shown in a special section whose label is specified by the <ph id=\"ph1\">`lpszLabel`</ph> parameter.","pos":[16378,16509],"source":" When the color bar is displayed, these colors are shown in a special section whose label is specified by the `lpszLabel` parameter."},{"pos":[16563,16590],"content":"CMFCColorButton::SetPalette"},{"content":"Specifies the standard colors to display on the popup color bar.","pos":[16594,16658]},{"content":"Parameters","pos":[16720,16730]},{"content":"[in]","pos":[16734,16738]},{"content":"A pointer to a color palette.","pos":[16753,16782]},{"content":"Remarks","pos":[16792,16799]},{"pos":[16856,16886],"content":"CMFCColorButton::SizeToContent"},{"content":"Resizes the button control to fit its text and image.","pos":[16890,16943]},{"content":"Parameters","pos":[17019,17029]},{"content":"[in]","pos":[17033,17037]},{"content":"If nonzero, the new size of the button control is calculated but the actual size is not changed.","pos":[17053,17149]},{"content":"Return Value","pos":[17159,17171]},{"pos":[17175,17233],"content":"A <ph id=\"ph1\">`CSize`</ph> object that specifies a new button control size.","source":"A `CSize` object that specifies a new button control size."},{"content":"Remarks","pos":[17243,17250]},{"pos":[17305,17333],"content":"CMFCColorButton::UpdateColor"},{"content":"Called by the framework when the user selects a color from the color bar that displays when the user clicks the color button.","pos":[17337,17462]},{"content":"Parameters","pos":[17529,17539]},{"content":"[in]","pos":[17543,17547]},{"content":"A color selected by the user.","pos":[17559,17588]},{"content":"Remarks","pos":[17598,17605]},{"content":"The <ph id=\"ph1\">`UpdateColor`</ph> function changes the currently selected button's color and notifies its parent by sending a <ph id=\"ph2\">`WM_COMMAND`</ph> message with a <ph id=\"ph3\">`BN_CLICKED`</ph> standard notification.","pos":[17609,17782],"source":"The `UpdateColor` function changes the currently selected button's color and notifies its parent by sending a `WM_COMMAND` message with a `BN_CLICKED` standard notification."},{"content":"Use the <bpt id=\"p1\">[</bpt>CMFCColorButton::GetColor<ept id=\"p1\">](#cmfccolorbutton__getcolor)</ept> method to retrieve the selected color.","pos":[17783,17885],"source":" Use the [CMFCColorButton::GetColor](#cmfccolorbutton__getcolor) method to retrieve the selected color."},{"content":"See Also","pos":[17894,17902]},{"content":"Hierarchy Chart","pos":[17907,17922]},{"content":"Classes","pos":[17959,17966]},{"content":"CMFCButton Class","pos":[18009,18025]},{"content":"CMFCColorBar Class","pos":[18073,18091]},{"content":"CMFCColorButton::OnShowColorPopup","pos":[18141,18174]},{"content":"COLORREF","pos":[18217,18225]},{"content":"CPalette Class","pos":[18292,18306]},{"content":"CArray Class","pos":[18352,18364]},{"content":"CList Class","pos":[18408,18419]},{"content":"CString","pos":[18462,18469]}],"content":"---\ntitle: \"CMFCColorButton Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CMFCColorButton\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CMFCColorButton::m_Color data member\"\n  - \"CMFCColorButton::m_bAutoSetFocus data member\"\n  - \"CMFCColorButton::m_pPopup data member\"\n  - \"CMFCColorButton::m_nColumns data member\"\n  - \"CMFCColorButton class\"\n  - \"CMFCColorButton::m_strAutoColorText data member\"\n  - \"CMFCColorButton::m_bAltColorDlg data member\"\n  - \"CMFCColorButton::m_strDocColorsText data member\"\n  - \"CMFCColorButton::m_strOtherText data member\"\n  - \"CMFCColorButton::m_pPalette data member\"\n  - \"CMFCColorButton::m_lstDocColors data member\"\n  - \"CMFCColorButton::m_ColorAutomatic data member\"\nms.assetid: 9fdf34ae-4cc5-4c5e-9d89-1c50e8a73699\ncaps.latest.revision: 34\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CMFCColorButton Class\nThe `CMFCColorButton` and [CMFCColorBar Class](../../mfc/reference/cmfccolorbar-class.md) classes are used together to implement a color picker control.  \n  \n## Syntax  \n  \n```  \nclass CMFCColorButton : public CMFCButton  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCColorButton::CMFCColorButton](#cmfccolorbutton__cmfccolorbutton)|Constructs a new `CMFCColorButton` object.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCColorButton::EnableAutomaticButton](#cmfccolorbutton__enableautomaticbutton)|Enables and disables an \"automatic\" button that is positioned above the regular color buttons. (The standard system automatic button is labeled **Automatic**.)|  \n|[CMFCColorButton::EnableOtherButton](#cmfccolorbutton__enableotherbutton)|Enables and disables an \"other\" button that is positioned below the regular color buttons. (The standard system \"other\" button is labeled **More Colors…**.)|  \n|[CMFCColorButton::GetAutomaticColor](#cmfccolorbutton__getautomaticcolor)|Retrieves the current automatic color.|  \n|[CMFCColorButton::GetColor](#cmfccolorbutton__getcolor)|Retrieves a button's color.|  \n|[CMFCColorButton::SetColor](#cmfccolorbutton__setcolor)|Sets a button's color.|  \n|[CMFCColorButton::SetColorName](#cmfccolorbutton__setcolorname)|Sets a color name.|  \n|[CMFCColorButton::SetColumnsNumber](#cmfccolorbutton__setcolumnsnumber)|Sets the number of columns on the color picker dialog box.|  \n|[CMFCColorButton::SetDocumentColors](#cmfccolorbutton__setdocumentcolors)|Specifies a list of document-specific colors that are displayed on the color picker dialog box.|  \n|[CMFCColorButton::SetPalette](#cmfccolorbutton__setpalette)|Specifies a palette of standard display colors.|  \n|[CMFCColorButton::SizeToContent](#cmfccolorbutton__sizetocontent)|Changes the size of the button control, depending on its text and image size.|  \n  \n### Protected Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCColorButton::IsDrawXPTheme](#cmfccolorbutton__isdrawxptheme)|Indicates whether the current color button is displayed in the visual style of Windows XP.|  \n|[CMFCColorButton::OnDraw](#cmfccolorbutton__ondraw)|Called by the framework to display an image of the button.|  \n|[CMFCColorButton::OnDrawBorder](#cmfccolorbutton__ondrawborder)|Called by the framework to display the button's border.|  \n|[CMFCColorButton::OnDrawFocusRect](#cmfccolorbutton__ondrawfocusrect)|Called by the framework to display a focus rectangle when the button has a focus.|  \n|[CMFCColorButton::OnShowColorPopup](#cmfccolorbutton__onshowcolorpopup)|Called by the framework when the color picker dialog box is about to be displayed.|  \n|[CMFCColorButton::RebuildPalette](#cmfccolorbutton__rebuildpalette)|Initializes the `m_pPalette` protected data member to the specified palette or the default system palette.|  \n|[CMFCColorButton::UpdateColor](#cmfccolorbutton__updatecolor)|Called by the framework when the user selects a color from the palette of the color picker dialog box.|  \n  \n### Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|`m_bAltColorDlg`|A Boolean. If `TRUE`, the framework displays the [CMFCColorDialog](../../mfc/reference/cmfccolordialog-class.md) color dialog box when the *other* button is clicked, or if `FALSE`, the system color dialog box. The default value is `TRUE`. For more information, see [CMFCColorButton::EnableOtherButton](#cmfccolorbutton__enableotherbutton).|  \n|`m_bAutoSetFocus`|A Boolean. If `TRUE`, the framework sets the focus on the color menu when the menu is displayed, or if `FALSE`, does not change the focus. The default value is `TRUE`.|  \n|[CMFCColorButton::m_bEnabledInCustomizeMode](#cmfccolorbutton__m_benabledincustomizemode)|Indicates whether customization mode is enabled for the color button.|  \n|`m_Color`|A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) value. Contains the currently selected color.|  \n|`m_ColorAutomatic`|A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) value. Contains the currently selected default color.|  \n|`m_Colors`|A [CArray](../../mfc/reference/carray-class.md) of [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) values. Contains the currently available colors.|  \n|`m_lstDocColors`|A [CList](../../mfc/reference/clist-class.md) of [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) values. Contains the current document colors.|  \n|`m_nColumns`|An integer. Contains the number of columns to display in the grid of colors in a color selection menu.|  \n|`m_pPalette`|A pointer to a [CPalette](../../mfc/reference/cpalette-class.md). Contains the colors that are available in the current color selection menu.|  \n|`m_pPopup`|A pointer to a [CMFCColorPopupMenu Class](../../mfc/reference/cmfccolorpopupmenu-class.md) object. The color selection menu that is displayed when you click the color button.|  \n|`m_strAutoColorText`|A string. The label of the \"automatic\" button in a color selection menu.|  \n|`m_strDocColorsText`|A string. The label of the button in a color selection menu that displays the document colors.|  \n|`m_strOtherText`|A string. The label of the \"other\" button in a color selection menu.|  \n  \n## Remarks  \n By default, the `CMFCColorButton` class behaves as a push button that opens a color picker dialog box. The color picker dialog box contains an array of small color buttons and an \"other\" button that displays a custom color picker. (The standard system \"other\" button is labeled **More Colors…**.) When a user selects a new color, the `CMFCColorButton` object reflects the change and displays the selected color.  \n  \n Create a color button control either directly in your code, or by using the **ClassWizard** tool and a dialog box template. If you create a color button control directly, add a `CMFCColorButton` variable to your application, and then call the constructor and `Create` methods of the `CMFCColorButton` object. If you use the **ClassWizard**, add a `CButton` variable to your application, and then change the type of the variable from `CButton` to `CMFCColorButton`.  \n  \n The color picker dialog box ( [CMFCColorBar Class](../../mfc/reference/cmfccolorbar-class.md)) is displayed by the [CMFCColorButton::OnShowColorPopup](#cmfccolorbutton__onshowcolorpopup) method when the framework calls the `OnLButtonDown` event handler. The [CMFCColorButton::OnShowColorPopup](#cmfccolorbutton__onshowcolorpopup) method can be overridden to support custom color selection.  \n  \n The `CMFCColorButton` object notifies its parent that a color is changing by sending it a `WM_COMMAND | BN_CLICKED` notification. The parent uses the [CMFCColorButton::GetColor](#cmfccolorbutton__getcolor) method to retrieve the current color.  \n  \n## Example  \n The following example demonstrates how to configure a color button by using various methods in the `CMFCColorButton` class. The methods set the color of the color button and its number of columns, and enable the automatic and the other buttons. This example is part of the [Status Bar Demo sample](../../visual-cpp-samples.md).  \n  \n [!code-cpp[NVC_MFC_StatusBarDemo#10](../../mfc/reference/codesnippet/cpp/cmfccolorbutton-class_1.h)]  \n[!code-cpp[NVC_MFC_StatusBarDemo#11](../../mfc/reference/codesnippet/cpp/cmfccolorbutton-class_2.cpp)]  \n  \n## Requirements  \n **Header:** afxcolorbutton.h  \n  \n##  <a name=\"cmfccolorbutton__cmfccolorbutton\"></a>  CMFCColorButton::CMFCColorButton  \n Constructs a new `CMFCColorButton` object.  \n  \n```  \nCMFCColorButton();\n```  \n  \n##  <a name=\"cmfccolorbutton__enableautomaticbutton\"></a>  CMFCColorButton::EnableAutomaticButton  \n Enable or disable the \"automatic\" button of a color picker control and set the automatic (default) color.  \n  \n```  \nvoid EnableAutomaticButton(\n    LPCTSTR lpszLabel,  \n    COLORREF colorAutomatic,  \n    BOOL bEnable=TRUE);\n```  \n  \n### Parameters  \n [in] `lpszLabel`  \n Specifies the automatic button's text.  \n  \n [in] `colorAutomatic`  \n An RGB value that specifies the automatic button's default color.  \n  \n [in] `bEnable`  \n Specifies whether the automatic button is enabled or disabled.  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolorbutton__enableotherbutton\"></a>  CMFCColorButton::EnableOtherButton  \n Enable or disable the \"other\" button, which appears below regular color buttons.  \n  \n```  \nvoid EnableOtherButton(\n    LPCTSTR lpszLabel,  \n    BOOL bAltColorDlg=TRUE,  \n    BOOL bEnable=TRUE);\n```  \n  \n### Parameters  \n [in] `lpszLabel`  \n Specifies the button's text.  \n  \n [in] `bAltColorDlg`  \n Specifies whether the [CMFCColorDialog](../../mfc/reference/cmfccolordialog-class.md) dialog box or the system color dialog box is opened when the user clicks the button.  \n  \n [in] `bEnable`  \n Specifies whether the \"other\" button is enabled or disabled.  \n  \n### Remarks  \n Click the \"other\" button to display a color dialog box. If the *bAltColorDlg* parameter is `TRUE`, the [CMFCColorDialog Class](../../mfc/reference/cmfccolordialog-class.md) is displayed; otherwise, the system color dialog box is displayed.  \n  \n##  <a name=\"cmfccolorbutton__getautomaticcolor\"></a>  CMFCColorButton::GetAutomaticColor  \n Retrieves the current automatic (default) color.  \n  \n```  \nCOLORREF GetAutomaticColor() const;\n\n \n```  \n  \n### Return Value  \n An RGB value representing the current automatic color.  \n  \n### Remarks  \n The current automatic color is set by the [CMFCColorButton::EnableAutomaticButton](#cmfccolorbutton__enableautomaticbutton) method.  \n  \n##  <a name=\"cmfccolorbutton__getcolor\"></a>  CMFCColorButton::GetColor  \n Retrieves the currently selected color.  \n  \n```  \nCOLORREF GetColor() const;\n\n \n```  \n  \n### Return Value  \n An RGB value.  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolorbutton__isdrawxptheme\"></a>  CMFCColorButton::IsDrawXPTheme  \n Indicates whether the current color button is displayed in the visual style of Windows XP.  \n  \n```  \nBOOL IsDrawXPTheme() const;\n\n \n```  \n  \n### Return Value  \n `TRUE` if visual styles are supported and the current color button is displayed in the visual style of Windows XP; otherwise, `FALSE`.  \n  \n##  <a name=\"cmfccolorbutton__m_benabledincustomizemode\"></a>  CMFCColorButton::m_bEnabledInCustomizeMode  \n Sets a color button to customization mode.  \n  \n```  \nBOOL m_bEnabledInCustomizeMode;  \n```  \n  \n### Remarks  \n If you need to add a color button to a customization dialog's page (or allow the user to make another color selection during customization), enable the button by setting the `m_bEnabledInCustomizeMode` member to `TRUE`. By default, this member is set to `FALSE`.  \n  \n##  <a name=\"cmfccolorbutton__ondraw\"></a>  CMFCColorButton::OnDraw  \n Called by the framework to render an image of the button.  \n  \n```  \nvirtual void OnDraw(\n    CDC* pDC,  \n    const CRect& rect,  \n    UINT uiState);\n```  \n  \n### Parameters  \n [in] `pDC`  \n Points to the device context that is used to render the image of the button.  \n  \n [in] `rect`  \n A rectangle that bounds the button.  \n  \n [in] `uiState`  \n Specifies the visual state of the button.  \n  \n### Remarks  \n Override this method to customize the rendering process.  \n  \n##  <a name=\"cmfccolorbutton__ondrawborder\"></a>  CMFCColorButton::OnDrawBorder  \n Called by the framework to display the border of the button.  \n  \n```  \nvirtual void OnDrawBorder(\n    CDC* pDC,  \n    CRect& rectClient,  \n    UINT uiState);\n```  \n  \n### Parameters  \n [in] `pDC`  \n Points to the device context used to draw the border.  \n  \n [in] `rectClient`  \n A rectangle in the device context that is specified by the the `pDC` parameter that defines the boundaries of the button to be drawn.  \n  \n [in] `uiState`  \n Specifies the visual state of the button.  \n  \n### Remarks  \n Override this function to customize the color button's border appearance.  \n  \n##  <a name=\"cmfccolorbutton__ondrawfocusrect\"></a>  CMFCColorButton::OnDrawFocusRect  \n Called by the framework to display a focus rectangle when the button has focus.  \n  \n```  \nvirtual void OnDrawFocusRect(\n    CDC* pDC,  \n    const CRect& rectClient);\n```  \n  \n### Parameters  \n [in] `pDC`  \n Points to the device context used to draw the focus rectangle.  \n  \n [in] `rectClient`  \n A rectangle in the device context specified by the `pDC` parameter that defines the boundaries of the button.  \n  \n### Remarks  \n Override this method to customize appearance of the focus rectangle.  \n  \n##  <a name=\"cmfccolorbutton__onshowcolorpopup\"></a>  CMFCColorButton::OnShowColorPopup  \n Called before the popup color bar is displayed.  \n  \n```  \nvirtual void OnShowColorPopup();\n```  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolorbutton__rebuildpalette\"></a>  CMFCColorButton::RebuildPalette  \n Initializes the `m_pPalette` protected data member to the specified palette or the default system palette.  \n  \n```  \nvoid RebuildPalette(CPalette* pPal);\n```  \n  \n### Parameters  \n  \n|Parameter|Description|  \n|---------------|-----------------|  \n|[in] `pPal`|A pointer to a logical palette or `NULL`. If `NULL`, the default system palette is used.|  \n  \n##  <a name=\"cmfccolorbutton__setcolor\"></a>  CMFCColorButton::SetColor  \n Specifies the color of the button.  \n  \n```  \nvoid SetColor(COLORREF color);\n```  \n  \n### Parameters  \n [in] `color`  \n An RGB value.  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolorbutton__setcolorname\"></a>  CMFCColorButton::SetColorName  \n Specifies the name of a color.  \n  \n```  \nstatic void SetColorName(\n    COLORREF color,  \n    const CString& strName);\n```  \n  \n### Parameters  \n [in] `color`  \n The color's RGB value.  \n  \n [in] `strName`  \n The color's name.  \n  \n### Remarks  \n The list of color names is global per application. Consequently, this method transfers its parameters to [CMFCColorBar::SetColorName](../../mfc/reference/cmfccolorbar-class.md#cmfccolorbar__setcolorname).  \n  \n##  <a name=\"cmfccolorbutton__setcolumnsnumber\"></a>  CMFCColorButton::SetColumnsNumber  \n Defines the number of columns that are displayed in the table of colors that is presented to the user during the user's color selection process.  \n  \n```  \nvoid SetColumnsNumber(int nColumns);\n```  \n  \n### Parameters  \n [in] `nColumns`  \n Specifies the number of columns.  \n  \n### Remarks  \n The user can select a color from a popup color bar that displays a table of predefined colors. Use this method to define the number of columns in the table.  \n  \n##  <a name=\"cmfccolorbutton__setdocumentcolors\"></a>  CMFCColorButton::SetDocumentColors  \n Specifies a set of colors and the set's name. The set of colors is displayed using a [CMFCColorBar Class](../../mfc/reference/cmfccolorbar-class.md) object.  \n  \n```  \nvoid SetDocumentColors(\n    LPCTSTR lpszLabel,  \n    CList<COLORREF,COLORREF>& lstColors);\n```  \n  \n### Parameters  \n [in] `lpszLabel`  \n Specifies the label to be displayed with the set of document colors.  \n  \n [in] `lstColors`  \n A reference to a list of RGB values.  \n  \n### Remarks  \n A `CMFCColorButton` object maintains a list of RGB values that are transferred to a [CMFCColorBar Class](../../mfc/reference/cmfccolorbar-class.md) object. When the color bar is displayed, these colors are shown in a special section whose label is specified by the `lpszLabel` parameter.  \n  \n##  <a name=\"cmfccolorbutton__setpalette\"></a>  CMFCColorButton::SetPalette  \n Specifies the standard colors to display on the popup color bar.  \n  \n```  \nvoid SetPalette(CPalette* pPalette);\n```  \n  \n### Parameters  \n [in] `pPalette`  \n A pointer to a color palette.  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolorbutton__sizetocontent\"></a>  CMFCColorButton::SizeToContent  \n Resizes the button control to fit its text and image.  \n  \n```  \nvirtual CSize SizeToContent(BOOL bCalcOnly=FALSE);\n```  \n  \n### Parameters  \n [in] `bCalcOnly`  \n If nonzero, the new size of the button control is calculated but the actual size is not changed.  \n  \n### Return Value  \n A `CSize` object that specifies a new button control size.  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolorbutton__updatecolor\"></a>  CMFCColorButton::UpdateColor  \n Called by the framework when the user selects a color from the color bar that displays when the user clicks the color button.  \n  \n```  \nvirtual void UpdateColor(COLORREF color);\n```  \n  \n### Parameters  \n [in] `color`  \n A color selected by the user.  \n  \n### Remarks  \n The `UpdateColor` function changes the currently selected button's color and notifies its parent by sending a `WM_COMMAND` message with a `BN_CLICKED` standard notification. Use the [CMFCColorButton::GetColor](#cmfccolorbutton__getcolor) method to retrieve the selected color.  \n  \n## See Also  \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [Classes](../../mfc/reference/mfc-classes.md)   \n [CMFCButton Class](../../mfc/reference/cmfcbutton-class.md)   \n [CMFCColorBar Class](../../mfc/reference/cmfccolorbar-class.md)   \n [CMFCColorButton::OnShowColorPopup](#cmfccolorbutton__onshowcolorpopup)   \n [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449)   \n [CPalette Class](../../mfc/reference/cpalette-class.md)   \n [CArray Class](../../mfc/reference/carray-class.md)   \n [CList Class](../../mfc/reference/clist-class.md)   \n [CString](../../atl-mfc-shared/reference/cstringt-class.md)\n"}