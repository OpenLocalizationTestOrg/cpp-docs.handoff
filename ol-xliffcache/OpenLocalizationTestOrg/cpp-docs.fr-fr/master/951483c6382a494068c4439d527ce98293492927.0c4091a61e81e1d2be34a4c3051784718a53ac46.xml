{"nodes":[{"pos":[12,70],"content":"Recommendations for Handling Input-Output | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Recommendations for Handling Input-Output | Microsoft Docs","pos":[0,58]}]},{"content":"Recommendations for Handling Input/Output","pos":[706,747]},{"content":"Whether you use file-based I/O or not depends on how you respond to the questions in the following decision tree:","pos":[748,861]},{"content":"Does the primary data in your application reside in a disk file","pos":[870,933]},{"content":"Yes, the primary data resides in a disk file:","pos":[945,990]},{"content":"Does the application read the whole file into memory on File Open and write the whole file back to disk on File Save","pos":[1003,1119]},{"content":"Yes: This is the default MFC document case.","pos":[1135,1178]},{"content":"Use <bpt id=\"p1\">**</bpt>CDocument<ept id=\"p1\">**</ept> serialization.","pos":[1179,1211],"source":" Use **CDocument** serialization."},{"content":"No: This is typically the case of transaction-based updating of the file.","pos":[1225,1298]},{"content":"You update the file on a per-transaction basis and don't need <bpt id=\"p1\">**</bpt>CDocument<ept id=\"p1\">**</ept> serialization.","pos":[1299,1389],"source":" You update the file on a per-transaction basis and don't need **CDocument** serialization."},{"content":"No, the primary data doesn't reside in a disk file:","pos":[1399,1450]},{"content":"Does the data reside in an ODBC data source","pos":[1463,1506]},{"content":"Yes, the data resides in an ODBC data source:","pos":[1522,1567]},{"content":"Use MFC's database support.","pos":[1582,1609]},{"content":"The standard MFC implementation for this case includes a <bpt id=\"p1\">**</bpt>CDocument<ept id=\"p1\">**</ept> object that stores a <ph id=\"ph1\">`CDatabase`</ph> object, as discussed in the article <bpt id=\"p2\">[</bpt>What Is the MFC Database Programming Model<ept id=\"p2\">](../data/what-is-the-mfc-database-programming-model-q.md)</ept>.","pos":[1610,1852],"source":" The standard MFC implementation for this case includes a **CDocument** object that stores a `CDatabase` object, as discussed in the article [What Is the MFC Database Programming Model](../data/what-is-the-mfc-database-programming-model-q.md)."},{"content":"The application might also read and write an auxiliary file — the purpose of the application wizard \"both a database view and file support\" option.","pos":[1853,2000]},{"content":"In this case, you'd use serialization for the auxiliary file.","pos":[2001,2062]},{"content":"No, the data doesn't reside in an ODBC data source.","pos":[2076,2127]},{"content":"Examples of this case: the data resides in a non-ODBC DBMS; the data is read via some other mechanism, such as OLE or DDE.","pos":[2142,2264]},{"content":"In such cases, you won't use serialization, and your application won't have Open and Save menu items.","pos":[2279,2380]},{"content":"You might still want to use a <bpt id=\"p1\">**</bpt>CDocument<ept id=\"p1\">**</ept> as a home base, just as an MFC ODBC application uses the document to store <ph id=\"ph1\">`CRecordset`</ph> objects.","pos":[2381,2521],"source":" You might still want to use a **CDocument** as a home base, just as an MFC ODBC application uses the document to store `CRecordset` objects."},{"content":"But you won't use the framework's default File Open/Save document serialization.","pos":[2522,2602]},{"content":"To support the Open, Save, and Save As commands on the File menu, the framework provides document serialization.","pos":[2609,2721]},{"content":"Serialization reads and writes data, including objects derived from class <ph id=\"ph1\">`CObject`</ph>, to permanent storage, normally a disk file.","pos":[2722,2850],"source":" Serialization reads and writes data, including objects derived from class `CObject`, to permanent storage, normally a disk file."},{"content":"Serialization is easy to use and serves many of your needs, but it may be inappropriate in many data-access applications.","pos":[2851,2972]},{"content":"Data-access applications typically update data on a per-transaction basis.","pos":[2973,3047]},{"content":"They update the records affected by the transaction rather than reading and writing a whole data file at once.","pos":[3048,3158]},{"pos":[3165,3254],"content":"For information about serialization, see <bpt id=\"p1\">[</bpt>Serialization<ept id=\"p1\">](../mfc/serialization-in-mfc.md)</ept>.","source":"For information about serialization, see [Serialization](../mfc/serialization-in-mfc.md)."},{"content":"See Also","pos":[3263,3271]},{"content":"Serialization: Serialization vs. Database Input/Output","pos":[3276,3330]}],"content":"---\ntitle: \"Recommendations for Handling Input-Output | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"I/O [MFC], about I/O\"\n  - \"file-based I/O options\"\n  - \"I/O [C++]\"\n  - \"I/O [C++], options\"\n  - \"I/O [C++], file-based options\"\nms.assetid: d664b175-3b4a-40c3-b14b-39de6b12e419\ncaps.latest.revision: 11\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Recommendations for Handling Input/Output\nWhether you use file-based I/O or not depends on how you respond to the questions in the following decision tree:  \n  \n **Does the primary data in your application reside in a disk file**  \n  \n-   Yes, the primary data resides in a disk file:  \n  \n     **Does the application read the whole file into memory on File Open and write the whole file back to disk on File Save**  \n  \n    -   Yes: This is the default MFC document case. Use **CDocument** serialization.  \n  \n    -   No: This is typically the case of transaction-based updating of the file. You update the file on a per-transaction basis and don't need **CDocument** serialization.  \n  \n-   No, the primary data doesn't reside in a disk file:  \n  \n     **Does the data reside in an ODBC data source**  \n  \n    -   Yes, the data resides in an ODBC data source:  \n  \n         Use MFC's database support. The standard MFC implementation for this case includes a **CDocument** object that stores a `CDatabase` object, as discussed in the article [What Is the MFC Database Programming Model](../data/what-is-the-mfc-database-programming-model-q.md). The application might also read and write an auxiliary file — the purpose of the application wizard \"both a database view and file support\" option. In this case, you'd use serialization for the auxiliary file.  \n  \n    -   No, the data doesn't reside in an ODBC data source.  \n  \n         Examples of this case: the data resides in a non-ODBC DBMS; the data is read via some other mechanism, such as OLE or DDE.  \n  \n         In such cases, you won't use serialization, and your application won't have Open and Save menu items. You might still want to use a **CDocument** as a home base, just as an MFC ODBC application uses the document to store `CRecordset` objects. But you won't use the framework's default File Open/Save document serialization.  \n  \n To support the Open, Save, and Save As commands on the File menu, the framework provides document serialization. Serialization reads and writes data, including objects derived from class `CObject`, to permanent storage, normally a disk file. Serialization is easy to use and serves many of your needs, but it may be inappropriate in many data-access applications. Data-access applications typically update data on a per-transaction basis. They update the records affected by the transaction rather than reading and writing a whole data file at once.  \n  \n For information about serialization, see [Serialization](../mfc/serialization-in-mfc.md).  \n  \n## See Also  \n [Serialization: Serialization vs. Database Input/Output](../mfc/serialization-serialization-vs-database-input-output.md)\n"}