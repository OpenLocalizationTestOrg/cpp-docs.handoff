{"nodes":[{"pos":[12,44],"content":"_open_osfhandle | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_open_osfhandle | Microsoft Docs","pos":[0,32]}]},{"pos":[1052,1067],"content":"_open_osfhandle","linkify":"_open_osfhandle","nodes":[{"content":"_open_osfhandle","pos":[0,15]}]},{"content":"Associates a C run-time file descriptor with an existing operating-system file handle.","pos":[1068,1154]},{"pos":[1163,1169],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1274,1284],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Operating-system file handle.","pos":[1303,1332]},{"content":"Types of operations allowed.","pos":[1350,1378]},{"pos":[1387,1399],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"If successful, <ph id=\"ph1\">`_open_osfhandle`</ph> returns a C run-time file descriptor.","pos":[1403,1473],"source":"If successful, `_open_osfhandle` returns a C run-time file descriptor."},{"content":"Otherwise, it returns –1.","pos":[1474,1499]},{"pos":[1508,1515],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`_open_osfhandle`</ph> function allocates a C run-time file descriptor and associates it with the operating-system file handle specified by <ph id=\"ph2\">`osfhandle`</ph>.","pos":[1519,1670],"source":"The `_open_osfhandle` function allocates a C run-time file descriptor and associates it with the operating-system file handle specified by `osfhandle`."},{"content":"The <ph id=\"ph1\">`flags`</ph> argument is an integer expression formed from one or more of the manifest constants defined in Fcntl.h.","pos":[1671,1786],"source":" The `flags` argument is an integer expression formed from one or more of the manifest constants defined in Fcntl.h."},{"content":"When two or more manifest constants are used to form the <ph id=\"ph1\">`flags`</ph> argument, the constants are combined with the bitwise-OR operator ( <bpt id=\"p1\">**</bpt>&amp;#124;<ept id=\"p1\">**</ept> ).","pos":[1787,1933],"source":" When two or more manifest constants are used to form the `flags` argument, the constants are combined with the bitwise-OR operator ( **&#124;** )."},{"content":"Fcntl.h defines the following manifest constants.","pos":[1940,1989]},{"content":"<bpt id=\"p1\">**</bpt>_O_APPEND<ept id=\"p1\">**</ept>","pos":[1996,2009],"source":"**_O_APPEND**"},{"content":"Positions a file pointer to the end of the file before every write operation.","pos":[2013,2090]},{"content":"<bpt id=\"p1\">**</bpt>_O_RDONLY<ept id=\"p1\">**</ept>","pos":[2097,2110],"source":"**_O_RDONLY**"},{"content":"Opens the file for reading only.","pos":[2114,2146]},{"content":"<bpt id=\"p1\">**</bpt>_O_TEXT<ept id=\"p1\">**</ept>","pos":[2153,2164],"source":"**_O_TEXT**"},{"content":"Opens the file in text (translated) mode.","pos":[2168,2209]},{"content":"<bpt id=\"p1\">**</bpt>_O_WTEXT<ept id=\"p1\">**</ept>","pos":[2216,2228],"source":"**_O_WTEXT**"},{"content":"Opens the file in Unicode (translated UTF-16) mode.","pos":[2232,2283]},{"content":"To close a file opened with <ph id=\"ph1\">`_open_osfhandle`</ph>, call <ph id=\"ph2\">`_close`</ph>.","pos":[2290,2351],"source":"To close a file opened with `_open_osfhandle`, call `_close`."},{"content":"The underlying handle is also closed by a call to <ph id=\"ph1\">`_close`</ph>, so it is not necessary to call the Win32 function <ph id=\"ph2\">`CloseHandle`</ph> on the original handle.","pos":[2352,2499],"source":" The underlying handle is also closed by a call to `_close`, so it is not necessary to call the Win32 function `CloseHandle` on the original handle."},{"pos":[2508,2520],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Routine","pos":[2527,2534]},{"content":"Required header","pos":[2535,2550]},{"content":"<ph id=\"ph1\">\\&lt;</ph>io.h&gt;","pos":[2613,2620],"source":"\\<io.h>"},{"pos":[2628,2746],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"pos":[2755,2764],"content":"Libraries","linkify":"Libraries","nodes":[{"content":"Libraries","pos":[0,9]}]},{"pos":[2768,2860],"content":"All versions of the <bpt id=\"p1\">[</bpt>C run-time libraries<ept id=\"p1\">](../../c-runtime-library/crt-library-features.md)</ept>.","source":"All versions of the [C run-time libraries](../../c-runtime-library/crt-library-features.md)."},{"pos":[2869,2894],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"pos":[2898,3005],"content":"<bpt id=\"p1\">[</bpt>System::IO::FileStream::Handle<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/system.io.filestream.handle.aspx)</ept>","source":"[System::IO::FileStream::Handle](https://msdn.microsoft.com/en-us/library/system.io.filestream.handle.aspx)"},{"pos":[3014,3022],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[3026,3083],"content":"<bpt id=\"p1\">[</bpt>File Handling<ept id=\"p1\">](../../c-runtime-library/file-handling.md)</ept>","source":"[File Handling](../../c-runtime-library/file-handling.md)"}],"content":"---\ntitle: \"_open_osfhandle | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_open_osfhandle\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-stdio-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_open_osfhandle\"\n  - \"open_osfhandle\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"open_osfhandle function\"\n  - \"file handles [C++], associating\"\n  - \"_open_osfhandle function\"\nms.assetid: 30d94df4-7868-4667-a401-9eb67ecb7855\ncaps.latest.revision: 11\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# _open_osfhandle\nAssociates a C run-time file descriptor with an existing operating-system file handle.  \n  \n## Syntax  \n  \n```  \n  \n      int _open_osfhandle (  \n   intptr_t osfhandle,  \n   int flags   \n);  \n```  \n  \n#### Parameters  \n `osfhandle`  \n Operating-system file handle.  \n  \n `flags`  \n Types of operations allowed.  \n  \n## Return Value  \n If successful, `_open_osfhandle` returns a C run-time file descriptor. Otherwise, it returns –1.  \n  \n## Remarks  \n The `_open_osfhandle` function allocates a C run-time file descriptor and associates it with the operating-system file handle specified by `osfhandle`. The `flags` argument is an integer expression formed from one or more of the manifest constants defined in Fcntl.h. When two or more manifest constants are used to form the `flags` argument, the constants are combined with the bitwise-OR operator ( **&#124;** ).  \n  \n Fcntl.h defines the following manifest constants.  \n  \n **_O_APPEND**  \n Positions a file pointer to the end of the file before every write operation.  \n  \n **_O_RDONLY**  \n Opens the file for reading only.  \n  \n **_O_TEXT**  \n Opens the file in text (translated) mode.  \n  \n **_O_WTEXT**  \n Opens the file in Unicode (translated UTF-16) mode.  \n  \n To close a file opened with `_open_osfhandle`, call `_close`. The underlying handle is also closed by a call to `_close`, so it is not necessary to call the Win32 function `CloseHandle` on the original handle.  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_open_osfhandle`|\\<io.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Libraries  \n All versions of the [C run-time libraries](../../c-runtime-library/crt-library-features.md).  \n  \n## .NET Framework Equivalent  \n [System::IO::FileStream::Handle](https://msdn.microsoft.com/en-us/library/system.io.filestream.handle.aspx)  \n  \n## See Also  \n [File Handling](../../c-runtime-library/file-handling.md)"}