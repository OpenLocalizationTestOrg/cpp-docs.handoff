{"nodes":[{"pos":[12,50],"content":"CGopherFileFind Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CGopherFileFind Class | Microsoft Docs","pos":[0,38]}]},{"content":"CGopherFileFind Class","pos":[645,666]},{"content":"Aids in Internet file searches of gopher servers.","pos":[667,716]},{"pos":[724,963],"content":"[!NOTE]\n The classes `CGopherConnection`, `CGopherFile`, `CGopherFileFind`, `CGopherLocator` and their members have been deprecated because they do not work on the Windows XP platform, but they will continue to work on earlier platforms.","leadings":["","> "],"nodes":[{"content":"The classes <ph id=\"ph1\">`CGopherConnection`</ph>, <ph id=\"ph2\">`CGopherFile`</ph>, <ph id=\"ph3\">`CGopherFileFind`</ph>, <ph id=\"ph4\">`CGopherLocator`</ph> and their members have been deprecated because they do not work on the Windows XP platform, but they will continue to work on earlier platforms.","pos":[9,237],"source":" The classes `CGopherConnection`, `CGopherFile`, `CGopherFileFind`, `CGopherLocator` and their members have been deprecated because they do not work on the Windows XP platform, but they will continue to work on earlier platforms."}]},{"content":"Syntax","pos":[972,978]},{"content":"Members","pos":[1045,1052]},{"content":"Public Constructors","pos":[1062,1081]},{"content":"Name","pos":[1088,1092]},{"content":"Description","pos":[1093,1104]},{"content":"CGopherFileFind::CGopherFileFind","pos":[1143,1175]},{"pos":[1212,1250],"content":"Constructs a <ph id=\"ph1\">`CGopherFileFind`</ph> object.","source":"Constructs a `CGopherFileFind` object."},{"content":"Public Methods","pos":[1261,1275]},{"content":"Name","pos":[1282,1286]},{"content":"Description","pos":[1287,1298]},{"content":"CGopherFileFind::FindFile","pos":[1337,1362]},{"content":"Finds a file on a gopher server.","pos":[1392,1424]},{"content":"CGopherFileFind::FindNextFile","pos":[1430,1459]},{"pos":[1493,1580],"content":"Continues a file search from a previous call to <bpt id=\"p1\">[</bpt>FindFile<ept id=\"p1\">](#cgopherfilefind__findfile)</ept>.","source":"Continues a file search from a previous call to [FindFile](#cgopherfilefind__findfile)."},{"content":"CGopherFileFind::GetCreationTime","pos":[1586,1618]},{"content":"Gets the time the specified file was created.","pos":[1655,1700]},{"content":"CGopherFileFind::GetLastAccessTime","pos":[1706,1740]},{"content":"Gets the time the specified file was last accessed.","pos":[1779,1830]},{"content":"CGopherFileFind::GetLastWriteTime","pos":[1836,1869]},{"content":"Gets the time the specified file was last written to.","pos":[1907,1960]},{"content":"CGopherFileFind::GetLength","pos":[1966,1992]},{"content":"Gets the length of the found file, in bytes.","pos":[2023,2067]},{"content":"CGopherFileFind::GetLocator","pos":[2073,2100]},{"pos":[2132,2162],"content":"Get a <ph id=\"ph1\">`CGopherLocator`</ph> object.","source":"Get a `CGopherLocator` object."},{"content":"CGopherFileFind::GetScreenName","pos":[2168,2198]},{"content":"Gets the name of a gopher screen.","pos":[2233,2266]},{"content":"CGopherFileFind::IsDots","pos":[2272,2295]},{"content":"Tests for the current directory and parent directory markers while iterating through files.","pos":[2323,2414]},{"content":"Remarks","pos":[2424,2431]},{"pos":[2453,2539],"content":"includes member functions that begin a search, locate a file, and return a file's URL."},{"content":"Other MFC classes designed for Internet and local file searched include <bpt id=\"p1\">[</bpt>CFtpFileFind<ept id=\"p1\">](../../mfc/reference/cftpfilefind-class.md)</ept> and <bpt id=\"p2\">[</bpt>CFileFind<ept id=\"p2\">](../../mfc/reference/cfilefind-class.md)</ept>.","pos":[2546,2732],"source":"Other MFC classes designed for Internet and local file searched include [CFtpFileFind](../../mfc/reference/cftpfilefind-class.md) and [CFileFind](../../mfc/reference/cfilefind-class.md)."},{"content":"Together with <ph id=\"ph1\">`CGopherFileFind`</ph>, these classes provide a seamless mechanism for the user to find specific files, regardless of the server protocol, file type, or location (either a local machine or a remote server.) Note that there is no MFC class for searching on HTTP servers because HTTP does not support the direct file manipulation required by searches.","pos":[2733,3091],"source":" Together with `CGopherFileFind`, these classes provide a seamless mechanism for the user to find specific files, regardless of the server protocol, file type, or location (either a local machine or a remote server.) Note that there is no MFC class for searching on HTTP servers because HTTP does not support the direct file manipulation required by searches."},{"pos":[3099,3245],"content":"[!NOTE]\n`CGopherFileFind` does not support the following member functions of its base class [CFileFind](../../mfc/reference/cfilefind-class.md):","leadings":["","> "],"nodes":[{"content":"does not support the following member functions of its base class <bpt id=\"p1\">[</bpt>CFileFind<ept id=\"p1\">](../../mfc/reference/cfilefind-class.md)</ept>:","pos":[26,144],"source":" does not support the following member functions of its base class [CFileFind](../../mfc/reference/cfilefind-class.md):"}]},{"content":"GetRoot","pos":[3254,3261]},{"content":"GetFileName","pos":[3330,3341]},{"content":"GetFilePath","pos":[3414,3425]},{"content":"GetFileTitle","pos":[3498,3510]},{"content":"GetFileURL","pos":[3584,3594]},{"pos":[3664,3830],"content":"In addition, when used with <ph id=\"ph1\">`CGopherFileFind`</ph>, the <ph id=\"ph2\">`CFileFind`</ph> member function <bpt id=\"p1\">[</bpt>IsDots<ept id=\"p1\">](../../mfc/reference/cfilefind-class.md#cfilefind__isdots)</ept> is always <bpt id=\"p2\">**</bpt>FALSE<ept id=\"p2\">**</ept>.","source":"In addition, when used with `CGopherFileFind`, the `CFileFind` member function [IsDots](../../mfc/reference/cfilefind-class.md#cfilefind__isdots) is always **FALSE**."},{"pos":[3837,4024],"content":"For more information about how to use <ph id=\"ph1\">`CGopherFileFind`</ph> and the other WinInet classes, see the article <bpt id=\"p1\">[</bpt>Internet Programming with WinInet<ept id=\"p1\">](../../mfc/win32-internet-extensions-wininet.md)</ept>.","source":"For more information about how to use `CGopherFileFind` and the other WinInet classes, see the article [Internet Programming with WinInet](../../mfc/win32-internet-extensions-wininet.md)."},{"content":"Inheritance Hierarchy","pos":[4033,4054]},{"content":"CObject","pos":[4059,4066]},{"content":"CFileFind","pos":[4113,4122]},{"content":"Requirements","pos":[4196,4208]},{"pos":[4212,4233],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxinet.h","source":"**Header:** afxinet.h"},{"pos":[4292,4324],"content":"CGopherFileFind::CGopherFileFind"},{"pos":[4328,4399],"content":"This member function is called to construct a <ph id=\"ph1\">`CGopherFileFind`</ph> object.","source":"This member function is called to construct a `CGopherFileFind` object."},{"content":"Parameters","pos":[4518,4528]},{"content":"A pointer to a <bpt id=\"p1\">[</bpt>CGopherConnection<ept id=\"p1\">](../../mfc/reference/cgopherconnection-class.md)</ept> object.","pos":[4549,4639],"source":" A pointer to a [CGopherConnection](../../mfc/reference/cgopherconnection-class.md) object."},{"content":"The context identifier for the operation.","pos":[4661,4702]},{"content":"See <bpt id=\"p1\">**</bpt>Remarks<ept id=\"p1\">**</ept> for more information about <ph id=\"ph1\">`dwContext`</ph>.","pos":[4703,4758],"source":" See **Remarks** for more information about `dwContext`."},{"content":"Remarks","pos":[4768,4775]},{"content":"The default value for <ph id=\"ph1\">`dwContext`</ph> is sent by MFC to the <ph id=\"ph2\">`CGopherFileFind`</ph> object from the <bpt id=\"p1\">[</bpt>CInternetSession<ept id=\"p1\">](../../mfc/reference/cinternetsession-class.md)</ept> object that created the <ph id=\"ph3\">`CGopherFileFind`</ph> object.","pos":[4779,4984],"source":"The default value for `dwContext` is sent by MFC to the `CGopherFileFind` object from the [CInternetSession](../../mfc/reference/cinternetsession-class.md) object that created the `CGopherFileFind` object."},{"content":"When you construct a <ph id=\"ph1\">`CGopherFileFind`</ph> object, you can override the default to set the context identifier to a value of your choosing.","pos":[4985,5119],"source":" When you construct a `CGopherFileFind` object, you can override the default to set the context identifier to a value of your choosing."},{"content":"The context identifier is returned to <bpt id=\"p1\">[</bpt>CInternetSession::OnStatusCallback<ept id=\"p1\">](../../mfc/reference/cinternetsession-class.md#cinternetsession__onstatuscallback)</ept> to provide status on the object with which it is identified.","pos":[5120,5337],"source":" The context identifier is returned to [CInternetSession::OnStatusCallback](../../mfc/reference/cinternetsession-class.md#cinternetsession__onstatuscallback) to provide status on the object with which it is identified."},{"content":"See the article <bpt id=\"p1\">[</bpt>Internet First Steps: WinInet<ept id=\"p1\">](../../mfc/wininet-basics.md)</ept> for more information about the context identifier.","pos":[5338,5465],"source":" See the article [Internet First Steps: WinInet](../../mfc/wininet-basics.md) for more information about the context identifier."},{"pos":[5517,5542],"content":"CGopherFileFind::FindFile"},{"content":"Call this member function to find a gopher file.","pos":[5546,5594]},{"content":"Parameters","pos":[5840,5850]},{"content":"A reference to a <bpt id=\"p1\">[</bpt>CGopherLocator<ept id=\"p1\">](../../mfc/reference/cgopherlocator-class.md)</ept> object.","pos":[5870,5956],"source":" A reference to a [CGopherLocator](../../mfc/reference/cgopherlocator-class.md) object."},{"content":"pstrString","pos":[5964,5974]},{"content":"A pointer to a string containing the file name.","pos":[5979,6026]},{"content":"The flags describing how to handle this session.","pos":[6046,6094]},{"content":"The valid flags are:","pos":[6095,6115]},{"content":"INTERNET_FLAG_RELOAD   Get the data from the remote server even if it is locally cached.","pos":[6125,6213]},{"content":"INTERNET_FLAG_DONT_CACHE   Do not cache the data, either locally or in any gateways.","pos":[6223,6307]},{"content":"INTERNET_FLAG_SECURE   Request secure transactions on the wire with Secure Sockets Layer or PCT.","pos":[6317,6413]},{"content":"This flag is applicable to HTTP requests only.","pos":[6414,6460]},{"pos":[6470,6639],"content":"INTERNET_FLAG_USE_EXISTING   If possible, reuse the existing connections to the server for new <bpt id=\"p1\">**</bpt>FindFile<ept id=\"p1\">**</ept> requests, instead of creating a new session for each request.","source":"INTERNET_FLAG_USE_EXISTING   If possible, reuse the existing connections to the server for new **FindFile** requests, instead of creating a new session for each request."},{"content":"Return Value","pos":[6649,6661]},{"content":"Nonzero if successful; otherwise 0.","pos":[6665,6700]},{"content":"To get extended error information, call the Win32 function <bpt id=\"p1\">[</bpt>GetLastError<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms679360)</ept>.","pos":[6701,6835],"source":" To get extended error information, call the Win32 function [GetLastError](http://msdn.microsoft.com/library/windows/desktop/ms679360)."},{"content":"Remarks","pos":[6845,6852]},{"pos":[6856,7016],"content":"After calling <bpt id=\"p1\">**</bpt>FindFile<ept id=\"p1\">**</ept> to retrieve the first gopher object, you can call <bpt id=\"p2\">[</bpt>FindNextFile<ept id=\"p2\">](#cgopherfilefind__findnextfile)</ept> to retrieve subsequent gopher files.","source":"After calling **FindFile** to retrieve the first gopher object, you can call [FindNextFile](#cgopherfilefind__findnextfile) to retrieve subsequent gopher files."},{"pos":[7072,7101],"content":"CGopherFileFind::FindNextFile"},{"pos":[7105,7234],"content":"Call this member function to continue a file search begun with a call to <bpt id=\"p1\">[</bpt>CGopherFileFind::FindFile<ept id=\"p1\">](#cgopherfilefind__findfile)</ept>.","source":"Call this member function to continue a file search begun with a call to [CGopherFileFind::FindFile](#cgopherfilefind__findfile)."},{"content":"Return Value","pos":[7288,7300]},{"content":"Nonzero if there are more files; zero if the file found is the last one in the directory or if an error occurred.","pos":[7304,7417]},{"content":"To get extended error information, call the Win32 function <bpt id=\"p1\">[</bpt>GetLastError<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms679360)</ept>.","pos":[7418,7552],"source":" To get extended error information, call the Win32 function [GetLastError](http://msdn.microsoft.com/library/windows/desktop/ms679360)."},{"content":"If the file found is the last file in the directory, or if no matching files can be found, the <ph id=\"ph1\">`GetLastError`</ph> function returns ERROR_NO_MORE_FILES.","pos":[7553,7700],"source":" If the file found is the last file in the directory, or if no matching files can be found, the `GetLastError` function returns ERROR_NO_MORE_FILES."},{"pos":[7759,7791],"content":"CGopherFileFind::GetCreationTime"},{"content":"Gets the creation time for the current file.","pos":[7795,7839]},{"content":"Parameters","pos":[7982,7992]},{"content":"A pointer to a <bpt id=\"p1\">[</bpt>FILETIME<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms724284)</ept> structure containing the time the file was created.","pos":[8012,8149],"source":" A pointer to a [FILETIME](http://msdn.microsoft.com/library/windows/desktop/ms724284) structure containing the time the file was created."},{"content":"A reference to a <bpt id=\"p1\">[</bpt>CTime<ept id=\"p1\">](../../atl-mfc-shared/reference/ctime-class.md)</ept> object.","pos":[8169,8248],"source":" A reference to a [CTime](../../atl-mfc-shared/reference/ctime-class.md) object."},{"content":"Return Value","pos":[8258,8270]},{"content":"Nonzero if successful; 0 if unsuccessful.","pos":[8274,8315]},{"content":"returns 0 only if <bpt id=\"p1\">[</bpt>FindNextFile<ept id=\"p1\">](#cgopherfilefind__findnextfile)</ept> has never been called on this <ph id=\"ph1\">`CGopherFileFind`</ph> object.","pos":[8334,8454],"source":" returns 0 only if [FindNextFile](#cgopherfilefind__findnextfile) has never been called on this `CGopherFileFind` object."},{"content":"Remarks","pos":[8464,8471]},{"pos":[8475,8583],"content":"You must call <bpt id=\"p1\">[</bpt>FindNextFile<ept id=\"p1\">](#cgopherfilefind__findnextfile)</ept> at least once before calling <ph id=\"ph1\">`GetCreationTime`</ph>.","source":"You must call [FindNextFile](#cgopherfilefind__findnextfile) at least once before calling `GetCreationTime`."},{"pos":[8591,9234],"content":"[!NOTE]\n Not all file systems use the same semantics to implement the time stamp returned by this function. This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute. See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats. On some operating systems, the returned time is in the time zone local to the machine were the file is located. See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information.","leadings":["","> "],"nodes":[{"content":" Not all file systems use the same semantics to implement the time stamp returned by this function. This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute. See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats. On some operating systems, the returned time is in the time zone local to the machine were the file is located. See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information.","pos":[8,641],"nodes":[{"content":"Not all file systems use the same semantics to implement the time stamp returned by this function.","pos":[1,99]},{"content":"This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute.","pos":[100,263]},{"content":"See the <bpt id=\"p1\">[</bpt>Win32_FIND_DATA<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa365740)</ept> structure for information about time formats.","pos":[264,395],"source":" See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats."},{"content":"On some operating systems, the returned time is in the time zone local to the machine were the file is located.","pos":[396,507]},{"content":"See the Win32 <bpt id=\"p1\">[</bpt>FileTimeToLocalFileTime<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms724277)</ept> API for more information.","pos":[508,633],"source":" See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information."}]}]},{"pos":[9295,9329],"content":"CGopherFileFind::GetLastAccessTime"},{"content":"Gets the time the specified file was last accessed.","pos":[9333,9384]},{"content":"Parameters","pos":[9531,9541]},{"content":"A reference to a <bpt id=\"p1\">[</bpt>CTime<ept id=\"p1\">](../../atl-mfc-shared/reference/ctime-class.md)</ept> object.","pos":[9558,9637],"source":" A reference to a [CTime](../../atl-mfc-shared/reference/ctime-class.md) object."},{"content":"A pointer to a <bpt id=\"p1\">[</bpt>FILETIME<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms724284)</ept> structure containing the time the file was last accessed.","pos":[9660,9803],"source":" A pointer to a [FILETIME](http://msdn.microsoft.com/library/windows/desktop/ms724284) structure containing the time the file was last accessed."},{"content":"Return Value","pos":[9813,9825]},{"content":"Nonzero if successful; 0 if unsuccessful.","pos":[9829,9870]},{"content":"returns 0 only if <bpt id=\"p1\">[</bpt>FindNextFile<ept id=\"p1\">](#cgopherfilefind__findnextfile)</ept> has never been called on this <ph id=\"ph1\">`CGopherFileFind`</ph> object.","pos":[9891,10011],"source":" returns 0 only if [FindNextFile](#cgopherfilefind__findnextfile) has never been called on this `CGopherFileFind` object."},{"content":"Remarks","pos":[10021,10028]},{"pos":[10032,10142],"content":"You must call <bpt id=\"p1\">[</bpt>FindNextFile<ept id=\"p1\">](#cgopherfilefind__findnextfile)</ept> at least once before calling <ph id=\"ph1\">`GetLastAccessTime`</ph>.","source":"You must call [FindNextFile](#cgopherfilefind__findnextfile) at least once before calling `GetLastAccessTime`."},{"pos":[10150,10793],"content":"[!NOTE]\n Not all file systems use the same semantics to implement the time stamp returned by this function. This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute. See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats. On some operating systems, the returned time is in the time zone local to the machine were the file is located. See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information.","leadings":["","> "],"nodes":[{"content":" Not all file systems use the same semantics to implement the time stamp returned by this function. This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute. See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats. On some operating systems, the returned time is in the time zone local to the machine were the file is located. See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information.","pos":[8,641],"nodes":[{"content":"Not all file systems use the same semantics to implement the time stamp returned by this function.","pos":[1,99]},{"content":"This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute.","pos":[100,263]},{"content":"See the <bpt id=\"p1\">[</bpt>Win32_FIND_DATA<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa365740)</ept> structure for information about time formats.","pos":[264,395],"source":" See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats."},{"content":"On some operating systems, the returned time is in the time zone local to the machine were the file is located.","pos":[396,507]},{"content":"See the Win32 <bpt id=\"p1\">[</bpt>FileTimeToLocalFileTime<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms724277)</ept> API for more information.","pos":[508,633],"source":" See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information."}]}]},{"pos":[10853,10886],"content":"CGopherFileFind::GetLastWriteTime"},{"content":"Gets the last time the file was changed.","pos":[10890,10930]},{"content":"Parameters","pos":[11075,11085]},{"content":"A pointer to a <bpt id=\"p1\">[</bpt>FILETIME<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms724284)</ept> structure containing the time the file was last written to.","pos":[11105,11250],"source":" A pointer to a [FILETIME](http://msdn.microsoft.com/library/windows/desktop/ms724284) structure containing the time the file was last written to."},{"content":"A reference to a <bpt id=\"p1\">[</bpt>CTime<ept id=\"p1\">](../../atl-mfc-shared/reference/ctime-class.md)</ept> object.","pos":[11270,11349],"source":" A reference to a [CTime](../../atl-mfc-shared/reference/ctime-class.md) object."},{"content":"Return Value","pos":[11359,11371]},{"content":"Nonzero if successful; 0 if unsuccessful.","pos":[11375,11416]},{"content":"returns 0 only if <bpt id=\"p1\">[</bpt>FindNextFile<ept id=\"p1\">](#cgopherfilefind__findnextfile)</ept> has never been called on this <ph id=\"ph1\">`CGopherFileFind`</ph> object.","pos":[11436,11556],"source":" returns 0 only if [FindNextFile](#cgopherfilefind__findnextfile) has never been called on this `CGopherFileFind` object."},{"content":"Remarks","pos":[11566,11573]},{"pos":[11577,11686],"content":"You must call <bpt id=\"p1\">[</bpt>FindNextFile<ept id=\"p1\">](#cgopherfilefind__findnextfile)</ept> at least once before calling <ph id=\"ph1\">`GetLastWriteTime`</ph>.","source":"You must call [FindNextFile](#cgopherfilefind__findnextfile) at least once before calling `GetLastWriteTime`."},{"pos":[11694,12337],"content":"[!NOTE]\n Not all file systems use the same semantics to implement the time stamp returned by this function. This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute. See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats. On some operating systems, the returned time is in the time zone local to the machine were the file is located. See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information.","leadings":["","> "],"nodes":[{"content":" Not all file systems use the same semantics to implement the time stamp returned by this function. This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute. See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats. On some operating systems, the returned time is in the time zone local to the machine were the file is located. See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information.","pos":[8,641],"nodes":[{"content":"Not all file systems use the same semantics to implement the time stamp returned by this function.","pos":[1,99]},{"content":"This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute.","pos":[100,263]},{"content":"See the <bpt id=\"p1\">[</bpt>Win32_FIND_DATA<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa365740)</ept> structure for information about time formats.","pos":[264,395],"source":" See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats."},{"content":"On some operating systems, the returned time is in the time zone local to the machine were the file is located.","pos":[396,507]},{"content":"See the Win32 <bpt id=\"p1\">[</bpt>FileTimeToLocalFileTime<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms724277)</ept> API for more information.","pos":[508,633],"source":" See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information."}]}]},{"pos":[12390,12416],"content":"CGopherFileFind::GetLength"},{"content":"Call this member function to get the length, in bytes, of the found file.","pos":[12420,12493]},{"content":"Return Value","pos":[12558,12570]},{"content":"The length, in bytes, of the found file.","pos":[12574,12614]},{"content":"Remarks","pos":[12624,12631]},{"pos":[12647,12793],"content":"uses the Win32 structure <bpt id=\"p1\">[</bpt>WIN32_FIND_DATA<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa365740)</ept> to get the value of the file size in bytes.","source":" uses the Win32 structure [WIN32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) to get the value of the file size in bytes."},{"pos":[12801,12974],"content":"[!NOTE]\n As of MFC 7.0, `GetLength` supports 64-bit integer types. Previously-existing code built with this newer version of the library may result in truncation warnings.","leadings":["","> "],"nodes":[{"content":" As of MFC 7.0, `GetLength` supports 64-bit integer types. Previously-existing code built with this newer version of the library may result in truncation warnings.","pos":[8,171],"nodes":[{"content":"As of MFC 7.0, <ph id=\"ph1\">`GetLength`</ph> supports 64-bit integer types.","pos":[1,58],"source":" As of MFC 7.0, `GetLength` supports 64-bit integer types."},{"content":"Previously-existing code built with this newer version of the library may result in truncation warnings.","pos":[59,163]}]}]},{"content":"Example","pos":[12984,12991]},{"pos":[12996,13120],"content":"See the example for <bpt id=\"p1\">[</bpt>CFile::GetLength<ept id=\"p1\">](../../mfc/reference/cfile-class.md#cfile__getlength)</ept> (the base class implementation).","source":"See the example for [CFile::GetLength](../../mfc/reference/cfile-class.md#cfile__getlength) (the base class implementation)."},{"pos":[13174,13201],"content":"CGopherFileFind::GetLocator"},{"pos":[13205,13384],"content":"Call this member function to get the <bpt id=\"p1\">[</bpt>CGopherLocator<ept id=\"p1\">](../../mfc/reference/cgopherlocator-class.md)</ept> object that <bpt id=\"p2\">[</bpt>FindFile<ept id=\"p2\">](#cgopherfilefind__findfile)</ept> uses to find the gopher file.","source":"Call this member function to get the [CGopherLocator](../../mfc/reference/cgopherlocator-class.md) object that [FindFile](#cgopherfilefind__findfile) uses to find the gopher file."},{"content":"Return Value","pos":[13447,13459]},{"pos":[13463,13489],"content":"A <ph id=\"ph1\">`CGopherLocator`</ph> object.","source":"A `CGopherLocator` object."},{"pos":[13546,13576],"content":"CGopherFileFind::GetScreenName"},{"content":"Call this member function to get the name of the gopher screen.","pos":[13580,13643]},{"content":"Return Value","pos":[13702,13714]},{"content":"The name of the gopher screen.","pos":[13718,13748]},{"pos":[13798,13821],"content":"CGopherFileFind::IsDots"},{"content":"Tests for the current directory and parent directory markers while iterating through files.","pos":[13825,13916]},{"content":"Return Value","pos":[13973,13985]},{"content":"Nonzero if the found file has the name \".\" or \"..\", which indicates that the found file is actually a directory.","pos":[13989,14101]},{"content":"Otherwise 0.","pos":[14102,14114]},{"content":"Remarks","pos":[14124,14131]},{"pos":[14135,14234],"content":"You must call <bpt id=\"p1\">[</bpt>FindNextFile<ept id=\"p1\">](#cgopherfilefind__findnextfile)</ept> at least once before calling <ph id=\"ph1\">`IsDots`</ph>.","source":"You must call [FindNextFile](#cgopherfilefind__findnextfile) at least once before calling `IsDots`."},{"content":"See Also","pos":[14243,14251]},{"content":"CFileFind Class","pos":[14256,14271]},{"content":"Hierarchy Chart","pos":[14318,14333]},{"content":"CFtpFileFind Class","pos":[14370,14388]},{"content":"CFileFind Class","pos":[14438,14453]},{"content":"CInternetFile Class","pos":[14500,14519]},{"content":"CGopherFile Class","pos":[14570,14587]},{"content":"CHttpFile Class","pos":[14636,14651]}],"content":"---\ntitle: \"CGopherFileFind Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CGopherFileFind\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CGopherFileFind class\"\n  - \"file searches [C++]\"\nms.assetid: 8465a979-6323-496d-ab4b-e81383fb999d\ncaps.latest.revision: 21\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CGopherFileFind Class\nAids in Internet file searches of gopher servers.  \n  \n> [!NOTE]\n>  The classes `CGopherConnection`, `CGopherFile`, `CGopherFileFind`, `CGopherLocator` and their members have been deprecated because they do not work on the Windows XP platform, but they will continue to work on earlier platforms.  \n  \n## Syntax  \n  \n```  \nclass CGopherFileFind : public CFileFind  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CGopherFileFind::CGopherFileFind](#cgopherfilefind__cgopherfilefind)|Constructs a `CGopherFileFind` object.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CGopherFileFind::FindFile](#cgopherfilefind__findfile)|Finds a file on a gopher server.|  \n|[CGopherFileFind::FindNextFile](#cgopherfilefind__findnextfile)|Continues a file search from a previous call to [FindFile](#cgopherfilefind__findfile).|  \n|[CGopherFileFind::GetCreationTime](#cgopherfilefind__getcreationtime)|Gets the time the specified file was created.|  \n|[CGopherFileFind::GetLastAccessTime](#cgopherfilefind__getlastaccesstime)|Gets the time the specified file was last accessed.|  \n|[CGopherFileFind::GetLastWriteTime](#cgopherfilefind__getlastwritetime)|Gets the time the specified file was last written to.|  \n|[CGopherFileFind::GetLength](#cgopherfilefind__getlength)|Gets the length of the found file, in bytes.|  \n|[CGopherFileFind::GetLocator](#cgopherfilefind__getlocator)|Get a `CGopherLocator` object.|  \n|[CGopherFileFind::GetScreenName](#cgopherfilefind__getscreenname)|Gets the name of a gopher screen.|  \n|[CGopherFileFind::IsDots](#cgopherfilefind__isdots)|Tests for the current directory and parent directory markers while iterating through files.|  \n  \n## Remarks  \n `CGopherFileFind` includes member functions that begin a search, locate a file, and return a file's URL.  \n  \n Other MFC classes designed for Internet and local file searched include [CFtpFileFind](../../mfc/reference/cftpfilefind-class.md) and [CFileFind](../../mfc/reference/cfilefind-class.md). Together with `CGopherFileFind`, these classes provide a seamless mechanism for the user to find specific files, regardless of the server protocol, file type, or location (either a local machine or a remote server.) Note that there is no MFC class for searching on HTTP servers because HTTP does not support the direct file manipulation required by searches.  \n  \n> [!NOTE]\n> `CGopherFileFind` does not support the following member functions of its base class [CFileFind](../../mfc/reference/cfilefind-class.md):  \n  \n- [GetRoot](../../mfc/reference/cfilefind-class.md#cfilefind__getroot)  \n  \n- [GetFileName](../../mfc/reference/cfilefind-class.md#cfilefind__getfilename)  \n  \n- [GetFilePath](../../mfc/reference/cfilefind-class.md#cfilefind__getfilepath)  \n  \n- [GetFileTitle](../../mfc/reference/cfilefind-class.md#cfilefind__getfiletitle)  \n  \n- [GetFileURL](../../mfc/reference/cfilefind-class.md#cfilefind__getfileurl)  \n  \n In addition, when used with `CGopherFileFind`, the `CFileFind` member function [IsDots](../../mfc/reference/cfilefind-class.md#cfilefind__isdots) is always **FALSE**.  \n  \n For more information about how to use `CGopherFileFind` and the other WinInet classes, see the article [Internet Programming with WinInet](../../mfc/win32-internet-extensions-wininet.md).  \n  \n## Inheritance Hierarchy  \n [CObject](../../mfc/reference/cobject-class.md)  \n  \n [CFileFind](../../mfc/reference/cfilefind-class.md)  \n  \n `CGopherFileFind`  \n  \n## Requirements  \n **Header:** afxinet.h  \n  \n##  <a name=\"cgopherfilefind__cgopherfilefind\"></a>  CGopherFileFind::CGopherFileFind  \n This member function is called to construct a `CGopherFileFind` object.  \n  \n```  \nexplicit CGopherFileFind(\n    CGopherConnection* pConnection,  \n    DWORD_PTR dwContext = 1);\n```  \n  \n### Parameters  \n `pConnection`  \n A pointer to a [CGopherConnection](../../mfc/reference/cgopherconnection-class.md) object.  \n  \n `dwContext`  \n The context identifier for the operation. See **Remarks** for more information about `dwContext`.  \n  \n### Remarks  \n The default value for `dwContext` is sent by MFC to the `CGopherFileFind` object from the [CInternetSession](../../mfc/reference/cinternetsession-class.md) object that created the `CGopherFileFind` object. When you construct a `CGopherFileFind` object, you can override the default to set the context identifier to a value of your choosing. The context identifier is returned to [CInternetSession::OnStatusCallback](../../mfc/reference/cinternetsession-class.md#cinternetsession__onstatuscallback) to provide status on the object with which it is identified. See the article [Internet First Steps: WinInet](../../mfc/wininet-basics.md) for more information about the context identifier.  \n  \n##  <a name=\"cgopherfilefind__findfile\"></a>  CGopherFileFind::FindFile  \n Call this member function to find a gopher file.  \n  \n```  \nvirtual BOOL FindFile(\n    CGopherLocator& refLocator,  \n    LPCTSTR pstrString,  \n    DWORD dwFlags = INTERNET_FLAG_RELOAD);\n\n \nvirtual BOOL FindFile(\n    LPCTSTR pstrString,  \n    DWORD dwFlags = INTERNET_FLAG_RELOAD);\n```  \n  \n### Parameters  \n `refLocator`  \n A reference to a [CGopherLocator](../../mfc/reference/cgopherlocator-class.md) object.  \n  \n *pstrString*  \n A pointer to a string containing the file name.  \n  \n `dwFlags`  \n The flags describing how to handle this session. The valid flags are:  \n  \n-   INTERNET_FLAG_RELOAD   Get the data from the remote server even if it is locally cached.  \n  \n-   INTERNET_FLAG_DONT_CACHE   Do not cache the data, either locally or in any gateways.  \n  \n-   INTERNET_FLAG_SECURE   Request secure transactions on the wire with Secure Sockets Layer or PCT. This flag is applicable to HTTP requests only.  \n  \n-   INTERNET_FLAG_USE_EXISTING   If possible, reuse the existing connections to the server for new **FindFile** requests, instead of creating a new session for each request.  \n  \n### Return Value  \n Nonzero if successful; otherwise 0. To get extended error information, call the Win32 function [GetLastError](http://msdn.microsoft.com/library/windows/desktop/ms679360).  \n  \n### Remarks  \n After calling **FindFile** to retrieve the first gopher object, you can call [FindNextFile](#cgopherfilefind__findnextfile) to retrieve subsequent gopher files.  \n  \n##  <a name=\"cgopherfilefind__findnextfile\"></a>  CGopherFileFind::FindNextFile  \n Call this member function to continue a file search begun with a call to [CGopherFileFind::FindFile](#cgopherfilefind__findfile).  \n  \n```  \nvirtual BOOL FindNextFile();\n```  \n  \n### Return Value  \n Nonzero if there are more files; zero if the file found is the last one in the directory or if an error occurred. To get extended error information, call the Win32 function [GetLastError](http://msdn.microsoft.com/library/windows/desktop/ms679360). If the file found is the last file in the directory, or if no matching files can be found, the `GetLastError` function returns ERROR_NO_MORE_FILES.  \n  \n##  <a name=\"cgopherfilefind__getcreationtime\"></a>  CGopherFileFind::GetCreationTime  \n Gets the creation time for the current file.  \n  \n```  \nvirtual BOOL GetCreationTime(FILETIME* pTimeStamp) const;\n\n \n \nvirtual BOOL GetCreationTime(CTime& refTime) const;\n\n \n```  \n  \n### Parameters  \n `pTimeStamp`  \n A pointer to a [FILETIME](http://msdn.microsoft.com/library/windows/desktop/ms724284) structure containing the time the file was created.  \n  \n `refTime`  \n A reference to a [CTime](../../atl-mfc-shared/reference/ctime-class.md) object.  \n  \n### Return Value  \n Nonzero if successful; 0 if unsuccessful. `GetCreationTime` returns 0 only if [FindNextFile](#cgopherfilefind__findnextfile) has never been called on this `CGopherFileFind` object.  \n  \n### Remarks  \n You must call [FindNextFile](#cgopherfilefind__findnextfile) at least once before calling `GetCreationTime`.  \n  \n> [!NOTE]\n>  Not all file systems use the same semantics to implement the time stamp returned by this function. This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute. See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats. On some operating systems, the returned time is in the time zone local to the machine were the file is located. See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information.  \n  \n##  <a name=\"cgopherfilefind__getlastaccesstime\"></a>  CGopherFileFind::GetLastAccessTime  \n Gets the time the specified file was last accessed.  \n  \n```  \nvirtual BOOL GetLastAccessTime(CTime& refTime) const;\n\n \n \nvirtual BOOL GetLastAccessTime(FILETIME* pTimeStamp) const;\n\n \n```  \n  \n### Parameters  \n `refTime`  \n A reference to a [CTime](../../atl-mfc-shared/reference/ctime-class.md) object.  \n  \n `pTimeStamp`  \n A pointer to a [FILETIME](http://msdn.microsoft.com/library/windows/desktop/ms724284) structure containing the time the file was last accessed.  \n  \n### Return Value  \n Nonzero if successful; 0 if unsuccessful. `GetLastAccessTime` returns 0 only if [FindNextFile](#cgopherfilefind__findnextfile) has never been called on this `CGopherFileFind` object.  \n  \n### Remarks  \n You must call [FindNextFile](#cgopherfilefind__findnextfile) at least once before calling `GetLastAccessTime`.  \n  \n> [!NOTE]\n>  Not all file systems use the same semantics to implement the time stamp returned by this function. This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute. See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats. On some operating systems, the returned time is in the time zone local to the machine were the file is located. See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information.  \n  \n##  <a name=\"cgopherfilefind__getlastwritetime\"></a>  CGopherFileFind::GetLastWriteTime  \n Gets the last time the file was changed.  \n  \n```  \nvirtual BOOL GetLastWriteTime(FILETIME* pTimeStamp) const;\n\n \n \nvirtual BOOL GetLastWriteTime(CTime& refTime) const;\n\n \n```  \n  \n### Parameters  \n `pTimeStamp`  \n A pointer to a [FILETIME](http://msdn.microsoft.com/library/windows/desktop/ms724284) structure containing the time the file was last written to.  \n  \n `refTime`  \n A reference to a [CTime](../../atl-mfc-shared/reference/ctime-class.md) object.  \n  \n### Return Value  \n Nonzero if successful; 0 if unsuccessful. `GetLastWriteTime` returns 0 only if [FindNextFile](#cgopherfilefind__findnextfile) has never been called on this `CGopherFileFind` object.  \n  \n### Remarks  \n You must call [FindNextFile](#cgopherfilefind__findnextfile) at least once before calling `GetLastWriteTime`.  \n  \n> [!NOTE]\n>  Not all file systems use the same semantics to implement the time stamp returned by this function. This function may return the same value returned by other time stamp functions if the underlying file system or server does not support keeping the time attribute. See the [Win32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) structure for information about time formats. On some operating systems, the returned time is in the time zone local to the machine were the file is located. See the Win32 [FileTimeToLocalFileTime](http://msdn.microsoft.com/library/windows/desktop/ms724277) API for more information.  \n  \n##  <a name=\"cgopherfilefind__getlength\"></a>  CGopherFileFind::GetLength  \n Call this member function to get the length, in bytes, of the found file.  \n  \n```  \nvirtual ULONGLONG GetLength() const;\n\n \n```  \n  \n### Return Value  \n The length, in bytes, of the found file.  \n  \n### Remarks  \n `GetLength` uses the Win32 structure [WIN32_FIND_DATA](http://msdn.microsoft.com/library/windows/desktop/aa365740) to get the value of the file size in bytes.  \n  \n> [!NOTE]\n>  As of MFC 7.0, `GetLength` supports 64-bit integer types. Previously-existing code built with this newer version of the library may result in truncation warnings.  \n  \n### Example  \n  See the example for [CFile::GetLength](../../mfc/reference/cfile-class.md#cfile__getlength) (the base class implementation).  \n  \n##  <a name=\"cgopherfilefind__getlocator\"></a>  CGopherFileFind::GetLocator  \n Call this member function to get the [CGopherLocator](../../mfc/reference/cgopherlocator-class.md) object that [FindFile](#cgopherfilefind__findfile) uses to find the gopher file.  \n  \n```  \nCGopherLocator GetLocator() const;\n\n \n```  \n  \n### Return Value  \n A `CGopherLocator` object.  \n  \n##  <a name=\"cgopherfilefind__getscreenname\"></a>  CGopherFileFind::GetScreenName  \n Call this member function to get the name of the gopher screen.  \n  \n```  \nCString GetScreenName() const;\n\n \n```  \n  \n### Return Value  \n The name of the gopher screen.  \n  \n##  <a name=\"cgopherfilefind__isdots\"></a>  CGopherFileFind::IsDots  \n Tests for the current directory and parent directory markers while iterating through files.  \n  \n```  \nvirtual BOOL IsDots() const;\n\n \n```  \n  \n### Return Value  \n Nonzero if the found file has the name \".\" or \"..\", which indicates that the found file is actually a directory. Otherwise 0.  \n  \n### Remarks  \n You must call [FindNextFile](#cgopherfilefind__findnextfile) at least once before calling `IsDots`.  \n  \n## See Also  \n [CFileFind Class](../../mfc/reference/cfilefind-class.md)   \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [CFtpFileFind Class](../../mfc/reference/cftpfilefind-class.md)   \n [CFileFind Class](../../mfc/reference/cfilefind-class.md)   \n [CInternetFile Class](../../mfc/reference/cinternetfile-class.md)   \n [CGopherFile Class](../../mfc/reference/cgopherfile-class.md)   \n [CHttpFile Class](../../mfc/reference/chttpfile-class.md)\n"}