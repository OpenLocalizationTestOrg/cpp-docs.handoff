{"nodes":[{"pos":[12,50],"content":"CMFCColorDialog Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CMFCColorDialog Class | Microsoft Docs","pos":[0,38]}]},{"pos":[1269,1290],"content":"CMFCColorDialog Class","linkify":"CMFCColorDialog Class","nodes":[{"content":"CMFCColorDialog Class","pos":[0,21]}]},{"pos":[1291,1359],"content":"The <ph id=\"ph1\">`CMFCColorDialog`</ph> class represents a color selection dialog box.","source":"The `CMFCColorDialog` class represents a color selection dialog box."},{"pos":[1368,1374],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1441,1448],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[1458,1477],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[1484,1488]},{"content":"Description","pos":[1489,1500]},{"pos":[1538,1607],"content":"<bpt id=\"p1\">[</bpt>CMFCColorDialog::CMFCColorDialog<ept id=\"p1\">](#cmfccolordialog__cmfccolordialog)</ept>","source":"[CMFCColorDialog::CMFCColorDialog](#cmfccolordialog__cmfccolordialog)"},{"pos":[1608,1646],"content":"Constructs a <ph id=\"ph1\">`CMFCColorDialog`</ph> object.","source":"Constructs a `CMFCColorDialog` object."},{"content":"Destructor.","pos":[1687,1698]},{"pos":[1709,1723],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[1730,1734]},{"content":"Description","pos":[1735,1746]},{"pos":[1784,1839],"content":"<bpt id=\"p1\">[</bpt>CMFCColorDialog::GetColor<ept id=\"p1\">](#cmfccolordialog__getcolor)</ept>","source":"[CMFCColorDialog::GetColor](#cmfccolordialog__getcolor)"},{"content":"Returns the current selected color.","pos":[1840,1875]},{"pos":[1880,1939],"content":"<bpt id=\"p1\">[</bpt>CMFCColorDialog::GetPalette<ept id=\"p1\">](#cmfccolordialog__getpalette)</ept>","source":"[CMFCColorDialog::GetPalette](#cmfccolordialog__getpalette)"},{"content":"Returns the color's palette.","pos":[1940,1968]},{"content":"Translates window messages before they are dispatched to the <bpt id=\"p1\">[</bpt>TranslateMessage<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms644955)</ept> and <bpt id=\"p2\">[</bpt>DispatchMessage<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/ms644934)</ept> Windows functions.","pos":[2012,2252],"source":"Translates window messages before they are dispatched to the [TranslateMessage](http://msdn.microsoft.com/library/windows/desktop/ms644955) and [DispatchMessage](http://msdn.microsoft.com/library/windows/desktop/ms644934) Windows functions."},{"content":"For syntax and more information, see <bpt id=\"p1\">[</bpt>CWnd::PreTranslateMessage<ept id=\"p1\">](../../mfc/reference/cwnd-class.md#cwnd__pretranslatemessage)</ept>.","pos":[2253,2379],"source":" For syntax and more information, see [CWnd::PreTranslateMessage](../../mfc/reference/cwnd-class.md#cwnd__pretranslatemessage)."},{"content":"(Overrides <ph id=\"ph1\">`CDialogEx::PreTranslateMessage`</ph>.)","pos":[2380,2425],"source":" (Overrides `CDialogEx::PreTranslateMessage`.)"},{"pos":[2430,2497],"content":"<bpt id=\"p1\">[</bpt>CMFCColorDialog::RebuildPalette<ept id=\"p1\">](#cmfccolordialog__rebuildpalette)</ept>","source":"[CMFCColorDialog::RebuildPalette](#cmfccolordialog__rebuildpalette)"},{"content":"Derives a palette from the system palette.","pos":[2498,2540]},{"pos":[2545,2614],"content":"<bpt id=\"p1\">[</bpt>CMFCColorDialog::SetCurrentColor<ept id=\"p1\">](#cmfccolordialog__setcurrentcolor)</ept>","source":"[CMFCColorDialog::SetCurrentColor](#cmfccolordialog__setcurrentcolor)"},{"content":"Sets the current selected color.","pos":[2615,2647]},{"pos":[2652,2713],"content":"<bpt id=\"p1\">[</bpt>CMFCColorDialog::SetNewColor<ept id=\"p1\">](#cmfccolordialog__setnewcolor)</ept>","source":"[CMFCColorDialog::SetNewColor](#cmfccolordialog__setnewcolor)"},{"content":"Sets the color most equivalent to a specified RGB value.","pos":[2714,2770]},{"pos":[2775,2834],"content":"<bpt id=\"p1\">[</bpt>CMFCColorDialog::SetPageOne<ept id=\"p1\">](#cmfccolordialog__setpageone)</ept>","source":"[CMFCColorDialog::SetPageOne](#cmfccolordialog__setpageone)"},{"content":"Selects an RGB value for the first property page.","pos":[2835,2884]},{"pos":[2889,2948],"content":"<bpt id=\"p1\">[</bpt>CMFCColorDialog::SetPageTwo<ept id=\"p1\">](#cmfccolordialog__setpagetwo)</ept>","source":"[CMFCColorDialog::SetPageTwo](#cmfccolordialog__setpagetwo)"},{"content":"Selects an RGB value for the second property page.","pos":[2949,2999]},{"pos":[3010,3032],"content":"Protected Data Members","linkify":"Protected Data Members","nodes":[{"content":"Protected Data Members","pos":[0,22]}]},{"content":"Name","pos":[3039,3043]},{"content":"Description","pos":[3044,3055]},{"pos":[3110,3278],"content":"<ph id=\"ph1\">`TRUE`</ph> if the color selection dialog box uses its own color palette, or <ph id=\"ph2\">`FALSE`</ph> if the dialog box uses a palette that is specified in the <ph id=\"ph3\">`CMFCColorDialog`</ph> constructor.","source":"`TRUE` if the color selection dialog box uses its own color palette, or `FALSE` if the dialog box uses a palette that is specified in the `CMFCColorDialog` constructor."},{"pos":[3299,3392],"content":"<ph id=\"ph1\">`TRUE`</ph> while the user is selecting a color from the selection dialog box; otherwise, <ph id=\"ph2\">`FALSE`</ph>.","source":"`TRUE` while the user is selecting a color from the selection dialog box; otherwise, `FALSE`."},{"content":"The color button that the user has selected.","pos":[3416,3460]},{"content":"The currently selected color.","pos":[3482,3511]},{"content":"The cursor that is used to pick a color.","pos":[3531,3571]},{"content":"The prospective selected color, which can be permanently selected or reverted to the original color.","pos":[3589,3689]},{"content":"A pointer to the first property page of the color selection property sheet.","pos":[3714,3789]},{"content":"A pointer to the second property page of the color selection property sheet.","pos":[3814,3890]},{"content":"The current logical palette.","pos":[3908,3936]},{"content":"A pointer to the property sheet for the color selection dialog box.","pos":[3956,4023]},{"content":"A color picker control object.","pos":[4042,4072]},{"content":"A static control that is a placeholder for the color picker property sheet.","pos":[4102,4177]},{"pos":[4187,4194],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The color selection dialog box is displayed as a property sheet with two pages.","pos":[4198,4277]},{"content":"On the first page, you select a standard color from the system palette; on the second page, you select a custom color.","pos":[4278,4396]},{"content":"You can construct a <ph id=\"ph1\">`CMFCColorDialog`</ph> object on the stack and then call <ph id=\"ph2\">`DoModal`</ph>, passing the initial color as a parameter to the <ph id=\"ph3\">`CMFCColorDialog`</ph> constructor.","pos":[4403,4564],"source":"You can construct a `CMFCColorDialog` object on the stack and then call `DoModal`, passing the initial color as a parameter to the `CMFCColorDialog` constructor."},{"content":"The color selection dialog box then creates several <bpt id=\"p1\">[</bpt>CMFCColorPickerCtrl Class<ept id=\"p1\">](../../mfc/reference/cmfccolorpickerctrl-class.md)</ept> objects to handle each color palette.","pos":[4565,4732],"source":" The color selection dialog box then creates several [CMFCColorPickerCtrl Class](../../mfc/reference/cmfccolorpickerctrl-class.md) objects to handle each color palette."},{"pos":[4741,4762],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[4766,4813],"content":"<bpt id=\"p1\">[</bpt>CObject<ept id=\"p1\">](../../mfc/reference/cobject-class.md)</ept>","source":"[CObject](../../mfc/reference/cobject-class.md)"},{"pos":[4820,4873],"content":"<bpt id=\"p1\">[</bpt>CCmdTarget<ept id=\"p1\">](../../mfc/reference/ccmdtarget-class.md)</ept>","source":"[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)"},{"pos":[4880,4921],"content":"<bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept>","source":"[CWnd](../../mfc/reference/cwnd-class.md)"},{"pos":[4928,4975],"content":"<bpt id=\"p1\">[</bpt>CDialog<ept id=\"p1\">](../../mfc/reference/cdialog-class.md)</ept>","source":"[CDialog](../../mfc/reference/cdialog-class.md)"},{"pos":[4982,5033],"content":"<bpt id=\"p1\">[</bpt>CDialogEx<ept id=\"p1\">](../../mfc/reference/cdialogex-class.md)</ept>","source":"[CDialogEx](../../mfc/reference/cdialogex-class.md)"},{"pos":[5040,5103],"content":"<bpt id=\"p1\">[</bpt>CMFCColorDialog<ept id=\"p1\">](../../mfc/reference/cmfccolordialog-class.md)</ept>","source":"[CMFCColorDialog](../../mfc/reference/cmfccolordialog-class.md)"},{"pos":[5112,5119],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example demonstrates how to configure a color dialog by using various methods in the <ph id=\"ph1\">`CMFCColorDialog`</ph> class.","pos":[5123,5246],"source":"The following example demonstrates how to configure a color dialog by using various methods in the `CMFCColorDialog` class."},{"content":"The example shows how to set the current and the new colors of the dialog, and how to set the red, green, and blue components of a selected color on the two property pages of the color dialog.","pos":[5247,5439]},{"content":"This example is part of the <bpt id=\"p1\">[</bpt>New Controls sample<ept id=\"p1\">](../../visual-cpp-samples.md)</ept>.","pos":[5440,5519],"source":" This example is part of the [New Controls sample](../../visual-cpp-samples.md)."},{"pos":[5526,5625],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFC_NewControls#3<ept id=\"p2\">](../../mfc/reference/codesnippet/cpp/cmfccolordialog-class_1.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFC_NewControls#3](../../mfc/reference/codesnippet/cpp/cmfccolordialog-class_1.cpp)]"},{"pos":[5634,5646],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[5650,5678],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxcolordialog.h","source":"**Header:** afxcolordialog.h"},{"pos":[5688,5769],"content":"<bpt id=\"p1\">&lt;a name=\"cmfccolordialog__cmfccolordialog\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCColorDialog::CMFCColorDialog","linkify":"<a name=\"cmfccolordialog__cmfccolordialog\"></a>  CMFCColorDialog::CMFCColorDialog","source":"<a name=\"cmfccolordialog__cmfccolordialog\"></a>  CMFCColorDialog::CMFCColorDialog"},{"pos":[5773,5811],"content":"Constructs a <ph id=\"ph1\">`CMFCColorDialog`</ph> object.","source":"Constructs a `CMFCColorDialog` object."},{"pos":[5956,5966],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`clrInit`</ph>","pos":[5970,5984],"source":"[in] `clrInit`"},{"content":"The default color selection.","pos":[5988,6016]},{"content":"If no value is specified, the default is RGB(0,0,0) (black).","pos":[6017,6077]},{"content":"[in] <ph id=\"ph1\">`dwFlags`</ph>","pos":[6084,6098],"source":"[in] `dwFlags`"},{"content":"(Reserved.)","pos":[6102,6113]},{"content":"[in] <ph id=\"ph1\">`pParentWnd`</ph>","pos":[6120,6137],"source":"[in] `pParentWnd`"},{"content":"A pointer to the dialog box's parent or owner window.","pos":[6141,6194]},{"content":"[in] <ph id=\"ph1\">`hPal`</ph>","pos":[6201,6212],"source":"[in] `hPal`"},{"content":"A handle to a color palette.","pos":[6216,6244]},{"pos":[6254,6266],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[6276,6283],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[6293,6360],"content":"<bpt id=\"p1\">&lt;a name=\"cmfccolordialog__getcolor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCColorDialog::GetColor","linkify":"<a name=\"cmfccolordialog__getcolor\"></a>  CMFCColorDialog::GetColor","source":"<a name=\"cmfccolordialog__getcolor\"></a>  CMFCColorDialog::GetColor"},{"content":"Retrieves the color that the user selects from the color dialog.","pos":[6364,6428]},{"pos":[6483,6495],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[6499,6659],"content":"A <bpt id=\"p1\">[</bpt>COLORREF<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd183449)</ept> value that contains the RGB information for the color selected in the color dialog box.","source":"A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) value that contains the RGB information for the color selected in the color dialog box."},{"pos":[6669,6676],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[6680,6735],"content":"Call this function after you call the <ph id=\"ph1\">`DoModal`</ph> method.","source":"Call this function after you call the `DoModal` method."},{"pos":[6745,6816],"content":"<bpt id=\"p1\">&lt;a name=\"cmfccolordialog__getpalette\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCColorDialog::GetPalette","linkify":"<a name=\"cmfccolordialog__getpalette\"></a>  CMFCColorDialog::GetPalette","source":"<a name=\"cmfccolordialog__getpalette\"></a>  CMFCColorDialog::GetPalette"},{"content":"Retrieves the color palette that is available in the current color dialog.","pos":[6820,6894]},{"pos":[6952,6964],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[6968,7059],"content":"A pointer to the <ph id=\"ph1\">`CPalette`</ph> object that was specified in the <ph id=\"ph2\">`CMFCColorDialog`</ph> constructor.","source":"A pointer to the `CPalette` object that was specified in the `CMFCColorDialog` constructor."},{"pos":[7069,7076],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The color palette specifies the colors that the user can choose.","pos":[7080,7144]},{"pos":[7154,7233],"content":"<bpt id=\"p1\">&lt;a name=\"cmfccolordialog__rebuildpalette\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCColorDialog::RebuildPalette","linkify":"<a name=\"cmfccolordialog__rebuildpalette\"></a>  CMFCColorDialog::RebuildPalette","source":"<a name=\"cmfccolordialog__rebuildpalette\"></a>  CMFCColorDialog::RebuildPalette"},{"content":"Derives a palette from the system palette.","pos":[7237,7279]},{"pos":[7327,7408],"content":"<bpt id=\"p1\">&lt;a name=\"cmfccolordialog__setcurrentcolor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCColorDialog::SetCurrentColor","linkify":"<a name=\"cmfccolordialog__setcurrentcolor\"></a>  CMFCColorDialog::SetCurrentColor","source":"<a name=\"cmfccolordialog__setcurrentcolor\"></a>  CMFCColorDialog::SetCurrentColor"},{"content":"Sets the current color of the dialog box.","pos":[7412,7453]},{"pos":[7514,7524],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`rgb`</ph>","pos":[7528,7538],"source":"[in] `rgb`"},{"content":"An RGB color value","pos":[7542,7560]},{"pos":[7570,7577],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[7587,7660],"content":"<bpt id=\"p1\">&lt;a name=\"cmfccolordialog__setnewcolor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCColorDialog::SetNewColor","linkify":"<a name=\"cmfccolordialog__setnewcolor\"></a>  CMFCColorDialog::SetNewColor","source":"<a name=\"cmfccolordialog__setnewcolor\"></a>  CMFCColorDialog::SetNewColor"},{"content":"Sets the current color to the color in the current palette that is most similar.","pos":[7664,7744]},{"pos":[7801,7811],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`rgb`</ph>","pos":[7815,7825],"source":"[in] `rgb`"},{"content":"A <bpt id=\"p1\">[</bpt>COLORREF<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd183449)</ept> that specifies an RGB color.","pos":[7829,7930],"source":" A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) that specifies an RGB color."},{"pos":[7940,7947],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[7957,8028],"content":"<bpt id=\"p1\">&lt;a name=\"cmfccolordialog__setpageone\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCColorDialog::SetPageOne","linkify":"<a name=\"cmfccolordialog__setpageone\"></a>  CMFCColorDialog::SetPageOne","source":"<a name=\"cmfccolordialog__setpageone\"></a>  CMFCColorDialog::SetPageOne"},{"content":"Explicitly specifies the red, green, and blue components of a selected color on the first property page of a color dialog.","pos":[8032,8154]},{"pos":[8237,8247],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`R`</ph>","pos":[8251,8259],"source":"[in] `R`"},{"content":"Specifies the red component of the RGB value.","pos":[8263,8308]},{"content":"[in] <ph id=\"ph1\">`G`</ph>","pos":[8315,8323],"source":"[in] `G`"},{"content":"Specifies the green component of the RGB value.","pos":[8327,8374]},{"content":"[in] <ph id=\"ph1\">`B`</ph>","pos":[8381,8389],"source":"[in] `B`"},{"content":"Specifies the blue component of the RGB value.","pos":[8393,8439]},{"pos":[8449,8456],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[8466,8537],"content":"<bpt id=\"p1\">&lt;a name=\"cmfccolordialog__setpagetwo\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCColorDialog::SetPageTwo","linkify":"<a name=\"cmfccolordialog__setpagetwo\"></a>  CMFCColorDialog::SetPageTwo","source":"<a name=\"cmfccolordialog__setpagetwo\"></a>  CMFCColorDialog::SetPageTwo"},{"content":"Explicitly specifies the red, green, and blue components of a selected color on the second property page of a color dialog.","pos":[8541,8664]},{"pos":[8747,8757],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`R`</ph>","pos":[8761,8769],"source":"[in] `R`"},{"content":"Specifies a red component of the RGB value","pos":[8773,8815]},{"content":"[in] <ph id=\"ph1\">`G`</ph>","pos":[8822,8830],"source":"[in] `G`"},{"content":"Specifies a green component of an RGB value","pos":[8834,8877]},{"content":"[in] <ph id=\"ph1\">`B`</ph>","pos":[8884,8892],"source":"[in] `B`"},{"content":"Specifies a blue component of an RGB value","pos":[8896,8938]},{"pos":[8948,8955],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[8964,8972],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Hierarchy Chart<ept id=\"p1\">](../../mfc/hierarchy-chart.md)</ept><ph id=\"ph1\"> </ph>","pos":[8976,9024],"source":"[Hierarchy Chart](../../mfc/hierarchy-chart.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Classes<ept id=\"p1\">](../../mfc/reference/mfc-classes.md)</ept><ph id=\"ph1\"> </ph>","pos":[9027,9074],"source":" [Classes](../../mfc/reference/mfc-classes.md) "},{"content":"<bpt id=\"p1\"> [</bpt>CMFCColorPickerCtrl Class<ept id=\"p1\">](../../mfc/reference/cmfccolorpickerctrl-class.md)</ept>","pos":[9077,9155],"source":" [CMFCColorPickerCtrl Class](../../mfc/reference/cmfccolorpickerctrl-class.md)"}],"content":"---\ntitle: \"CMFCColorDialog Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CMFCColorDialog\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CMFCColorDialog::m_CurrentColor data member\"\n  - \"CMFCColorDialog::m_pPropSheet data member\"\n  - \"CMFCColorDialog::m_btnColorSelect data member\"\n  - \"CMFCColorDialog class\"\n  - \"CMFCColorDialog::m_wndColors data member\"\n  - \"CMFCColorDialog::m_bIsMyPalette data member\"\n  - \"CMFCColorDialog::m_pColourSheetTwo data member\"\n  - \"CMFCColorDialog::m_NewColor data member\"\n  - \"CMFCColorDialog::m_pPalette data member\"\n  - \"CMFCColorDialog::m_wndStaticPlaceHolder data member\"\n  - \"CMFCColorDialog::m_pColourSheetOne data member\"\n  - \"CMFCColorDialog::m_hcurPicker data member\"\n  - \"CMFCColorDialog::PreTranslateMessage method\"\n  - \"CMFCColorDialog::m_bPickerMode data member\"\nms.assetid: 235bbbbc-a3b1-46e0-801b-fb55093ec579\ncaps.latest.revision: 30\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CMFCColorDialog Class\nThe `CMFCColorDialog` class represents a color selection dialog box.  \n  \n## Syntax  \n  \n```  \nclass CMFCColorDialog : public CDialogEx  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCColorDialog::CMFCColorDialog](#cmfccolordialog__cmfccolordialog)|Constructs a `CMFCColorDialog` object.|  \n|`CMFCColorDialog::~CMFCColorDialog`|Destructor.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCColorDialog::GetColor](#cmfccolordialog__getcolor)|Returns the current selected color.|  \n|[CMFCColorDialog::GetPalette](#cmfccolordialog__getpalette)|Returns the color's palette.|  \n|`CMFCColorDialog::PreTranslateMessage`|Translates window messages before they are dispatched to the [TranslateMessage](http://msdn.microsoft.com/library/windows/desktop/ms644955) and [DispatchMessage](http://msdn.microsoft.com/library/windows/desktop/ms644934) Windows functions. For syntax and more information, see [CWnd::PreTranslateMessage](../../mfc/reference/cwnd-class.md#cwnd__pretranslatemessage). (Overrides `CDialogEx::PreTranslateMessage`.)|  \n|[CMFCColorDialog::RebuildPalette](#cmfccolordialog__rebuildpalette)|Derives a palette from the system palette.|  \n|[CMFCColorDialog::SetCurrentColor](#cmfccolordialog__setcurrentcolor)|Sets the current selected color.|  \n|[CMFCColorDialog::SetNewColor](#cmfccolordialog__setnewcolor)|Sets the color most equivalent to a specified RGB value.|  \n|[CMFCColorDialog::SetPageOne](#cmfccolordialog__setpageone)|Selects an RGB value for the first property page.|  \n|[CMFCColorDialog::SetPageTwo](#cmfccolordialog__setpagetwo)|Selects an RGB value for the second property page.|  \n  \n### Protected Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|`m_bIsMyPalette`|`TRUE` if the color selection dialog box uses its own color palette, or `FALSE` if the dialog box uses a palette that is specified in the `CMFCColorDialog` constructor.|  \n|`m_bPickerMode`|`TRUE` while the user is selecting a color from the selection dialog box; otherwise, `FALSE`.|  \n|`m_btnColorSelect`|The color button that the user has selected.|  \n|`m_CurrentColor`|The currently selected color.|  \n|`m_hcurPicker`|The cursor that is used to pick a color.|  \n|`m_NewColor`|The prospective selected color, which can be permanently selected or reverted to the original color.|  \n|`m_pColourSheetOne`|A pointer to the first property page of the color selection property sheet.|  \n|`m_pColourSheetTwo`|A pointer to the second property page of the color selection property sheet.|  \n|`m_pPalette`|The current logical palette.|  \n|`m_pPropSheet`|A pointer to the property sheet for the color selection dialog box.|  \n|`m_wndColors`|A color picker control object.|  \n|`m_wndStaticPlaceHolder`|A static control that is a placeholder for the color picker property sheet.|  \n  \n## Remarks  \n The color selection dialog box is displayed as a property sheet with two pages. On the first page, you select a standard color from the system palette; on the second page, you select a custom color.  \n  \n You can construct a `CMFCColorDialog` object on the stack and then call `DoModal`, passing the initial color as a parameter to the `CMFCColorDialog` constructor. The color selection dialog box then creates several [CMFCColorPickerCtrl Class](../../mfc/reference/cmfccolorpickerctrl-class.md) objects to handle each color palette.  \n  \n## Inheritance Hierarchy  \n [CObject](../../mfc/reference/cobject-class.md)  \n  \n [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  \n  \n [CWnd](../../mfc/reference/cwnd-class.md)  \n  \n [CDialog](../../mfc/reference/cdialog-class.md)  \n  \n [CDialogEx](../../mfc/reference/cdialogex-class.md)  \n  \n [CMFCColorDialog](../../mfc/reference/cmfccolordialog-class.md)  \n  \n## Example  \n The following example demonstrates how to configure a color dialog by using various methods in the `CMFCColorDialog` class. The example shows how to set the current and the new colors of the dialog, and how to set the red, green, and blue components of a selected color on the two property pages of the color dialog. This example is part of the [New Controls sample](../../visual-cpp-samples.md).  \n  \n [!code-cpp[NVC_MFC_NewControls#3](../../mfc/reference/codesnippet/cpp/cmfccolordialog-class_1.cpp)]  \n  \n## Requirements  \n **Header:** afxcolordialog.h  \n  \n##  <a name=\"cmfccolordialog__cmfccolordialog\"></a>  CMFCColorDialog::CMFCColorDialog  \n Constructs a `CMFCColorDialog` object.  \n  \n```  \nCMFCColorDialog(\n    COLORREF clrInit=0,  \n    DWORD dwFlags=0,  \n    CWnd* pParentWnd=NULL,  \n    HPALETTE hPal=NULL);\n```  \n  \n### Parameters  \n [in] `clrInit`  \n The default color selection. If no value is specified, the default is RGB(0,0,0) (black).  \n  \n [in] `dwFlags`  \n (Reserved.)  \n  \n [in] `pParentWnd`  \n A pointer to the dialog box's parent or owner window.  \n  \n [in] `hPal`  \n A handle to a color palette.  \n  \n### Return Value  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolordialog__getcolor\"></a>  CMFCColorDialog::GetColor  \n Retrieves the color that the user selects from the color dialog.  \n  \n```  \nCOLORREF GetColor() const;\n\n \n```  \n  \n### Return Value  \n A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) value that contains the RGB information for the color selected in the color dialog box.  \n  \n### Remarks  \n Call this function after you call the `DoModal` method.  \n  \n##  <a name=\"cmfccolordialog__getpalette\"></a>  CMFCColorDialog::GetPalette  \n Retrieves the color palette that is available in the current color dialog.  \n  \n```  \nCPalette* GetPalette() const;\n\n \n```  \n  \n### Return Value  \n A pointer to the `CPalette` object that was specified in the `CMFCColorDialog` constructor.  \n  \n### Remarks  \n The color palette specifies the colors that the user can choose.  \n  \n##  <a name=\"cmfccolordialog__rebuildpalette\"></a>  CMFCColorDialog::RebuildPalette  \n Derives a palette from the system palette.  \n  \n```  \nvoid RebuildPalette();\n```  \n  \n##  <a name=\"cmfccolordialog__setcurrentcolor\"></a>  CMFCColorDialog::SetCurrentColor  \n Sets the current color of the dialog box.  \n  \n```  \nvoid SetCurrentColor(COLORREF rgb);\n```  \n  \n### Parameters  \n [in] `rgb`  \n An RGB color value  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolordialog__setnewcolor\"></a>  CMFCColorDialog::SetNewColor  \n Sets the current color to the color in the current palette that is most similar.  \n  \n```  \nvoid SetNewColor(COLORREF rgb);\n```  \n  \n### Parameters  \n [in] `rgb`  \n A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) that specifies an RGB color.  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolordialog__setpageone\"></a>  CMFCColorDialog::SetPageOne  \n Explicitly specifies the red, green, and blue components of a selected color on the first property page of a color dialog.  \n  \n```  \nvoid SetPageOne(\n    BYTE R,  \n    BYTE G,  \n    BYTE B);\n```  \n  \n### Parameters  \n [in] `R`  \n Specifies the red component of the RGB value.  \n  \n [in] `G`  \n Specifies the green component of the RGB value.  \n  \n [in] `B`  \n Specifies the blue component of the RGB value.  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolordialog__setpagetwo\"></a>  CMFCColorDialog::SetPageTwo  \n Explicitly specifies the red, green, and blue components of a selected color on the second property page of a color dialog.  \n  \n```  \nvoid SetPageTwo(\n    BYTE R,  \n    BYTE G,  \n    BYTE B);\n```  \n  \n### Parameters  \n [in] `R`  \n Specifies a red component of the RGB value  \n  \n [in] `G`  \n Specifies a green component of an RGB value  \n  \n [in] `B`  \n Specifies a blue component of an RGB value  \n  \n### Remarks  \n  \n## See Also  \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [Classes](../../mfc/reference/mfc-classes.md)   \n [CMFCColorPickerCtrl Class](../../mfc/reference/cmfccolorpickerctrl-class.md)\n"}