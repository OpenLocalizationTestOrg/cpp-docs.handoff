{"nodes":[{"pos":[12,37],"content":"novtable | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"novtable | Microsoft Docs","pos":[0,25]}]},{"content":"novtable","pos":[674,682]},{"content":"Microsoft Specific","pos":[686,704]},{"pos":[708,750],"content":"This is a <ph id=\"ph1\">`__declspec`</ph> extended attribute.","source":"This is a `__declspec` extended attribute."},{"content":"This form of <ph id=\"ph1\">`__declspec`</ph> can be applied to any class declaration, but should only be applied to pure interface classes, that is, classes that will never be instantiated on their own.","pos":[757,940],"source":"This form of `__declspec` can be applied to any class declaration, but should only be applied to pure interface classes, that is, classes that will never be instantiated on their own."},{"content":"The <ph id=\"ph1\">`__declspec`</ph> stops the compiler from generating code to initialize the vfptr in the constructor(s) and destructor of the class.","pos":[941,1072],"source":" The `__declspec` stops the compiler from generating code to initialize the vfptr in the constructor(s) and destructor of the class."},{"content":"In many cases, this removes the only references to the vtable that are associated with the class and, thus, the linker will remove it.","pos":[1073,1207]},{"content":"Using this form of <ph id=\"ph1\">`__declspec`</ph> can result in a significant reduction in code size.","pos":[1208,1291],"source":" Using this form of `__declspec` can result in a significant reduction in code size."},{"pos":[1298,1433],"content":"If you attempt to instantiate a class marked with <ph id=\"ph1\">`novtable`</ph> and then access a class member, you will receive an access violation (AV).","source":"If you attempt to instantiate a class marked with `novtable` and then access a class member, you will receive an access violation (AV)."},{"content":"Example","pos":[1442,1449]},{"content":"END Microsoft Specific","pos":[1835,1857]},{"content":"See Also","pos":[1866,1874]},{"content":"__declspec","pos":[1879,1889]},{"content":"Keywords","pos":[1916,1924]}],"content":"---\ntitle: \"novtable | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"language-reference\"\nf1_keywords: \n  - \"novtable\"\n  - \"novtable_cpp\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"novtable __declspec keyword\"\n  - \"__declspec keyword [C++], novtable\"\nms.assetid: cfef09c5-8c1e-4b14-8a72-7d726ded4484\ncaps.latest.revision: 11\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# novtable\n## Microsoft Specific  \n This is a `__declspec` extended attribute.  \n  \n This form of `__declspec` can be applied to any class declaration, but should only be applied to pure interface classes, that is, classes that will never be instantiated on their own. The `__declspec` stops the compiler from generating code to initialize the vfptr in the constructor(s) and destructor of the class. In many cases, this removes the only references to the vtable that are associated with the class and, thus, the linker will remove it. Using this form of `__declspec` can result in a significant reduction in code size.  \n  \n If you attempt to instantiate a class marked with `novtable` and then access a class member, you will receive an access violation (AV).  \n  \n## Example  \n  \n```  \n// novtable.cpp  \n#include <stdio.h>  \n  \nstruct __declspec(novtable) X {  \n   virtual void mf();  \n};  \n  \nstruct Y : public X {  \n   void mf() {  \n      printf_s(\"In Y\\n\");  \n   }  \n};  \n  \nint main() {  \n   // X *pX = new X();  \n   // pX->mf();   // Causes a runtime access violation.  \n  \n   Y *pY = new Y();  \n   pY->mf();  \n}  \n```  \n  \n```Output  \nIn Y  \n```  \n  \n## END Microsoft Specific  \n  \n## See Also  \n [__declspec](../cpp/declspec.md)   \n [Keywords](../cpp/keywords-cpp.md)"}