{"nodes":[{"pos":[12,80],"content":"How to: Convert char * String to System::Byte Array | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Convert char * String to System::Byte Array | Microsoft Docs","pos":[0,68]}]},{"content":"How to: Convert char * String to System::Byte Array","pos":[742,793]},{"pos":[794,938],"content":"The most efficient way to convert a <ph id=\"ph1\">`char *`</ph> string to a &lt;xref:System.Byte&gt; array is to use &lt;xref:System.Runtime.InteropServices.Marshal&gt; class.","source":"The most efficient way to convert a `char *` string to a <xref:System.Byte> array is to use <xref:System.Runtime.InteropServices.Marshal> class."},{"content":"Example","pos":[947,954]},{"content":"See Also","pos":[1670,1678]},{"content":"Using C++ Interop (Implicit PInvoke)","pos":[1683,1719]}],"content":"---\ntitle: \"How to: Convert char * String to System::Byte Array | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"get-started-article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"examples [C++], strings\"\n  - \"arrays [C++], character\"\n  - \"character arrays, converting to System::Byte arrays\"\n  - \"examples [C++], arrays\"\nms.assetid: de9bc4eb-773c-4796-a496-9b90ca986503\ncaps.latest.revision: 12\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# How to: Convert char * String to System::Byte Array\nThe most efficient way to convert a `char *` string to a <xref:System.Byte> array is to use <xref:System.Runtime.InteropServices.Marshal> class.  \n  \n## Example  \n  \n```  \n// convert_native_string_to_Byte_array.cpp  \n// compile with: /clr  \n#include <string.h>  \n  \nusing namespace System;  \nusing namespace System::Runtime::InteropServices;  \n  \nint main() {  \n   char buf[] = \"Native String\";  \n   int len = strlen(buf);  \n  \n   array< Byte >^ byteArray = gcnew array< Byte >(len + 2);  \n  \n   // convert native pointer to System::IntPtr with C-Style cast  \n   Marshal::Copy((IntPtr)buf,byteArray, 0, len);  \n  \n   for ( int i = byteArray->GetLowerBound(0); i <= byteArray->GetUpperBound(0); i++ ) {  \n      char dc =  *(Byte^)   byteArray->GetValue(i);  \n      Console::Write((Char)dc);  \n   }  \n  \n   Console::WriteLine();  \n}  \n```  \n  \n```  \nNative String  \n```  \n  \n## See Also  \n [Using C++ Interop (Implicit PInvoke)](../dotnet/using-cpp-interop-implicit-pinvoke.md)"}