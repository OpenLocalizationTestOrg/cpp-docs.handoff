{"nodes":[{"pos":[12,46],"content":"wctomb, _wctomb_l | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"wctomb, _wctomb_l | Microsoft Docs","pos":[0,34]}]},{"pos":[1136,1153],"content":"wctomb, _wctomb_l","linkify":"wctomb, _wctomb_l","nodes":[{"content":"wctomb, _wctomb_l","pos":[0,17]}]},{"content":"Convert a wide character to the corresponding multibyte character.","pos":[1154,1220]},{"content":"More secure versions of these functions are available; see <bpt id=\"p1\">[</bpt>wctomb_s, _wctomb_s_l<ept id=\"p1\">](../../c-runtime-library/reference/wctomb-s-wctomb-s-l.md)</ept>.","pos":[1221,1362],"source":" More secure versions of these functions are available; see [wctomb_s, _wctomb_s_l](../../c-runtime-library/reference/wctomb-s-wctomb-s-l.md)."},{"pos":[1371,1377],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1544,1554],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The address of a multibyte character.","pos":[1570,1607]},{"content":"A wide character.","pos":[1625,1642]},{"pos":[1651,1663],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"If <ph id=\"ph1\">`wctomb`</ph> converts the wide character to a multibyte character, it returns the number of bytes (which is never greater than <ph id=\"ph2\">`MB_CUR_MAX`</ph>) in the wide character.","pos":[1667,1829],"source":"If `wctomb` converts the wide character to a multibyte character, it returns the number of bytes (which is never greater than `MB_CUR_MAX`) in the wide character."},{"content":"If <ph id=\"ph1\">`wchar`</ph> is the wide-character null character (L'\\0'), <ph id=\"ph2\">`wctomb`</ph> returns 1.","pos":[1830,1906],"source":" If `wchar` is the wide-character null character (L'\\0'), `wctomb` returns 1."},{"content":"If the target pointer <ph id=\"ph1\">`mbchar`</ph> is NULL, <ph id=\"ph2\">`wctomb`</ph> returns 0.","pos":[1907,1966],"source":" If the target pointer `mbchar` is NULL, `wctomb` returns 0."},{"content":"If the conversion is not possible in the current locale, <ph id=\"ph1\">`wctomb`</ph> returns –1 and <ph id=\"ph2\">`errno`</ph> is set to <ph id=\"ph3\">`EILSEQ`</ph>.","pos":[1967,2075],"source":" If the conversion is not possible in the current locale, `wctomb` returns –1 and `errno` is set to `EILSEQ`."},{"pos":[2084,2091],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`wctomb`</ph> function converts its <ph id=\"ph2\">`wchar`</ph> argument to the corresponding multibyte character and stores the result at <ph id=\"ph3\">`mbchar`</ph>.","pos":[2095,2222],"source":"The `wctomb` function converts its `wchar` argument to the corresponding multibyte character and stores the result at `mbchar`."},{"content":"You can call the function from any point in any program.","pos":[2223,2279]},{"content":"<ph id=\"ph1\">`wctomb`</ph> uses the current locale for any locale-dependent behavior; <ph id=\"ph2\">`_wctomb_l`</ph> is identical to <ph id=\"ph3\">`wctomb`</ph> except that it uses the locale passed in instead.","pos":[2280,2434],"source":"`wctomb` uses the current locale for any locale-dependent behavior; `_wctomb_l` is identical to `wctomb` except that it uses the locale passed in instead."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept>.","pos":[2435,2505],"source":" For more information, see [Locale](../../c-runtime-library/locale.md)."},{"content":"<ph id=\"ph1\">`wctomb`</ph> validates its parameters.","pos":[2512,2546],"source":"`wctomb` validates its parameters."},{"content":"If <ph id=\"ph1\">`mbchar`</ph> is <ph id=\"ph2\">`NULL`</ph>, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[2547,2700],"source":" If `mbchar` is `NULL`, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, <ph id=\"ph1\">`errno`</ph> is set to <ph id=\"ph2\">`EINVAL`</ph> and the function returns -1.","pos":[2701,2793],"source":" If execution is allowed to continue, `errno` is set to `EINVAL` and the function returns -1."},{"pos":[2802,2814],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Routine","pos":[2821,2828]},{"content":"Required header","pos":[2829,2844]},{"content":"<ph id=\"ph1\">\\&lt;</ph>stdlib.h&gt;","pos":[2898,2909],"source":"\\<stdlib.h>"},{"pos":[2917,3041],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"pos":[3050,3057],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"This program illustrates the behavior of the wctomb function.","pos":[3061,3122]},{"pos":[3704,3729],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"content":"Not applicable.","pos":[3733,3748]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[3749,3796],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[3797,3922],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"pos":[3931,3939],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Data Conversion<ept id=\"p1\">](../../c-runtime-library/data-conversion.md)</ept><ph id=\"ph1\"> </ph>","pos":[3943,4005],"source":"[Data Conversion](../../c-runtime-library/data-conversion.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept><ph id=\"ph1\"> </ph>","pos":[4008,4053],"source":" [Locale](../../c-runtime-library/locale.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_mbclen, mblen, _mblen_l<ept id=\"p1\">](../../c-runtime-library/reference/mbclen-mblen-mblen-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[4056,4143],"source":" [_mbclen, mblen, _mblen_l](../../c-runtime-library/reference/mbclen-mblen-mblen-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>mbstowcs, _mbstowcs_l<ept id=\"p1\">](../../c-runtime-library/reference/mbstowcs-mbstowcs-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[4146,4229],"source":" [mbstowcs, _mbstowcs_l](../../c-runtime-library/reference/mbstowcs-mbstowcs-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>mbtowc, _mbtowc_l<ept id=\"p1\">](../../c-runtime-library/reference/mbtowc-mbtowc-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[4232,4307],"source":" [mbtowc, _mbtowc_l](../../c-runtime-library/reference/mbtowc-mbtowc-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>wcstombs, _wcstombs_l<ept id=\"p1\">](../../c-runtime-library/reference/wcstombs-wcstombs-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[4310,4393],"source":" [wcstombs, _wcstombs_l](../../c-runtime-library/reference/wcstombs-wcstombs-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>WideCharToMultiByte<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd374130)</ept>","pos":[4396,4478],"source":" [WideCharToMultiByte](http://msdn.microsoft.com/library/windows/desktop/dd374130)"}],"content":"---\ntitle: \"wctomb, _wctomb_l | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_wctomb_l\"\n  - \"wctomb\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-convert-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"wctomb\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"string conversion, wide characters\"\n  - \"wide characters, converting\"\n  - \"_wctomb_l function\"\n  - \"wctomb function\"\n  - \"wctomb_l function\"\n  - \"characters, converting\"\n  - \"string conversion, multibyte character strings\"\nms.assetid: 4a543f0e-5516-4d81-8ff2-3c5206f02ed5\ncaps.latest.revision: 23\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# wctomb, _wctomb_l\nConvert a wide character to the corresponding multibyte character. More secure versions of these functions are available; see [wctomb_s, _wctomb_s_l](../../c-runtime-library/reference/wctomb-s-wctomb-s-l.md).  \n  \n## Syntax  \n  \n```  \nint wctomb(  \n   char *mbchar,  \n   wchar_t wchar   \n);  \nint _wctomb_l(  \n   char *mbchar,  \n   wchar_t wchar,  \n   _locale_t locale  \n);  \n```  \n  \n#### Parameters  \n `mbchar`  \n The address of a multibyte character.  \n  \n `wchar`  \n A wide character.  \n  \n## Return Value  \n If `wctomb` converts the wide character to a multibyte character, it returns the number of bytes (which is never greater than `MB_CUR_MAX`) in the wide character. If `wchar` is the wide-character null character (L'\\0'), `wctomb` returns 1. If the target pointer `mbchar` is NULL, `wctomb` returns 0. If the conversion is not possible in the current locale, `wctomb` returns –1 and `errno` is set to `EILSEQ`.  \n  \n## Remarks  \n The `wctomb` function converts its `wchar` argument to the corresponding multibyte character and stores the result at `mbchar`. You can call the function from any point in any program. `wctomb` uses the current locale for any locale-dependent behavior; `_wctomb_l` is identical to `wctomb` except that it uses the locale passed in instead. For more information, see [Locale](../../c-runtime-library/locale.md).  \n  \n `wctomb` validates its parameters. If `mbchar` is `NULL`, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, `errno` is set to `EINVAL` and the function returns -1.  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`wctomb`|\\<stdlib.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Example  \n This program illustrates the behavior of the wctomb function.  \n  \n```  \n// crt_wctomb.cpp  \n// compile with: /W3  \n#include <stdio.h>  \n#include <stdlib.h>  \n  \nint main( void )  \n{  \n   int i;  \n   wchar_t wc = L'a';  \n   char *pmb = (char *)malloc( MB_CUR_MAX );  \n  \n   printf( \"Convert a wide character:\\n\" );  \n   i = wctomb( pmb, wc ); // C4996  \n   // Note: wctomb is deprecated; consider using wctomb_s  \n   printf( \"   Characters converted: %u\\n\", i );  \n   printf( \"   Multibyte character: %.1s\\n\\n\", pmb );  \n}  \n```  \n  \n```Output  \nConvert a wide character:  \n   Characters converted: 1  \n   Multibyte character: a  \n```  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [Data Conversion](../../c-runtime-library/data-conversion.md)   \n [Locale](../../c-runtime-library/locale.md)   \n [_mbclen, mblen, _mblen_l](../../c-runtime-library/reference/mbclen-mblen-mblen-l.md)   \n [mbstowcs, _mbstowcs_l](../../c-runtime-library/reference/mbstowcs-mbstowcs-l.md)   \n [mbtowc, _mbtowc_l](../../c-runtime-library/reference/mbtowc-mbtowc-l.md)   \n [wcstombs, _wcstombs_l](../../c-runtime-library/reference/wcstombs-wcstombs-l.md)   \n [WideCharToMultiByte](http://msdn.microsoft.com/library/windows/desktop/dd374130)"}