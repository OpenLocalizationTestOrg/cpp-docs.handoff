{"nodes":[{"pos":[12,42],"content":"CDialog Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CDialog Class | Microsoft Docs","pos":[0,30]}]},{"content":"CDialog Class","pos":[743,756]},{"content":"The base class used for displaying dialog boxes on the screen.","pos":[757,819]},{"content":"Syntax","pos":[828,834]},{"content":"Members","pos":[888,895]},{"content":"Public Constructors","pos":[905,924]},{"content":"Name","pos":[931,935]},{"content":"Description","pos":[936,947]},{"content":"CDialog::CDialog","pos":[986,1002]},{"pos":[1023,1053],"content":"Constructs a <ph id=\"ph1\">`CDialog`</ph> object.","source":"Constructs a `CDialog` object."},{"content":"Public Methods","pos":[1064,1078]},{"content":"Name","pos":[1085,1089]},{"content":"Description","pos":[1090,1101]},{"content":"CDialog::Create","pos":[1140,1155]},{"content":"Initializes the <ph id=\"ph1\">`CDialog`</ph> object.","pos":[1175,1208],"source":"Initializes the `CDialog` object."},{"content":"Creates a modeless dialog box and attaches it to the <ph id=\"ph1\">`CDialog`</ph> object.","pos":[1209,1279],"source":" Creates a modeless dialog box and attaches it to the `CDialog` object."},{"content":"CDialog::CreateIndirect","pos":[1285,1308]},{"content":"Creates a modeless dialog box from a dialog-box template in memory (not resource-based).","pos":[1336,1424]},{"content":"CDialog::DoModal","pos":[1430,1446]},{"content":"Calls a modal dialog box and returns when done.","pos":[1467,1514]},{"content":"CDialog::EndDialog","pos":[1520,1538]},{"content":"Closes a modal dialog box.","pos":[1561,1587]},{"content":"CDialog::GetDefID","pos":[1593,1610]},{"content":"Gets the ID of the default pushbutton control for a dialog box.","pos":[1632,1695]},{"content":"CDialog::GotoDlgCtrl","pos":[1701,1721]},{"content":"Moves the focus to a specified dialog-box control in the dialog box.","pos":[1746,1814]},{"content":"CDialog::InitModalIndirect","pos":[1820,1846]},{"content":"Creates a modal dialog box from a dialog-box template in memory (not resource-based).","pos":[1877,1962]},{"content":"The parameters are stored until the function <ph id=\"ph1\">`DoModal`</ph> is called.","pos":[1963,2028],"source":" The parameters are stored until the function `DoModal` is called."},{"content":"CDialog::MapDialogRect","pos":[2034,2056]},{"content":"Converts the dialog-box units of a rectangle to screen units.","pos":[2083,2144]},{"content":"CDialog::NextDlgCtrl","pos":[2150,2170]},{"content":"Moves the focus to the next dialog-box control in the dialog box.","pos":[2195,2260]},{"content":"CDialog::OnInitDialog","pos":[2266,2287]},{"content":"Override to augment dialog-box initialization.","pos":[2313,2359]},{"content":"CDialog::OnSetFont","pos":[2365,2383]},{"content":"Override to specify the font that a dialog-box control is to use when it draws text.","pos":[2406,2490]},{"content":"CDialog::PrevDlgCtrl","pos":[2496,2516]},{"content":"Moves the focus to the previous dialog-box control in the dialog box.","pos":[2541,2610]},{"content":"CDialog::SetDefID","pos":[2616,2633]},{"content":"Changes the default pushbutton control for a dialog box to a specified pushbutton.","pos":[2655,2737]},{"content":"CDialog::SetHelpID","pos":[2743,2761]},{"content":"Sets a context-sensitive help ID for the dialog box.","pos":[2784,2836]},{"content":"Protected Methods","pos":[2847,2864]},{"content":"Name","pos":[2871,2875]},{"content":"Description","pos":[2876,2887]},{"content":"CDialog::OnCancel","pos":[2926,2943]},{"content":"Override to perform the Cancel button or ESC key action.","pos":[2965,3021]},{"content":"The default closes the dialog box and <bpt id=\"p1\">**</bpt>DoModal<ept id=\"p1\">**</ept> returns <bpt id=\"p2\">**</bpt>IDCANCEL<ept id=\"p2\">**</ept>.","pos":[3022,3093],"source":" The default closes the dialog box and **DoModal** returns **IDCANCEL**."},{"content":"CDialog::OnOK","pos":[3099,3112]},{"content":"Override to perform the OK button action in a modal dialog box.","pos":[3130,3193]},{"content":"The default closes the dialog box and <ph id=\"ph1\">`DoModal`</ph> returns <bpt id=\"p1\">**</bpt>IDOK<ept id=\"p1\">**</ept>.","pos":[3194,3259],"source":" The default closes the dialog box and `DoModal` returns **IDOK**."},{"content":"Remarks","pos":[3269,3276]},{"content":"Dialog boxes are of two types: modal and modeless.","pos":[3280,3330]},{"content":"A modal dialog box must be closed by the user before the application continues.","pos":[3331,3410]},{"content":"A modeless dialog box allows the user to display the dialog box and return to another task without canceling or removing the dialog box.","pos":[3411,3547]},{"content":"A <ph id=\"ph1\">`CDialog`</ph> object is a combination of a dialog template and a <ph id=\"ph2\">`CDialog`</ph>-derived class.","pos":[3554,3641],"source":"A `CDialog` object is a combination of a dialog template and a `CDialog`-derived class."},{"content":"Use the dialog editor to create the dialog template and store it in a resource, then use the Add Class wizard to create a class derived from <ph id=\"ph1\">`CDialog`</ph>.","pos":[3642,3793],"source":" Use the dialog editor to create the dialog template and store it in a resource, then use the Add Class wizard to create a class derived from `CDialog`."},{"content":"A dialog box, like any other window, receives messages from Windows.","pos":[3800,3868]},{"content":"In a dialog box, you are particularly interested in handling notification messages from the dialog box's controls since that is how the user interacts with your dialog box.","pos":[3869,4041]},{"content":"Use the Properties window to select which messages you wish to handle and it will add the appropriate message-map entries and message-handler member functions to the class for you.","pos":[4042,4222]},{"content":"You only need to write application-specific code in the handler member functions.","pos":[4223,4304]},{"content":"If you prefer, you can always write message-map entries and member functions manually.","pos":[4311,4397]},{"content":"In all but the most trivial dialog box, you add member variables to your derived dialog class to store data entered in the dialog box's controls by the user or to display data for the user.","pos":[4404,4593]},{"content":"You can use the Add Variable wizard to create member variables and associate them with controls.","pos":[4594,4690]},{"content":"At the same time, you choose a variable type and permissible range of values for each variable.","pos":[4691,4786]},{"content":"The code wizard adds the member variables to your derived dialog class.","pos":[4787,4858]},{"content":"A data map is generated to automatically handle the exchange of data between the member variables and the dialog box's controls.","pos":[4865,4993]},{"content":"The data map provides functions that initialize the controls in the dialog box with the proper values, retrieve the data, and validate the data.","pos":[4994,5138]},{"content":"To create a modal dialog box, construct an object on the stack using the constructor for your derived dialog class and then call <ph id=\"ph1\">`DoModal`</ph> to create the dialog window and its controls.","pos":[5145,5329],"source":"To create a modal dialog box, construct an object on the stack using the constructor for your derived dialog class and then call `DoModal` to create the dialog window and its controls."},{"content":"If you wish to create a modeless dialog, call <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> in the constructor of your dialog class.","pos":[5330,5427],"source":" If you wish to create a modeless dialog, call **Create** in the constructor of your dialog class."},{"content":"You can also create a template in memory by using a <bpt id=\"p1\">[</bpt>DLGTEMPLATE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms645394)</ept> data structure as described in the <ph id=\"ph1\">[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]</ph>.","pos":[5434,5647],"source":"You can also create a template in memory by using a [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) data structure as described in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]."},{"content":"After you construct a <ph id=\"ph1\">`CDialog`</ph> object, call <bpt id=\"p1\">[</bpt>CreateIndirect<ept id=\"p1\">](#cdialog__createindirect)</ept> to create a modeless dialog box, or call <bpt id=\"p2\">[</bpt>InitModalIndirect<ept id=\"p2\">](#cdialog__initmodalindirect)</ept> and <bpt id=\"p3\">[</bpt>DoModal<ept id=\"p3\">](#cdialog__domodal)</ept> to create a modal dialog box.","pos":[5648,5888],"source":" After you construct a `CDialog` object, call [CreateIndirect](#cdialog__createindirect) to create a modeless dialog box, or call [InitModalIndirect](#cdialog__initmodalindirect) and [DoModal](#cdialog__domodal) to create a modal dialog box."},{"content":"The exchange and validation data map is written in an override of <ph id=\"ph1\">`CWnd::DoDataExchange`</ph> that is added to your new dialog class.","pos":[5895,6023],"source":"The exchange and validation data map is written in an override of `CWnd::DoDataExchange` that is added to your new dialog class."},{"content":"See the <bpt id=\"p1\">[</bpt>DoDataExchange<ept id=\"p1\">](../../mfc/reference/cwnd-class.md#cwnd__dodataexchange)</ept> member function in <ph id=\"ph1\">`CWnd`</ph> for more on the exchange and validation functionality.","pos":[6024,6185],"source":" See the [DoDataExchange](../../mfc/reference/cwnd-class.md#cwnd__dodataexchange) member function in `CWnd` for more on the exchange and validation functionality."},{"pos":[6192,6352],"content":"Both the programmer and the framework call <ph id=\"ph1\">`DoDataExchange`</ph> indirectly through a call to <bpt id=\"p1\">[</bpt>CWnd::UpdateData<ept id=\"p1\">](../../mfc/reference/cwnd-class.md#cwnd__updatedata)</ept>.","source":"Both the programmer and the framework call `DoDataExchange` indirectly through a call to [CWnd::UpdateData](../../mfc/reference/cwnd-class.md#cwnd__updatedata)."},{"content":"The framework calls <ph id=\"ph1\">`UpdateData`</ph> when the user clicks the OK button to close a modal dialog box.","pos":[6359,6455],"source":"The framework calls `UpdateData` when the user clicks the OK button to close a modal dialog box."},{"content":"(The data is not retrieved if the Cancel button is clicked.) The default implementation of <bpt id=\"p1\">[</bpt>OnInitDialog<ept id=\"p1\">](#cdialog__oninitdialog)</ept> also calls <ph id=\"ph1\">`UpdateData`</ph> to set the initial values of the controls.","pos":[6456,6652],"source":" (The data is not retrieved if the Cancel button is clicked.) The default implementation of [OnInitDialog](#cdialog__oninitdialog) also calls `UpdateData` to set the initial values of the controls."},{"content":"You typically override <ph id=\"ph1\">`OnInitDialog`</ph> to further initialize controls.","pos":[6653,6722],"source":" You typically override `OnInitDialog` to further initialize controls."},{"content":"is called after all the dialog controls are created and just before the dialog box is displayed.","pos":[6738,6834]},{"pos":[6841,6940],"content":"You can call <ph id=\"ph1\">`CWnd::UpdateData`</ph> at any time during the execution of a modal or modeless dialog box.","source":"You can call `CWnd::UpdateData` at any time during the execution of a modal or modeless dialog box."},{"content":"If you develop a dialog box by hand, you add the necessary member variables to the derived dialog-box class yourself, and you add member functions to set or get these values.","pos":[6947,7121]},{"pos":[7128,7271],"content":"A modal dialog box closes automatically when the user presses the OK or Cancel buttons or when your code calls the <ph id=\"ph1\">`EndDialog`</ph> member function.","source":"A modal dialog box closes automatically when the user presses the OK or Cancel buttons or when your code calls the `EndDialog` member function."},{"content":"When you implement a modeless dialog box, always override the <ph id=\"ph1\">`OnCancel`</ph> member function and call <ph id=\"ph2\">`DestroyWindow`</ph> from within it.","pos":[7278,7407],"source":"When you implement a modeless dialog box, always override the `OnCancel` member function and call `DestroyWindow` from within it."},{"content":"Don't call the base class <ph id=\"ph1\">`CDialog::OnCancel`</ph>, because it calls <ph id=\"ph2\">`EndDialog`</ph>, which will make the dialog box invisible but will not destroy it.","pos":[7408,7550],"source":" Don't call the base class `CDialog::OnCancel`, because it calls `EndDialog`, which will make the dialog box invisible but will not destroy it."},{"content":"You should also override <ph id=\"ph1\">`PostNcDestroy`</ph> for modeless dialog boxes in order to delete <bpt id=\"p1\">**</bpt>this<ept id=\"p1\">**</ept>, since modeless dialog boxes are usually allocated with <bpt id=\"p2\">**</bpt>new<ept id=\"p2\">**</ept>.","pos":[7551,7710],"source":" You should also override `PostNcDestroy` for modeless dialog boxes in order to delete **this**, since modeless dialog boxes are usually allocated with **new**."},{"content":"Modal dialog boxes are usually constructed on the frame and do not need <ph id=\"ph1\">`PostNcDestroy`</ph> cleanup.","pos":[7711,7807],"source":" Modal dialog boxes are usually constructed on the frame and do not need `PostNcDestroy` cleanup."},{"pos":[7814,7853],"content":"For more information on <ph id=\"ph1\">`CDialog`</ph>, see:","source":"For more information on `CDialog`, see:"},{"content":"Dialog Boxes","pos":[7862,7874]},{"content":"Knowledge Base article Q262954 : HOWTO: Create a Resizeable Dialog Box with Scroll Bars","pos":[7912,7999]},{"content":"Inheritance Hierarchy","pos":[8008,8029]},{"content":"CObject","pos":[8034,8041]},{"content":"CCmdTarget","pos":[8088,8098]},{"content":"CWnd","pos":[8148,8152]},{"content":"Requirements","pos":[8213,8225]},{"pos":[8229,8249],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxwin.h","source":"**Header:** afxwin.h"},{"pos":[8292,8308],"content":"CDialog::CDialog"},{"content":"To construct a resource-based modal dialog box, call either public form of the constructor.","pos":[8312,8403]},{"content":"Parameters","pos":[8597,8607]},{"content":"Contains a null-terminated string that is the name of a dialog-box template resource.","pos":[8633,8718]},{"content":"Contains the ID number of a dialog-box template resource.","pos":[8742,8799]},{"content":"Points to the parent or owner window object (of type <bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept>) to which the dialog object belongs.","pos":[8822,8953],"source":" Points to the parent or owner window object (of type [CWnd](../../mfc/reference/cwnd-class.md)) to which the dialog object belongs."},{"content":"If it is <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept>, the dialog object's parent window is set to the main application window.","pos":[8954,9045],"source":" If it is **NULL**, the dialog object's parent window is set to the main application window."},{"content":"Remarks","pos":[9055,9062]},{"content":"One form of the constructor provides access to the dialog resource by template name.","pos":[9066,9150]},{"content":"The other constructor provides access by template ID number, usually with an <bpt id=\"p1\">**</bpt>IDD_<ept id=\"p1\">**</ept> prefix (for example, IDD_DIALOG1).","pos":[9151,9271],"source":" The other constructor provides access by template ID number, usually with an **IDD_** prefix (for example, IDD_DIALOG1)."},{"pos":[9278,9425],"content":"To construct a modal dialog box from a template in memory, first invoke the parameterless, protected constructor and then call <ph id=\"ph1\">`InitModalIndirect`</ph>.","source":"To construct a modal dialog box from a template in memory, first invoke the parameterless, protected constructor and then call `InitModalIndirect`."},{"pos":[9432,9517],"content":"After you construct a modal dialog box with one of the above methods, call <ph id=\"ph1\">`DoModal`</ph>.","source":"After you construct a modal dialog box with one of the above methods, call `DoModal`."},{"content":"To construct a modeless dialog box, use the protected form of the <ph id=\"ph1\">`CDialog`</ph> constructor.","pos":[9524,9612],"source":"To construct a modeless dialog box, use the protected form of the `CDialog` constructor."},{"content":"The constructor is protected because you must derive your own dialog-box class to implement a modeless dialog box.","pos":[9613,9727]},{"content":"Construction of a modeless dialog box is a two-step process.","pos":[9728,9788]},{"content":"First call the constructor; then call the <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> member function to create a resource-based dialog box, or call <ph id=\"ph1\">`CreateIndirect`</ph> to create the dialog box from a template in memory.","pos":[9789,9973],"source":" First call the constructor; then call the **Create** member function to create a resource-based dialog box, or call `CreateIndirect` to create the dialog box from a template in memory."},{"pos":[10015,10030],"content":"CDialog::Create"},{"pos":[10034,10126],"content":"Call <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> to create a modeless dialog box using a dialog-box template from a resource.","source":"Call **Create** to create a modeless dialog box using a dialog-box template from a resource."},{"content":"Parameters","pos":[10312,10322]},{"content":"Contains a null-terminated string that is the name of a dialog-box template resource.","pos":[10348,10433]},{"content":"Points to the parent window object (of type <bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept>) to which the dialog object belongs.","pos":[10456,10578],"source":" Points to the parent window object (of type [CWnd](../../mfc/reference/cwnd-class.md)) to which the dialog object belongs."},{"content":"If it is <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept>, the dialog object's parent window is set to the main application window.","pos":[10579,10670],"source":" If it is **NULL**, the dialog object's parent window is set to the main application window."},{"content":"Contains the ID number of a dialog-box template resource.","pos":[10694,10751]},{"content":"Return Value","pos":[10761,10773]},{"content":"Both forms return nonzero if dialog-box creation and initialization were successful; otherwise 0.","pos":[10777,10874]},{"content":"Remarks","pos":[10884,10891]},{"pos":[10895,10997],"content":"You can put the call to <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> inside the constructor or call it after the constructor is invoked.","source":"You can put the call to **Create** inside the constructor or call it after the constructor is invoked."},{"pos":[11004,11181],"content":"Two forms of the <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> member function are provided for access to the dialog-box template resource by either template name or template ID number (for example, IDD_DIALOG1).","source":"Two forms of the **Create** member function are provided for access to the dialog-box template resource by either template name or template ID number (for example, IDD_DIALOG1)."},{"content":"For either form, pass a pointer to the parent window object.","pos":[11188,11248]},{"content":"If <ph id=\"ph1\">`pParentWnd`</ph> is <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept>, the dialog box will be created with its parent or owner window set to the main application window.","pos":[11249,11376],"source":" If `pParentWnd` is **NULL**, the dialog box will be created with its parent or owner window set to the main application window."},{"pos":[11383,11466],"content":"The <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> member function returns immediately after it creates the dialog box.","source":"The **Create** member function returns immediately after it creates the dialog box."},{"content":"Use the <bpt id=\"p1\">**</bpt>WS_VISIBLE<ept id=\"p1\">**</ept> style in the dialog-box template if the dialog box should appear when the parent window is created.","pos":[11473,11595],"source":"Use the **WS_VISIBLE** style in the dialog-box template if the dialog box should appear when the parent window is created."},{"content":"Otherwise, you must call <ph id=\"ph1\">`ShowWindow`</ph>.","pos":[11596,11634],"source":" Otherwise, you must call `ShowWindow`."},{"content":"For further dialog-box styles and their application, see the <bpt id=\"p1\">[</bpt>DLGTEMPLATE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms645394)</ept> structure in the <ph id=\"ph1\">[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]</ph> and <bpt id=\"p2\">[</bpt>Window Styles<ept id=\"p2\">](../../mfc/reference/window-styles.md)</ept> in the <bpt id=\"p3\">*</bpt>MFC Reference<ept id=\"p3\">*</ept>.","pos":[11635,11920],"source":" For further dialog-box styles and their application, see the [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) structure in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)] and [Window Styles](../../mfc/reference/window-styles.md) in the *MFC Reference*."},{"pos":[11927,12025],"content":"Use the <ph id=\"ph1\">`CWnd::DestroyWindow`</ph> function to destroy a dialog box created by the <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> function.","source":"Use the `CWnd::DestroyWindow` function to destroy a dialog box created by the **Create** function."},{"content":"Example","pos":[12035,12042]},{"pos":[12057,12085],"content":"NVC_MFCControlLadenDialog#62"},{"pos":[12184,12207],"content":"CDialog::CreateIndirect"},{"content":"Call this member function to create a modeless dialog box from a dialog-box template in memory.","pos":[12211,12306]},{"content":"Parameters","pos":[12555,12565]},{"content":"Points to memory that contains a dialog-box template used to create the dialog box.","pos":[12591,12674]},{"content":"This template is in the form of a <bpt id=\"p1\">[</bpt>DLGTEMPLATE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms645394)</ept> structure and control information, as described in the <ph id=\"ph1\">[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]</ph>.","pos":[12675,12890],"source":" This template is in the form of a [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) structure and control information, as described in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]."},{"content":"Points to the dialog object's parent window object (of type <bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept>).","pos":[12913,13016],"source":" Points to the dialog object's parent window object (of type [CWnd](../../mfc/reference/cwnd-class.md))."},{"content":"If it is <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept>, the dialog object's parent window is set to the main application window.","pos":[13017,13108],"source":" If it is **NULL**, the dialog object's parent window is set to the main application window."},{"content":"Points to a <bpt id=\"p1\">**</bpt>DLGINIT<ept id=\"p1\">**</ept> resource.","pos":[13133,13166],"source":" Points to a **DLGINIT** resource."},{"content":"Contains a handle to global memory containing a dialog-box template.","pos":[13194,13262]},{"content":"This template is in the form of a <bpt id=\"p1\">**</bpt>DLGTEMPLATE<ept id=\"p1\">**</ept> structure and data for each control in the dialog box.","pos":[13263,13367],"source":" This template is in the form of a **DLGTEMPLATE** structure and data for each control in the dialog box."},{"content":"Return Value","pos":[13377,13389]},{"content":"Nonzero if the dialog box was created and initialized successfully; otherwise 0.","pos":[13393,13473]},{"content":"Remarks","pos":[13483,13490]},{"pos":[13494,13583],"content":"The <ph id=\"ph1\">`CreateIndirect`</ph> member function returns immediately after it creates the dialog box.","source":"The `CreateIndirect` member function returns immediately after it creates the dialog box."},{"content":"Use the <bpt id=\"p1\">**</bpt>WS_VISIBLE<ept id=\"p1\">**</ept> style in the dialog-box template if the dialog box should appear when the parent window is created.","pos":[13590,13712],"source":"Use the **WS_VISIBLE** style in the dialog-box template if the dialog box should appear when the parent window is created."},{"content":"Otherwise, you must call <ph id=\"ph1\">`ShowWindow`</ph> to cause it to appear.","pos":[13713,13773],"source":" Otherwise, you must call `ShowWindow` to cause it to appear."},{"content":"For more information on how you can specify other dialog-box styles in the template, see the <bpt id=\"p1\">[</bpt>DLGTEMPLATE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms645394)</ept> structure in the <ph id=\"ph1\">[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]</ph>.","pos":[13774,14010],"source":" For more information on how you can specify other dialog-box styles in the template, see the [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) structure in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]."},{"pos":[14017,14121],"content":"Use the <ph id=\"ph1\">`CWnd::DestroyWindow`</ph> function to destroy a dialog box created by the <ph id=\"ph2\">`CreateIndirect`</ph> function.","source":"Use the `CWnd::DestroyWindow` function to destroy a dialog box created by the `CreateIndirect` function."},{"content":"Dialog boxes that contain ActiveX controls require additional information provided in a <bpt id=\"p1\">**</bpt>DLGINIT<ept id=\"p1\">**</ept> resource.","pos":[14128,14237],"source":"Dialog boxes that contain ActiveX controls require additional information provided in a **DLGINIT** resource."},{"content":"For more information, see Knowledge Base article Q231591, \" HOWTO: Use a Dialog Template to Create a MFC Dialog with an ActiveX Control.\"","pos":[14238,14375]},{"content":"Knowledge Base articles are available in the MSDN Library Visual Studio documentation or at <bpt id=\"p1\">[</bpt>http://support.microsoft.com<ept id=\"p1\">](http://support.microsoft.com/)</ept>.","pos":[14376,14530],"source":" Knowledge Base articles are available in the MSDN Library Visual Studio documentation or at [http://support.microsoft.com](http://support.microsoft.com/)."},{"pos":[14573,14589],"content":"CDialog::DoModal"},{"content":"Call this member function to invoke the modal dialog box and return the dialog-box result when done.","pos":[14593,14693]},{"content":"Return Value","pos":[14745,14757]},{"content":"An <ph id=\"ph1\">`int`</ph> value that specifies the value of the <ph id=\"ph2\">`nResult`</ph> parameter that was passed to the <bpt id=\"p1\">[</bpt>CDialog::EndDialog<ept id=\"p1\">](#cdialog__enddialog)</ept> member function, which is used to close the dialog box.","pos":[14761,14948],"source":"An `int` value that specifies the value of the `nResult` parameter that was passed to the [CDialog::EndDialog](#cdialog__enddialog) member function, which is used to close the dialog box."},{"content":"The return value is –1 if the function could not create the dialog box, or <bpt id=\"p1\">**</bpt>IDABORT<ept id=\"p1\">**</ept> if some other error occurred, in which case the output window will contain error information from <bpt id=\"p2\">[</bpt>GetLastError<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/ms679360)</ept>.","pos":[14949,15209],"source":" The return value is –1 if the function could not create the dialog box, or **IDABORT** if some other error occurred, in which case the output window will contain error information from [GetLastError](http://msdn.microsoft.com/library/windows/desktop/ms679360)."},{"content":"Remarks","pos":[15219,15226]},{"content":"This member function handles all interaction with the user while the dialog box is active.","pos":[15230,15320]},{"content":"This is what makes the dialog box modal; that is, the user cannot interact with other windows until the dialog box is closed.","pos":[15321,15446]},{"content":"If the user clicks one of the pushbuttons in the dialog box, such as OK or Cancel, a message-handler member function, such as <bpt id=\"p1\">[</bpt>OnOK<ept id=\"p1\">](#cdialog__onok)</ept> or <bpt id=\"p2\">[</bpt>OnCancel<ept id=\"p2\">](#cdialog__oncancel)</ept>, is called to attempt to close the dialog box.","pos":[15453,15682],"source":"If the user clicks one of the pushbuttons in the dialog box, such as OK or Cancel, a message-handler member function, such as [OnOK](#cdialog__onok) or [OnCancel](#cdialog__oncancel), is called to attempt to close the dialog box."},{"content":"The default <ph id=\"ph1\">`OnOK`</ph> member function will validate and update the dialog-box data and close the dialog box with result <bpt id=\"p1\">**</bpt>IDOK<ept id=\"p1\">**</ept>, and the default <ph id=\"ph2\">`OnCancel`</ph> member function will close the dialog box with result <bpt id=\"p2\">**</bpt>IDCANCEL<ept id=\"p2\">**</ept> without validating or updating the dialog-box data.","pos":[15683,15955],"source":" The default `OnOK` member function will validate and update the dialog-box data and close the dialog box with result **IDOK**, and the default `OnCancel` member function will close the dialog box with result **IDCANCEL** without validating or updating the dialog-box data."},{"content":"You can override these message-handler functions to alter their behavior.","pos":[15956,16029]},{"pos":[16037,16123],"content":"[!NOTE]\n`PreTranslateMessage` is now called for modal dialog box message processing.","leadings":["","> "],"nodes":[{"content":"is now called for modal dialog box message processing.","pos":[30,84]}]},{"content":"Example","pos":[16133,16140]},{"pos":[16155,16183],"content":"NVC_MFCControlLadenDialog#63"},{"pos":[16277,16295],"content":"CDialog::EndDialog"},{"content":"Call this member function to terminate a modal dialog box.","pos":[16299,16357]},{"content":"Parameters","pos":[16411,16421]},{"content":"Contains the value to be returned from the dialog box to the caller of <ph id=\"ph1\">`DoModal`</ph>.","pos":[16438,16519],"source":" Contains the value to be returned from the dialog box to the caller of `DoModal`."},{"content":"Remarks","pos":[16529,16536]},{"content":"This member function returns <ph id=\"ph1\">`nResult`</ph> as the return value of <ph id=\"ph2\">`DoModal`</ph>.","pos":[16540,16612],"source":"This member function returns `nResult` as the return value of `DoModal`."},{"content":"You must use the <ph id=\"ph1\">`EndDialog`</ph> function to complete processing whenever a modal dialog box is created.","pos":[16613,16713],"source":" You must use the `EndDialog` function to complete processing whenever a modal dialog box is created."},{"pos":[16720,16904],"content":"You can call <ph id=\"ph1\">`EndDialog`</ph> at any time, even in <bpt id=\"p1\">[</bpt>OnInitDialog<ept id=\"p1\">](#cdialog__oninitdialog)</ept>, in which case you should close the dialog box before it is shown or before the input focus is set.","source":"You can call `EndDialog` at any time, even in [OnInitDialog](#cdialog__oninitdialog), in which case you should close the dialog box before it is shown or before the input focus is set."},{"content":"does not close the dialog box immediately.","pos":[16923,16965]},{"content":"Instead, it sets a flag that directs the dialog box to close as soon as the current message handler returns.","pos":[16966,17074]},{"content":"Example","pos":[17084,17091]},{"pos":[17106,17134],"content":"NVC_MFCControlLadenDialog#64"},{"pos":[17201,17229],"content":"NVC_MFCControlLadenDialog#65"},{"pos":[17322,17339],"content":"CDialog::GetDefID"},{"pos":[17343,17444],"content":"Call the <ph id=\"ph1\">`GetDefID`</ph> member function to get the ID of the default pushbutton control for a dialog box.","source":"Call the `GetDefID` member function to get the ID of the default pushbutton control for a dialog box."},{"content":"Return Value","pos":[17496,17508]},{"content":"A 32-bit value ( <ph id=\"ph1\">`DWORD`</ph>).","pos":[17512,17538],"source":"A 32-bit value ( `DWORD`)."},{"content":"If the default pushbutton has an ID value, the high-order word contains <bpt id=\"p1\">**</bpt>DC_HASDEFID<ept id=\"p1\">**</ept> and the low-order word contains the ID value.","pos":[17539,17672],"source":" If the default pushbutton has an ID value, the high-order word contains **DC_HASDEFID** and the low-order word contains the ID value."},{"content":"If the default pushbutton does not have an ID value, the return value is 0.","pos":[17673,17748]},{"content":"Remarks","pos":[17758,17765]},{"content":"This is usually an OK button.","pos":[17769,17798]},{"pos":[17845,17865],"content":"CDialog::GotoDlgCtrl"},{"content":"Moves the focus to the specified control in the dialog box.","pos":[17869,17928]},{"content":"Parameters","pos":[17987,17997]},{"content":"Identifies the window (control) that is to receive the focus.","pos":[18015,18076]},{"content":"Remarks","pos":[18086,18093]},{"pos":[18097,18290],"content":"To get a pointer to the control (child window) to pass as <ph id=\"ph1\">`pWndCtrl`</ph>, call the <ph id=\"ph2\">`CWnd::GetDlgItem`</ph> member function, which returns a pointer to a <bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept> object.","source":"To get a pointer to the control (child window) to pass as `pWndCtrl`, call the `CWnd::GetDlgItem` member function, which returns a pointer to a [CWnd](../../mfc/reference/cwnd-class.md) object."},{"content":"Example","pos":[18300,18307]},{"pos":[18312,18403],"content":"See the example for <bpt id=\"p1\">[</bpt>CWnd::GetDlgItem<ept id=\"p1\">](../../mfc/reference/cwnd-class.md#cwnd__getdlgitem)</ept>.","source":"See the example for [CWnd::GetDlgItem](../../mfc/reference/cwnd-class.md#cwnd__getdlgitem)."},{"pos":[18456,18482],"content":"CDialog::InitModalIndirect"},{"content":"Call this member function to initialize a modal dialog object using a dialog-box template that you construct in memory.","pos":[18486,18605]},{"content":"Parameters","pos":[18848,18858]},{"content":"Points to memory that contains a dialog-box template used to create the dialog box.","pos":[18884,18967]},{"content":"This template is in the form of a <bpt id=\"p1\">[</bpt>DLGTEMPLATE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms645394)</ept> structure and control information, as described in the <ph id=\"ph1\">[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]</ph>.","pos":[18968,19183],"source":" This template is in the form of a [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) structure and control information, as described in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]."},{"content":"Contains a handle to global memory containing a dialog-box template.","pos":[19211,19279]},{"content":"This template is in the form of a <bpt id=\"p1\">**</bpt>DLGTEMPLATE<ept id=\"p1\">**</ept> structure and data for each control in the dialog box.","pos":[19280,19384],"source":" This template is in the form of a **DLGTEMPLATE** structure and data for each control in the dialog box."},{"content":"Points to the parent or owner window object (of type <bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept>) to which the dialog object belongs.","pos":[19407,19538],"source":" Points to the parent or owner window object (of type [CWnd](../../mfc/reference/cwnd-class.md)) to which the dialog object belongs."},{"content":"If it is <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept>, the dialog object's parent window is set to the main application window.","pos":[19539,19630],"source":" If it is **NULL**, the dialog object's parent window is set to the main application window."},{"content":"Points to a <bpt id=\"p1\">**</bpt>DLGINIT<ept id=\"p1\">**</ept> resource.","pos":[19655,19688],"source":" Points to a **DLGINIT** resource."},{"content":"Return Value","pos":[19698,19710]},{"content":"Nonzero if the dialog object was created and initialized successfully; otherwise 0.","pos":[19714,19797]},{"content":"Remarks","pos":[19807,19814]},{"content":"To create a modal dialog box indirectly, first allocate a global block of memory and fill it with the dialog box template.","pos":[19818,19940]},{"content":"Then call the empty <ph id=\"ph1\">`CDialog`</ph> constructor to construct the dialog-box object.","pos":[19941,20018],"source":" Then call the empty `CDialog` constructor to construct the dialog-box object."},{"content":"Next, call <ph id=\"ph1\">`InitModalIndirect`</ph> to store your handle to the in-memory dialog-box template.","pos":[20019,20108],"source":" Next, call `InitModalIndirect` to store your handle to the in-memory dialog-box template."},{"content":"The Windows dialog box is created and displayed later, when the <bpt id=\"p1\">[</bpt>DoModal<ept id=\"p1\">](#cdialog__domodal)</ept> member function is called.","pos":[20109,20228],"source":" The Windows dialog box is created and displayed later, when the [DoModal](#cdialog__domodal) member function is called."},{"content":"Dialog boxes that contain ActiveX controls require additional information provided in a <bpt id=\"p1\">**</bpt>DLGINIT<ept id=\"p1\">**</ept> resource.","pos":[20235,20344],"source":"Dialog boxes that contain ActiveX controls require additional information provided in a **DLGINIT** resource."},{"content":"For more information, see Knowledge Base article Q231591, \" HOWTO: Use a Dialog Template to Create a MFC Dialog with an ActiveX Control.\"","pos":[20345,20482]},{"content":"Knowledge Base articles are available in the MSDN Library Visual Studio documentation or at <bpt id=\"p1\">[</bpt>http://support.microsoft.com<ept id=\"p1\">](http://support.microsoft.com/)</ept>.","pos":[20483,20637],"source":" Knowledge Base articles are available in the MSDN Library Visual Studio documentation or at [http://support.microsoft.com](http://support.microsoft.com/)."},{"pos":[20686,20708],"content":"CDialog::MapDialogRect"},{"content":"Call to convert the dialog-box units of a rectangle to screen units.","pos":[20712,20780]},{"content":"Parameters","pos":[20849,20859]},{"content":"Points to a <bpt id=\"p1\">[</bpt>RECT<ept id=\"p1\">](../../mfc/reference/rect-structure1.md)</ept> structure or <bpt id=\"p2\">[</bpt>CRect<ept id=\"p2\">](../../atl-mfc-shared/reference/crect-class.md)</ept> object that contains the dialog-box coordinates to be converted.","pos":[20875,21066],"source":" Points to a [RECT](../../mfc/reference/rect-structure1.md) structure or [CRect](../../atl-mfc-shared/reference/crect-class.md) object that contains the dialog-box coordinates to be converted."},{"content":"Remarks","pos":[21076,21083]},{"content":"Dialog-box units are stated in terms of the current dialog-box base unit derived from the average width and height of characters in the font used for dialog-box text.","pos":[21087,21253]},{"content":"One horizontal unit is one-fourth of the dialog-box base-width unit, and one vertical unit is one-eighth of the dialog-box base height unit.","pos":[21254,21394]},{"content":"The <bpt id=\"p1\">**</bpt>GetDialogBaseUnits<ept id=\"p1\">**</ept> Windows function returns size information for the system font, but you can specify a different font for each dialog box if you use the <bpt id=\"p2\">**</bpt>DS_SETFONT<ept id=\"p2\">**</ept> style in the resource-definition file.","pos":[21401,21616],"source":"The **GetDialogBaseUnits** Windows function returns size information for the system font, but you can specify a different font for each dialog box if you use the **DS_SETFONT** style in the resource-definition file."},{"content":"The <ph id=\"ph1\">`MapDialogRect`</ph> Windows function uses the appropriate font for this dialog box.","pos":[21617,21700],"source":" The `MapDialogRect` Windows function uses the appropriate font for this dialog box."},{"pos":[21707,21904],"content":"The <ph id=\"ph1\">`MapDialogRect`</ph> member function replaces the dialog-box units in <ph id=\"ph2\">`lpRect`</ph> with screen units (pixels) so that the rectangle can be used to create a dialog box or position a control within a box.","source":"The `MapDialogRect` member function replaces the dialog-box units in `lpRect` with screen units (pixels) so that the rectangle can be used to create a dialog box or position a control within a box."},{"pos":[21951,21971],"content":"CDialog::NextDlgCtrl"},{"content":"Moves the focus to the next control in the dialog box.","pos":[21975,22029]},{"content":"Remarks","pos":[22083,22090]},{"content":"If the focus is at the last control in the dialog box, it moves to the first control.","pos":[22094,22179]},{"pos":[22223,22240],"content":"CDialog::OnCancel"},{"pos":[22244,22365],"content":"The framework calls this method when the user clicks <bpt id=\"p1\">**</bpt>Cancel<ept id=\"p1\">**</ept> or presses the ESC key in a modal or modeless dialog box.","source":"The framework calls this method when the user clicks **Cancel** or presses the ESC key in a modal or modeless dialog box."},{"content":"Remarks","pos":[22415,22422]},{"content":"Override this method to perform actions (such as restoring old data) when a user closes the dialog box by clicking <bpt id=\"p1\">**</bpt>Cancel<ept id=\"p1\">**</ept> or hitting the ESC key.","pos":[22426,22575],"source":"Override this method to perform actions (such as restoring old data) when a user closes the dialog box by clicking **Cancel** or hitting the ESC key."},{"content":"The default closes a modal dialog box by calling <bpt id=\"p1\">[</bpt>EndDialog<ept id=\"p1\">](#cdialog__enddialog)</ept> and causing <bpt id=\"p2\">[</bpt>DoModal<ept id=\"p2\">](#cdialog__domodal)</ept> to return IDCANCEL.","pos":[22576,22718],"source":" The default closes a modal dialog box by calling [EndDialog](#cdialog__enddialog) and causing [DoModal](#cdialog__domodal) to return IDCANCEL."},{"content":"If you implement the <bpt id=\"p1\">**</bpt>Cancel<ept id=\"p1\">**</ept> button in a modeless dialog box, you must override the <ph id=\"ph1\">`OnCancel`</ph> method and call <bpt id=\"p2\">[</bpt>DestroyWindow<ept id=\"p2\">](../../mfc/reference/cwnd-class.md#cwnd__destroywindow)</ept> inside it.","pos":[22725,22920],"source":"If you implement the **Cancel** button in a modeless dialog box, you must override the `OnCancel` method and call [DestroyWindow](../../mfc/reference/cwnd-class.md#cwnd__destroywindow) inside it."},{"content":"Do not call the base-class method, because it calls <ph id=\"ph1\">`EndDialog`</ph>, which will make the dialog box invisible but not destroy it.","pos":[22921,23046],"source":" Do not call the base-class method, because it calls `EndDialog`, which will make the dialog box invisible but not destroy it."},{"pos":[23054,23289],"content":"[!NOTE]\n You cannot override this method when you use a `CFileDialog` object in a program that is compiled under Windows XP. For more information about `CFileDialog`, see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).","leadings":["","> "],"nodes":[{"content":" You cannot override this method when you use a `CFileDialog` object in a program that is compiled under Windows XP. For more information about `CFileDialog`, see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).","pos":[8,233],"nodes":[{"content":"You cannot override this method when you use a <ph id=\"ph1\">`CFileDialog`</ph> object in a program that is compiled under Windows XP.","pos":[1,116],"source":" You cannot override this method when you use a `CFileDialog` object in a program that is compiled under Windows XP."},{"content":"For more information about <ph id=\"ph1\">`CFileDialog`</ph>, see <bpt id=\"p1\">[</bpt>CFileDialog Class<ept id=\"p1\">](../../mfc/reference/cfiledialog-class.md)</ept>.","pos":[117,225],"source":" For more information about `CFileDialog`, see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md)."}]}]},{"content":"Example","pos":[23299,23306]},{"pos":[23321,23349],"content":"NVC_MFCControlLadenDialog#66"},{"pos":[23446,23467],"content":"CDialog::OnInitDialog"},{"pos":[23471,23536],"content":"This method is called in response to the <ph id=\"ph1\">`WM_INITDIALOG`</ph> message.","source":"This method is called in response to the `WM_INITDIALOG` message."},{"content":"Return Value","pos":[23590,23602]},{"content":"Specifies whether the application has set the input focus to one of the controls in the dialog box.","pos":[23606,23705]},{"content":"If <ph id=\"ph1\">`OnInitDialog`</ph> returns nonzero, Windows sets the input focus to the default location, the first control in the dialog box.","pos":[23706,23831],"source":" If `OnInitDialog` returns nonzero, Windows sets the input focus to the default location, the first control in the dialog box."},{"content":"The application can return 0 only if it has explicitly set the input focus to one of the controls in the dialog box.","pos":[23832,23948]},{"content":"Remarks","pos":[23958,23965]},{"pos":[23969,24210],"content":"Windows sends the <ph id=\"ph1\">`WM_INITDIALOG`</ph> message to the dialog box during the <bpt id=\"p1\">[</bpt>Create<ept id=\"p1\">](#cdialog__create)</ept>, <bpt id=\"p2\">[</bpt>CreateIndirect<ept id=\"p2\">](#cdialog__createindirect)</ept>, or <bpt id=\"p3\">[</bpt>DoModal<ept id=\"p3\">](#cdialog__domodal)</ept> calls, which occur immediately before the dialog box is displayed.","source":"Windows sends the `WM_INITDIALOG` message to the dialog box during the [Create](#cdialog__create), [CreateIndirect](#cdialog__createindirect), or [DoModal](#cdialog__domodal) calls, which occur immediately before the dialog box is displayed."},{"content":"Override this method if you want to perform special processing when the dialog box is initialized.","pos":[24217,24315]},{"content":"In the overridden version, first call the base class <ph id=\"ph1\">`OnInitDialog`</ph> but ignore its return value.","pos":[24316,24412],"source":" In the overridden version, first call the base class `OnInitDialog` but ignore its return value."},{"content":"You will typically return <ph id=\"ph1\">`TRUE`</ph> from your overridden method.","pos":[24413,24474],"source":" You will typically return `TRUE` from your overridden method."},{"content":"Windows calls the <ph id=\"ph1\">`OnInitDialog`</ph> function by using the standard global dialog-box procedure common to all Microsoft Foundation Class Library dialog boxes.","pos":[24481,24635],"source":"Windows calls the `OnInitDialog` function by using the standard global dialog-box procedure common to all Microsoft Foundation Class Library dialog boxes."},{"content":"It does not call this function through your message map, and therefore you do not need a message map entry for this method.","pos":[24636,24759]},{"pos":[24767,25171],"content":"[!NOTE]\n You cannot override this method when you use a `CFileDialog` object in a program that is compiled under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. For more information about changes to `CFileDialog` under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).","leadings":["","> "],"nodes":[{"content":" You cannot override this method when you use a `CFileDialog` object in a program that is compiled under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. For more information about changes to `CFileDialog` under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).","pos":[8,402],"nodes":[{"content":"You cannot override this method when you use a <ph id=\"ph1\">`CFileDialog`</ph> object in a program that is compiled under <ph id=\"ph2\">[!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]</ph>.","pos":[1,187],"source":" You cannot override this method when you use a `CFileDialog` object in a program that is compiled under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]."},{"content":"For more information about changes to <ph id=\"ph1\">`CFileDialog`</ph> under <ph id=\"ph2\">[!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]</ph> see <bpt id=\"p1\">[</bpt>CFileDialog Class<ept id=\"p1\">](../../mfc/reference/cfiledialog-class.md)</ept>.","pos":[188,394],"source":" For more information about changes to `CFileDialog` under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md)."}]}]},{"content":"Example","pos":[25181,25188]},{"pos":[25203,25231],"content":"NVC_MFCControlLadenDialog#67"},{"pos":[25320,25333],"content":"CDialog::OnOK"},{"pos":[25337,25415],"content":"Called when the user clicks the <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> button (the button with an ID of IDOK).","source":"Called when the user clicks the **OK** button (the button with an ID of IDOK)."},{"content":"Remarks","pos":[25461,25468]},{"content":"Override this method to perform actions when the <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> button is activated.","pos":[25472,25548],"source":"Override this method to perform actions when the **OK** button is activated."},{"content":"If the dialog box includes automatic data validation and exchange, the default implementation of this method validates the dialog box data and updates the appropriate variables in your application.","pos":[25549,25746]},{"content":"If you implement the <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> button in a modeless dialog box, you must override the <ph id=\"ph1\">`OnOK`</ph> method and call <bpt id=\"p2\">[</bpt>DestroyWindow<ept id=\"p2\">](../../mfc/reference/cwnd-class.md#cwnd__destroywindow)</ept> inside it.","pos":[25753,25940],"source":"If you implement the **OK** button in a modeless dialog box, you must override the `OnOK` method and call [DestroyWindow](../../mfc/reference/cwnd-class.md#cwnd__destroywindow) inside it."},{"content":"Do not call the base-class method, because it calls <bpt id=\"p1\">[</bpt>EndDialog<ept id=\"p1\">](#cdialog__enddialog)</ept> which makes the dialog box invisible but does not destroy it.","pos":[25941,26087],"source":" Do not call the base-class method, because it calls [EndDialog](#cdialog__enddialog) which makes the dialog box invisible but does not destroy it."},{"pos":[26095,26330],"content":"[!NOTE]\n You cannot override this method when you use a `CFileDialog` object in a program that is compiled under Windows XP. For more information about `CFileDialog`, see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).","leadings":["","> "],"nodes":[{"content":" You cannot override this method when you use a `CFileDialog` object in a program that is compiled under Windows XP. For more information about `CFileDialog`, see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).","pos":[8,233],"nodes":[{"content":"You cannot override this method when you use a <ph id=\"ph1\">`CFileDialog`</ph> object in a program that is compiled under Windows XP.","pos":[1,116],"source":" You cannot override this method when you use a `CFileDialog` object in a program that is compiled under Windows XP."},{"content":"For more information about <ph id=\"ph1\">`CFileDialog`</ph>, see <bpt id=\"p1\">[</bpt>CFileDialog Class<ept id=\"p1\">](../../mfc/reference/cfiledialog-class.md)</ept>.","pos":[117,225],"source":" For more information about `CFileDialog`, see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md)."}]}]},{"content":"Example","pos":[26340,26347]},{"pos":[26362,26390],"content":"NVC_MFCControlLadenDialog#68"},{"pos":[26484,26502],"content":"CDialog::OnSetFont"},{"content":"Specifies the font a dialog-box control will use when drawing text.","pos":[26506,26573]},{"content":"Parameters","pos":[26636,26646]},{"content":"[in]","pos":[26650,26654]},{"content":"Specifies a pointer to the font that will be used as the default font for all controls in this dialog box.","pos":[26666,26772]},{"content":"Remarks","pos":[26782,26789]},{"content":"The dialog box will use the specified font as the default for all its controls.","pos":[26793,26872]},{"content":"The dialog editor typically sets the dialog-box font as part of the dialog-box template resource.","pos":[26879,26976]},{"pos":[26984,27388],"content":"[!NOTE]\n You cannot override this method when you use a `CFileDialog` object in a program that is compiled under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. For more information about changes to `CFileDialog` under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).","leadings":["","> "],"nodes":[{"content":" You cannot override this method when you use a `CFileDialog` object in a program that is compiled under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. For more information about changes to `CFileDialog` under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).","pos":[8,402],"nodes":[{"content":"You cannot override this method when you use a <ph id=\"ph1\">`CFileDialog`</ph> object in a program that is compiled under <ph id=\"ph2\">[!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]</ph>.","pos":[1,187],"source":" You cannot override this method when you use a `CFileDialog` object in a program that is compiled under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]."},{"content":"For more information about changes to <ph id=\"ph1\">`CFileDialog`</ph> under <ph id=\"ph2\">[!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]</ph> see <bpt id=\"p1\">[</bpt>CFileDialog Class<ept id=\"p1\">](../../mfc/reference/cfiledialog-class.md)</ept>.","pos":[188,394],"source":" For more information about changes to `CFileDialog` under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md)."}]}]},{"pos":[27435,27455],"content":"CDialog::PrevDlgCtrl"},{"content":"Sets the focus to the previous control in the dialog box.","pos":[27459,27516]},{"content":"Remarks","pos":[27570,27577]},{"content":"If the focus is at the first control in the dialog box, it moves to the last control in the box.","pos":[27581,27677]},{"pos":[27721,27738],"content":"CDialog::SetDefID"},{"content":"Changes the default pushbutton control for a dialog box.","pos":[27742,27798]},{"content":"Parameters","pos":[27848,27858]},{"content":"Specifies the ID of the pushbutton control that will become the default.","pos":[27871,27943]},{"pos":[27988,28006],"content":"CDialog::SetHelpID"},{"content":"Sets a context-sensitive help ID for the dialog box.","pos":[28010,28062]},{"content":"Parameters","pos":[28114,28124]},{"content":"nIDR","pos":[28129,28133]},{"content":"Specifies the context-sensitive help ID.","pos":[28138,28178]},{"content":"See Also","pos":[28187,28195]},{"content":"MFC Sample DLGCBR32","pos":[28200,28219]},{"content":"MFC Sample DLGTEMPL","pos":[28255,28274]},{"content":"CWnd Class","pos":[28310,28320]},{"content":"Hierarchy Chart","pos":[28362,28377]}],"content":"---\ntitle: \"CDialog Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CDialog\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"modal dialog boxes, creating\"\n  - \"MFC dialog boxes, base class\"\n  - \"modeless dialog boxes, creating\"\n  - \"modeless dialog boxes, displaying\"\n  - \"CDialog class\"\nms.assetid: ca64b77e-2cd2-47e3-8eff-c2645ad578f9\ncaps.latest.revision: 23\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CDialog Class\nThe base class used for displaying dialog boxes on the screen.  \n  \n## Syntax  \n  \n```  \nclass CDialog : public CWnd  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CDialog::CDialog](#cdialog__cdialog)|Constructs a `CDialog` object.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CDialog::Create](#cdialog__create)|Initializes the `CDialog` object. Creates a modeless dialog box and attaches it to the `CDialog` object.|  \n|[CDialog::CreateIndirect](#cdialog__createindirect)|Creates a modeless dialog box from a dialog-box template in memory (not resource-based).|  \n|[CDialog::DoModal](#cdialog__domodal)|Calls a modal dialog box and returns when done.|  \n|[CDialog::EndDialog](#cdialog__enddialog)|Closes a modal dialog box.|  \n|[CDialog::GetDefID](#cdialog__getdefid)|Gets the ID of the default pushbutton control for a dialog box.|  \n|[CDialog::GotoDlgCtrl](#cdialog__gotodlgctrl)|Moves the focus to a specified dialog-box control in the dialog box.|  \n|[CDialog::InitModalIndirect](#cdialog__initmodalindirect)|Creates a modal dialog box from a dialog-box template in memory (not resource-based). The parameters are stored until the function `DoModal` is called.|  \n|[CDialog::MapDialogRect](#cdialog__mapdialogrect)|Converts the dialog-box units of a rectangle to screen units.|  \n|[CDialog::NextDlgCtrl](#cdialog__nextdlgctrl)|Moves the focus to the next dialog-box control in the dialog box.|  \n|[CDialog::OnInitDialog](#cdialog__oninitdialog)|Override to augment dialog-box initialization.|  \n|[CDialog::OnSetFont](#cdialog__onsetfont)|Override to specify the font that a dialog-box control is to use when it draws text.|  \n|[CDialog::PrevDlgCtrl](#cdialog__prevdlgctrl)|Moves the focus to the previous dialog-box control in the dialog box.|  \n|[CDialog::SetDefID](#cdialog__setdefid)|Changes the default pushbutton control for a dialog box to a specified pushbutton.|  \n|[CDialog::SetHelpID](#cdialog__sethelpid)|Sets a context-sensitive help ID for the dialog box.|  \n  \n### Protected Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CDialog::OnCancel](#cdialog__oncancel)|Override to perform the Cancel button or ESC key action. The default closes the dialog box and **DoModal** returns **IDCANCEL**.|  \n|[CDialog::OnOK](#cdialog__onok)|Override to perform the OK button action in a modal dialog box. The default closes the dialog box and `DoModal` returns **IDOK**.|  \n  \n## Remarks  \n Dialog boxes are of two types: modal and modeless. A modal dialog box must be closed by the user before the application continues. A modeless dialog box allows the user to display the dialog box and return to another task without canceling or removing the dialog box.  \n  \n A `CDialog` object is a combination of a dialog template and a `CDialog`-derived class. Use the dialog editor to create the dialog template and store it in a resource, then use the Add Class wizard to create a class derived from `CDialog`.  \n  \n A dialog box, like any other window, receives messages from Windows. In a dialog box, you are particularly interested in handling notification messages from the dialog box's controls since that is how the user interacts with your dialog box. Use the Properties window to select which messages you wish to handle and it will add the appropriate message-map entries and message-handler member functions to the class for you. You only need to write application-specific code in the handler member functions.  \n  \n If you prefer, you can always write message-map entries and member functions manually.  \n  \n In all but the most trivial dialog box, you add member variables to your derived dialog class to store data entered in the dialog box's controls by the user or to display data for the user. You can use the Add Variable wizard to create member variables and associate them with controls. At the same time, you choose a variable type and permissible range of values for each variable. The code wizard adds the member variables to your derived dialog class.  \n  \n A data map is generated to automatically handle the exchange of data between the member variables and the dialog box's controls. The data map provides functions that initialize the controls in the dialog box with the proper values, retrieve the data, and validate the data.  \n  \n To create a modal dialog box, construct an object on the stack using the constructor for your derived dialog class and then call `DoModal` to create the dialog window and its controls. If you wish to create a modeless dialog, call **Create** in the constructor of your dialog class.  \n  \n You can also create a template in memory by using a [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) data structure as described in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]. After you construct a `CDialog` object, call [CreateIndirect](#cdialog__createindirect) to create a modeless dialog box, or call [InitModalIndirect](#cdialog__initmodalindirect) and [DoModal](#cdialog__domodal) to create a modal dialog box.  \n  \n The exchange and validation data map is written in an override of `CWnd::DoDataExchange` that is added to your new dialog class. See the [DoDataExchange](../../mfc/reference/cwnd-class.md#cwnd__dodataexchange) member function in `CWnd` for more on the exchange and validation functionality.  \n  \n Both the programmer and the framework call `DoDataExchange` indirectly through a call to [CWnd::UpdateData](../../mfc/reference/cwnd-class.md#cwnd__updatedata).  \n  \n The framework calls `UpdateData` when the user clicks the OK button to close a modal dialog box. (The data is not retrieved if the Cancel button is clicked.) The default implementation of [OnInitDialog](#cdialog__oninitdialog) also calls `UpdateData` to set the initial values of the controls. You typically override `OnInitDialog` to further initialize controls. `OnInitDialog` is called after all the dialog controls are created and just before the dialog box is displayed.  \n  \n You can call `CWnd::UpdateData` at any time during the execution of a modal or modeless dialog box.  \n  \n If you develop a dialog box by hand, you add the necessary member variables to the derived dialog-box class yourself, and you add member functions to set or get these values.  \n  \n A modal dialog box closes automatically when the user presses the OK or Cancel buttons or when your code calls the `EndDialog` member function.  \n  \n When you implement a modeless dialog box, always override the `OnCancel` member function and call `DestroyWindow` from within it. Don't call the base class `CDialog::OnCancel`, because it calls `EndDialog`, which will make the dialog box invisible but will not destroy it. You should also override `PostNcDestroy` for modeless dialog boxes in order to delete **this**, since modeless dialog boxes are usually allocated with **new**. Modal dialog boxes are usually constructed on the frame and do not need `PostNcDestroy` cleanup.  \n  \n For more information on `CDialog`, see:  \n  \n- [Dialog Boxes](../../mfc/dialog-boxes.md)  \n  \n-   Knowledge Base article Q262954 : HOWTO: Create a Resizeable Dialog Box with Scroll Bars  \n  \n## Inheritance Hierarchy  \n [CObject](../../mfc/reference/cobject-class.md)  \n  \n [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  \n  \n [CWnd](../../mfc/reference/cwnd-class.md)  \n  \n `CDialog`  \n  \n## Requirements  \n **Header:** afxwin.h  \n  \n##  <a name=\"cdialog__cdialog\"></a>  CDialog::CDialog  \n To construct a resource-based modal dialog box, call either public form of the constructor.  \n  \n```  \nexplicit CDialog(\n    LPCTSTR lpszTemplateName,  \n    CWnd* pParentWnd = NULL);\n\n \nexplicit CDialog(\n    UINT nIDTemplate,  \n    CWnd* pParentWnd = NULL);\n\n \nCDialog();\n```  \n  \n### Parameters  \n `lpszTemplateName`  \n Contains a null-terminated string that is the name of a dialog-box template resource.  \n  \n `nIDTemplate`  \n Contains the ID number of a dialog-box template resource.  \n  \n `pParentWnd`  \n Points to the parent or owner window object (of type [CWnd](../../mfc/reference/cwnd-class.md)) to which the dialog object belongs. If it is **NULL**, the dialog object's parent window is set to the main application window.  \n  \n### Remarks  \n One form of the constructor provides access to the dialog resource by template name. The other constructor provides access by template ID number, usually with an **IDD_** prefix (for example, IDD_DIALOG1).  \n  \n To construct a modal dialog box from a template in memory, first invoke the parameterless, protected constructor and then call `InitModalIndirect`.  \n  \n After you construct a modal dialog box with one of the above methods, call `DoModal`.  \n  \n To construct a modeless dialog box, use the protected form of the `CDialog` constructor. The constructor is protected because you must derive your own dialog-box class to implement a modeless dialog box. Construction of a modeless dialog box is a two-step process. First call the constructor; then call the **Create** member function to create a resource-based dialog box, or call `CreateIndirect` to create the dialog box from a template in memory.  \n  \n##  <a name=\"cdialog__create\"></a>  CDialog::Create  \n Call **Create** to create a modeless dialog box using a dialog-box template from a resource.  \n  \n```  \nvirtual BOOL Create(\n    LPCTSTR lpszTemplateName,  \n    CWnd* pParentWnd = NULL);\n\n \nvirtual BOOL Create(\n    UINT nIDTemplate,  \n    CWnd* pParentWnd = NULL);\n```  \n  \n### Parameters  \n `lpszTemplateName`  \n Contains a null-terminated string that is the name of a dialog-box template resource.  \n  \n `pParentWnd`  \n Points to the parent window object (of type [CWnd](../../mfc/reference/cwnd-class.md)) to which the dialog object belongs. If it is **NULL**, the dialog object's parent window is set to the main application window.  \n  \n `nIDTemplate`  \n Contains the ID number of a dialog-box template resource.  \n  \n### Return Value  \n Both forms return nonzero if dialog-box creation and initialization were successful; otherwise 0.  \n  \n### Remarks  \n You can put the call to **Create** inside the constructor or call it after the constructor is invoked.  \n  \n Two forms of the **Create** member function are provided for access to the dialog-box template resource by either template name or template ID number (for example, IDD_DIALOG1).  \n  \n For either form, pass a pointer to the parent window object. If `pParentWnd` is **NULL**, the dialog box will be created with its parent or owner window set to the main application window.  \n  \n The **Create** member function returns immediately after it creates the dialog box.  \n  \n Use the **WS_VISIBLE** style in the dialog-box template if the dialog box should appear when the parent window is created. Otherwise, you must call `ShowWindow`. For further dialog-box styles and their application, see the [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) structure in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)] and [Window Styles](../../mfc/reference/window-styles.md) in the *MFC Reference*.  \n  \n Use the `CWnd::DestroyWindow` function to destroy a dialog box created by the **Create** function.  \n  \n### Example  \n [!code-cpp[NVC_MFCControlLadenDialog#62](../../mfc/codesnippet/cpp/cdialog-class_1.cpp)]  \n  \n##  <a name=\"cdialog__createindirect\"></a>  CDialog::CreateIndirect  \n Call this member function to create a modeless dialog box from a dialog-box template in memory.  \n  \n```  \nvirtual BOOL CreateIndirect(\n    LPCDLGTEMPLATE lpDialogTemplate,  \n    CWnd* pParentWnd = NULL,  \n    void* lpDialogInit = NULL);\n\n \nvirtual BOOL CreateIndirect(\n    HGLOBAL hDialogTemplate,  \n    CWnd* pParentWnd = NULL);\n```  \n  \n### Parameters  \n `lpDialogTemplate`  \n Points to memory that contains a dialog-box template used to create the dialog box. This template is in the form of a [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) structure and control information, as described in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  \n  \n `pParentWnd`  \n Points to the dialog object's parent window object (of type [CWnd](../../mfc/reference/cwnd-class.md)). If it is **NULL**, the dialog object's parent window is set to the main application window.  \n  \n `lpDialogInit`  \n Points to a **DLGINIT** resource.  \n  \n `hDialogTemplate`  \n Contains a handle to global memory containing a dialog-box template. This template is in the form of a **DLGTEMPLATE** structure and data for each control in the dialog box.  \n  \n### Return Value  \n Nonzero if the dialog box was created and initialized successfully; otherwise 0.  \n  \n### Remarks  \n The `CreateIndirect` member function returns immediately after it creates the dialog box.  \n  \n Use the **WS_VISIBLE** style in the dialog-box template if the dialog box should appear when the parent window is created. Otherwise, you must call `ShowWindow` to cause it to appear. For more information on how you can specify other dialog-box styles in the template, see the [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) structure in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  \n  \n Use the `CWnd::DestroyWindow` function to destroy a dialog box created by the `CreateIndirect` function.  \n  \n Dialog boxes that contain ActiveX controls require additional information provided in a **DLGINIT** resource. For more information, see Knowledge Base article Q231591, \" HOWTO: Use a Dialog Template to Create a MFC Dialog with an ActiveX Control.\" Knowledge Base articles are available in the MSDN Library Visual Studio documentation or at [http://support.microsoft.com](http://support.microsoft.com/).  \n  \n##  <a name=\"cdialog__domodal\"></a>  CDialog::DoModal  \n Call this member function to invoke the modal dialog box and return the dialog-box result when done.  \n  \n```  \nvirtual INT_PTR DoModal();\n```  \n  \n### Return Value  \n An `int` value that specifies the value of the `nResult` parameter that was passed to the [CDialog::EndDialog](#cdialog__enddialog) member function, which is used to close the dialog box. The return value is –1 if the function could not create the dialog box, or **IDABORT** if some other error occurred, in which case the output window will contain error information from [GetLastError](http://msdn.microsoft.com/library/windows/desktop/ms679360).  \n  \n### Remarks  \n This member function handles all interaction with the user while the dialog box is active. This is what makes the dialog box modal; that is, the user cannot interact with other windows until the dialog box is closed.  \n  \n If the user clicks one of the pushbuttons in the dialog box, such as OK or Cancel, a message-handler member function, such as [OnOK](#cdialog__onok) or [OnCancel](#cdialog__oncancel), is called to attempt to close the dialog box. The default `OnOK` member function will validate and update the dialog-box data and close the dialog box with result **IDOK**, and the default `OnCancel` member function will close the dialog box with result **IDCANCEL** without validating or updating the dialog-box data. You can override these message-handler functions to alter their behavior.  \n  \n> [!NOTE]\n> `PreTranslateMessage` is now called for modal dialog box message processing.  \n  \n### Example  \n [!code-cpp[NVC_MFCControlLadenDialog#63](../../mfc/codesnippet/cpp/cdialog-class_2.cpp)]  \n  \n##  <a name=\"cdialog__enddialog\"></a>  CDialog::EndDialog  \n Call this member function to terminate a modal dialog box.  \n  \n```  \nvoid EndDialog(int nResult);\n```  \n  \n### Parameters  \n `nResult`  \n Contains the value to be returned from the dialog box to the caller of `DoModal`.  \n  \n### Remarks  \n This member function returns `nResult` as the return value of `DoModal`. You must use the `EndDialog` function to complete processing whenever a modal dialog box is created.  \n  \n You can call `EndDialog` at any time, even in [OnInitDialog](#cdialog__oninitdialog), in which case you should close the dialog box before it is shown or before the input focus is set.  \n  \n `EndDialog` does not close the dialog box immediately. Instead, it sets a flag that directs the dialog box to close as soon as the current message handler returns.  \n  \n### Example  \n [!code-cpp[NVC_MFCControlLadenDialog#64](../../mfc/codesnippet/cpp/cdialog-class_3.cpp)]  \n  \n [!code-cpp[NVC_MFCControlLadenDialog#65](../../mfc/codesnippet/cpp/cdialog-class_4.cpp)]  \n  \n##  <a name=\"cdialog__getdefid\"></a>  CDialog::GetDefID  \n Call the `GetDefID` member function to get the ID of the default pushbutton control for a dialog box.  \n  \n```  \nDWORD GetDefID() const;\n\n \n```  \n  \n### Return Value  \n A 32-bit value ( `DWORD`). If the default pushbutton has an ID value, the high-order word contains **DC_HASDEFID** and the low-order word contains the ID value. If the default pushbutton does not have an ID value, the return value is 0.  \n  \n### Remarks  \n This is usually an OK button.  \n  \n##  <a name=\"cdialog__gotodlgctrl\"></a>  CDialog::GotoDlgCtrl  \n Moves the focus to the specified control in the dialog box.  \n  \n```  \nvoid GotoDlgCtrl(CWnd* pWndCtrl);\n```  \n  \n### Parameters  \n `pWndCtrl`  \n Identifies the window (control) that is to receive the focus.  \n  \n### Remarks  \n To get a pointer to the control (child window) to pass as `pWndCtrl`, call the `CWnd::GetDlgItem` member function, which returns a pointer to a [CWnd](../../mfc/reference/cwnd-class.md) object.  \n  \n### Example  \n  See the example for [CWnd::GetDlgItem](../../mfc/reference/cwnd-class.md#cwnd__getdlgitem).  \n  \n##  <a name=\"cdialog__initmodalindirect\"></a>  CDialog::InitModalIndirect  \n Call this member function to initialize a modal dialog object using a dialog-box template that you construct in memory.  \n  \n```  \nBOOL InitModalIndirect(\n    LPCDLGTEMPLATE lpDialogTemplate,  \n    CWnd* pParentWnd = NULL,  \n    void* lpDialogInit = NULL);\n\n \n    BOOL InitModalIndirect(\n    HGLOBAL hDialogTemplate,  \n    CWnd* pParentWnd = NULL);\n```  \n  \n### Parameters  \n `lpDialogTemplate`  \n Points to memory that contains a dialog-box template used to create the dialog box. This template is in the form of a [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) structure and control information, as described in the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  \n  \n `hDialogTemplate`  \n Contains a handle to global memory containing a dialog-box template. This template is in the form of a **DLGTEMPLATE** structure and data for each control in the dialog box.  \n  \n `pParentWnd`  \n Points to the parent or owner window object (of type [CWnd](../../mfc/reference/cwnd-class.md)) to which the dialog object belongs. If it is **NULL**, the dialog object's parent window is set to the main application window.  \n  \n `lpDialogInit`  \n Points to a **DLGINIT** resource.  \n  \n### Return Value  \n Nonzero if the dialog object was created and initialized successfully; otherwise 0.  \n  \n### Remarks  \n To create a modal dialog box indirectly, first allocate a global block of memory and fill it with the dialog box template. Then call the empty `CDialog` constructor to construct the dialog-box object. Next, call `InitModalIndirect` to store your handle to the in-memory dialog-box template. The Windows dialog box is created and displayed later, when the [DoModal](#cdialog__domodal) member function is called.  \n  \n Dialog boxes that contain ActiveX controls require additional information provided in a **DLGINIT** resource. For more information, see Knowledge Base article Q231591, \" HOWTO: Use a Dialog Template to Create a MFC Dialog with an ActiveX Control.\" Knowledge Base articles are available in the MSDN Library Visual Studio documentation or at [http://support.microsoft.com](http://support.microsoft.com/).  \n  \n##  <a name=\"cdialog__mapdialogrect\"></a>  CDialog::MapDialogRect  \n Call to convert the dialog-box units of a rectangle to screen units.  \n  \n```  \nvoid MapDialogRect(LPRECT lpRect) const;\n\n \n```  \n  \n### Parameters  \n `lpRect`  \n Points to a [RECT](../../mfc/reference/rect-structure1.md) structure or [CRect](../../atl-mfc-shared/reference/crect-class.md) object that contains the dialog-box coordinates to be converted.  \n  \n### Remarks  \n Dialog-box units are stated in terms of the current dialog-box base unit derived from the average width and height of characters in the font used for dialog-box text. One horizontal unit is one-fourth of the dialog-box base-width unit, and one vertical unit is one-eighth of the dialog-box base height unit.  \n  \n The **GetDialogBaseUnits** Windows function returns size information for the system font, but you can specify a different font for each dialog box if you use the **DS_SETFONT** style in the resource-definition file. The `MapDialogRect` Windows function uses the appropriate font for this dialog box.  \n  \n The `MapDialogRect` member function replaces the dialog-box units in `lpRect` with screen units (pixels) so that the rectangle can be used to create a dialog box or position a control within a box.  \n  \n##  <a name=\"cdialog__nextdlgctrl\"></a>  CDialog::NextDlgCtrl  \n Moves the focus to the next control in the dialog box.  \n  \n```  \nvoid NextDlgCtrl() const;\n\n \n```  \n  \n### Remarks  \n If the focus is at the last control in the dialog box, it moves to the first control.  \n  \n##  <a name=\"cdialog__oncancel\"></a>  CDialog::OnCancel  \n The framework calls this method when the user clicks **Cancel** or presses the ESC key in a modal or modeless dialog box.  \n  \n```  \nvirtual void OnCancel();\n```  \n  \n### Remarks  \n Override this method to perform actions (such as restoring old data) when a user closes the dialog box by clicking **Cancel** or hitting the ESC key. The default closes a modal dialog box by calling [EndDialog](#cdialog__enddialog) and causing [DoModal](#cdialog__domodal) to return IDCANCEL.  \n  \n If you implement the **Cancel** button in a modeless dialog box, you must override the `OnCancel` method and call [DestroyWindow](../../mfc/reference/cwnd-class.md#cwnd__destroywindow) inside it. Do not call the base-class method, because it calls `EndDialog`, which will make the dialog box invisible but not destroy it.  \n  \n> [!NOTE]\n>  You cannot override this method when you use a `CFileDialog` object in a program that is compiled under Windows XP. For more information about `CFileDialog`, see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).  \n  \n### Example  \n [!code-cpp[NVC_MFCControlLadenDialog#66](../../mfc/codesnippet/cpp/cdialog-class_5.cpp)]  \n  \n##  <a name=\"cdialog__oninitdialog\"></a>  CDialog::OnInitDialog  \n This method is called in response to the `WM_INITDIALOG` message.  \n  \n```  \nvirtual BOOL OnInitDialog();\n```  \n  \n### Return Value  \n Specifies whether the application has set the input focus to one of the controls in the dialog box. If `OnInitDialog` returns nonzero, Windows sets the input focus to the default location, the first control in the dialog box. The application can return 0 only if it has explicitly set the input focus to one of the controls in the dialog box.  \n  \n### Remarks  \n Windows sends the `WM_INITDIALOG` message to the dialog box during the [Create](#cdialog__create), [CreateIndirect](#cdialog__createindirect), or [DoModal](#cdialog__domodal) calls, which occur immediately before the dialog box is displayed.  \n  \n Override this method if you want to perform special processing when the dialog box is initialized. In the overridden version, first call the base class `OnInitDialog` but ignore its return value. You will typically return `TRUE` from your overridden method.  \n  \n Windows calls the `OnInitDialog` function by using the standard global dialog-box procedure common to all Microsoft Foundation Class Library dialog boxes. It does not call this function through your message map, and therefore you do not need a message map entry for this method.  \n  \n> [!NOTE]\n>  You cannot override this method when you use a `CFileDialog` object in a program that is compiled under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. For more information about changes to `CFileDialog` under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).  \n  \n### Example  \n [!code-cpp[NVC_MFCControlLadenDialog#67](../../mfc/codesnippet/cpp/cdialog-class_6.cpp)]  \n  \n##  <a name=\"cdialog__onok\"></a>  CDialog::OnOK  \n Called when the user clicks the **OK** button (the button with an ID of IDOK).  \n  \n```  \nvirtual void OnOK();\n```  \n  \n### Remarks  \n Override this method to perform actions when the **OK** button is activated. If the dialog box includes automatic data validation and exchange, the default implementation of this method validates the dialog box data and updates the appropriate variables in your application.  \n  \n If you implement the **OK** button in a modeless dialog box, you must override the `OnOK` method and call [DestroyWindow](../../mfc/reference/cwnd-class.md#cwnd__destroywindow) inside it. Do not call the base-class method, because it calls [EndDialog](#cdialog__enddialog) which makes the dialog box invisible but does not destroy it.  \n  \n> [!NOTE]\n>  You cannot override this method when you use a `CFileDialog` object in a program that is compiled under Windows XP. For more information about `CFileDialog`, see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).  \n  \n### Example  \n [!code-cpp[NVC_MFCControlLadenDialog#68](../../mfc/codesnippet/cpp/cdialog-class_7.cpp)]  \n  \n##  <a name=\"cdialog__onsetfont\"></a>  CDialog::OnSetFont  \n Specifies the font a dialog-box control will use when drawing text.  \n  \n```  \nVirtual void OnSetFont(CFont* pFont);\n```  \n  \n### Parameters  \n [in] `pFont`  \n Specifies a pointer to the font that will be used as the default font for all controls in this dialog box.  \n  \n### Remarks  \n The dialog box will use the specified font as the default for all its controls.  \n  \n The dialog editor typically sets the dialog-box font as part of the dialog-box template resource.  \n  \n> [!NOTE]\n>  You cannot override this method when you use a `CFileDialog` object in a program that is compiled under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. For more information about changes to `CFileDialog` under [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] see [CFileDialog Class](../../mfc/reference/cfiledialog-class.md).  \n  \n##  <a name=\"cdialog__prevdlgctrl\"></a>  CDialog::PrevDlgCtrl  \n Sets the focus to the previous control in the dialog box.  \n  \n```  \nvoid PrevDlgCtrl() const;\n\n \n```  \n  \n### Remarks  \n If the focus is at the first control in the dialog box, it moves to the last control in the box.  \n  \n##  <a name=\"cdialog__setdefid\"></a>  CDialog::SetDefID  \n Changes the default pushbutton control for a dialog box.  \n  \n```  \nvoid SetDefID(UINT nID);\n```  \n  \n### Parameters  \n `nID`  \n Specifies the ID of the pushbutton control that will become the default.  \n  \n##  <a name=\"cdialog__sethelpid\"></a>  CDialog::SetHelpID  \n Sets a context-sensitive help ID for the dialog box.  \n  \n```  \nvoid SetHelpID(UINT nIDR);\n```  \n  \n### Parameters  \n *nIDR*  \n Specifies the context-sensitive help ID.  \n  \n## See Also  \n [MFC Sample DLGCBR32](../../visual-cpp-samples.md)   \n [MFC Sample DLGTEMPL](../../visual-cpp-samples.md)   \n [CWnd Class](../../mfc/reference/cwnd-class.md)   \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)\n\n"}