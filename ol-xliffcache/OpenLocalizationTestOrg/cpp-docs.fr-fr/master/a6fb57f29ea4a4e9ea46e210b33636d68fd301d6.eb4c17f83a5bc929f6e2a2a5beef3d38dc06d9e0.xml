{"nodes":[{"pos":[12,48],"content":"set_terminate (CRT) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"set_terminate (CRT) | Microsoft Docs","pos":[0,36]}]},{"pos":[1000,1019],"content":"set_terminate (CRT)","linkify":"set_terminate (CRT)","nodes":[{"content":"set_terminate (CRT)","pos":[0,19]}]},{"pos":[1020,1086],"content":"Installs your own termination routine to be called by <ph id=\"ph1\">`terminate`</ph>.","source":"Installs your own termination routine to be called by `terminate`."},{"pos":[1095,1101],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1205,1215],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Pointer to a terminate function that you write.","pos":[1237,1284]},{"pos":[1293,1305],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns a pointer to the previous function registered by <ph id=\"ph1\">`set_terminate`</ph> so that the previous function can be restored later.","pos":[1309,1434],"source":"Returns a pointer to the previous function registered by `set_terminate` so that the previous function can be restored later."},{"content":"If no previous function has been set, the return value may be used to restore the default behavior; this value may be NULL.","pos":[1435,1558]},{"pos":[1567,1574],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`set_terminate`</ph> function installs <ph id=\"ph2\">`termFunction`</ph> as the function called by <ph id=\"ph3\">`terminate`</ph>.","pos":[1578,1669],"source":"The `set_terminate` function installs `termFunction` as the function called by `terminate`."},{"content":"<ph id=\"ph1\">`set_terminate`</ph> is used with C++ exception handling and may be called at any point in your program before the exception is thrown.","pos":[1670,1800],"source":"`set_terminate` is used with C++ exception handling and may be called at any point in your program before the exception is thrown."},{"content":"<ph id=\"ph1\">`terminate`</ph> calls <ph id=\"ph2\">`abort`</ph> by default.","pos":[1801,1838],"source":"`terminate` calls `abort` by default."},{"content":"You can change this default by writing your own termination function and calling <ph id=\"ph1\">`set_terminate`</ph> with the name of your function as its argument.","pos":[1839,1983],"source":" You can change this default by writing your own termination function and calling `set_terminate` with the name of your function as its argument."},{"content":"<ph id=\"ph1\">`terminate`</ph> calls the last function given as an argument to <ph id=\"ph2\">`set_terminate`</ph>.","pos":[1984,2060],"source":"`terminate` calls the last function given as an argument to `set_terminate`."},{"content":"After performing any desired cleanup tasks, <ph id=\"ph1\">`termFunction`</ph> should exit the program.","pos":[2061,2144],"source":" After performing any desired cleanup tasks, `termFunction` should exit the program."},{"content":"If it does not exit (if it returns to its caller), <ph id=\"ph1\">`abort`</ph> is called.","pos":[2145,2214],"source":" If it does not exit (if it returns to its caller), `abort` is called."},{"content":"In a multithreaded environment, terminate functions are maintained separately for each thread.","pos":[2221,2315]},{"content":"Each new thread needs to install its own terminate function.","pos":[2316,2376]},{"content":"Thus, each thread is in charge of its own termination handling.","pos":[2377,2440]},{"content":"The <ph id=\"ph1\">`terminate_function`</ph> type is defined in EH.H as a pointer to a user-defined termination function, <ph id=\"ph2\">`termFunction`</ph> that returns <ph id=\"ph3\">`void`</ph>.","pos":[2447,2584],"source":"The `terminate_function` type is defined in EH.H as a pointer to a user-defined termination function, `termFunction` that returns `void`."},{"content":"Your custom function <ph id=\"ph1\">`termFunction`</ph> can take no arguments and should not return to its caller.","pos":[2585,2679],"source":" Your custom function `termFunction` can take no arguments and should not return to its caller."},{"content":"If it does, <ph id=\"ph1\">`abort`</ph> is called.","pos":[2680,2710],"source":" If it does, `abort` is called."},{"content":"An exception may not be thrown from within <ph id=\"ph1\">`termFunction`</ph>.","pos":[2711,2769],"source":" An exception may not be thrown from within `termFunction`."},{"pos":[2835,2907],"content":"[!NOTE]\n The `set_terminate` function only works outside the debugger.","leadings":["","> "],"nodes":[{"content":"The <ph id=\"ph1\">`set_terminate`</ph> function only works outside the debugger.","pos":[9,70],"source":" The `set_terminate` function only works outside the debugger."}]},{"pos":[2914,3131],"content":"There is a single <ph id=\"ph1\">`set_terminate`</ph> handler for all dynamically linked DLLs or EXEs; even if you call <ph id=\"ph2\">`set_terminate`</ph> your handler may be replaced by another, or you may be replacing a handler set by another DLL or EXE.","source":"There is a single `set_terminate` handler for all dynamically linked DLLs or EXEs; even if you call `set_terminate` your handler may be replaced by another, or you may be replacing a handler set by another DLL or EXE."},{"pos":[3138,3189],"content":"This function is not supported under <bpt id=\"p1\">**</bpt>/clr:pure<ept id=\"p1\">**</ept>.","source":"This function is not supported under **/clr:pure**."},{"pos":[3198,3210],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Routine","pos":[3217,3224]},{"content":"Required header","pos":[3225,3240]},{"content":"<ph id=\"ph1\">\\&lt;</ph>eh.h&gt;","pos":[3301,3308],"source":"\\<eh.h>"},{"pos":[3316,3440],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"pos":[3449,3456],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3460,3544],"content":"See the example for <bpt id=\"p1\">[</bpt>terminate<ept id=\"p1\">](../../c-runtime-library/reference/terminate-crt.md)</ept>.","source":"See the example for [terminate](../../c-runtime-library/reference/terminate-crt.md)."},{"pos":[3553,3578],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"content":"Not applicable.","pos":[3582,3597]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[3598,3645],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[3646,3771],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"pos":[3780,3788],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Exception Handling Routines<ept id=\"p1\">](../../c-runtime-library/exception-handling-routines.md)</ept><ph id=\"ph1\"> </ph>","pos":[3792,3878],"source":"[Exception Handling Routines](../../c-runtime-library/exception-handling-routines.md) "},{"content":"<bpt id=\"p1\"> [</bpt>abort<ept id=\"p1\">](../../c-runtime-library/reference/abort.md)</ept><ph id=\"ph1\"> </ph>","pos":[3881,3934],"source":" [abort](../../c-runtime-library/reference/abort.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_get_terminate<ept id=\"p1\">](../../c-runtime-library/reference/get-terminate.md)</ept><ph id=\"ph1\"> </ph>","pos":[3937,4007],"source":" [_get_terminate](../../c-runtime-library/reference/get-terminate.md) "},{"content":"<bpt id=\"p1\"> [</bpt>set_unexpected<ept id=\"p1\">](../../c-runtime-library/reference/set-unexpected-crt.md)</ept><ph id=\"ph1\"> </ph>","pos":[4010,4085],"source":" [set_unexpected](../../c-runtime-library/reference/set-unexpected-crt.md) "},{"content":"<bpt id=\"p1\"> [</bpt>terminate<ept id=\"p1\">](../../c-runtime-library/reference/terminate-crt.md)</ept><ph id=\"ph1\"> </ph>","pos":[4088,4153],"source":" [terminate](../../c-runtime-library/reference/terminate-crt.md) "},{"content":"<bpt id=\"p1\"> [</bpt>unexpected<ept id=\"p1\">](../../c-runtime-library/reference/unexpected-crt.md)</ept>","pos":[4156,4222],"source":" [unexpected](../../c-runtime-library/reference/unexpected-crt.md)"}],"content":"---\ntitle: \"set_terminate (CRT) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"set_terminate\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-runtime-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"set_terminate\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"set_terminate function\"\n  - \"terminate function\"\n  - \"exception handling, termination\"\nms.assetid: 3ff1456a-7898-44bc-9266-a328a80b6006\ncaps.latest.revision: 13\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# set_terminate (CRT)\nInstalls your own termination routine to be called by `terminate`.  \n  \n## Syntax  \n  \n```  \nterminate_function set_terminate(  \n   terminate_function termFunction  \n);  \n```  \n  \n#### Parameters  \n `termFunction`  \n Pointer to a terminate function that you write.  \n  \n## Return Value  \n Returns a pointer to the previous function registered by `set_terminate` so that the previous function can be restored later. If no previous function has been set, the return value may be used to restore the default behavior; this value may be NULL.  \n  \n## Remarks  \n The `set_terminate` function installs `termFunction` as the function called by `terminate`. `set_terminate` is used with C++ exception handling and may be called at any point in your program before the exception is thrown. `terminate` calls `abort` by default. You can change this default by writing your own termination function and calling `set_terminate` with the name of your function as its argument. `terminate` calls the last function given as an argument to `set_terminate`. After performing any desired cleanup tasks, `termFunction` should exit the program. If it does not exit (if it returns to its caller), `abort` is called.  \n  \n In a multithreaded environment, terminate functions are maintained separately for each thread. Each new thread needs to install its own terminate function. Thus, each thread is in charge of its own termination handling.  \n  \n The `terminate_function` type is defined in EH.H as a pointer to a user-defined termination function, `termFunction` that returns `void`. Your custom function `termFunction` can take no arguments and should not return to its caller. If it does, `abort` is called. An exception may not be thrown from within `termFunction`.  \n  \n```  \ntypedef void ( *terminate_function )( );  \n```  \n  \n> [!NOTE]\n>  The `set_terminate` function only works outside the debugger.  \n  \n There is a single `set_terminate` handler for all dynamically linked DLLs or EXEs; even if you call `set_terminate` your handler may be replaced by another, or you may be replacing a handler set by another DLL or EXE.  \n  \n This function is not supported under **/clr:pure**.  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`set_terminate`|\\<eh.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Example  \n See the example for [terminate](../../c-runtime-library/reference/terminate-crt.md).  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [Exception Handling Routines](../../c-runtime-library/exception-handling-routines.md)   \n [abort](../../c-runtime-library/reference/abort.md)   \n [_get_terminate](../../c-runtime-library/reference/get-terminate.md)   \n [set_unexpected](../../c-runtime-library/reference/set-unexpected-crt.md)   \n [terminate](../../c-runtime-library/reference/terminate-crt.md)   \n [unexpected](../../c-runtime-library/reference/unexpected-crt.md)"}