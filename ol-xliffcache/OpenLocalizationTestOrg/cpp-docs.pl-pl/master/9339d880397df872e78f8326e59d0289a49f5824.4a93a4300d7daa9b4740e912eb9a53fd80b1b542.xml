{"nodes":[{"pos":[12,37],"content":"_chdrive | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_chdrive | Microsoft Docs","pos":[0,25]}]},{"content":"_chdrive","pos":[974,982]},{"content":"Changes the current working drive.","pos":[983,1017]},{"pos":[1025,1245],"content":"[!IMPORTANT]\n This API cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","leadings":["","> "],"nodes":[{"content":" This API cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","pos":[13,218],"nodes":[{"content":"This API cannot be used in applications that execute in the Windows Runtime.","pos":[1,77]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CRT functions not supported with /ZW<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)</ept>.","pos":[78,205],"source":" For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)."}]}]},{"content":"Syntax","pos":[1254,1260]},{"content":"Parameters","pos":[1324,1334]},{"content":"An integer from 1 through 26 that specifies the current working drive (1=A, 2=B, and so forth).","pos":[1349,1444]},{"content":"Return Value","pos":[1453,1465]},{"content":"Zero (0) if the current working drive was changed successfully; otherwise, -1.","pos":[1469,1547]},{"content":"Remarks","pos":[1556,1563]},{"content":"If <ph id=\"ph1\">`drive`</ph> is not in the range from 1 through 26, the invalid-parameter handler is invoked as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[1567,1746],"source":"If `drive` is not in the range from 1 through 26, the invalid-parameter handler is invoked as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, the <bpt id=\"p1\">**</bpt>_chdrive<ept id=\"p1\">**</ept> function returns -1, <ph id=\"ph1\">`errno`</ph> is set to <ph id=\"ph2\">`EACCES`</ph>, and <ph id=\"ph3\">`_doserrno`</ph> is set to <ph id=\"ph4\">`ERROR_INVALID_DRIVE`</ph>.","pos":[1747,1898],"source":" If execution is allowed to continue, the **_chdrive** function returns -1, `errno` is set to `EACCES`, and `_doserrno` is set to `ERROR_INVALID_DRIVE`."},{"content":"The <bpt id=\"p1\">**</bpt>_chdrive<ept id=\"p1\">**</ept> function is not thread-safe because it depends on the <bpt id=\"p2\">**</bpt>SetCurrentDirectory<ept id=\"p2\">**</ept> function, which is itself not thread-safe.","pos":[1905,2042],"source":"The **_chdrive** function is not thread-safe because it depends on the **SetCurrentDirectory** function, which is itself not thread-safe."},{"content":"To use <bpt id=\"p1\">**</bpt>_chdrive<ept id=\"p1\">**</ept> safely in a multi-threaded application, you must provide your own thread synchronization.","pos":[2043,2152],"source":" To use **_chdrive** safely in a multi-threaded application, you must provide your own thread synchronization."},{"content":"For more information, go to <bpt id=\"p1\">[</bpt>MSDN Library<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=150542)</ept> and then search for <bpt id=\"p2\">**</bpt>SetCurrentDirectory<ept id=\"p2\">**</ept>.","pos":[2153,2287],"source":" For more information, go to [MSDN Library](http://go.microsoft.com/fwlink/?LinkID=150542) and then search for **SetCurrentDirectory**."},{"pos":[2294,2410],"content":"The <bpt id=\"p1\">**</bpt>_chdrive<ept id=\"p1\">**</ept> function changes only the current working drive;  <bpt id=\"p2\">**</bpt>_chdir<ept id=\"p2\">**</ept> changes the current working directory.","source":"The **_chdrive** function changes only the current working drive;  **_chdir** changes the current working directory."},{"content":"Requirements","pos":[2419,2431]},{"content":"Routine","pos":[2438,2445]},{"content":"Required header","pos":[2446,2461]},{"content":"_chdrive","pos":[2508,2516]},{"content":"direct.h&gt;","pos":[2521,2530],"source":"direct.h>"},{"pos":[2538,2622],"content":"For more information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For more information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"content":"Example","pos":[2631,2638]},{"pos":[2642,2721],"content":"See the example for <bpt id=\"p1\">[</bpt>_getdrive<ept id=\"p1\">](../../c-runtime-library/reference/getdrive.md)</ept>.","source":"See the example for [_getdrive](../../c-runtime-library/reference/getdrive.md)."},{"content":".NET Framework Equivalent","pos":[2730,2755]},{"content":"System::Environment::CurrentDirectory","pos":[2760,2797]},{"content":"See Also","pos":[2890,2898]},{"content":"Directory Control","pos":[2903,2920]},{"content":"_chdir, _wchdir","pos":[2973,2988]},{"content":"_fullpath, _wfullpath","pos":[3046,3067]},{"content":"_getcwd, _wgetcwd","pos":[3131,3148]},{"content":"_getdrive","pos":[3208,3217]},{"content":"_mkdir, _wmkdir","pos":[3271,3286]},{"content":"_rmdir, _wrmdir","pos":[3344,3359]},{"content":"system, _wsystem","pos":[3417,3433]}],"content":"---\ntitle: \"_chdrive | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_chdrive\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-filesystem-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"chdrive\"\n  - \"_chdrive\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"drives, changing\"\n  - \"_chdrive function\"\n  - \"chdrive function\"\nms.assetid: 212a1a4b-4fa8-444e-9677-7fca4c8c47e3\ncaps.latest.revision: 21\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _chdrive\nChanges the current working drive.  \n  \n> [!IMPORTANT]\n>  This API cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).  \n  \n## Syntax  \n  \n```  \nint _chdrive(   \n   int drive   \n);  \n```  \n  \n#### Parameters  \n `drive`  \n An integer from 1 through 26 that specifies the current working drive (1=A, 2=B, and so forth).  \n  \n## Return Value  \n Zero (0) if the current working drive was changed successfully; otherwise, -1.  \n  \n## Remarks  \n If `drive` is not in the range from 1 through 26, the invalid-parameter handler is invoked as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, the **_chdrive** function returns -1, `errno` is set to `EACCES`, and `_doserrno` is set to `ERROR_INVALID_DRIVE`.  \n  \n The **_chdrive** function is not thread-safe because it depends on the **SetCurrentDirectory** function, which is itself not thread-safe. To use **_chdrive** safely in a multi-threaded application, you must provide your own thread synchronization. For more information, go to [MSDN Library](http://go.microsoft.com/fwlink/?LinkID=150542) and then search for **SetCurrentDirectory**.  \n  \n The **_chdrive** function changes only the current working drive;  **_chdir** changes the current working directory.  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|**_chdrive**|\\<direct.h>|  \n  \n For more information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n See the example for [_getdrive](../../c-runtime-library/reference/getdrive.md).  \n  \n## .NET Framework Equivalent  \n [System::Environment::CurrentDirectory](https://msdn.microsoft.com/en-us/library/system.environment.currentdirectory.aspx)  \n  \n## See Also  \n [Directory Control](../../c-runtime-library/directory-control.md)   \n [_chdir, _wchdir](../../c-runtime-library/reference/chdir-wchdir.md)   \n [_fullpath, _wfullpath](../../c-runtime-library/reference/fullpath-wfullpath.md)   \n [_getcwd, _wgetcwd](../../c-runtime-library/reference/getcwd-wgetcwd.md)   \n [_getdrive](../../c-runtime-library/reference/getdrive.md)   \n [_mkdir, _wmkdir](../../c-runtime-library/reference/mkdir-wmkdir.md)   \n [_rmdir, _wrmdir](../../c-runtime-library/reference/rmdir-wrmdir.md)   \n [system, _wsystem](../../c-runtime-library/reference/system-wsystem.md)"}