{"nodes":[{"pos":[12,59],"content":"CWinApp: The Application Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CWinApp: The Application Class | Microsoft Docs","pos":[0,47]}]},{"content":"CWinApp: The Application Class","pos":[855,885]},{"content":"The main application class in MFC encapsulates the initialization, running, and termination of an application for the Windows operating system.","pos":[886,1029]},{"content":"An application built on the framework must have one and only one object of a class derived from <bpt id=\"p1\">[</bpt>CWinApp<ept id=\"p1\">](../mfc/reference/cwinapp-class.md)</ept>.","pos":[1030,1171],"source":" An application built on the framework must have one and only one object of a class derived from [CWinApp](../mfc/reference/cwinapp-class.md)."},{"content":"This object is constructed before windows are created.","pos":[1172,1226]},{"content":"is derived from <ph id=\"ph1\">`CWinThread`</ph>, which represents the main thread of execution for your application, which might have one or more threads.","pos":[1243,1378],"source":" is derived from `CWinThread`, which represents the main thread of execution for your application, which might have one or more threads."},{"content":"In recent versions of MFC, the <ph id=\"ph1\">`InitInstance`</ph>, <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept>, <ph id=\"ph2\">`ExitInstance`</ph>, and <ph id=\"ph3\">`OnIdle`</ph> member functions are actually in class <ph id=\"ph4\">`CWinThread`</ph>.","pos":[1379,1516],"source":" In recent versions of MFC, the `InitInstance`, **Run**, `ExitInstance`, and `OnIdle` member functions are actually in class `CWinThread`."},{"content":"These functions are discussed here as if they were <ph id=\"ph1\">`CWinApp`</ph> members instead, because the discussion concerns the object's role as application object rather than as primary thread.","pos":[1517,1697],"source":" These functions are discussed here as if they were `CWinApp` members instead, because the discussion concerns the object's role as application object rather than as primary thread."},{"pos":[1705,2025],"content":"[!NOTE]\n Your application class constitutes your application's primary thread of execution. Using Win32 API functions, you can also create secondary threads of execution. These threads can use the MFC Library. For more information, see [Multithreading](../parallel/multithreading-support-for-older-code-visual-cpp.md).","leadings":["","> "],"nodes":[{"content":" Your application class constitutes your application's primary thread of execution. Using Win32 API functions, you can also create secondary threads of execution. These threads can use the MFC Library. For more information, see [Multithreading](../parallel/multithreading-support-for-older-code-visual-cpp.md).","pos":[8,318],"nodes":[{"content":"Your application class constitutes your application's primary thread of execution.","pos":[1,83]},{"content":"Using Win32 API functions, you can also create secondary threads of execution.","pos":[84,162]},{"content":"These threads can use the MFC Library.","pos":[163,201]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Multithreading<ept id=\"p1\">](../parallel/multithreading-support-for-older-code-visual-cpp.md)</ept>.","pos":[202,310],"source":" For more information, see [Multithreading](../parallel/multithreading-support-for-older-code-visual-cpp.md)."}]}]},{"content":"Like any program for the Windows operating system, your framework application has a <ph id=\"ph1\">`WinMain`</ph> function.","pos":[2032,2135],"source":"Like any program for the Windows operating system, your framework application has a `WinMain` function."},{"content":"In a framework application, however, you do not write <ph id=\"ph1\">`WinMain`</ph>.","pos":[2136,2200],"source":" In a framework application, however, you do not write `WinMain`."},{"content":"It is supplied by the class library and is called when the application starts up.","pos":[2201,2282]},{"content":"performs standard services such as registering window classes.","pos":[2293,2355]},{"content":"It then calls member functions of the application object to initialize and run the application.","pos":[2356,2451]},{"content":"(You can customize <ph id=\"ph1\">`WinMain`</ph> by overriding the <ph id=\"ph2\">`CWinApp`</ph> member functions that <ph id=\"ph3\">`WinMain`</ph> calls.)","pos":[2452,2548],"source":" (You can customize `WinMain` by overriding the `CWinApp` member functions that `WinMain` calls.)"},{"content":"To initialize the application, <ph id=\"ph1\">`WinMain`</ph> calls your application object's <ph id=\"ph2\">`InitApplication`</ph> and <ph id=\"ph3\">`InitInstance`</ph> member functions.","pos":[2555,2682],"source":"To initialize the application, `WinMain` calls your application object's `InitApplication` and `InitInstance` member functions."},{"content":"To run the application's message loop, <ph id=\"ph1\">`WinMain`</ph> calls the <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> member function.","pos":[2683,2766],"source":" To run the application's message loop, `WinMain` calls the **Run** member function."},{"content":"On termination, <ph id=\"ph1\">`WinMain`</ph> calls the application object's <ph id=\"ph2\">`ExitInstance`</ph> member function.","pos":[2767,2855],"source":" On termination, `WinMain` calls the application object's `ExitInstance` member function."},{"pos":[2863,3084],"content":"[!NOTE]\n Names shown in **bold** in this documentation indicate elements supplied by the Microsoft Foundation Class Library and Visual C++. Names shown in `monospaced` type indicate elements that you create or override.","leadings":["","> "],"nodes":[{"content":" Names shown in **bold** in this documentation indicate elements supplied by the Microsoft Foundation Class Library and Visual C++. Names shown in `monospaced` type indicate elements that you create or override.","pos":[8,219],"nodes":[{"content":"Names shown in <bpt id=\"p1\">**</bpt>bold<ept id=\"p1\">**</ept> in this documentation indicate elements supplied by the Microsoft Foundation Class Library and Visual C++.","pos":[1,131],"source":" Names shown in **bold** in this documentation indicate elements supplied by the Microsoft Foundation Class Library and Visual C++."},{"content":"Names shown in <ph id=\"ph1\">`monospaced`</ph> type indicate elements that you create or override.","pos":[132,211],"source":" Names shown in `monospaced` type indicate elements that you create or override."}]}]},{"content":"See Also","pos":[3093,3101]},{"content":"General MFC Topics","pos":[3106,3124]},{"content":"CWinApp and the MFC Application Wizard","pos":[3161,3199]},{"content":"Overridable CWinApp Member Functions","pos":[3256,3292]},{"content":"Special CWinApp Services","pos":[3347,3371]}],"content":"---\ntitle: \"CWinApp: The Application Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"CWinApp\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"application class\"\n  - \"CWinApp class, CWinThread\"\n  - \"MFC [C++], WinMain and\"\n  - \"CWinApp class, multithreading\"\n  - \"CWinThread class, and CWinApp\"\n  - \"InitApplication method\"\n  - \"WinMain method\"\n  - \"WinMain method, in MFC\"\n  - \"CWinApp class, WinMain\"\nms.assetid: 935822bb-d463-481b-a5f6-9719d68ed1d5\ncaps.latest.revision: 13\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CWinApp: The Application Class\nThe main application class in MFC encapsulates the initialization, running, and termination of an application for the Windows operating system. An application built on the framework must have one and only one object of a class derived from [CWinApp](../mfc/reference/cwinapp-class.md). This object is constructed before windows are created.  \n  \n `CWinApp` is derived from `CWinThread`, which represents the main thread of execution for your application, which might have one or more threads. In recent versions of MFC, the `InitInstance`, **Run**, `ExitInstance`, and `OnIdle` member functions are actually in class `CWinThread`. These functions are discussed here as if they were `CWinApp` members instead, because the discussion concerns the object's role as application object rather than as primary thread.  \n  \n> [!NOTE]\n>  Your application class constitutes your application's primary thread of execution. Using Win32 API functions, you can also create secondary threads of execution. These threads can use the MFC Library. For more information, see [Multithreading](../parallel/multithreading-support-for-older-code-visual-cpp.md).  \n  \n Like any program for the Windows operating system, your framework application has a `WinMain` function. In a framework application, however, you do not write `WinMain`. It is supplied by the class library and is called when the application starts up. `WinMain` performs standard services such as registering window classes. It then calls member functions of the application object to initialize and run the application. (You can customize `WinMain` by overriding the `CWinApp` member functions that `WinMain` calls.)  \n  \n To initialize the application, `WinMain` calls your application object's `InitApplication` and `InitInstance` member functions. To run the application's message loop, `WinMain` calls the **Run** member function. On termination, `WinMain` calls the application object's `ExitInstance` member function.  \n  \n> [!NOTE]\n>  Names shown in **bold** in this documentation indicate elements supplied by the Microsoft Foundation Class Library and Visual C++. Names shown in `monospaced` type indicate elements that you create or override.  \n  \n## See Also  \n [General MFC Topics](../mfc/general-mfc-topics.md)   \n [CWinApp and the MFC Application Wizard](../mfc/cwinapp-and-the-mfc-application-wizard.md)   \n [Overridable CWinApp Member Functions](../mfc/overridable-cwinapp-member-functions.md)   \n [Special CWinApp Services](../mfc/special-cwinapp-services.md)\n\n"}