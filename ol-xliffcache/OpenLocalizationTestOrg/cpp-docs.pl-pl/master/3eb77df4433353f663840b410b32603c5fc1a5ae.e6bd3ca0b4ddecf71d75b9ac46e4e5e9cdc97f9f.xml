{"nodes":[{"pos":[12,49],"content":"Toolbar Fundamentals | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Toolbar Fundamentals | Microsoft Docs","pos":[0,37]}]},{"content":"Toolbar Fundamentals","pos":[1233,1253]},{"content":"This article describes the fundamental MFC implementation that lets you add a default toolbar to your application by selecting an option in the Application Wizard.","pos":[1254,1417]},{"content":"Topics covered include:","pos":[1418,1441]},{"content":"The Application Wizard toolbar option","pos":[1452,1489]},{"content":"The toolbar in code","pos":[1538,1557]},{"content":"Editing the toolbar resource","pos":[1597,1625]},{"content":"Multiple toolbars","pos":[1674,1691]},{"pos":[1778,1815],"content":"The Application Wizard Toolbar Option"},{"content":"To get a single toolbar with default buttons, select the Standard Docking toolbar option on the page labeled User Interface Features.","pos":[1819,1952]},{"content":"This adds code to your application that:","pos":[1953,1993]},{"content":"Creates the toolbar object.","pos":[2003,2030]},{"content":"Manages the toolbar, including its ability to dock or to float.","pos":[2040,2103]},{"pos":[2154,2173],"content":"The Toolbar in Code"},{"content":"The toolbar is a <bpt id=\"p1\">[</bpt>CToolBar<ept id=\"p1\">](../mfc/reference/ctoolbar-class.md)</ept> object declared as a data member of your application's <bpt id=\"p2\">**</bpt>CMainFrame<ept id=\"p2\">**</ept> class.","pos":[2177,2317],"source":"The toolbar is a [CToolBar](../mfc/reference/ctoolbar-class.md) object declared as a data member of your application's **CMainFrame** class."},{"content":"In other words, the toolbar object is embedded in the main frame window object.","pos":[2318,2397]},{"content":"This means that MFC creates the toolbar when it creates the frame window and destroys the toolbar when it destroys the frame window.","pos":[2398,2530]},{"content":"The following partial class declaration, for a multiple document interface (MDI) application, shows data members for an embedded toolbar and an embedded status bar.","pos":[2531,2695]},{"content":"It also shows the override of the <ph id=\"ph1\">`OnCreate`</ph> member function.","pos":[2696,2757],"source":" It also shows the override of the `OnCreate` member function."},{"pos":[2775,2792],"content":"NVC_MFCListView#6"},{"content":"Toolbar creation occurs in <bpt id=\"p1\">**</bpt>CMainFrame::OnCreate<ept id=\"p1\">**</ept>.","pos":[2860,2912],"source":"Toolbar creation occurs in **CMainFrame::OnCreate**."},{"content":"MFC calls <bpt id=\"p1\">[</bpt>OnCreate<ept id=\"p1\">](../mfc/reference/cwnd-class.md#cwnd__oncreate)</ept> after creating the window for the frame but before it becomes visible.","pos":[2913,3051],"source":" MFC calls [OnCreate](../mfc/reference/cwnd-class.md#cwnd__oncreate) after creating the window for the frame but before it becomes visible."},{"content":"The default <ph id=\"ph1\">`OnCreate`</ph> that the Application Wizard generates does the following toolbar tasks:","pos":[3052,3146],"source":" The default `OnCreate` that the Application Wizard generates does the following toolbar tasks:"},{"pos":[3156,3351],"content":"Calls the <ph id=\"ph1\">`CToolBar`</ph> object's <bpt id=\"p1\">[</bpt>Create<ept id=\"p1\">](../mfc/reference/ctoolbar-class.md#ctoolbar__create)</ept> member function to create the underlying <bpt id=\"p2\">[</bpt>CToolBarCtrl<ept id=\"p2\">](../mfc/reference/ctoolbarctrl-class.md)</ept> object.","source":"Calls the `CToolBar` object's [Create](../mfc/reference/ctoolbar-class.md#ctoolbar__create) member function to create the underlying [CToolBarCtrl](../mfc/reference/ctoolbarctrl-class.md) object."},{"pos":[3361,3480],"content":"Calls <bpt id=\"p1\">[</bpt>LoadToolBar<ept id=\"p1\">](../mfc/reference/ctoolbar-class.md#ctoolbar__loadtoolbar)</ept> to load the toolbar resource information.","source":"Calls [LoadToolBar](../mfc/reference/ctoolbar-class.md#ctoolbar__loadtoolbar) to load the toolbar resource information."},{"content":"Calls functions to enable docking, floating, and tool tips.","pos":[3490,3549]},{"content":"For details about these calls, see the article <bpt id=\"p1\">[</bpt>Docking and Floating Toolbars<ept id=\"p1\">](../mfc/docking-and-floating-toolbars.md)</ept>.","pos":[3550,3670],"source":" For details about these calls, see the article [Docking and Floating Toolbars](../mfc/docking-and-floating-toolbars.md)."},{"pos":[3678,3981],"content":"[!NOTE]\n The MFC General sample [DOCKTOOL](../visual-cpp-samples.md) includes illustrations of both old and new MFC toolbars. The toolbars that use **COldToolbar** require calls in step 2 to `LoadBitmap` (rather than `LoadToolBar`) and to `SetButtons`. The new toolbars require calls to `LoadToolBar`.","leadings":["","> "],"nodes":[{"content":" The MFC General sample [DOCKTOOL](../visual-cpp-samples.md) includes illustrations of both old and new MFC toolbars. The toolbars that use **COldToolbar** require calls in step 2 to `LoadBitmap` (rather than `LoadToolBar`) and to `SetButtons`. The new toolbars require calls to `LoadToolBar`.","pos":[8,301],"nodes":[{"content":"The MFC General sample <bpt id=\"p1\">[</bpt>DOCKTOOL<ept id=\"p1\">](../visual-cpp-samples.md)</ept> includes illustrations of both old and new MFC toolbars.","pos":[1,117],"source":" The MFC General sample [DOCKTOOL](../visual-cpp-samples.md) includes illustrations of both old and new MFC toolbars."},{"content":"The toolbars that use <bpt id=\"p1\">**</bpt>COldToolbar<ept id=\"p1\">**</ept> require calls in step 2 to <ph id=\"ph1\">`LoadBitmap`</ph> (rather than <ph id=\"ph2\">`LoadToolBar`</ph>) and to <ph id=\"ph3\">`SetButtons`</ph>.","pos":[118,244],"source":" The toolbars that use **COldToolbar** require calls in step 2 to `LoadBitmap` (rather than `LoadToolBar`) and to `SetButtons`."},{"content":"The new toolbars require calls to <ph id=\"ph1\">`LoadToolBar`</ph>.","pos":[245,293],"source":" The new toolbars require calls to `LoadToolBar`."}]}]},{"content":"The docking, floating, and tool tips calls are optional.","pos":[3988,4044]},{"content":"You can remove those lines from <ph id=\"ph1\">`OnCreate`</ph> if you prefer.","pos":[4045,4102],"source":" You can remove those lines from `OnCreate` if you prefer."},{"content":"The result is a toolbar that remains fixed, unable to float or redock and unable to display tool tips.","pos":[4103,4205]},{"pos":[4265,4293],"content":"Editing the Toolbar Resource"},{"content":"The default toolbar you get with the Application Wizard is based on an <bpt id=\"p1\">**</bpt>RT_TOOLBAR<ept id=\"p1\">**</ept> custom resource, introduced in MFC version 4.0.","pos":[4297,4430],"source":"The default toolbar you get with the Application Wizard is based on an **RT_TOOLBAR** custom resource, introduced in MFC version 4.0."},{"content":"You can edit this resource with the <bpt id=\"p1\">[</bpt>toolbar editor<ept id=\"p1\">](../mfc/toolbar-editor.md)</ept>.","pos":[4431,4510],"source":" You can edit this resource with the [toolbar editor](../mfc/toolbar-editor.md)."},{"content":"The editor lets you easily add, delete, and rearrange buttons.","pos":[4511,4573]},{"content":"It contains a graphical editor for the buttons that is very similar to the general graphics editor in Visual C++.","pos":[4574,4687]},{"content":"If you edited toolbars in previous versions of Visual C++, you'll find the task much easier now.","pos":[4688,4784]},{"content":"To connect a toolbar button to a command, you give the button a command ID, such as <ph id=\"ph1\">`ID_MYCOMMAND`</ph>.","pos":[4791,4890],"source":"To connect a toolbar button to a command, you give the button a command ID, such as `ID_MYCOMMAND`."},{"content":"Specify the command ID in the button's property page in the toolbar editor.","pos":[4891,4966]},{"content":"Then create a handler function for the command (see <bpt id=\"p1\">[</bpt>Mapping Messages to Functions<ept id=\"p1\">](../mfc/reference/mapping-messages-to-functions.md)</ept> for more information).","pos":[4967,5124],"source":" Then create a handler function for the command (see [Mapping Messages to Functions](../mfc/reference/mapping-messages-to-functions.md) for more information)."},{"content":"New <bpt id=\"p1\">[</bpt>CToolBar<ept id=\"p1\">](../mfc/reference/ctoolbar-class.md)</ept> member functions work with the <bpt id=\"p2\">**</bpt>RT_TOOLBAR<ept id=\"p2\">**</ept> resource.","pos":[5131,5237],"source":"New [CToolBar](../mfc/reference/ctoolbar-class.md) member functions work with the **RT_TOOLBAR** resource."},{"content":"<bpt id=\"p1\">[</bpt>LoadToolBar<ept id=\"p1\">](../mfc/reference/ctoolbar-class.md#ctoolbar__loadtoolbar)</ept> now takes the place of <bpt id=\"p2\">[</bpt>LoadBitmap<ept id=\"p2\">](../mfc/reference/ctoolbar-class.md#ctoolbar__loadbitmap)</ept> to load the bitmap of the toolbar button images, and <bpt id=\"p3\">[</bpt>SetButtons<ept id=\"p3\">](../mfc/reference/ctoolbar-class.md#ctoolbar__setbuttons)</ept> to set the button styles and connect buttons with bitmap images.","pos":[5238,5590],"source":"[LoadToolBar](../mfc/reference/ctoolbar-class.md#ctoolbar__loadtoolbar) now takes the place of [LoadBitmap](../mfc/reference/ctoolbar-class.md#ctoolbar__loadbitmap) to load the bitmap of the toolbar button images, and [SetButtons](../mfc/reference/ctoolbar-class.md#ctoolbar__setbuttons) to set the button styles and connect buttons with bitmap images."},{"pos":[5597,5688],"content":"For details about using the toolbar editor, see <bpt id=\"p1\">[</bpt>Toolbar Editor<ept id=\"p1\">](../mfc/toolbar-editor.md)</ept>.","source":"For details about using the toolbar editor, see [Toolbar Editor](../mfc/toolbar-editor.md)."},{"pos":[5737,5754],"content":"Multiple Toolbars"},{"content":"The Application Wizard provides you with one default toolbar.","pos":[5758,5819]},{"content":"If you need more than one toolbar in your application, you can model your code for additional toolbars based on the wizard-generated code for the default toolbar.","pos":[5820,5982]},{"content":"If you want to display a toolbar as the result of a command, you'll need to:","pos":[5989,6065]},{"pos":[6075,6252],"content":"Create a new toolbar resource with the toolbar editor and load it in <ph id=\"ph1\">`OnCreate`</ph> with the <bpt id=\"p1\">[</bpt>LoadToolbar<ept id=\"p1\">](../mfc/reference/ctoolbar-class.md#ctoolbar__loadtoolbar)</ept> member function.","source":"Create a new toolbar resource with the toolbar editor and load it in `OnCreate` with the [LoadToolbar](../mfc/reference/ctoolbar-class.md#ctoolbar__loadtoolbar) member function."},{"pos":[6262,6360],"content":"Embed a new <bpt id=\"p1\">[</bpt>CToolBar<ept id=\"p1\">](../mfc/reference/ctoolbar-class.md)</ept> object in your main frame window class.","source":"Embed a new [CToolBar](../mfc/reference/ctoolbar-class.md) object in your main frame window class."},{"pos":[6370,6476],"content":"Make the appropriate function calls in <ph id=\"ph1\">`OnCreate`</ph> to dock or float the toolbar, set its styles, and so on.","source":"Make the appropriate function calls in `OnCreate` to dock or float the toolbar, set its styles, and so on."},{"content":"What do you want to know more about","pos":[6486,6521]},{"content":"MFC Toolbar Implementation (overview information on toolbars)","pos":[6532,6593]},{"content":"Docking and floating toolbars","pos":[6643,6672]},{"content":"Toolbar tool tips","pos":[6725,6742]},{"pos":[6782,6899],"content":"The <bpt id=\"p1\">[</bpt>CToolBar<ept id=\"p1\">](../mfc/reference/ctoolbar-class.md)</ept> and <bpt id=\"p2\">[</bpt>CToolBarCtrl<ept id=\"p2\">](../mfc/reference/ctoolbarctrl-class.md)</ept> classes","source":"The [CToolBar](../mfc/reference/ctoolbar-class.md) and [CToolBarCtrl](../mfc/reference/ctoolbarctrl-class.md) classes"},{"content":"Working with the toolbar control","pos":[6910,6942]},{"content":"Using your old toolbars","pos":[6998,7021]},{"content":"See Also","pos":[7066,7074]},{"content":"MFC Toolbar Implementation","pos":[7079,7105]}],"content":"---\ntitle: \"Toolbar Fundamentals | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"RT_TOOLBAR\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"embedding toolbar in frame window class\"\n  - \"application wizards [C++], installing default application toolbars\"\n  - \"toolbars [C++], creating\"\n  - \"resources [MFC], toolbar\"\n  - \"toolbar controls [MFC], toolbars created using Application Wizard\"\n  - \"toolbar controls [MFC], command ID\"\n  - \"RT_TOOLBAR resource\"\n  - \"toolbars [C++], adding default using Application Wizard\"\n  - \"LoadBitmap method, toolbars\"\n  - \"Toolbar editor, Application Wizard\"\n  - \"command IDs, toolbar buttons\"\n  - \"SetButtons method\"\n  - \"CToolBar class, default toolbars in Application Wizard\"\n  - \"frame window classes, toolbar embedded in\"\n  - \"LoadToolBar method\"\nms.assetid: cc00aaff-8a56-433b-b0c0-b857d76b4ffd\ncaps.latest.revision: 12\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Toolbar Fundamentals\nThis article describes the fundamental MFC implementation that lets you add a default toolbar to your application by selecting an option in the Application Wizard. Topics covered include:  \n  \n-   [The Application Wizard toolbar option](#_core_the_appwizard_toolbar_option)  \n  \n-   [The toolbar in code](#_core_the_toolbar_in_code)  \n  \n-   [Editing the toolbar resource](#_core_editing_the_toolbar_resource)  \n  \n-   [Multiple toolbars](#_core_multiple_toolbars)  \n  \n##  <a name=\"_core_the_appwizard_toolbar_option\"></a> The Application Wizard Toolbar Option  \n To get a single toolbar with default buttons, select the Standard Docking toolbar option on the page labeled User Interface Features. This adds code to your application that:  \n  \n-   Creates the toolbar object.  \n  \n-   Manages the toolbar, including its ability to dock or to float.  \n  \n##  <a name=\"_core_the_toolbar_in_code\"></a> The Toolbar in Code  \n The toolbar is a [CToolBar](../mfc/reference/ctoolbar-class.md) object declared as a data member of your application's **CMainFrame** class. In other words, the toolbar object is embedded in the main frame window object. This means that MFC creates the toolbar when it creates the frame window and destroys the toolbar when it destroys the frame window. The following partial class declaration, for a multiple document interface (MDI) application, shows data members for an embedded toolbar and an embedded status bar. It also shows the override of the `OnCreate` member function.  \n  \n [!code-cpp[NVC_MFCListView#6](../atl/reference/codesnippet/cpp/toolbar-fundamentals_1.h)]  \n  \n Toolbar creation occurs in **CMainFrame::OnCreate**. MFC calls [OnCreate](../mfc/reference/cwnd-class.md#cwnd__oncreate) after creating the window for the frame but before it becomes visible. The default `OnCreate` that the Application Wizard generates does the following toolbar tasks:  \n  \n1.  Calls the `CToolBar` object's [Create](../mfc/reference/ctoolbar-class.md#ctoolbar__create) member function to create the underlying [CToolBarCtrl](../mfc/reference/ctoolbarctrl-class.md) object.  \n  \n2.  Calls [LoadToolBar](../mfc/reference/ctoolbar-class.md#ctoolbar__loadtoolbar) to load the toolbar resource information.  \n  \n3.  Calls functions to enable docking, floating, and tool tips. For details about these calls, see the article [Docking and Floating Toolbars](../mfc/docking-and-floating-toolbars.md).  \n  \n> [!NOTE]\n>  The MFC General sample [DOCKTOOL](../visual-cpp-samples.md) includes illustrations of both old and new MFC toolbars. The toolbars that use **COldToolbar** require calls in step 2 to `LoadBitmap` (rather than `LoadToolBar`) and to `SetButtons`. The new toolbars require calls to `LoadToolBar`.  \n  \n The docking, floating, and tool tips calls are optional. You can remove those lines from `OnCreate` if you prefer. The result is a toolbar that remains fixed, unable to float or redock and unable to display tool tips.  \n  \n##  <a name=\"_core_editing_the_toolbar_resource\"></a> Editing the Toolbar Resource  \n The default toolbar you get with the Application Wizard is based on an **RT_TOOLBAR** custom resource, introduced in MFC version 4.0. You can edit this resource with the [toolbar editor](../mfc/toolbar-editor.md). The editor lets you easily add, delete, and rearrange buttons. It contains a graphical editor for the buttons that is very similar to the general graphics editor in Visual C++. If you edited toolbars in previous versions of Visual C++, you'll find the task much easier now.  \n  \n To connect a toolbar button to a command, you give the button a command ID, such as `ID_MYCOMMAND`. Specify the command ID in the button's property page in the toolbar editor. Then create a handler function for the command (see [Mapping Messages to Functions](../mfc/reference/mapping-messages-to-functions.md) for more information).  \n  \n New [CToolBar](../mfc/reference/ctoolbar-class.md) member functions work with the **RT_TOOLBAR** resource. [LoadToolBar](../mfc/reference/ctoolbar-class.md#ctoolbar__loadtoolbar) now takes the place of [LoadBitmap](../mfc/reference/ctoolbar-class.md#ctoolbar__loadbitmap) to load the bitmap of the toolbar button images, and [SetButtons](../mfc/reference/ctoolbar-class.md#ctoolbar__setbuttons) to set the button styles and connect buttons with bitmap images.  \n  \n For details about using the toolbar editor, see [Toolbar Editor](../mfc/toolbar-editor.md).  \n  \n##  <a name=\"_core_multiple_toolbars\"></a> Multiple Toolbars  \n The Application Wizard provides you with one default toolbar. If you need more than one toolbar in your application, you can model your code for additional toolbars based on the wizard-generated code for the default toolbar.  \n  \n If you want to display a toolbar as the result of a command, you'll need to:  \n  \n-   Create a new toolbar resource with the toolbar editor and load it in `OnCreate` with the [LoadToolbar](../mfc/reference/ctoolbar-class.md#ctoolbar__loadtoolbar) member function.  \n  \n-   Embed a new [CToolBar](../mfc/reference/ctoolbar-class.md) object in your main frame window class.  \n  \n-   Make the appropriate function calls in `OnCreate` to dock or float the toolbar, set its styles, and so on.  \n  \n### What do you want to know more about  \n  \n-   [MFC Toolbar Implementation (overview information on toolbars)](../mfc/mfc-toolbar-implementation.md)  \n  \n-   [Docking and floating toolbars](../mfc/docking-and-floating-toolbars.md)  \n  \n-   [Toolbar tool tips](../mfc/toolbar-tool-tips.md)  \n  \n-   The [CToolBar](../mfc/reference/ctoolbar-class.md) and [CToolBarCtrl](../mfc/reference/ctoolbarctrl-class.md) classes  \n  \n-   [Working with the toolbar control](../mfc/working-with-the-toolbar-control.md)  \n  \n-   [Using your old toolbars](../mfc/using-your-old-toolbars.md)  \n  \n## See Also  \n [MFC Toolbar Implementation](../mfc/mfc-toolbar-implementation.md)\n\n"}