{"nodes":[{"pos":[12,78],"content":"Setting the Day State of a Month Calendar Control | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Setting the Day State of a Month Calendar Control | Microsoft Docs","pos":[0,66]}]},{"content":"Setting the Day State of a Month Calendar Control","pos":[748,797]},{"content":"One of the attributes of a month calendar control is the ability to store information, referred to as the day state of the control, for each day of the month.","pos":[798,956]},{"content":"This information is used to emphasize certain dates for the month currently displayed.","pos":[957,1043]},{"pos":[1051,1159],"content":"[!NOTE]\n The `CMonthCalCtrl` object must have the **MCS_DAYSTATE** style to display day state information.","leadings":["","> "],"nodes":[{"content":"The <ph id=\"ph1\">`CMonthCalCtrl`</ph> object must have the <bpt id=\"p1\">**</bpt>MCS_DAYSTATE<ept id=\"p1\">**</ept> style to display day state information.","pos":[9,106],"source":" The `CMonthCalCtrl` object must have the **MCS_DAYSTATE** style to display day state information."}]},{"content":"Day state information is expressed as a 32-bit data type, <bpt id=\"p1\">**</bpt>MONTHDAYSTATE<ept id=\"p1\">**</ept>.","pos":[1166,1242],"source":"Day state information is expressed as a 32-bit data type, **MONTHDAYSTATE**."},{"content":"Each bit in a <bpt id=\"p1\">**</bpt>MONTHDAYSTATE<ept id=\"p1\">**</ept> bit field (1 through 31) represents the state of a day in a month.","pos":[1243,1341],"source":" Each bit in a **MONTHDAYSTATE** bit field (1 through 31) represents the state of a day in a month."},{"content":"If a bit is on, the corresponding day will be displayed in bold; otherwise it will be displayed with no emphasis.","pos":[1342,1455]},{"pos":[1462,1724],"content":"There are two methods for setting the day state of the month calendar control: explicitly with a call to <bpt id=\"p1\">[</bpt>CMonthCalCtrl::SetDayState<ept id=\"p1\">](../mfc/reference/cmonthcalctrl-class.md#cmonthcalctrl__setdaystate)</ept> or by handling the <bpt id=\"p2\">**</bpt>MCN_GETDAYSTATE<ept id=\"p2\">**</ept> notification message.","source":"There are two methods for setting the day state of the month calendar control: explicitly with a call to [CMonthCalCtrl::SetDayState](../mfc/reference/cmonthcalctrl-class.md#cmonthcalctrl__setdaystate) or by handling the **MCN_GETDAYSTATE** notification message."},{"content":"Handling the MCN_GETDAYSTATE Notification Message","pos":[1733,1782]},{"pos":[1786,1913],"content":"The <bpt id=\"p1\">**</bpt>MCN_GETDAYSTATE<ept id=\"p1\">**</ept> message is sent by the control to determine how the days within the visible months should be displayed.","source":"The **MCN_GETDAYSTATE** message is sent by the control to determine how the days within the visible months should be displayed."},{"pos":[1921,2095],"content":"[!NOTE]\n Because the control caches the previous and following months, in respect to the visible month, you will receive this notification every time a new month is chosen.","leadings":["","> "],"nodes":[{"content":"Because the control caches the previous and following months, in respect to the visible month, you will receive this notification every time a new month is chosen.","pos":[9,172]}]},{"content":"To properly handle this message, you must determine how many months day state information is being requested for, initialize an array of <bpt id=\"p1\">**</bpt>MONTHDAYSTATE<ept id=\"p1\">**</ept> structures with the proper values, and initialize the related structure member with the new information.","pos":[2102,2361],"source":"To properly handle this message, you must determine how many months day state information is being requested for, initialize an array of **MONTHDAYSTATE** structures with the proper values, and initialize the related structure member with the new information."},{"content":"The following procedure, detailing the necessary steps, assumes that you have a <ph id=\"ph1\">`CMonthCalCtrl`</ph> object called <ph id=\"ph2\">`m_monthcal`</ph> and an array of <bpt id=\"p1\">**</bpt>MONTHDAYSTATE<ept id=\"p1\">**</ept> objects, <ph id=\"ph3\">`mdState`</ph>.","pos":[2362,2538],"source":" The following procedure, detailing the necessary steps, assumes that you have a `CMonthCalCtrl` object called `m_monthcal` and an array of **MONTHDAYSTATE** objects, `mdState`."},{"content":"To handle the MCN_GETDAYSTATE notification message","pos":[2549,2599]},{"pos":[2609,2817],"content":"Using the Properties window, add a notification handler for the <bpt id=\"p1\">**</bpt>MCN_GETDAYSTATE<ept id=\"p1\">**</ept> message to the <ph id=\"ph1\">`m_monthcal`</ph> object (see <bpt id=\"p2\">[</bpt>Mapping Messages to Functions<ept id=\"p2\">](../mfc/reference/mapping-messages-to-functions.md)</ept>).","source":"Using the Properties window, add a notification handler for the **MCN_GETDAYSTATE** message to the `m_monthcal` object (see [Mapping Messages to Functions](../mfc/reference/mapping-messages-to-functions.md))."},{"content":"In the body of the handler, add the following code:","pos":[2827,2878]},{"pos":[2900,2928],"content":"NVC_MFCControlLadenDialog#26"},{"content":"The example converts the <ph id=\"ph1\">`pNMHDR`</ph> pointer to the proper type, then determines how many months of information are being requested (<ph id=\"ph2\">`pDayState-&gt;cDayState`</ph>).","pos":[3021,3175],"source":"The example converts the `pNMHDR` pointer to the proper type, then determines how many months of information are being requested (`pDayState->cDayState`)."},{"content":"For each month, the current bitfield (<ph id=\"ph1\">`pDayState-&gt;prgDayState[i]`</ph>) is initialized to zero and then the needed dates are set (in this case, the 15th of each month).","pos":[3176,3339],"source":" For each month, the current bitfield (`pDayState->prgDayState[i]`) is initialized to zero and then the needed dates are set (in this case, the 15th of each month)."},{"content":"See Also","pos":[3348,3356]},{"content":"Using CMonthCalCtrl","pos":[3361,3380]},{"content":"Controls","pos":[3418,3426]}],"content":"---\ntitle: \"Setting the Day State of a Month Calendar Control | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"MCN_GETDAYSTATE\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CMonthCalCtrl class, setting day state info\"\n  - \"MCN_GETDAYSTATE notification\"\n  - \"month calendar controls, day state info\"\nms.assetid: 435d1b11-ec0e-4121-9e25-aaa6af812a3c\ncaps.latest.revision: 11\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Setting the Day State of a Month Calendar Control\nOne of the attributes of a month calendar control is the ability to store information, referred to as the day state of the control, for each day of the month. This information is used to emphasize certain dates for the month currently displayed.  \n  \n> [!NOTE]\n>  The `CMonthCalCtrl` object must have the **MCS_DAYSTATE** style to display day state information.  \n  \n Day state information is expressed as a 32-bit data type, **MONTHDAYSTATE**. Each bit in a **MONTHDAYSTATE** bit field (1 through 31) represents the state of a day in a month. If a bit is on, the corresponding day will be displayed in bold; otherwise it will be displayed with no emphasis.  \n  \n There are two methods for setting the day state of the month calendar control: explicitly with a call to [CMonthCalCtrl::SetDayState](../mfc/reference/cmonthcalctrl-class.md#cmonthcalctrl__setdaystate) or by handling the **MCN_GETDAYSTATE** notification message.  \n  \n## Handling the MCN_GETDAYSTATE Notification Message  \n The **MCN_GETDAYSTATE** message is sent by the control to determine how the days within the visible months should be displayed.  \n  \n> [!NOTE]\n>  Because the control caches the previous and following months, in respect to the visible month, you will receive this notification every time a new month is chosen.  \n  \n To properly handle this message, you must determine how many months day state information is being requested for, initialize an array of **MONTHDAYSTATE** structures with the proper values, and initialize the related structure member with the new information. The following procedure, detailing the necessary steps, assumes that you have a `CMonthCalCtrl` object called `m_monthcal` and an array of **MONTHDAYSTATE** objects, `mdState`.  \n  \n#### To handle the MCN_GETDAYSTATE notification message  \n  \n1.  Using the Properties window, add a notification handler for the **MCN_GETDAYSTATE** message to the `m_monthcal` object (see [Mapping Messages to Functions](../mfc/reference/mapping-messages-to-functions.md)).  \n  \n2.  In the body of the handler, add the following code:  \n  \n     [!code-cpp[NVC_MFCControlLadenDialog#26](../mfc/codesnippet/cpp/setting-the-day-state-of-a-month-calendar-control_1.cpp)]  \n  \n     The example converts the `pNMHDR` pointer to the proper type, then determines how many months of information are being requested (`pDayState->cDayState`). For each month, the current bitfield (`pDayState->prgDayState[i]`) is initialized to zero and then the needed dates are set (in this case, the 15th of each month).  \n  \n## See Also  \n [Using CMonthCalCtrl](../mfc/using-cmonthcalctrl.md)   \n [Controls](../mfc/controls-mfc.md)\n\n"}