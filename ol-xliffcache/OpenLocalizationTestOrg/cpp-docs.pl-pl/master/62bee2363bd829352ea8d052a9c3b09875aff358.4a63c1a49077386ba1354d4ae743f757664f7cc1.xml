{"nodes":[{"pos":[12,62],"content":"-Yu (Use Precompiled Header File) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-Yu (Use Precompiled Header File) | Microsoft Docs","pos":[0,50]}]},{"content":"/Yu (Use Precompiled Header File)","pos":[790,823]},{"content":"Instructs the compiler to use an existing precompiled header (.pch) file in the current compilation.","pos":[824,924]},{"content":"Syntax","pos":[933,939]},{"content":"Arguments","pos":[979,988]},{"content":"filename","pos":[993,1001]},{"content":"The name of a header file, which is included in the source file using an <bpt id=\"p1\">**</bpt>#include<ept id=\"p1\">**</ept> preprocessor directive.","pos":[1006,1115],"source":" The name of a header file, which is included in the source file using an **#include** preprocessor directive."},{"content":"Remarks","pos":[1124,1131]},{"pos":[1135,1320],"content":"The name of the include file must be the same for both the <bpt id=\"p1\">**</bpt>/Yc<ept id=\"p1\">**</ept> option that creates the precompiled header and any subsequent <bpt id=\"p2\">**</bpt>/Yu<ept id=\"p2\">**</ept> option indicating use of the precompiled header.","source":"The name of the include file must be the same for both the **/Yc** option that creates the precompiled header and any subsequent **/Yu** option indicating use of the precompiled header."},{"pos":[1327,1562],"content":"For <bpt id=\"p1\">**</bpt>/Yc<ept id=\"p1\">**</ept>, <ph id=\"ph1\">`filename`</ph> specifies the point at which precompilation stops; the compiler precompiles all code though <ph id=\"ph2\">`filename`</ph> and names the resulting precompiled header using the base name of the include file and an extension of .pch.","source":"For **/Yc**, `filename` specifies the point at which precompilation stops; the compiler precompiles all code though `filename` and names the resulting precompiled header using the base name of the include file and an extension of .pch."},{"pos":[1569,1620],"content":"The .pch file must have been created using <bpt id=\"p1\">**</bpt>/Yc<ept id=\"p1\">**</ept>.","source":"The .pch file must have been created using **/Yc**."},{"content":"The compiler treats all code occurring before the .h file as precompiled.","pos":[1627,1700]},{"content":"It skips to just beyond the <bpt id=\"p1\">**</bpt>#include<ept id=\"p1\">**</ept> directive associated with the .h file, uses the code contained in the .pch file, and then compiles all code after <ph id=\"ph1\">`filename`</ph>.","pos":[1701,1867],"source":" It skips to just beyond the **#include** directive associated with the .h file, uses the code contained in the .pch file, and then compiles all code after `filename`."},{"pos":[1874,1946],"content":"On the command line, no space is allowed between <bpt id=\"p1\">**</bpt>/Yu<ept id=\"p1\">**</ept> and <ph id=\"ph1\">`filename`</ph>.","source":"On the command line, no space is allowed between **/Yu** and `filename`."},{"content":"When you specify the <bpt id=\"p1\">**</bpt>/Yu<ept id=\"p1\">**</ept> option without a file name, your source program must contain a <bpt id=\"p2\">[</bpt>#pragma hdrstop<ept id=\"p2\">](../../preprocessor/hdrstop.md)</ept> pragma that specifies the file name of the precompiled header, .pch file.","pos":[1953,2167],"source":"When you specify the **/Yu** option without a file name, your source program must contain a [#pragma hdrstop](../../preprocessor/hdrstop.md) pragma that specifies the file name of the precompiled header, .pch file."},{"content":"In this case, the compiler will use the precompiled header (.pch file) named by <bpt id=\"p1\">[</bpt>/Fp (Name .Pch File)<ept id=\"p1\">](../../build/reference/fp-name-dot-pch-file.md)</ept>.","pos":[2168,2318],"source":" In this case, the compiler will use the precompiled header (.pch file) named by [/Fp (Name .Pch File)](../../build/reference/fp-name-dot-pch-file.md)."},{"content":"The compiler skips to the location of that pragma, restores the compiled state from the precompiled header file specified by the pragma, and then compiles only code that follows the pragma.","pos":[2319,2508]},{"content":"If <bpt id=\"p1\">**</bpt>#pragma hdrstop<ept id=\"p1\">**</ept> does not specify a file name, the compiler looks for a file with a name derived from the base name of the source file with a .pch extension.","pos":[2509,2672],"source":" If **#pragma hdrstop** does not specify a file name, the compiler looks for a file with a name derived from the base name of the source file with a .pch extension."},{"content":"You can also use the <bpt id=\"p1\">**</bpt>/Fp<ept id=\"p1\">**</ept> option to specify a different .pch file.","pos":[2673,2742],"source":" You can also use the **/Fp** option to specify a different .pch file."},{"pos":[2749,2911],"content":"If you specify the <bpt id=\"p1\">**</bpt>/Yu<ept id=\"p1\">**</ept> option without a file name and fail to specify a <bpt id=\"p2\">**</bpt>hdrstop<ept id=\"p2\">**</ept> pragma, an error message is generated and the compilation is unsuccessful.","source":"If you specify the **/Yu** option without a file name and fail to specify a **hdrstop** pragma, an error message is generated and the compilation is unsuccessful."},{"content":"If the <bpt id=\"p1\">**</bpt>/Yc<ept id=\"p1\">**</ept><ph id=\"ph1\">`filename`</ph> and <bpt id=\"p2\">**</bpt>/Yu<ept id=\"p2\">**</ept><ph id=\"ph2\">`filename`</ph> options occur on the same command line and both reference the same file name, <bpt id=\"p3\">**</bpt>/Yc<ept id=\"p3\">**</ept><ph id=\"ph3\">`filename`</ph> takes precedence, precompiling all code up to and including the named file.","pos":[2918,3136],"source":"If the **/Yc**`filename` and **/Yu**`filename` options occur on the same command line and both reference the same file name, **/Yc**`filename` takes precedence, precompiling all code up to and including the named file."},{"content":"This feature simplifies the writing of makefiles.","pos":[3137,3186]},{"content":"Because .pch files contain information about the machine environment as well as memory address information about the program, you should only use a pch file on the machine where it was created.","pos":[3193,3386]},{"content":"For more information on precompiled headers, see:","pos":[3393,3442]},{"content":"/Y (Precompiled Headers)","pos":[3453,3477]},{"content":"Creating Precompiled Header Files","pos":[3537,3570]},{"content":"To set this compiler option in the Visual Studio development environment","pos":[3641,3713]},{"pos":[3723,3861],"content":"Specify <bpt id=\"p1\">[</bpt>/Yc (Create Precompiled Header File)<ept id=\"p1\">](../../build/reference/yc-create-precompiled-header-file.md)</ept> on a .cpp file in your project.","source":"Specify [/Yc (Create Precompiled Header File)](../../build/reference/yc-create-precompiled-header-file.md) on a .cpp file in your project."},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[3871,3920],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[3921,4018],"source":" For details, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[4028,4055],"content":"Click the <bpt id=\"p1\">**</bpt>C/C++<ept id=\"p1\">**</ept> folder.","source":"Click the **C/C++** folder."},{"pos":[4065,4113],"content":"Click the <bpt id=\"p1\">**</bpt>Precompiled Headers<ept id=\"p1\">**</ept> property page.","source":"Click the **Precompiled Headers** property page."},{"pos":[4123,4225],"content":"Modify the <bpt id=\"p1\">**</bpt>Create/Use PCH Through File<ept id=\"p1\">**</ept> property or the <bpt id=\"p2\">**</bpt>Create/Use Precompiled Header<ept id=\"p2\">**</ept> property.","source":"Modify the **Create/Use PCH Through File** property or the **Create/Use Precompiled Header** property."},{"content":"To set this compiler option programmatically","pos":[4235,4279]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.PrecompiledHeaderThrough%2A&gt; and &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.UsePrecompiledHeader%2A&gt;.","pos":[4289,4475],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.PrecompiledHeaderThrough%2A> and <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.UsePrecompiledHeader%2A>."},{"content":"Examples","pos":[4484,4492]},{"content":"If the following code:","pos":[4496,4518]},{"pos":[4730,4999],"content":"is compiled with the command line <ph id=\"ph1\">`CL /YuMYAPP.H PROG.CPP`</ph>, the compiler does not process the three include statements but uses precompiled code from MYAPP.pch, thereby saving the time involved in preprocessing all three of the files (and any files they might include).","source":"is compiled with the command line `CL /YuMYAPP.H PROG.CPP`, the compiler does not process the three include statements but uses precompiled code from MYAPP.pch, thereby saving the time involved in preprocessing all three of the files (and any files they might include)."},{"pos":[5006,5288],"content":"You can use the <bpt id=\"p1\">[</bpt>/Fp (Name .Pch File)<ept id=\"p1\">](../../build/reference/fp-name-dot-pch-file.md)</ept> option with the <bpt id=\"p2\">**</bpt>/Yu<ept id=\"p2\">**</ept> option to specify the name of the .pch file if the name is different from either the file name argument to <bpt id=\"p3\">**</bpt>/Yc<ept id=\"p3\">**</ept> or the base name of the source file, as in the following:","source":"You can use the [/Fp (Name .Pch File)](../../build/reference/fp-name-dot-pch-file.md) option with the **/Yu** option to specify the name of the .pch file if the name is different from either the file name argument to **/Yc** or the base name of the source file, as in the following:"},{"content":"This command specifies a precompiled header file named MYPCH.pch.","pos":[5348,5413]},{"content":"The compiler uses its contents to restore the precompiled state of all header files up to and including MYAPP.h.","pos":[5414,5526]},{"content":"The compiler then compiles the code that occurs after the MYAPP.h <bpt id=\"p1\">**</bpt>include<ept id=\"p1\">**</ept> statement.","pos":[5527,5615],"source":" The compiler then compiles the code that occurs after the MYAPP.h **include** statement."},{"content":"See Also","pos":[5624,5632]},{"content":"Compiler Options","pos":[5637,5653]},{"content":"Setting Compiler Options","pos":[5703,5727]}],"content":"---\ntitle: \"-Yu (Use Precompiled Header File) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/yu\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"Yu compiler option [C++]\"\n  - \"/Yu compiler option [C++]\"\n  - \"-Yu compiler option [C++]\"\n  - \"PCH files, use existing\"\n  - \".pch files, use existing\"\n  - \"precompiled header files, use existing\"\nms.assetid: 24f1bd0e-b624-4296-a17e-d4b53e374e1f\ncaps.latest.revision: 12\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /Yu (Use Precompiled Header File)\nInstructs the compiler to use an existing precompiled header (.pch) file in the current compilation.  \n  \n## Syntax  \n  \n```  \n/Yu[filename]  \n```  \n  \n## Arguments  \n *filename*  \n The name of a header file, which is included in the source file using an **#include** preprocessor directive.  \n  \n## Remarks  \n The name of the include file must be the same for both the **/Yc** option that creates the precompiled header and any subsequent **/Yu** option indicating use of the precompiled header.  \n  \n For **/Yc**, `filename` specifies the point at which precompilation stops; the compiler precompiles all code though `filename` and names the resulting precompiled header using the base name of the include file and an extension of .pch.  \n  \n The .pch file must have been created using **/Yc**.  \n  \n The compiler treats all code occurring before the .h file as precompiled. It skips to just beyond the **#include** directive associated with the .h file, uses the code contained in the .pch file, and then compiles all code after `filename`.  \n  \n On the command line, no space is allowed between **/Yu** and `filename`.  \n  \n When you specify the **/Yu** option without a file name, your source program must contain a [#pragma hdrstop](../../preprocessor/hdrstop.md) pragma that specifies the file name of the precompiled header, .pch file. In this case, the compiler will use the precompiled header (.pch file) named by [/Fp (Name .Pch File)](../../build/reference/fp-name-dot-pch-file.md). The compiler skips to the location of that pragma, restores the compiled state from the precompiled header file specified by the pragma, and then compiles only code that follows the pragma. If **#pragma hdrstop** does not specify a file name, the compiler looks for a file with a name derived from the base name of the source file with a .pch extension. You can also use the **/Fp** option to specify a different .pch file.  \n  \n If you specify the **/Yu** option without a file name and fail to specify a **hdrstop** pragma, an error message is generated and the compilation is unsuccessful.  \n  \n If the **/Yc**`filename` and **/Yu**`filename` options occur on the same command line and both reference the same file name, **/Yc**`filename` takes precedence, precompiling all code up to and including the named file. This feature simplifies the writing of makefiles.  \n  \n Because .pch files contain information about the machine environment as well as memory address information about the program, you should only use a pch file on the machine where it was created.  \n  \n For more information on precompiled headers, see:  \n  \n-   [/Y (Precompiled Headers)](../../build/reference/y-precompiled-headers.md)  \n  \n-   [Creating Precompiled Header Files](../../build/reference/creating-precompiled-header-files.md)  \n  \n### To set this compiler option in the Visual Studio development environment  \n  \n1.  Specify [/Yc (Create Precompiled Header File)](../../build/reference/yc-create-precompiled-header-file.md) on a .cpp file in your project.  \n  \n2.  Open the project's **Property Pages** dialog box. For details, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n3.  Click the **C/C++** folder.  \n  \n4.  Click the **Precompiled Headers** property page.  \n  \n5.  Modify the **Create/Use PCH Through File** property or the **Create/Use Precompiled Header** property.  \n  \n### To set this compiler option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.PrecompiledHeaderThrough%2A> and <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.UsePrecompiledHeader%2A>.  \n  \n## Examples  \n If the following code:  \n  \n```  \n#include <afxwin.h>   // Include header for class library  \n#include \"resource.h\" // Include resource definitions  \n#include \"myapp.h\"    // Include information specific to this app  \n...  \n```  \n  \n is compiled with the command line `CL /YuMYAPP.H PROG.CPP`, the compiler does not process the three include statements but uses precompiled code from MYAPP.pch, thereby saving the time involved in preprocessing all three of the files (and any files they might include).  \n  \n You can use the [/Fp (Name .Pch File)](../../build/reference/fp-name-dot-pch-file.md) option with the **/Yu** option to specify the name of the .pch file if the name is different from either the file name argument to **/Yc** or the base name of the source file, as in the following:  \n  \n```  \nCL /YuMYAPP.H /FpMYPCH.pch PROG.CPP  \n```  \n  \n This command specifies a precompiled header file named MYPCH.pch. The compiler uses its contents to restore the precompiled state of all header files up to and including MYAPP.h. The compiler then compiles the code that occurs after the MYAPP.h **include** statement.  \n  \n## See Also  \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)"}