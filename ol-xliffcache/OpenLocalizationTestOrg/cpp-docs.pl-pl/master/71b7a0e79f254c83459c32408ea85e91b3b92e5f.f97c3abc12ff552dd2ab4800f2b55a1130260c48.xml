{"nodes":[{"pos":[12,40],"content":"__dllonexit | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"__dllonexit | Microsoft Docs","pos":[0,28]}]},{"content":"__dllonexit","pos":[845,856]},{"content":"Registers a routine to be called at exit time.","pos":[857,903]},{"content":"Syntax","pos":[912,918]},{"content":"Parameters","pos":[1039,1049]},{"content":"Pointer to a function to be executed upon exit.","pos":[1063,1110]},{"content":"Pointer to a variable that points to the beginning of a list of functions to execute on detach.","pos":[1129,1224]},{"content":"Pointer to variable that points to the end of a list of functions to execute on detach.","pos":[1241,1328]},{"content":"Return Value","pos":[1337,1349]},{"content":"If successful, a pointer to the user’s function.","pos":[1353,1401]},{"content":"Otherwise, a NULL pointer.","pos":[1402,1428]},{"content":"Remarks","pos":[1437,1444]},{"content":"The <ph id=\"ph1\">`__dllonexit`</ph> function is analogous to the <bpt id=\"p1\">[</bpt>_onexit<ept id=\"p1\">](../c-runtime-library/reference/onexit-onexit-m.md)</ept> function except that the global variables used by that function are not visible to this routine.","pos":[1448,1652],"source":"The `__dllonexit` function is analogous to the [_onexit](../c-runtime-library/reference/onexit-onexit-m.md) function except that the global variables used by that function are not visible to this routine."},{"content":"Instead of global variables, this function uses the <ph id=\"ph1\">`pbegin`</ph> and <ph id=\"ph2\">`pend`</ph> parameters.","pos":[1653,1736],"source":" Instead of global variables, this function uses the `pbegin` and `pend` parameters."},{"content":"The <ph id=\"ph1\">`_onexit`</ph> and <ph id=\"ph2\">`atexit`</ph> functions in a DLL linked with MSVCRT.LIB must maintain their own atexit/_onexit list.","pos":[1743,1856],"source":"The `_onexit` and `atexit` functions in a DLL linked with MSVCRT.LIB must maintain their own atexit/_onexit list."},{"content":"This routine is the worker that gets called by such DLLs.","pos":[1857,1914]},{"pos":[1921,1990],"content":"The <ph id=\"ph1\">`_PVFV`</ph> type is defined as <ph id=\"ph2\">`typedef void (__cdecl *_PVFV)(void)`</ph>.","source":"The `_PVFV` type is defined as `typedef void (__cdecl *_PVFV)(void)`."},{"content":"Requirements","pos":[1999,2011]},{"content":"Routine","pos":[2018,2025]},{"content":"Required file","pos":[2026,2039]},{"content":"__dllonexit","pos":[2082,2093]},{"content":"onexit.c","pos":[2094,2102]},{"content":"See Also","pos":[2112,2120]},{"content":"_onexit, _onexit_m","pos":[2125,2143]}],"content":"---\ntitle: \"__dllonexit | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"__dllonexit\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr120_clr0400.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"__dllonexit\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"__dllonexit\"\nms.assetid: 708f2ceb-f95c-46b0-a58d-d68b3fa36f12\ncaps.latest.revision: 4\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# __dllonexit\nRegisters a routine to be called at exit time.  \n  \n## Syntax  \n  \n```  \n_onexit_t __dllonexit(   _onexit_t func,  \n   _PVFV **  pbegin,   \n   _PVFV **  pend   \n   )  \n```  \n  \n#### Parameters  \n `func`  \n Pointer to a function to be executed upon exit.  \n  \n `pbegin`  \n Pointer to a variable that points to the beginning of a list of functions to execute on detach.  \n  \n `pend`  \n Pointer to variable that points to the end of a list of functions to execute on detach.  \n  \n## Return Value  \n If successful, a pointer to the user’s function. Otherwise, a NULL pointer.  \n  \n## Remarks  \n The `__dllonexit` function is analogous to the [_onexit](../c-runtime-library/reference/onexit-onexit-m.md) function except that the global variables used by that function are not visible to this routine. Instead of global variables, this function uses the `pbegin` and `pend` parameters.  \n  \n The `_onexit` and `atexit` functions in a DLL linked with MSVCRT.LIB must maintain their own atexit/_onexit list. This routine is the worker that gets called by such DLLs.  \n  \n The `_PVFV` type is defined as `typedef void (__cdecl *_PVFV)(void)`.  \n  \n## Requirements  \n  \n|Routine|Required file|  \n|-------------|-------------------|  \n|__dllonexit|onexit.c|  \n  \n## See Also  \n [_onexit, _onexit_m](../c-runtime-library/reference/onexit-onexit-m.md)"}