{"nodes":[{"pos":[12,67],"content":"Exception Specifications (throw) (C++) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Exception Specifications (throw) (C++) | Microsoft Docs","pos":[0,55]}]},{"content":"Exception Specifications (throw) (C++)","pos":[817,855]},{"content":"Exception specifications are a C++ language feature that is deprecated in C++11.","pos":[856,936]},{"content":"They were designed to provide summary information about what exceptions can be thrown out of a function, but in practice they were found to be problematic.","pos":[937,1092]},{"content":"The one exception specification that did prove to be somewhat useful was the throw() specification.","pos":[1093,1192]},{"content":"For example:","pos":[1193,1205]},{"content":"tells the compiler that the function does not throw any exceptions.","pos":[1261,1328]},{"content":"It is the equivalent to using <bpt id=\"p1\">[</bpt>__declspec(nothrow)<ept id=\"p1\">](../cpp/nothrow-cpp.md)</ept>.","pos":[1329,1404],"source":" It is the equivalent to using [__declspec(nothrow)](../cpp/nothrow-cpp.md)."},{"content":"Its use is considered optional.","pos":[1405,1436]},{"content":"<bpt id=\"p1\">**</bpt>(C++11)<ept id=\"p1\">**</ept> In the ISO C++11 Standard, <bpt id=\"p2\">[</bpt>noexcept<ept id=\"p2\">](../cpp/noexcept-cpp.md)</ept> operator was introduced and is supported in Visual Studio 2015 and later.","pos":[1443,1590],"source":"**(C++11)** In the ISO C++11 Standard, [noexcept](../cpp/noexcept-cpp.md) operator was introduced and is supported in Visual Studio 2015 and later."},{"content":"Whenever possible, use <ph id=\"ph1\">`noexcept`</ph> to specify whether a function might throw exceptions.","pos":[1591,1678],"source":" Whenever possible, use `noexcept` to specify whether a function might throw exceptions."},{"content":"Visual C++ departs from the ISO C++ Standard in its implementation of exception specifications.","pos":[1685,1780]},{"content":"The following table summarizes the Visual C++ implementation of exception specifications:","pos":[1782,1871]},{"content":"Exception specification","pos":[1878,1901]},{"content":"Meaning","pos":[1902,1909]},{"content":"throw()","pos":[1962,1969]},{"content":"The function does not throw an exception.","pos":[1970,2011]},{"content":"However, if an exception is thrown out of a function marked throw(), the Visual C++ compiler will not call unexpected (see <bpt id=\"p1\">[</bpt>unexpected<ept id=\"p1\">](../c-runtime-library/reference/unexpected-crt.md)</ept> for more information).","pos":[2012,2220],"source":" However, if an exception is thrown out of a function marked throw(), the Visual C++ compiler will not call unexpected (see [unexpected](../c-runtime-library/reference/unexpected-crt.md) for more information)."},{"content":"If a function is marked with throw(), the Visual C++ compiler will assume that the function does not throw C++ exceptions and generate code accordingly.","pos":[2221,2373]},{"content":"Due to code optimizations that might be performed by the C++ compiler (based on the assumption that the function does not throw any C++ exceptions) if a function does throw an exception, the program may not execute correctly.","pos":[2374,2599]},{"content":"throw(...)","pos":[2604,2614]},{"content":"The function can throw an exception.","pos":[2615,2651]},{"pos":[2656,2669],"content":"throw(<ph id=\"ph1\">`type`</ph>)","source":"throw(`type`)"},{"content":"The function can throw an exception of type <ph id=\"ph1\">`type`</ph>.","pos":[2670,2721],"source":"The function can throw an exception of type `type`."},{"content":"However, in Visual C++ .NET, this is interpreted as throw(...).","pos":[2722,2785]},{"content":"If exception handling is used in an application, there must be one or more functions that handle thrown exceptions.","pos":[2793,2908]},{"content":"Any functions called between the one that throws an exception and the one that handles the exception must be capable of throwing the exception.","pos":[2909,3052]},{"content":"The throw behavior of a function depends on the following factors:","pos":[3059,3125]},{"content":"Whether you are compiling the function under C or C++.","pos":[3135,3189]},{"pos":[3199,3286],"content":"Which <bpt id=\"p1\">[</bpt>/EH<ept id=\"p1\">](../build/reference/eh-exception-handling-model.md)</ept> compiler option you use.","source":"Which [/EH](../build/reference/eh-exception-handling-model.md) compiler option you use."},{"content":"Whether you explicitly specify the exception specification.","pos":[3296,3355]},{"content":"Explicit exception specifications are not allowed on C functions.","pos":[3362,3427]},{"content":"The following table summarizes the throw behavior of a function:","pos":[3434,3498]},{"content":"Function","pos":[3505,3513]},{"content":"/EHsc","pos":[3514,3519]},{"content":"/EHs","pos":[3520,3524]},{"content":"/EHa","pos":[3525,3529]},{"content":"/EHac","pos":[3530,3535]},{"content":"C function","pos":[3609,3619]},{"content":"throw()","pos":[3620,3627]},{"content":"throw(...)","pos":[3628,3638]},{"content":"throw(...)","pos":[3639,3649]},{"content":"throw(...)","pos":[3650,3660]},{"content":"C++ function with no exception specification","pos":[3665,3709]},{"content":"throw(...)","pos":[3710,3720]},{"content":"throw(...)","pos":[3721,3731]},{"content":"throw(...)","pos":[3732,3742]},{"content":"throw(...)","pos":[3743,3753]},{"content":"C++ function with throw() exception specification","pos":[3758,3807]},{"content":"throw()","pos":[3808,3815]},{"content":"throw()","pos":[3816,3823]},{"content":"throw(...)","pos":[3824,3834]},{"content":"throw(...)","pos":[3835,3845]},{"content":"C++ function with throw(...) exception specification","pos":[3850,3902]},{"content":"throw(...)","pos":[3903,3913]},{"content":"throw(...)","pos":[3914,3924]},{"content":"throw(...)","pos":[3925,3935]},{"content":"throw(...)","pos":[3936,3946]},{"pos":[3951,4006],"content":"C++ function with throw(<ph id=\"ph1\">`type`</ph>) exception specification","source":"C++ function with throw(`type`) exception specification"},{"content":"throw(...)","pos":[4007,4017]},{"content":"throw(...)","pos":[4018,4028]},{"content":"throw(...)","pos":[4029,4039]},{"content":"throw(...)","pos":[4040,4050]},{"content":"Example","pos":[4060,4067]},{"content":"See Also","pos":[5135,5143]},{"content":"try, throw, and catch Statements (C++)","pos":[5148,5186]},{"content":"C++ Exception Handling","pos":[5239,5261]}],"content":"---\ntitle: \"Exception Specifications (throw) (C++) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"language-reference\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"exceptions, exception specifications\"\n  - \"throwing exceptions, throw keyword\"\n  - \"C++ exception handling, throwing exceptions\"\n  - \"throw keyword [C++], throw() vs. throw(...)\"\n  - \"throw keyword [C++], exception specifications\"\nms.assetid: 4d3276df-6f31-4c7f-8cab-b9d2d003a629\ncaps.latest.revision: 20\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Exception Specifications (throw) (C++)\nException specifications are a C++ language feature that is deprecated in C++11. They were designed to provide summary information about what exceptions can be thrown out of a function, but in practice they were found to be problematic. The one exception specification that did prove to be somewhat useful was the throw() specification. For example:  \n  \n```  \nvoid MyFunction(int i) throw();  \n```  \n  \n tells the compiler that the function does not throw any exceptions. It is the equivalent to using [__declspec(nothrow)](../cpp/nothrow-cpp.md). Its use is considered optional.  \n  \n **(C++11)** In the ISO C++11 Standard, [noexcept](../cpp/noexcept-cpp.md) operator was introduced and is supported in Visual Studio 2015 and later. Whenever possible, use `noexcept` to specify whether a function might throw exceptions.  \n  \n Visual C++ departs from the ISO C++ Standard in its implementation of exception specifications.  The following table summarizes the Visual C++ implementation of exception specifications:  \n  \n|Exception specification|Meaning|  \n|-----------------------------|-------------|  \n|throw()|The function does not throw an exception. However, if an exception is thrown out of a function marked throw(), the Visual C++ compiler will not call unexpected (see [unexpected](../c-runtime-library/reference/unexpected-crt.md) for more information). If a function is marked with throw(), the Visual C++ compiler will assume that the function does not throw C++ exceptions and generate code accordingly. Due to code optimizations that might be performed by the C++ compiler (based on the assumption that the function does not throw any C++ exceptions) if a function does throw an exception, the program may not execute correctly.|  \n|throw(...)|The function can throw an exception.|  \n|throw(`type`)|The function can throw an exception of type `type`. However, in Visual C++ .NET, this is interpreted as throw(...).|  \n  \n If exception handling is used in an application, there must be one or more functions that handle thrown exceptions. Any functions called between the one that throws an exception and the one that handles the exception must be capable of throwing the exception.  \n  \n The throw behavior of a function depends on the following factors:  \n  \n-   Whether you are compiling the function under C or C++.  \n  \n-   Which [/EH](../build/reference/eh-exception-handling-model.md) compiler option you use.  \n  \n-   Whether you explicitly specify the exception specification.  \n  \n Explicit exception specifications are not allowed on C functions.  \n  \n The following table summarizes the throw behavior of a function:  \n  \n|Function|/EHsc|/EHs|/EHa|/EHac|  \n|--------------|------------|-----------|-----------|------------|  \n|C function|throw()|throw(...)|throw(...)|throw(...)|  \n|C++ function with no exception specification|throw(...)|throw(...)|throw(...)|throw(...)|  \n|C++ function with throw() exception specification|throw()|throw()|throw(...)|throw(...)|  \n|C++ function with throw(...) exception specification|throw(...)|throw(...)|throw(...)|throw(...)|  \n|C++ function with throw(`type`) exception specification|throw(...)|throw(...)|throw(...)|throw(...)|  \n  \n## Example  \n  \n```cpp  \n// exception_specification.cpp  \n// compile with: /EHs  \n#include <stdio.h>  \n  \nvoid handler() {  \n   printf_s(\"in handler\\n\");  \n}  \n  \nvoid f1(void) throw(int) {  \n   printf_s(\"About to throw 1\\n\");  \n   if (1)  \n      throw 1;  \n}  \n  \nvoid f5(void) throw() {  \n   try {  \n      f1();  \n   }  \n   catch(...) {  \n      handler();  \n    }  \n}  \n  \n// invalid, doesn't handle the int exception thrown from f1()  \n// void f3(void) throw() {  \n//   f1();  \n// }  \n  \nvoid __declspec(nothrow) f2(void) {  \n   try {  \n      f1();  \n   }  \n   catch(int) {  \n      handler();  \n    }  \n}  \n  \n// only valid if compiled without /EHc   \n// /EHc means assume extern \"C\" functions don't throw exceptions  \nextern \"C\" void f4(void);  \nvoid f4(void) {  \n   f1();  \n}  \n  \nint main() {  \n   f2();  \n  \n   try {  \n      f4();  \n   }  \n   catch(...) {  \n      printf_s(\"Caught exception from f4\\n\");  \n   }  \n   f5();  \n}  \n```  \n  \n```Output  \nAbout to throw 1  \nin handler  \nAbout to throw 1  \nCaught exception from f4  \nAbout to throw 1  \nin handler  \n```  \n  \n## See Also  \n [try, throw, and catch Statements (C++)](../cpp/try-throw-and-catch-statements-cpp.md)   \n [C++ Exception Handling](../cpp/cpp-exception-handling.md)"}