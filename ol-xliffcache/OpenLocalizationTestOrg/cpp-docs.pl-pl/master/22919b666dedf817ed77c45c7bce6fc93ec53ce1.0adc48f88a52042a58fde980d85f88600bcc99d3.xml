{"nodes":[{"pos":[12,54],"content":"Security Global Functions | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Security Global Functions | Microsoft Docs","pos":[0,42]}]},{"pos":[658,683],"content":"Security Global Functions","linkify":"Security Global Functions","nodes":[{"content":"Security Global Functions","pos":[0,25]}]},{"content":"These functions provide support for modifying SID and ACL objects.","pos":[684,750]},{"pos":[758,925],"content":"[!IMPORTANT]\n The functions listed in the following table cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"The functions listed in the following table cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,165],"source":" The functions listed in the following table cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[946,971],"content":"<bpt id=\"p1\">[</bpt>AtlGetDacl<ept id=\"p1\">](#atlgetdacl)</ept>","source":"[AtlGetDacl](#atlgetdacl)"},{"content":"Call this function to retrieve the discretionary access-control list (DACL) information of a specified object.","pos":[972,1082]},{"pos":[1087,1112],"content":"<bpt id=\"p1\">[</bpt>AtlSetDacl<ept id=\"p1\">](#atlsetdacl)</ept>","source":"[AtlSetDacl](#atlsetdacl)"},{"content":"Call this function to set the discretionary access-control list (DACL) information of a specified object.","pos":[1113,1218]},{"pos":[1223,1256],"content":"<bpt id=\"p1\">[</bpt>AtlGetGroupSid<ept id=\"p1\">](#atlgetgroupsid)</ept>","source":"[AtlGetGroupSid](#atlgetgroupsid)"},{"content":"Call this function to retrieve the group security identifier (SID) of an object.","pos":[1257,1337]},{"pos":[1342,1375],"content":"<bpt id=\"p1\">[</bpt>AtlSetGroupSid<ept id=\"p1\">](#atlsetgroupsid)</ept>","source":"[AtlSetGroupSid](#atlsetgroupsid)"},{"content":"Call this function to set the group security identifier (SID) of an object.","pos":[1376,1451]},{"pos":[1456,1489],"content":"<bpt id=\"p1\">[</bpt>AtlGetOwnerSid<ept id=\"p1\">](#atlgetownersid)</ept>","source":"[AtlGetOwnerSid](#atlgetownersid)"},{"content":"Call this function to retrieve the owner security identifier (SID) of an object.","pos":[1490,1570]},{"pos":[1575,1608],"content":"<bpt id=\"p1\">[</bpt>AtlSetOwnerSid<ept id=\"p1\">](#atlsetownersid)</ept>","source":"[AtlSetOwnerSid](#atlsetownersid)"},{"content":"Call this function to set the owner security identifier (SID) of an object.","pos":[1609,1684]},{"pos":[1689,1714],"content":"<bpt id=\"p1\">[</bpt>AtlGetSacl<ept id=\"p1\">](#atlgetsacl)</ept>","source":"[AtlGetSacl](#atlgetsacl)"},{"content":"Call this function to retrieve the system access-control list (SACL) information of a specified object.","pos":[1715,1818]},{"pos":[1823,1848],"content":"<bpt id=\"p1\">[</bpt>AtlSetSacl<ept id=\"p1\">](#atlsetsacl)</ept>","source":"[AtlSetSacl](#atlsetsacl)"},{"content":"Call this function to set the system access-control list (SACL) information of a specified object.","pos":[1849,1947]},{"pos":[1952,2005],"content":"<bpt id=\"p1\">[</bpt>AtlGetSecurityDescriptor<ept id=\"p1\">](#atlgetsecuritydescriptor)</ept>","source":"[AtlGetSecurityDescriptor](#atlgetsecuritydescriptor)"},{"content":"Call this function to retrieve the security descriptor of a given object.","pos":[2006,2079]},{"pos":[2090,2127],"content":"<bpt id=\"p1\">&lt;a name=\"atlgetdacl\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  AtlGetDacl","linkify":"<a name=\"atlgetdacl\"></a>  AtlGetDacl","source":"<a name=\"atlgetdacl\"></a>  AtlGetDacl"},{"content":"Call this function to retrieve the discretionary access-control list (DACL) information of a specified object.","pos":[2131,2241]},{"pos":[2249,2386],"content":"[!IMPORTANT]\n This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"This function cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,135],"source":" This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[2511,2521],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Handle to the object for which to retrieve the security information.","pos":[2538,2606]},{"content":"Specifies a value from the <bpt id=\"p1\">[</bpt>SE_OBJECT_TYPE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379593)</ept> enumeration that indicates the type of object identified by the <ph id=\"ph1\">`hObject`</ph> parameter.","pos":[2629,2817],"source":" Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter."},{"content":"Pointer to a DACL object which will contain the retrieved security information.","pos":[2835,2914]},{"pos":[2924,2936],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns true on success, false on failure.","pos":[2940,2982]},{"pos":[2992,2999],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[3003,3095],"content":"In debug builds, an assertion error will occur if either <ph id=\"ph1\">`hObject`</ph> or <ph id=\"ph2\">`pDacl`</ph> is invalid <bpt id=\"p1\">*</bpt>.<ept id=\"p1\">*</ept>","source":"In debug builds, an assertion error will occur if either `hObject` or `pDacl` is invalid *.*"},{"pos":[3105,3142],"content":"<bpt id=\"p1\">&lt;a name=\"atlsetdacl\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  AtlSetDacl","linkify":"<a name=\"atlsetdacl\"></a>  AtlSetDacl","source":"<a name=\"atlsetdacl\"></a>  AtlSetDacl"},{"content":"Call this function to set the discretionary access-control list (DACL) information of a specified object.","pos":[3146,3251]},{"pos":[3259,3396],"content":"[!IMPORTANT]\n This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"This function cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,135],"source":" This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[3570,3580],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Handle to the object for which to set security information.","pos":[3597,3656]},{"content":"Specifies a value from the <bpt id=\"p1\">[</bpt>SE_OBJECT_TYPE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379593)</ept> enumeration that indicates the type of object identified by the <ph id=\"ph1\">`hObject`</ph> parameter.","pos":[3679,3867],"source":" Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter."},{"content":"The DACL containing the new security information.","pos":[3885,3934]},{"content":"The inheritance flow control.","pos":[3971,4000]},{"content":"This value can be 0 (the default), PROTECTED_DACL_SECURITY_INFORMATION or UNPROTECTED_DACL_SECURITY_INFORMATION.","pos":[4001,4113]},{"pos":[4123,4135],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns true on success, false on failure.","pos":[4139,4181]},{"pos":[4191,4198],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[4202,4348],"content":"In debug builds, an assertion error will occur if <ph id=\"ph1\">`hObject`</ph> is invalid, or if <ph id=\"ph2\">`dwInheritanceFlowControl`</ph> is not one of the three permitted values.","source":"In debug builds, an assertion error will occur if `hObject` is invalid, or if `dwInheritanceFlowControl` is not one of the three permitted values."},{"pos":[4358,4403],"content":"<bpt id=\"p1\">&lt;a name=\"atlgetgroupsid\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  AtlGetGroupSid","linkify":"<a name=\"atlgetgroupsid\"></a>  AtlGetGroupSid","source":"<a name=\"atlgetgroupsid\"></a>  AtlGetGroupSid"},{"content":"Call this function to retrieve the group security identifier (SID) of an object.","pos":[4407,4487]},{"pos":[4495,4632],"content":"[!IMPORTANT]\n This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"This function cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,135],"source":" This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[4762,4772],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Handle to the object from which to retrieve security information.","pos":[4789,4854]},{"content":"Specifies a value from the <bpt id=\"p1\">[</bpt>SE_OBJECT_TYPE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379593)</ept> enumeration that indicates the type of object identified by the <ph id=\"ph1\">`hObject`</ph> parameter.","pos":[4877,5065],"source":" Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter."},{"content":"Pointer to a <ph id=\"ph1\">`CSid`</ph> object which will contain the new security information.","pos":[5082,5157],"source":" Pointer to a `CSid` object which will contain the new security information."},{"pos":[5167,5179],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns true on success, false on failure.","pos":[5183,5225]},{"pos":[5235,5280],"content":"<bpt id=\"p1\">&lt;a name=\"atlsetgroupsid\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  AtlSetGroupSid","linkify":"<a name=\"atlsetgroupsid\"></a>  AtlSetGroupSid","source":"<a name=\"atlsetgroupsid\"></a>  AtlSetGroupSid"},{"content":"Call this function to set the group security identifier (SID) of an object.","pos":[5284,5359]},{"pos":[5367,5504],"content":"[!IMPORTANT]\n This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"This function cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,135],"source":" This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[5640,5650],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Handle to the object for which to set security information.","pos":[5667,5726]},{"content":"Specifies a value from the <bpt id=\"p1\">[</bpt>SE_OBJECT_TYPE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379593)</ept> enumeration that indicates the type of object identified by the <ph id=\"ph1\">`hObject`</ph> parameter.","pos":[5749,5937],"source":" Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter."},{"content":"The <ph id=\"ph1\">`CSid`</ph> object containing the new security information.","pos":[5954,6012],"source":" The `CSid` object containing the new security information."},{"pos":[6022,6034],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns true on success, false on failure.","pos":[6038,6080]},{"pos":[6090,6135],"content":"<bpt id=\"p1\">&lt;a name=\"atlgetownersid\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  AtlGetOwnerSid","linkify":"<a name=\"atlgetownersid\"></a>  AtlGetOwnerSid","source":"<a name=\"atlgetownersid\"></a>  AtlGetOwnerSid"},{"content":"Call this function to retrieve the owner security identifier (SID) of an object.","pos":[6139,6219]},{"pos":[6227,6364],"content":"[!IMPORTANT]\n This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"This function cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,135],"source":" This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[6494,6504],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Handle to the object from which to retrieve security information.","pos":[6521,6586]},{"content":"Specifies a value from the <bpt id=\"p1\">[</bpt>SE_OBJECT_TYPE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379593)</ept> enumeration that indicates the type of object identified by the <ph id=\"ph1\">`hObject`</ph> parameter.","pos":[6609,6797],"source":" Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter."},{"content":"Pointer to a <ph id=\"ph1\">`CSid`</ph> object which will contain the new security information.","pos":[6814,6889],"source":" Pointer to a `CSid` object which will contain the new security information."},{"pos":[6899,6911],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns true on success, false on failure.","pos":[6915,6957]},{"pos":[6967,7012],"content":"<bpt id=\"p1\">&lt;a name=\"atlsetownersid\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  AtlSetOwnerSid","linkify":"<a name=\"atlsetownersid\"></a>  AtlSetOwnerSid","source":"<a name=\"atlsetownersid\"></a>  AtlSetOwnerSid"},{"content":"Call this function to set the owner security identifier (SID) of an object.","pos":[7016,7091]},{"pos":[7099,7236],"content":"[!IMPORTANT]\n This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"This function cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,135],"source":" This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[7372,7382],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Handle to the object for which to set security information.","pos":[7399,7458]},{"content":"Specifies a value from the <bpt id=\"p1\">[</bpt>SE_OBJECT_TYPE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379593)</ept> enumeration that indicates the type of object identified by the <ph id=\"ph1\">`hObject`</ph> parameter.","pos":[7481,7669],"source":" Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter."},{"content":"The <ph id=\"ph1\">`CSid`</ph> object containing the new security information.","pos":[7686,7744],"source":" The `CSid` object containing the new security information."},{"pos":[7754,7766],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns true on success, false on failure.","pos":[7770,7812]},{"pos":[7822,7859],"content":"<bpt id=\"p1\">&lt;a name=\"atlgetsacl\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  AtlGetSacl","linkify":"<a name=\"atlgetsacl\"></a>  AtlGetSacl","source":"<a name=\"atlgetsacl\"></a>  AtlGetSacl"},{"content":"Call this function to retrieve the system access-control list (SACL) information of a specified object.","pos":[7863,7966]},{"pos":[7974,8111],"content":"[!IMPORTANT]\n This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"This function cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,135],"source":" This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[8281,8291],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Handle to the object from which to retrieve the security information.","pos":[8308,8377]},{"content":"Specifies a value from the <bpt id=\"p1\">[</bpt>SE_OBJECT_TYPE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379593)</ept> enumeration that indicates the type of object identified by the <ph id=\"ph1\">`hObject`</ph> parameter.","pos":[8400,8588],"source":" Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter."},{"content":"Pointer to a SACL object which will contain the retrieved security information.","pos":[8606,8685]},{"content":"If true, the function will attempt to enable the SE_SECURITY_NAME privilege, and restore it on completion.","pos":[8722,8828]},{"pos":[8838,8850],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns true on success, false on failure.","pos":[8854,8896]},{"pos":[8906,8913],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[8917,9133],"content":"If <ph id=\"ph1\">`AtlGetSacl`</ph> is to be called many times on many different objects, it will be more efficient to enable the SE_SECURITY_NAME privilege once before calling the function, with <ph id=\"ph2\">`bRequestNeededPrivileges`</ph> set to false.","source":"If `AtlGetSacl` is to be called many times on many different objects, it will be more efficient to enable the SE_SECURITY_NAME privilege once before calling the function, with `bRequestNeededPrivileges` set to false."},{"pos":[9143,9180],"content":"<bpt id=\"p1\">&lt;a name=\"atlsetsacl\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  AtlSetSacl","linkify":"<a name=\"atlsetsacl\"></a>  AtlSetSacl","source":"<a name=\"atlsetsacl\"></a>  AtlSetSacl"},{"content":"Call this function to set the system access-control list (SACL) information of a specified object.","pos":[9184,9282]},{"pos":[9290,9427],"content":"[!IMPORTANT]\n This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"This function cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,135],"source":" This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[9643,9653],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Handle to the object for which to set security information.","pos":[9670,9729]},{"content":"Specifies a value from the <bpt id=\"p1\">[</bpt>SE_OBJECT_TYPE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379593)</ept> enumeration that indicates the type of object identified by the <ph id=\"ph1\">`hObject`</ph> parameter.","pos":[9752,9940],"source":" Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter."},{"content":"<bpt id=\"p1\">*</bpt>rSacl<ept id=\"p1\">*</ept>","pos":[9947,9954],"source":"*rSacl*"},{"content":"The SACL containing the new security information.","pos":[9958,10007]},{"content":"The inheritance flow control.","pos":[10044,10073]},{"content":"This value can be 0 (the default), PROTECTED_SACL_SECURITY_INFORMATION or UNPROTECTED_SACL_SECURITY_INFORMATION.","pos":[10074,10186]},{"content":"If true, the function will attempt to enable the SE_SECURITY_NAME privilege, and restore it on completion.","pos":[10223,10329]},{"pos":[10339,10351],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns true on success, false on failure.","pos":[10355,10397]},{"pos":[10407,10414],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[10418,10564],"content":"In debug builds, an assertion error will occur if <ph id=\"ph1\">`hObject`</ph> is invalid, or if <ph id=\"ph2\">`dwInheritanceFlowControl`</ph> is not one of the three permitted values.","source":"In debug builds, an assertion error will occur if `hObject` is invalid, or if `dwInheritanceFlowControl` is not one of the three permitted values."},{"pos":[10571,10787],"content":"If <ph id=\"ph1\">`AtlSetSacl`</ph> is to be called many times on many different objects, it will be more efficient to enable the SE_SECURITY_NAME privilege once before calling the function, with <ph id=\"ph2\">`bRequestNeededPrivileges`</ph> set to false.","source":"If `AtlSetSacl` is to be called many times on many different objects, it will be more efficient to enable the SE_SECURITY_NAME privilege once before calling the function, with `bRequestNeededPrivileges` set to false."},{"pos":[10797,10862],"content":"<bpt id=\"p1\">&lt;a name=\"atlgetsecuritydescriptor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  AtlGetSecurityDescriptor","linkify":"<a name=\"atlgetsecuritydescriptor\"></a>  AtlGetSecurityDescriptor","source":"<a name=\"atlgetsecuritydescriptor\"></a>  AtlGetSecurityDescriptor"},{"content":"Call this function to retrieve the security descriptor of a given object.","pos":[10866,10939]},{"pos":[10947,11084],"content":"[!IMPORTANT]\n This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].","leadings":["","> "],"nodes":[{"content":"This function cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[14,135],"source":" This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."}]},{"pos":[11456,11466],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"<bpt id=\"p1\">*</bpt>pszObjectName<ept id=\"p1\">*</ept>","pos":[11470,11485],"source":"*pszObjectName*"},{"content":"Pointer to a null-terminated string that specifies the name of the object from which to retrieve security information.","pos":[11489,11607]},{"content":"Specifies a value from the <bpt id=\"p1\">[</bpt>SE_OBJECT_TYPE<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379593)</ept> enumeration that indicates the type of object identified by the <bpt id=\"p2\">*</bpt>pszObjectName<ept id=\"p2\">*</ept> parameter.","pos":[11630,11824],"source":" Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the *pszObjectName* parameter."},{"content":"<bpt id=\"p1\">*</bpt>pSecurityDescriptor<ept id=\"p1\">*</ept>","pos":[11831,11852],"source":"*pSecurityDescriptor*"},{"content":"The object which receives the requested security descriptor.","pos":[11856,11916]},{"content":"<bpt id=\"p1\">*</bpt>requestedInfo<ept id=\"p1\">*</ept>","pos":[11923,11938],"source":"*requestedInfo*"},{"content":"A set of <bpt id=\"p1\">[</bpt>SECURITY_INFORMATION<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/aa379573)</ept> bit flags that indicate the type of security information to retrieve.","pos":[11942,12103],"source":" A set of [SECURITY_INFORMATION](http://msdn.microsoft.com/library/windows/desktop/aa379573) bit flags that indicate the type of security information to retrieve."},{"content":"This parameter can be a combination of the following values.","pos":[12104,12164]},{"content":"If true, the function will attempt to enable the SE_SECURITY_NAME privilege, and restore it on completion.","pos":[12201,12307]},{"pos":[12317,12329],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns true on success, false on failure.","pos":[12333,12375]},{"pos":[12385,12392],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[12396,12626],"content":"If <ph id=\"ph1\">`AtlGetSecurityDescriptor`</ph> is to be called many times on many different objects, it will be more efficient to enable the SE_SECURITY_NAME privilege once before calling the function, with <ph id=\"ph2\">`bRequestNeededPrivileges`</ph> set to false.","source":"If `AtlGetSecurityDescriptor` is to be called many times on many different objects, it will be more efficient to enable the SE_SECURITY_NAME privilege once before calling the function, with `bRequestNeededPrivileges` set to false."},{"pos":[12635,12643],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[12647,12696],"content":"<bpt id=\"p1\">[</bpt>Functions<ept id=\"p1\">](../../atl/reference/atl-functions.md)</ept>","source":"[Functions](../../atl/reference/atl-functions.md)"}],"content":"---\ntitle: \"Security Global Functions | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"SIDs [C++], modifying SID objects\"\n  - \"ACL object global functions\"\n  - \"security IDs [C++]\"\nms.assetid: 6a584bfe-16b7-47f4-8439-9c789c41567a\ncaps.latest.revision: 20\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Security Global Functions\nThese functions provide support for modifying SID and ACL objects.  \n  \n> [!IMPORTANT]\n>  The functions listed in the following table cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n|||  \n|-|-|  \n|[AtlGetDacl](#atlgetdacl)|Call this function to retrieve the discretionary access-control list (DACL) information of a specified object.|  \n|[AtlSetDacl](#atlsetdacl)|Call this function to set the discretionary access-control list (DACL) information of a specified object.|  \n|[AtlGetGroupSid](#atlgetgroupsid)|Call this function to retrieve the group security identifier (SID) of an object.|  \n|[AtlSetGroupSid](#atlsetgroupsid)|Call this function to set the group security identifier (SID) of an object.|  \n|[AtlGetOwnerSid](#atlgetownersid)|Call this function to retrieve the owner security identifier (SID) of an object.|  \n|[AtlSetOwnerSid](#atlsetownersid)|Call this function to set the owner security identifier (SID) of an object.|  \n|[AtlGetSacl](#atlgetsacl)|Call this function to retrieve the system access-control list (SACL) information of a specified object.|  \n|[AtlSetSacl](#atlsetsacl)|Call this function to set the system access-control list (SACL) information of a specified object.|  \n|[AtlGetSecurityDescriptor](#atlgetsecuritydescriptor)|Call this function to retrieve the security descriptor of a given object.|  \n  \n##  <a name=\"atlgetdacl\"></a>  AtlGetDacl  \n Call this function to retrieve the discretionary access-control list (DACL) information of a specified object.  \n  \n> [!IMPORTANT]\n>  This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n```\ninline bool AtlGetDacl(\n    HANDLE hObject,\n    SE_OBJECT_TYPE ObjectType,\n    CDacl* pDacl) throw();\n```  \n  \n### Parameters  \n `hObject`  \n Handle to the object for which to retrieve the security information.  \n  \n `ObjectType`  \n Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter.  \n  \n `pDacl`  \n Pointer to a DACL object which will contain the retrieved security information.  \n  \n### Return Value  \n Returns true on success, false on failure.  \n  \n### Remarks  \n In debug builds, an assertion error will occur if either `hObject` or `pDacl` is invalid *.*  \n  \n##  <a name=\"atlsetdacl\"></a>  AtlSetDacl  \n Call this function to set the discretionary access-control list (DACL) information of a specified object.  \n  \n> [!IMPORTANT]\n>  This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n```\ninline bool AtlSetDacl(\n    HANDLE hObject,\n    SE_OBJECT_TYPE ObjectType,\n    const CDacl& rDacl,\n    DWORD dwInheritanceFlowControl = 0) throw(...);\n```  \n  \n### Parameters  \n `hObject`  \n Handle to the object for which to set security information.  \n  \n `ObjectType`  \n Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter.  \n  \n `rDacl`  \n The DACL containing the new security information.  \n  \n `dwInheritanceFlowControl`  \n The inheritance flow control. This value can be 0 (the default), PROTECTED_DACL_SECURITY_INFORMATION or UNPROTECTED_DACL_SECURITY_INFORMATION.  \n  \n### Return Value  \n Returns true on success, false on failure.  \n  \n### Remarks  \n In debug builds, an assertion error will occur if `hObject` is invalid, or if `dwInheritanceFlowControl` is not one of the three permitted values.  \n  \n##  <a name=\"atlgetgroupsid\"></a>  AtlGetGroupSid  \n Call this function to retrieve the group security identifier (SID) of an object.  \n  \n> [!IMPORTANT]\n>  This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n```\ninline bool AtlGetGroupSid(\n    HANDLE hObject,\n    SE_OBJECT_TYPE ObjectType,\n    CSid* pSid) throw(...);\n```  \n  \n### Parameters  \n `hObject`  \n Handle to the object from which to retrieve security information.  \n  \n `ObjectType`  \n Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter.  \n  \n `pSid`  \n Pointer to a `CSid` object which will contain the new security information.  \n  \n### Return Value  \n Returns true on success, false on failure.  \n  \n##  <a name=\"atlsetgroupsid\"></a>  AtlSetGroupSid  \n Call this function to set the group security identifier (SID) of an object.  \n  \n> [!IMPORTANT]\n>  This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n```\ninline bool AtlSetGroupSid(\n    HANDLE hObject,\n    SE_OBJECT_TYPE ObjectType,\n    const CSid& rSid) throw(...);\n```  \n  \n### Parameters  \n `hObject`  \n Handle to the object for which to set security information.  \n  \n `ObjectType`  \n Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter.  \n  \n `rSid`  \n The `CSid` object containing the new security information.  \n  \n### Return Value  \n Returns true on success, false on failure.  \n  \n##  <a name=\"atlgetownersid\"></a>  AtlGetOwnerSid  \n Call this function to retrieve the owner security identifier (SID) of an object.  \n  \n> [!IMPORTANT]\n>  This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n```\ninline bool AtlGetOwnerSid(\n    HANDLE hObject,\n    SE_OBJECT_TYPE ObjectType,\n    CSid* pSid) throw(...);\n```  \n  \n### Parameters  \n `hObject`  \n Handle to the object from which to retrieve security information.  \n  \n `ObjectType`  \n Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter.  \n  \n `pSid`  \n Pointer to a `CSid` object which will contain the new security information.  \n  \n### Return Value  \n Returns true on success, false on failure.  \n  \n##  <a name=\"atlsetownersid\"></a>  AtlSetOwnerSid  \n Call this function to set the owner security identifier (SID) of an object.  \n  \n> [!IMPORTANT]\n>  This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n```\ninline bool AtlSetOwnerSid(\n    HANDLE hObject,\n    SE_OBJECT_TYPE ObjectType,\n    const CSid& rSid) throw(...);\n```  \n  \n### Parameters  \n `hObject`  \n Handle to the object for which to set security information.  \n  \n `ObjectType`  \n Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter.  \n  \n `rSid`  \n The `CSid` object containing the new security information.  \n  \n### Return Value  \n Returns true on success, false on failure.  \n  \n##  <a name=\"atlgetsacl\"></a>  AtlGetSacl  \n Call this function to retrieve the system access-control list (SACL) information of a specified object.  \n  \n> [!IMPORTANT]\n>  This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n```\ninline bool AtlGetSacl(\n    HANDLE hObject,\n    SE_OBJECT_TYPE ObjectType,\n    CSacl* pSacl,\n    bool bRequestNeededPrivileges = true) throw(...);\n```  \n  \n### Parameters  \n `hObject`  \n Handle to the object from which to retrieve the security information.  \n  \n `ObjectType`  \n Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter.  \n  \n `pSacl`  \n Pointer to a SACL object which will contain the retrieved security information.  \n  \n `bRequestNeededPrivileges`  \n If true, the function will attempt to enable the SE_SECURITY_NAME privilege, and restore it on completion.  \n  \n### Return Value  \n Returns true on success, false on failure.  \n  \n### Remarks  \n If `AtlGetSacl` is to be called many times on many different objects, it will be more efficient to enable the SE_SECURITY_NAME privilege once before calling the function, with `bRequestNeededPrivileges` set to false.  \n  \n##  <a name=\"atlsetsacl\"></a>  AtlSetSacl  \n Call this function to set the system access-control list (SACL) information of a specified object.  \n  \n> [!IMPORTANT]\n>  This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n```\ninline bool AtlSetSacl(\n    HANDLE hObject,\n    SE_OBJECT_TYPE ObjectType,\n    const CSacl& rSacl,\n    DWORD dwInheritanceFlowControl = 0,\n    bool bRequestNeededPrivileges = true) throw(...);\n```  \n  \n### Parameters  \n `hObject`  \n Handle to the object for which to set security information.  \n  \n `ObjectType`  \n Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the `hObject` parameter.  \n  \n *rSacl*  \n The SACL containing the new security information.  \n  \n `dwInheritanceFlowControl`  \n The inheritance flow control. This value can be 0 (the default), PROTECTED_SACL_SECURITY_INFORMATION or UNPROTECTED_SACL_SECURITY_INFORMATION.  \n  \n `bRequestNeededPrivileges`  \n If true, the function will attempt to enable the SE_SECURITY_NAME privilege, and restore it on completion.  \n  \n### Return Value  \n Returns true on success, false on failure.  \n  \n### Remarks  \n In debug builds, an assertion error will occur if `hObject` is invalid, or if `dwInheritanceFlowControl` is not one of the three permitted values.  \n  \n If `AtlSetSacl` is to be called many times on many different objects, it will be more efficient to enable the SE_SECURITY_NAME privilege once before calling the function, with `bRequestNeededPrivileges` set to false.  \n  \n##  <a name=\"atlgetsecuritydescriptor\"></a>  AtlGetSecurityDescriptor  \n Call this function to retrieve the security descriptor of a given object.  \n  \n> [!IMPORTANT]\n>  This function cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)].  \n  \n```\ninline bool AtlGetSecurityDescriptor(\n    LPCTSTR pszObjectName,\n    SE_OBJECT_TYPE ObjectType,\n    CSecurityDesc* pSecurityDescriptor,\n    SECURITY_INFORMATION requestedInfo = OWNER_SECURITY_INFORMATION |\n    GROUP_SECURITY_INFORMATION | DACL_SECURITY_INFORMATION |\n    SACL_SECURITY_INFORMATION,\n bool bRequestNeededPrivileges = true) throw(...);\n```  \n  \n### Parameters  \n *pszObjectName*  \n Pointer to a null-terminated string that specifies the name of the object from which to retrieve security information.  \n  \n `ObjectType`  \n Specifies a value from the [SE_OBJECT_TYPE](http://msdn.microsoft.com/library/windows/desktop/aa379593) enumeration that indicates the type of object identified by the *pszObjectName* parameter.  \n  \n *pSecurityDescriptor*  \n The object which receives the requested security descriptor.  \n  \n *requestedInfo*  \n A set of [SECURITY_INFORMATION](http://msdn.microsoft.com/library/windows/desktop/aa379573) bit flags that indicate the type of security information to retrieve. This parameter can be a combination of the following values.  \n  \n `bRequestNeededPrivileges`  \n If true, the function will attempt to enable the SE_SECURITY_NAME privilege, and restore it on completion.  \n  \n### Return Value  \n Returns true on success, false on failure.  \n  \n### Remarks  \n If `AtlGetSecurityDescriptor` is to be called many times on many different objects, it will be more efficient to enable the SE_SECURITY_NAME privilege once before calling the function, with `bRequestNeededPrivileges` set to false.  \n  \n## See Also  \n [Functions](../../atl/reference/atl-functions.md)\n"}