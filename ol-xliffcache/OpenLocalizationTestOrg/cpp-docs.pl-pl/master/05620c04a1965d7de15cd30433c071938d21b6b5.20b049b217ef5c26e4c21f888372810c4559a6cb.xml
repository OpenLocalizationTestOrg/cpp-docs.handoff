{"nodes":[{"pos":[12,66],"content":"#ifdef and #ifndef Directives (C-C++) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"ifdef and #ifndef Directives (C-C++) | Microsoft Doc","pos":[1,53]}]},{"content":"ifdef and #ifndef Directives (C/C++)","pos":[760,796]},{"pos":[797,933],"content":"The <bpt id=\"p1\">**</bpt>#ifdef<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>#ifndef<ept id=\"p2\">**</ept> directives perform the same task as the <ph id=\"ph1\">`#if`</ph> directive when it is used with <bpt id=\"p3\">**</bpt>defined<ept id=\"p3\">**</ept>( <bpt id=\"p4\">*</bpt>identifier<ept id=\"p4\">*</ept> ).","source":"The **#ifdef** and **#ifndef** directives perform the same task as the `#if` directive when it is used with **defined**( *identifier* )."},{"content":"Syntax","pos":[942,948]},{"content":"Remarks","pos":[1086,1093]},{"content":"You can use the <bpt id=\"p1\">**</bpt>#ifdef<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>#ifndef<ept id=\"p2\">**</ept> directives anywhere <ph id=\"ph1\">`#if`</ph> can be used.","pos":[1097,1178],"source":"You can use the **#ifdef** and **#ifndef** directives anywhere `#if` can be used."},{"content":"The <bpt id=\"p1\">**</bpt>#ifdef<ept id=\"p1\">**</ept> <bpt id=\"p2\">*</bpt>identifier<ept id=\"p2\">*</ept> statement is equivalent to <ph id=\"ph1\">`#if 1`</ph> when <bpt id=\"p3\">*</bpt>identifier<ept id=\"p3\">*</ept> has been defined, and it is equivalent to <ph id=\"ph2\">`#if 0`</ph> when <bpt id=\"p4\">*</bpt>identifier<ept id=\"p4\">*</ept> has not been defined or has been undefined with the <ph id=\"ph3\">`#undef`</ph> directive.","pos":[1179,1399],"source":" The **#ifdef** *identifier* statement is equivalent to `#if 1` when *identifier* has been defined, and it is equivalent to `#if 0` when *identifier* has not been defined or has been undefined with the `#undef` directive."},{"content":"These directives check only for the presence or absence of identifiers defined with <ph id=\"ph1\">`#define`</ph>, not for identifiers declared in the C or C++ source code.","pos":[1400,1552],"source":" These directives check only for the presence or absence of identifiers defined with `#define`, not for identifiers declared in the C or C++ source code."},{"content":"These directives are provided only for compatibility with previous versions of the language.","pos":[1559,1651]},{"content":"The <bpt id=\"p1\">**</bpt>defined(<ept id=\"p1\">**</ept> <bpt id=\"p2\">*</bpt>identifier<ept id=\"p2\">*</ept> <bpt id=\"p3\">**</bpt>)<ept id=\"p3\">**</ept> constant expression used with the <ph id=\"ph1\">`#if`</ph> directive is preferred.","pos":[1652,1751],"source":" The **defined(** *identifier* **)** constant expression used with the `#if` directive is preferred."},{"content":"The <bpt id=\"p1\">**</bpt>#ifndef<ept id=\"p1\">**</ept> directive checks for the opposite of the condition checked by <bpt id=\"p2\">**</bpt>#ifdef<ept id=\"p2\">**</ept>.","pos":[1758,1847],"source":"The **#ifndef** directive checks for the opposite of the condition checked by **#ifdef**."},{"content":"If the identifier has not been defined (or its definition has been removed with <ph id=\"ph1\">`#undef`</ph>), the condition is true (nonzero).","pos":[1848,1971],"source":" If the identifier has not been defined (or its definition has been removed with `#undef`), the condition is true (nonzero)."},{"content":"Otherwise, the condition is false (0).","pos":[1972,2010]},{"content":"Microsoft Specific","pos":[2019,2037]},{"content":"The <bpt id=\"p1\">*</bpt>identifier<ept id=\"p1\">*</ept> can be passed from the command line using the /D option.","pos":[2046,2119],"source":"The *identifier* can be passed from the command line using the /D option."},{"content":"Up to 30 macros can be specified with /D.","pos":[2120,2161]},{"content":"This is useful for checking whether a definition exists, because a definition can be passed from the command line.","pos":[2168,2282]},{"content":"For example:","pos":[2283,2295]},{"content":"END Microsoft Specific","pos":[2410,2432]},{"content":"See Also","pos":[2443,2451]},{"content":"Preprocessor Directives","pos":[2456,2479]}],"content":"---\ntitle: \"#ifdef and #ifndef Directives (C-C++) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"#ifndef\"\n  - \"#ifdef\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"#ifdef directive\"\n  - \"preprocessor, directives\"\n  - \"ifdef directive (#ifdef)\"\n  - \"ifndef directive (#ifndef)\"\n  - \"#ifndef directive\"\nms.assetid: 2b0be69d-9e72-45d8-8e24-e4130fb2455b\ncaps.latest.revision: 7\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# #ifdef and #ifndef Directives (C/C++)\nThe **#ifdef** and **#ifndef** directives perform the same task as the `#if` directive when it is used with **defined**( *identifier* ).  \n  \n## Syntax  \n  \n```  \n#ifdef identifier  \n#ifndef identifier  \n  \n// equivalent to  \n#if defined identifier  \n#if !defined identifier  \n```  \n  \n## Remarks  \n You can use the **#ifdef** and **#ifndef** directives anywhere `#if` can be used. The **#ifdef** *identifier* statement is equivalent to `#if 1` when *identifier* has been defined, and it is equivalent to `#if 0` when *identifier* has not been defined or has been undefined with the `#undef` directive. These directives check only for the presence or absence of identifiers defined with `#define`, not for identifiers declared in the C or C++ source code.  \n  \n These directives are provided only for compatibility with previous versions of the language. The **defined(** *identifier* **)** constant expression used with the `#if` directive is preferred.  \n  \n The **#ifndef** directive checks for the opposite of the condition checked by **#ifdef**. If the identifier has not been defined (or its definition has been removed with `#undef`), the condition is true (nonzero). Otherwise, the condition is false (0).  \n  \n **Microsoft Specific**  \n  \n The *identifier* can be passed from the command line using the /D option. Up to 30 macros can be specified with /D.  \n  \n This is useful for checking whether a definition exists, because a definition can be passed from the command line. For example:  \n  \n```  \n// ifdef_ifndef.CPP  \n// compile with: /Dtest /c  \n#ifndef test  \n#define final  \n#endif  \n```  \n  \n **END Microsoft Specific**  \n  \n## See Also  \n [Preprocessor Directives](../preprocessor/preprocessor-directives.md)"}