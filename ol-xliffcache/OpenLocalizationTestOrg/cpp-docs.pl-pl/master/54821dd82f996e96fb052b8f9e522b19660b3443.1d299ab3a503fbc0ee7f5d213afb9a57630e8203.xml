{"nodes":[{"pos":[12,86],"content":"Walkthrough: Using MSBuild to Create a Visual C++ Project | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Walkthrough: Using MSBuild to Create a Visual C++ Project | Microsoft Docs","pos":[0,74]}]},{"content":"Walkthrough: Using MSBuild to Create a Visual C++ Project","pos":[698,755]},{"content":"This walkthrough demonstrates how to use <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> to build a <ph id=\"ph2\">[!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)]</ph> project at a command prompt.","pos":[756,950],"source":"This walkthrough demonstrates how to use [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] to build a [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] project at a command prompt."},{"content":"You will learn how to create the C++ source files and an XML-based project file for a <ph id=\"ph1\">[!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)]</ph> console application.","pos":[951,1108],"source":" You will learn how to create the C++ source files and an XML-based project file for a [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] console application."},{"content":"After building the project, you will learn how to customize the build process.","pos":[1109,1187]},{"content":"This walkthrough illustrates the following tasks:","pos":[1194,1243]},{"content":"Creating the C++ source files for your project.","pos":[1253,1300]},{"pos":[1310,1403],"content":"Creating the XML <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> project file.","source":"Creating the XML [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] project file."},{"pos":[1413,1504],"content":"Using <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> to build your project.","source":"Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] to build your project."},{"pos":[1514,1609],"content":"Using <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> to customize your project.","source":"Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] to customize your project."},{"content":"Prerequisites","pos":[1618,1631]},{"content":"You need the following to complete this walkthrough:","pos":[1635,1687]},{"pos":[1770,1871],"content":"A general understanding of the <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> system.","source":"A general understanding of the [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] system."},{"content":"Creating the C++ Source Files","pos":[1880,1909]},{"content":"In this walkthrough you will create a project that has a source file and a header file.","pos":[1913,2000]},{"content":"The source file main.cpp contains the main function for the console application.","pos":[2001,2081]},{"content":"The header file main.h contains code to include the iostream header file.","pos":[2082,2155]},{"content":"You can create these C++ files by using <ph id=\"ph1\">[!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)]</ph> or a text editor.","pos":[2156,2273],"source":" You can create these C++ files by using [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] or a text editor."},{"content":"To create the C++ source files for your project","pos":[2284,2331]},{"content":"Create a directory for your project.","pos":[2341,2377]},{"content":"Create a file that is named main.cpp and add the following code to this file:","pos":[2387,2464]},{"content":"Create a file that is named main.h and add the following code to this file:","pos":[2699,2774]},{"content":"Creating the XML MSBuild Project File","pos":[2903,2940]},{"content":"An <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> project file is an XML file that contains a project root element (<ph id=\"ph2\">\\&lt;</ph>Project&gt;).","pos":[2944,3088],"source":"An [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] project file is an XML file that contains a project root element (\\<Project>)."},{"content":"In the following example project, the <ph id=\"ph1\">\\&lt;</ph>Project&gt; element contains seven child elements:","pos":[3089,3176],"source":" In the following example project, the \\<Project> element contains seven child elements:"},{"content":"Three item group tags (<ph id=\"ph1\">\\&lt;</ph>ItemGroup&gt;) that specify project configuration and platform, source file name, and header file name.","pos":[3186,3311],"source":"Three item group tags (\\<ItemGroup>) that specify project configuration and platform, source file name, and header file name."},{"pos":[3321,3450],"content":"Three import tags (<ph id=\"ph1\">\\&lt;</ph>Import&gt;) that specify the location of Microsoft <ph id=\"ph2\">[!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)]</ph> settings.","source":"Three import tags (\\<Import>) that specify the location of Microsoft [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] settings."},{"content":"A property group tag (<ph id=\"ph1\">\\&lt;</ph>PropertyGroup&gt;) that specifies project settings.","pos":[3460,3532],"source":"A property group tag (\\<PropertyGroup>) that specifies project settings."},{"content":"To create the MSBuild project file","pos":[3543,3577]},{"content":"Use a text editor to create a project file that is named <ph id=\"ph1\">`myproject.vcxproj`</ph>, and then add the following root <ph id=\"ph2\">\\&lt;</ph>Project&gt; element.","pos":[3587,3716],"source":"Use a text editor to create a project file that is named `myproject.vcxproj`, and then add the following root \\<Project> element."},{"content":"Insert the elements in the following procedure steps between the root <ph id=\"ph1\">\\&lt;</ph>Project&gt; tags:","pos":[3717,3803],"source":" Insert the elements in the following procedure steps between the root \\<Project> tags:"},{"content":"Add the following two <ph id=\"ph1\">\\&lt;</ph>ProjectConfiguration&gt; child elements in an <ph id=\"ph2\">\\&lt;</ph>ItemGroup&gt; element.","pos":[3975,4063],"source":"Add the following two \\<ProjectConfiguration> child elements in an \\<ItemGroup> element."},{"content":"The child element specifies debug and release configurations for a 32-bit Windows operating system:","pos":[4064,4163]},{"content":"Add the following <ph id=\"ph1\">\\&lt;</ph>Import/&gt; element that specifies the path of the default C++ settings for this project:","pos":[4581,4687],"source":"Add the following \\<Import/> element that specifies the path of the default C++ settings for this project:"},{"content":"Add the following property group element (<ph id=\"ph1\">\\&lt;</ph>PropertyGroup&gt;) that specifies two project properties:","pos":[4798,4896],"source":"Add the following property group element (\\<PropertyGroup>) that specifies two project properties:"},{"content":"Add the following <ph id=\"ph1\">\\&lt;</ph>Import/&gt; element that specifies the path of the current C++ settings for this project:","pos":[5084,5190],"source":"Add the following \\<Import/> element that specifies the path of the current C++ settings for this project:"},{"content":"Add the following <ph id=\"ph1\">\\&lt;</ph>ClCompile&gt; child element in an <ph id=\"ph2\">\\&lt;</ph>ItemGroup&gt; element.","pos":[5290,5362],"source":"Add the following \\<ClCompile> child element in an \\<ItemGroup> element."},{"content":"The child element specifies the name of the C/C++ source file to compile:","pos":[5363,5436]},{"content":"Add the following <ph id=\"ph1\">\\&lt;</ph>ClInclude&gt; child element in an <ph id=\"ph2\">\\&lt;</ph>ItemGroup&gt; element.","pos":[5550,5622],"source":"Add the following \\<ClInclude> child element in an \\<ItemGroup> element."},{"content":"The child element specifies the name of the header file for the C/C++ source file:","pos":[5623,5705]},{"content":"Add the following <ph id=\"ph1\">\\&lt;</ph>Import&gt; element that specifies the path of the file that defines the target for this project:","pos":[5817,5930],"source":"Add the following \\<Import> element that specifies the path of the file that defines the target for this project:"},{"content":"Complete Project File","pos":[6035,6056]},{"content":"The following code shows the complete project file that you created in the previous procedure.","pos":[6060,6154]},{"content":"Using MSBuild to Build Your Project","pos":[7150,7185]},{"content":"Type the following command at the command prompt to build your console application:","pos":[7189,7272]},{"content":"creates a directory for the output files, and then compiles and links your project to generate the Myproject.exe program.","pos":[7408,7529]},{"content":"After the build process finishes, use the following command to run the application:","pos":[7530,7613]},{"content":"The application should display \"Hello, from MSBuild!\"","pos":[7647,7700]},{"content":"in the console window.","pos":[7701,7723]},{"content":"Customizing Your Project","pos":[7732,7756]},{"content":"enables you to execute predefined build targets, apply user-defined properties, and use custom tools, events, and build steps.","pos":[7823,7949]},{"content":"This section illustrates the following tasks:","pos":[7950,7995]},{"pos":[8005,8093],"content":"Using <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> with build targets.","source":"Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] with build targets."},{"pos":[8103,8194],"content":"Using <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> with build properties.","source":"Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] with build properties."},{"pos":[8204,8308],"content":"Using <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> with the 64-bit compiler and tools.","source":"Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] with the 64-bit compiler and tools."},{"pos":[8318,8411],"content":"Using <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> with different toolsets.","source":"Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] with different toolsets."},{"pos":[8421,8506],"content":"Adding <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> customizations.","source":"Adding [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] customizations."},{"content":"Using MSBuild with Build Targets","pos":[8516,8548]},{"content":"A <bpt id=\"p1\">*</bpt>build target<ept id=\"p1\">*</ept> is a named set of predefined or user-defined commands that can be executed during the build.","pos":[8552,8661],"source":"A *build target* is a named set of predefined or user-defined commands that can be executed during the build."},{"content":"Use the target command-line option (<bpt id=\"p1\">**</bpt>/t<ept id=\"p1\">**</ept>) to specify a build target.","pos":[8662,8732],"source":" Use the target command-line option (**/t**) to specify a build target."},{"content":"In the case of the <ph id=\"ph1\">`myproject`</ph> example project, the predefined <bpt id=\"p1\">**</bpt>clean<ept id=\"p1\">**</ept> target deletes all files in the debug folder and creates a new log file.","pos":[8733,8878],"source":" In the case of the `myproject` example project, the predefined **clean** target deletes all files in the debug folder and creates a new log file."},{"pos":[8885,8956],"content":"At the command prompt, type the following command to clean <ph id=\"ph1\">`myproject`</ph>.","source":"At the command prompt, type the following command to clean `myproject`."},{"content":"Using MSBuild with Build Properties","pos":[9009,9044]},{"content":"The property command-line option (<bpt id=\"p1\">**</bpt>/p<ept id=\"p1\">**</ept>) enables you to override a property in your project build file.","pos":[9048,9152],"source":"The property command-line option (**/p**) enables you to override a property in your project build file."},{"content":"In the <ph id=\"ph1\">`myproject`</ph> example project, the release or debug build configuration is specified by the <ph id=\"ph2\">`Configuration`</ph> property.","pos":[9153,9275],"source":" In the `myproject` example project, the release or debug build configuration is specified by the `Configuration` property."},{"content":"And the operating system that is intended to run the built application is specified by the <ph id=\"ph1\">`Platform`</ph> property.","pos":[9276,9387],"source":" And the operating system that is intended to run the built application is specified by the `Platform` property."},{"pos":[9394,9541],"content":"At the command prompt, type the following command to create a debug build of the <ph id=\"ph1\">`myproject`</ph> application that is intended to run on 32-bit Windows.","source":"At the command prompt, type the following command to create a debug build of the `myproject` application that is intended to run on 32-bit Windows."},{"pos":[9623,9791],"content":"Assume that the <ph id=\"ph1\">`myproject`</ph> example project also defines a configuration for 64-bit Windows, and another configuration for a custom operating system named <ph id=\"ph2\">`myplatform`</ph>.","source":"Assume that the `myproject` example project also defines a configuration for 64-bit Windows, and another configuration for a custom operating system named `myplatform`."},{"content":"At the command prompt, type the following command to create a release build that runs on 64-bit Windows.","pos":[9798,9902]},{"pos":[9984,10077],"content":"At the command prompt, type the following command to create a release build for <ph id=\"ph1\">`myplatform`</ph>.","source":"At the command prompt, type the following command to create a release build for `myplatform`."},{"content":"Using MSBuild with the 64-bit Compiler and Tools","pos":[10169,10217]},{"content":"If you have installed <ph id=\"ph1\">[!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)]</ph> on 64-bit Windows, by default, the 64-bit x64 native and cross tools are installed.","pos":[10221,10377],"source":"If you have installed [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] on 64-bit Windows, by default, the 64-bit x64 native and cross tools are installed."},{"content":"You can configure <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> to use the 64-bit compiler and tools to build your application by setting the <ph id=\"ph2\">`PreferredToolArchitecture`</ph> property.","pos":[10378,10574],"source":" You can configure [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] to use the 64-bit compiler and tools to build your application by setting the `PreferredToolArchitecture` property."},{"content":"This property does not affect the project configuration or platform properties.","pos":[10575,10654]},{"content":"By default, the 32-bit version of the tools is used.","pos":[10655,10707]},{"content":"To specify the 64-bit version of the compiler and tools, add the following property group element to the Myproject.vcxproj project file after the <ph id=\"ph1\">`Microsoft.Cpp.default.props`</ph> <ph id=\"ph2\">\\&lt;</ph>Import /&gt; element:","pos":[10708,10904],"source":" To specify the 64-bit version of the compiler and tools, add the following property group element to the Myproject.vcxproj project file after the `Microsoft.Cpp.default.props` \\<Import /> element:"},{"content":"At the command prompt, type the following command to use the 64-bit tools to build your application.","pos":[11031,11131]},{"content":"Using MSBuild with a Different Toolset","pos":[11208,11246]},{"content":"If you have the toolsets and libraries for other versions of <ph id=\"ph1\">[!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)]</ph> installed, <ph id=\"ph2\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> can build applications for either the current <ph id=\"ph3\">[!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)]</ph> version or for the other installed versions.","pos":[11250,11577],"source":"If you have the toolsets and libraries for other versions of [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] installed, [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] can build applications for either the current [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] version or for the other installed versions."},{"content":"For example, if you have installed <ph id=\"ph1\">[!INCLUDE[cpp_dev11_long](../build/includes/cpp_dev11_long_md.md)]</ph>, to specify the <ph id=\"ph2\">[!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)]</ph> 11.0 toolset for Windows XP, add the following property group element to the Myproject.vcxproj project file after the Microsoft.Cpp.props <ph id=\"ph3\">`&lt;Import /&gt;`</ph> element:","pos":[11578,11906],"source":" For example, if you have installed [!INCLUDE[cpp_dev11_long](../build/includes/cpp_dev11_long_md.md)], to specify the [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] 11.0 toolset for Windows XP, add the following property group element to the Myproject.vcxproj project file after the Microsoft.Cpp.props `<Import />` element:"},{"pos":[12017,12164],"content":"To rebuild your project with the <ph id=\"ph1\">[!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)]</ph> 11.0 Windows XP toolset, type either of the following commands:","source":"To rebuild your project with the [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] 11.0 Windows XP toolset, type either of the following commands:"},{"content":"Adding MSBuild Customizations","pos":[12291,12320]},{"content":"provides various ways to customize your build process.","pos":[12387,12441]},{"content":"The following topics show how to add custom build steps, tools, and events to your <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> project:","pos":[12442,12596],"source":" The following topics show how to add custom build steps, tools, and events to your [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] project:"},{"content":"How to: Add a Custom Build Step to MSBuild Projects","pos":[12607,12658]},{"content":"How to: Add Custom Build Tools to MSBuild Projects","pos":[12734,12784]},{"content":"How to: Use Build Events in MSBuild Projects","pos":[12859,12903]}],"content":"---\ntitle: \"Walkthrough: Using MSBuild to Create a Visual C++ Project | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"msbuild.cpp.walkthrough.createproject\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"msbuild (c++), walkthrough: create a project\"\nms.assetid: 52350d1c-c373-4868-923c-5e8be6f67adb\ncaps.latest.revision: 27\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Walkthrough: Using MSBuild to Create a Visual C++ Project\nThis walkthrough demonstrates how to use [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] to build a [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] project at a command prompt. You will learn how to create the C++ source files and an XML-based project file for a [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] console application. After building the project, you will learn how to customize the build process.  \n  \n This walkthrough illustrates the following tasks:  \n  \n-   Creating the C++ source files for your project.  \n  \n-   Creating the XML [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] project file.  \n  \n-   Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] to build your project.  \n  \n-   Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] to customize your project.  \n  \n## Prerequisites  \n You need the following to complete this walkthrough:  \n  \n-   [!INCLUDE[vs_dev12](../atl-mfc-shared/includes/vs_dev12_md.md)]  \n  \n-   A general understanding of the [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] system.  \n  \n## Creating the C++ Source Files  \n In this walkthrough you will create a project that has a source file and a header file. The source file main.cpp contains the main function for the console application. The header file main.h contains code to include the iostream header file. You can create these C++ files by using [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] or a text editor.  \n  \n#### To create the C++ source files for your project  \n  \n1.  Create a directory for your project.  \n  \n2.  Create a file that is named main.cpp and add the following code to this file:  \n  \n    ```cpp  \n    // main.cpp : the application source code.  \n    #include <iostream>  \n    #include \"main.h\"  \n    int main()  \n    {  \n       std::cout << \"Hello, from MSBuild!\\n\";  \n       return 0;  \n    }  \n    ```  \n  \n3.  Create a file that is named main.h and add the following code to this file:  \n  \n    ```hlsl  \n    // main.h: the application header code.  \n    /* Additional source code to include. */  \n    ```  \n  \n## Creating the XML MSBuild Project File  \n An [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] project file is an XML file that contains a project root element (\\<Project>). In the following example project, the \\<Project> element contains seven child elements:  \n  \n-   Three item group tags (\\<ItemGroup>) that specify project configuration and platform, source file name, and header file name.  \n  \n-   Three import tags (\\<Import>) that specify the location of Microsoft [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] settings.  \n  \n-   A property group tag (\\<PropertyGroup>) that specifies project settings.  \n  \n#### To create the MSBuild project file  \n  \n1.  Use a text editor to create a project file that is named `myproject.vcxproj`, and then add the following root \\<Project> element. Insert the elements in the following procedure steps between the root \\<Project> tags:  \n  \n    ```xml  \n    <Project DefaultTargets=\"Build\" ToolsVersion=\"12.0\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\">  \n    </Project>  \n    ```  \n  \n2.  Add the following two \\<ProjectConfiguration> child elements in an \\<ItemGroup> element. The child element specifies debug and release configurations for a 32-bit Windows operating system:  \n  \n    ```xml  \n    <ItemGroup>  \n      <ProjectConfiguration Include=\"Debug|Win32\">  \n        <Configuration>Debug</Configuration>  \n        <Platform>Win32</Platform>  \n      </ProjectConfiguration>  \n      <ProjectConfiguration Include=\"Release|Win32\">  \n        <Configuration>Release</Configuration>  \n        <Platform>Win32</Platform>  \n      </ProjectConfiguration>  \n    </ItemGroup>  \n  \n    ```  \n  \n3.  Add the following \\<Import/> element that specifies the path of the default C++ settings for this project:  \n  \n    ```xml  \n    <Import Project=\"$(VCTargetsPath)\\Microsoft.Cpp.default.props\" />  \n  \n    ```  \n  \n4.  Add the following property group element (\\<PropertyGroup>) that specifies two project properties:  \n  \n    ```xml  \n    <PropertyGroup>  \n      <ConfigurationType>Application</ConfigurationType>  \n      <PlatformToolset>v120</PlatformToolset>  \n    </PropertyGroup>  \n    ```  \n  \n5.  Add the following \\<Import/> element that specifies the path of the current C++ settings for this project:  \n  \n    ```xml  \n    <Import Project=\"$(VCTargetsPath)\\Microsoft.Cpp.props\" />  \n    ```  \n  \n6.  Add the following \\<ClCompile> child element in an \\<ItemGroup> element. The child element specifies the name of the C/C++ source file to compile:  \n  \n    ```xml  \n    <ItemGroup>  \n      <ClCompile Include=\"main.cpp\" />  \n    </ItemGroup>  \n    ```  \n  \n7.  Add the following \\<ClInclude> child element in an \\<ItemGroup> element. The child element specifies the name of the header file for the C/C++ source file:  \n  \n    ```xml  \n    <ItemGroup>  \n      <ClInclude Include=\"main.h\" />  \n    </ItemGroup>  \n    ```  \n  \n8.  Add the following \\<Import> element that specifies the path of the file that defines the target for this project:  \n  \n    ```xml  \n    <Import Project=\"$(VCTargetsPath)\\Microsoft.Cpp.Targets\" />  \n  \n    ```  \n  \n### Complete Project File  \n The following code shows the complete project file that you created in the previous procedure.  \n  \n```xml  \n<Project DefaultTargets=\"Build\" ToolsVersion=\"12.0\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\">  \n  <ItemGroup>  \n    <ProjectConfiguration Include=\"Debug|Win32\">  \n      <Configuration>Debug</Configuration>  \n      <Platform>Win32</Platform>  \n    </ProjectConfiguration>  \n    <ProjectConfiguration Include=\"Release|Win32\">  \n      <Configuration>Release</Configuration>  \n      <Platform>Win32</Platform>  \n    </ProjectConfiguration>  \n  </ItemGroup>  \n  <Import Project=\"$(VCTargetsPath)\\Microsoft.Cpp.default.props\" />  \n  <PropertyGroup>  \n    <ConfigurationType>Application</ConfigurationType>  \n    <PlatformToolset>v120</PlatformToolset>  \n  </PropertyGroup>  \n  <Import Project=\"$(VCTargetsPath)\\Microsoft.Cpp.props\" />  \n  <ItemGroup>  \n    <ClCompile Include=\"main.cpp\" />  \n  </ItemGroup>  \n  <ItemGroup>  \n    <ClInclude Include=\"main.h\" />  \n  </ItemGroup>  \n  <Import Project=\"$(VCTargetsPath)\\Microsoft.Cpp.Targets\" />  \n</Project>  \n```  \n  \n## Using MSBuild to Build Your Project  \n Type the following command at the command prompt to build your console application:  \n  \n```  \nmsbuild myproject.vcxproj /p:configuration=debug  \n```  \n  \n [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] creates a directory for the output files, and then compiles and links your project to generate the Myproject.exe program. After the build process finishes, use the following command to run the application:  \n  \n```  \nmyproject  \n```  \n  \n The application should display \"Hello, from MSBuild!\" in the console window.  \n  \n## Customizing Your Project  \n [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] enables you to execute predefined build targets, apply user-defined properties, and use custom tools, events, and build steps. This section illustrates the following tasks:  \n  \n-   Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] with build targets.  \n  \n-   Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] with build properties.  \n  \n-   Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] with the 64-bit compiler and tools.  \n  \n-   Using [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] with different toolsets.  \n  \n-   Adding [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] customizations.  \n  \n### Using MSBuild with Build Targets  \n A *build target* is a named set of predefined or user-defined commands that can be executed during the build. Use the target command-line option (**/t**) to specify a build target. In the case of the `myproject` example project, the predefined **clean** target deletes all files in the debug folder and creates a new log file.  \n  \n At the command prompt, type the following command to clean `myproject`.  \n  \n `msbuild myproject.vcxproj /t:clean`  \n  \n### Using MSBuild with Build Properties  \n The property command-line option (**/p**) enables you to override a property in your project build file. In the `myproject` example project, the release or debug build configuration is specified by the `Configuration` property. And the operating system that is intended to run the built application is specified by the `Platform` property.  \n  \n At the command prompt, type the following command to create a debug build of the `myproject` application that is intended to run on 32-bit Windows.  \n  \n `msbuild myproject.vcxproj /p:configuration=debug /p:platform=win32`  \n  \n Assume that the `myproject` example project also defines a configuration for 64-bit Windows, and another configuration for a custom operating system named `myplatform`.  \n  \n At the command prompt, type the following command to create a release build that runs on 64-bit Windows.  \n  \n `msbuild myproject.vcxproj /p:configuration=release /p:platform=x64`  \n  \n At the command prompt, type the following command to create a release build for `myplatform`.  \n  \n `msbuild myproject.vcxproj /p:configuration=release /p:platform=myplatform`  \n  \n### Using MSBuild with the 64-bit Compiler and Tools  \n If you have installed [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] on 64-bit Windows, by default, the 64-bit x64 native and cross tools are installed. You can configure [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] to use the 64-bit compiler and tools to build your application by setting the `PreferredToolArchitecture` property. This property does not affect the project configuration or platform properties. By default, the 32-bit version of the tools is used. To specify the 64-bit version of the compiler and tools, add the following property group element to the Myproject.vcxproj project file after the `Microsoft.Cpp.default.props` \\<Import /> element:  \n  \n```xml  \n<PropertyGroup>  \n    <PreferredToolArchitecture>x64</PreferredToolArchitecture>  \n</PropertyGroup>  \n```  \n  \n At the command prompt, type the following command to use the 64-bit tools to build your application.  \n  \n `msbuild myproject.vcxproj /p:PreferredToolArchitecture=x64`  \n  \n### Using MSBuild with a Different Toolset  \n If you have the toolsets and libraries for other versions of [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] installed, [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] can build applications for either the current [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] version or for the other installed versions. For example, if you have installed [!INCLUDE[cpp_dev11_long](../build/includes/cpp_dev11_long_md.md)], to specify the [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] 11.0 toolset for Windows XP, add the following property group element to the Myproject.vcxproj project file after the Microsoft.Cpp.props `<Import />` element:  \n  \n```xml  \n<PropertyGroup>  \n    <PlatformToolset>v110_xp</PlatformToolset>  \n</PropertyGroup>  \n```  \n  \n To rebuild your project with the [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] 11.0 Windows XP toolset, type either of the following commands:  \n  \n `msbuild myproject.vcxproj /p:PlatformToolset=v110_xp /t:rebuild`  \n  \n `msbuild myproject.vcxproj /t:rebuild`  \n  \n### Adding MSBuild Customizations  \n [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] provides various ways to customize your build process. The following topics show how to add custom build steps, tools, and events to your [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] project:  \n  \n-   [How to: Add a Custom Build Step to MSBuild Projects](../build/how-to-add-a-custom-build-step-to-msbuild-projects.md)  \n  \n-   [How to: Add Custom Build Tools to MSBuild Projects](../build/how-to-add-custom-build-tools-to-msbuild-projects.md)  \n  \n-   [How to: Use Build Events in MSBuild Projects](../build/how-to-use-build-events-in-msbuild-projects.md)"}