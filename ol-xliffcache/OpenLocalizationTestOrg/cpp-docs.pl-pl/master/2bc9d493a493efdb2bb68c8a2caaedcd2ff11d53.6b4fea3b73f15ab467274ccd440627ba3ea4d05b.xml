{"nodes":[{"pos":[12,56],"content":"task_completion_event Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"task_completion_event Class | Microsoft Docs","pos":[0,44]}]},{"pos":[657,684],"content":"task_completion_event Class","linkify":"task_completion_event Class","nodes":[{"content":"task_completion_event Class","pos":[0,27]}]},{"pos":[685,844],"content":"The <ph id=\"ph1\">`task_completion_event`</ph> class allows you to delay the execution of a task until a condition is satisfied, or start a task in response to an external event.","source":"The `task_completion_event` class allows you to delay the execution of a task until a condition is satisfied, or start a task in response to an external event."},{"pos":[853,859],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[990,1000],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The result type of this <ph id=\"ph1\">`task_completion_event`</ph> class.","pos":[1021,1075],"source":" The result type of this `task_completion_event` class."},{"pos":[1094,1101],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[1111,1130],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[1137,1141]},{"content":"Description","pos":[1142,1153]},{"pos":[1191,1256],"content":"<bpt id=\"p1\">[</bpt>task_completion_event::task_completion_event Constructor<ept id=\"p1\">](#ctor)</ept>","source":"[task_completion_event::task_completion_event Constructor](#ctor)"},{"pos":[1257,1301],"content":"Constructs a <ph id=\"ph1\">`task_completion_event`</ph> object.","source":"Constructs a `task_completion_event` object."},{"pos":[1312,1326],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[1333,1337]},{"content":"Description","pos":[1338,1349]},{"pos":[1387,1428],"content":"<bpt id=\"p1\">[</bpt>task_completion_event::set Method<ept id=\"p1\">](#set)</ept>","source":"[task_completion_event::set Method](#set)"},{"content":"Overloaded.","pos":[1429,1440]},{"content":"Sets the task completion event.","pos":[1441,1472]},{"pos":[1477,1538],"content":"<bpt id=\"p1\">[</bpt>task_completion_event::set_exception Method<ept id=\"p1\">](#set_exception)</ept>","source":"[task_completion_event::set_exception Method](#set_exception)"},{"content":"Overloaded.","pos":[1539,1550]},{"content":"Propagates an exception to all tasks associated with this event.","pos":[1551,1615]},{"pos":[1625,1632],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Use a task created from a task completion event when your scenario requires you to create a task that will complete, and thereby have its continuations scheduled for execution, at some point in the future.","pos":[1636,1841]},{"content":"The <ph id=\"ph1\">`task_completion_event`</ph> must have the same type as the task you create, and calling the set method on the task completion event with a value of that type will cause the associated task to complete, and provide that value as a result to its continuations.","pos":[1842,2100],"source":" The `task_completion_event` must have the same type as the task you create, and calling the set method on the task completion event with a value of that type will cause the associated task to complete, and provide that value as a result to its continuations."},{"content":"If the task completion event is never signaled, any tasks created from it will be canceled when it is destructed.","pos":[2107,2220]},{"pos":[2227,2311],"content":"<ph id=\"ph1\">`task_completion_event`</ph> behaves like a smart pointer, and should be passed by value.","source":"`task_completion_event` behaves like a smart pointer, and should be passed by value."},{"pos":[2320,2341],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[2377,2389],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[2393,2415],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> ppltasks.h","source":"**Header:** ppltasks.h"},{"pos":[2422,2448],"content":"<bpt id=\"p1\">**</bpt>Namespace:<ept id=\"p1\">**</ept> concurrency","source":"**Namespace:** concurrency"},{"pos":[2458,2511],"content":"<bpt id=\"p1\">&lt;a name=\"set\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_completion_event::set Method","linkify":"<a name=\"set\"></a>  task_completion_event::set Method","source":"<a name=\"set\"></a>  task_completion_event::set Method"},{"content":"Sets the task completion event.","pos":[2515,2546]},{"pos":[2627,2637],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The result to set this event with.","pos":[2654,2688]},{"pos":[2698,2710],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"The method returns <ph id=\"ph1\">`true`</ph> if it was successful in setting the event.","pos":[2714,2782],"source":"The method returns `true` if it was successful in setting the event."},{"content":"It returns <ph id=\"ph1\">`false`</ph> if the event is already set.","pos":[2783,2830],"source":" It returns `false` if the event is already set."},{"pos":[2840,2847],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"In the presence of multiple or concurrent calls to <ph id=\"ph1\">`set`</ph>, only the first call will succeed and its result (if any) will be stored in the task completion event.","pos":[2851,3010],"source":"In the presence of multiple or concurrent calls to `set`, only the first call will succeed and its result (if any) will be stored in the task completion event."},{"content":"The remaining sets are ignored and the method will return false.","pos":[3011,3075]},{"content":"When you set a task completion event, all the tasks created from that event will immediately complete, and its continuations, if any, will be scheduled.","pos":[3076,3228]},{"content":"Task completion objects that have a <ph id=\"ph1\">`_ResultType`</ph> other than <ph id=\"ph2\">`void`</ph> will pass the value                          to their continuations.","pos":[3229,3365],"source":" Task completion objects that have a `_ResultType` other than `void` will pass the value                          to their continuations."},{"pos":[3375,3448],"content":"<bpt id=\"p1\">&lt;a name=\"set_exception\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_completion_event::set_exception Method","linkify":"<a name=\"set_exception\"></a>  task_completion_event::set_exception Method","source":"<a name=\"set_exception\"></a>  task_completion_event::set_exception Method"},{"content":"Propagates an exception to all tasks associated with this event.","pos":[3452,3516]},{"pos":[3703,3713],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"pos":[3763,3775],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[3785,3862],"content":"<bpt id=\"p1\">&lt;a name=\"ctor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_completion_event::task_completion_event Constructor","linkify":"<a name=\"ctor\"></a>  task_completion_event::task_completion_event Constructor","source":"<a name=\"ctor\"></a>  task_completion_event::task_completion_event Constructor"},{"pos":[3866,3910],"content":"Constructs a <ph id=\"ph1\">`task_completion_event`</ph> object.","source":"Constructs a `task_completion_event` object."},{"pos":[3957,3965],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[3969,4018],"content":"<bpt id=\"p1\">[</bpt>concurrency Namespace<ept id=\"p1\">](concurrency-namespace.md)</ept>","source":"[concurrency Namespace](concurrency-namespace.md)"}],"content":"---\ntitle: \"task_completion_event Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"ppltasks/concurrency::task_completion_event\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"task_completion_event class\"\nms.assetid: fb19ed98-f245-48dc-9ba5-487ba879b28a\ncaps.latest.revision: 11\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# task_completion_event Class\nThe `task_completion_event` class allows you to delay the execution of a task until a condition is satisfied, or start a task in response to an external event.  \n  \n## Syntax  \n  \n```\ntemplate<typename _ResultType>\nclass task_completion_event;\n\ntemplate<>\nclass task_completion_event<void>;\n```  \n  \n#### Parameters  \n `_ResultType`  \n The result type of this `task_completion_event` class.  \n  \n `T`  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[task_completion_event::task_completion_event Constructor](#ctor)|Constructs a `task_completion_event` object.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[task_completion_event::set Method](#set)|Overloaded. Sets the task completion event.|  \n|[task_completion_event::set_exception Method](#set_exception)|Overloaded. Propagates an exception to all tasks associated with this event.|  \n  \n## Remarks  \n Use a task created from a task completion event when your scenario requires you to create a task that will complete, and thereby have its continuations scheduled for execution, at some point in the future. The `task_completion_event` must have the same type as the task you create, and calling the set method on the task completion event with a value of that type will cause the associated task to complete, and provide that value as a result to its continuations.  \n  \n If the task completion event is never signaled, any tasks created from it will be canceled when it is destructed.  \n  \n `task_completion_event` behaves like a smart pointer, and should be passed by value.  \n  \n## Inheritance Hierarchy  \n `task_completion_event`  \n  \n## Requirements  \n **Header:** ppltasks.h  \n  \n **Namespace:** concurrency  \n  \n##  <a name=\"set\"></a>  task_completion_event::set Method  \n Sets the task completion event.  \n  \n```\nbool set(_ResultType _Result) const ;\n\nbool set() const ;\n```  \n  \n### Parameters  \n `_Result`  \n The result to set this event with.  \n  \n### Return Value  \n The method returns `true` if it was successful in setting the event. It returns `false` if the event is already set.  \n  \n### Remarks  \n In the presence of multiple or concurrent calls to `set`, only the first call will succeed and its result (if any) will be stored in the task completion event. The remaining sets are ignored and the method will return false. When you set a task completion event, all the tasks created from that event will immediately complete, and its continuations, if any, will be scheduled. Task completion objects that have a `_ResultType` other than `void` will pass the value                          to their continuations.  \n  \n##  <a name=\"set_exception\"></a>  task_completion_event::set_exception Method  \n Propagates an exception to all tasks associated with this event.  \n  \n```\ntemplate<typename _E>\n__declspec(noinline) bool set_exception(_E _Except) const;\n\n__declspec(noinline) bool set_exception(std::exception_ptr _ExceptionPtr) const ;\n```  \n  \n### Parameters  \n `_E`  \n `_Except`  \n `_ExceptionPtr`  \n  \n### Return Value  \n  \n##  <a name=\"ctor\"></a>  task_completion_event::task_completion_event Constructor  \n Constructs a `task_completion_event` object.  \n  \n```\ntask_completion_event();\n```  \n  \n## See Also  \n [concurrency Namespace](concurrency-namespace.md)\n"}