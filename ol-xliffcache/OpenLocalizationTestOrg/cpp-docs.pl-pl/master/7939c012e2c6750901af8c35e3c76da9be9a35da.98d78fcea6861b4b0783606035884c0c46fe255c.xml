{"nodes":[{"pos":[12,49],"content":"Compiler Error C2268 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Error C2268 | Microsoft Docs","pos":[0,37]}]},{"pos":[619,639],"content":"Compiler Error C2268","linkify":"Compiler Error C2268","nodes":[{"content":"Compiler Error C2268","pos":[0,20]}]},{"content":"'function' is a compiler predefined library helper.","pos":[640,691]},{"content":"Library helpers are not supported with /GL; compile object file 'file' without /GL.","pos":[692,775]},{"content":"A function defined in your source code has the same name as an internal compiler function.","pos":[782,872]},{"content":"Compile the module containing the function without <bpt id=\"p1\">[</bpt>/GL<ept id=\"p1\">](../../build/reference/gl-whole-program-optimization.md)</ept>.","pos":[873,986],"source":" Compile the module containing the function without [/GL](../../build/reference/gl-whole-program-optimization.md)."},{"content":"The following sample generates C2268:","pos":[993,1030]},{"content":"and then:","pos":[1341,1350]}],"content":"---\ntitle: \"Compiler Error C2268 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-csharp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"C2268\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C2268\"\nms.assetid: 0ed055c9-3c6f-4df2-a5b6-85cf0e01a249\ncaps.latest.revision: 10\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# Compiler Error C2268\n'function' is a compiler predefined library helper. Library helpers are not supported with /GL; compile object file 'file' without /GL.  \n  \n A function defined in your source code has the same name as an internal compiler function. Compile the module containing the function without [/GL](../../build/reference/gl-whole-program-optimization.md).  \n  \n The following sample generates C2268:  \n  \n```  \n// C2268.c  \n// compile with: /c  \n// processor: x86  \nextern int SHFusionLoadLibrary(int lpLibFileName);  \n  \nint __cdecl _except_handler3(void) {  \n   return SHFusionLoadLibrary(0);  \n}  \n  \nextern int main(void);  \n  \nvoid* mainCRTStartup(void* p) {  \n   p = main;  \n   return p;  \n}  \n```  \n  \n and then:  \n  \n```  \n// C2268b.c  \n// compile with: C2268.c /EHsc /GL /Ob0 /O2 /Fa /GS- /link /nodefaultlib  \n// processor: x86  \nextern int SHFusionLoadLibrary(int lpLibFileName);  \n  \nextern int __cdecl _except_handler3(void);  \nextern void mainCRTStartup(void*);  \nint g = 2;  \n  \n#define ENTERCONTEXT(fail) \\  \n   int ulCookie = 0;\\  \n   if (!SHActivateContext(&ulCookie)) \\  \n      return fail;\\  \n   __try {  \n  \n#define LEAVECONTEXT \\  \n    } __finally {SHDeactivateContext(ulCookie);}  \n  \nint SHActivateContext(int* a) {  \n    return *a == g || !*a ||_except_handler3();  \n}  \n  \nvoid SHDeactivateContext(int a) {  \n    g = a;  \n}  \n  \nint SHFusionLoadLibrary(int lpLibFileName) {   // C2268  \n    ENTERCONTEXT(0)  \n    g = lpLibFileName;  \n    LEAVECONTEXT  \n  \n    return lpLibFileName;  \n}  \n  \nint main(void) {  \n    g = SHFusionLoadLibrary(10);  \n    return 0;  \n}  \n```"}