{"nodes":[{"pos":[12,51],"content":"CMFCKeyMapDialog Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CMFCKeyMapDialog Class | Microsoft Docs","pos":[0,39]}]},{"pos":[622,644],"content":"CMFCKeyMapDialog Class","linkify":"CMFCKeyMapDialog Class","nodes":[{"content":"CMFCKeyMapDialog Class","pos":[0,22]}]},{"pos":[645,736],"content":"The <ph id=\"ph1\">`CMFCKeyMapDialog`</ph> class supports a control that maps commands to keys on the keyboard.","source":"The `CMFCKeyMapDialog` class supports a control that maps commands to keys on the keyboard."},{"pos":[745,751],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[819,826],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[836,855],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[862,866]},{"content":"Description","pos":[867,878]},{"pos":[916,989],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::CMFCKeyMapDialog<ept id=\"p1\">](#cmfckeymapdialog__cmfckeymapdialog)</ept>","source":"[CMFCKeyMapDialog::CMFCKeyMapDialog](#cmfckeymapdialog__cmfckeymapdialog)"},{"pos":[990,1029],"content":"Constructs a <ph id=\"ph1\">`CMFCKeyMapDialog`</ph> object.","source":"Constructs a `CMFCKeyMapDialog` object."},{"pos":[1040,1054],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[1061,1065]},{"content":"Description","pos":[1066,1077]},{"pos":[1115,1170],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::DoModal<ept id=\"p1\">](#cmfckeymapdialog__domodal)</ept>","source":"[CMFCKeyMapDialog::DoModal](#cmfckeymapdialog__domodal)"},{"content":"Displays a keyboard mapping dialog box.","pos":[1171,1210]},{"pos":[1221,1238],"content":"Protected Methods","linkify":"Protected Methods","nodes":[{"content":"Protected Methods","pos":[0,17]}]},{"content":"Name","pos":[1245,1249]},{"content":"Description","pos":[1250,1261]},{"pos":[1299,1360],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::FormatItem<ept id=\"p1\">](#cmfckeymapdialog__formatitem)</ept>","source":"[CMFCKeyMapDialog::FormatItem](#cmfckeymapdialog__formatitem)"},{"content":"Called by the framework to build a string that describes a key mapping.","pos":[1361,1432]},{"content":"By default, the string contains the command name, the shortcut keys used, and the shortcut key description.","pos":[1433,1540]},{"pos":[1545,1614],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::GetCommandKeys<ept id=\"p1\">](#cmfckeymapdialog__getcommandkeys)</ept>","source":"[CMFCKeyMapDialog::GetCommandKeys](#cmfckeymapdialog__getcommandkeys)"},{"content":"Retrieves a string that contains a list of shortcut keys associated with the specified command.","pos":[1615,1710]},{"pos":[1715,1780],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::OnInsertItem<ept id=\"p1\">](#cmfckeymapdialog__oninsertitem)</ept>","source":"[CMFCKeyMapDialog::OnInsertItem](#cmfckeymapdialog__oninsertitem)"},{"content":"Called by the framework before a new item is inserted into the internal list control that supports the keyboard mapping control.","pos":[1781,1909]},{"pos":[1914,1981],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::OnPrintHeader<ept id=\"p1\">](#cmfckeymapdialog__onprintheader)</ept>","source":"[CMFCKeyMapDialog::OnPrintHeader](#cmfckeymapdialog__onprintheader)"},{"content":"Called by the framework to print the header for the keyboard map on a new page.","pos":[1982,2061]},{"pos":[2066,2129],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::OnPrintItem<ept id=\"p1\">](#cmfckeymapdialog__onprintitem)</ept>","source":"[CMFCKeyMapDialog::OnPrintItem](#cmfckeymapdialog__onprintitem)"},{"content":"Called by the framework to print a keyboard mapping item.","pos":[2130,2187]},{"pos":[2192,2257],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::OnSetColumns<ept id=\"p1\">](#cmfckeymapdialog__onsetcolumns)</ept>","source":"[CMFCKeyMapDialog::OnSetColumns](#cmfckeymapdialog__onsetcolumns)"},{"content":"Called by the framework to set captions for the columns in the internal list control that supports the keyboard mapping control.","pos":[2258,2386]},{"pos":[2391,2454],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::PrintKeyMap<ept id=\"p1\">](#cmfckeymapdialog__printkeymap)</ept>","source":"[CMFCKeyMapDialog::PrintKeyMap](#cmfckeymapdialog__printkeymap)"},{"pos":[2455,2519],"content":"Called by the framework when a user clicks the <bpt id=\"p1\">**</bpt>Print<ept id=\"p1\">**</ept> button.","source":"Called by the framework when a user clicks the **Print** button."},{"pos":[2524,2595],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::SetColumnsWidth<ept id=\"p1\">](#cmfckeymapdialog__setcolumnswidth)</ept>","source":"[CMFCKeyMapDialog::SetColumnsWidth](#cmfckeymapdialog__setcolumnswidth)"},{"content":"Called by the framework to set the width of the columns in the internal list control that supports the keyboard mapping control.","pos":[2596,2724]},{"pos":[2734,2741],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Use the <ph id=\"ph1\">`CMFCKeyMapDialog`</ph> class to implement a resizable keyboard mapping dialog box.","pos":[2745,2831],"source":"Use the `CMFCKeyMapDialog` class to implement a resizable keyboard mapping dialog box."},{"content":"The dialog box uses a list view control to display keyboard shortcuts and their associated commands.","pos":[2832,2932]},{"content":"To use the <ph id=\"ph1\">`CMFCKeyMapDialog`</ph> class in an application, pass in a pointer to the main frame window as a parameter to the <ph id=\"ph2\">`CMFCKeyMapDialog`</ph> constructor.","pos":[2939,3090],"source":"To use the `CMFCKeyMapDialog` class in an application, pass in a pointer to the main frame window as a parameter to the `CMFCKeyMapDialog` constructor."},{"content":"Then call the <ph id=\"ph1\">`DoModal`</ph> method to start a modal dialog box.","pos":[3091,3150],"source":" Then call the `DoModal` method to start a modal dialog box."},{"pos":[3159,3180],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[3184,3231],"content":"<bpt id=\"p1\">[</bpt>CObject<ept id=\"p1\">](../../mfc/reference/cobject-class.md)</ept>","source":"[CObject](../../mfc/reference/cobject-class.md)"},{"pos":[3238,3291],"content":"<bpt id=\"p1\">[</bpt>CCmdTarget<ept id=\"p1\">](../../mfc/reference/ccmdtarget-class.md)</ept>","source":"[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)"},{"pos":[3298,3339],"content":"<bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept>","source":"[CWnd](../../mfc/reference/cwnd-class.md)"},{"pos":[3346,3393],"content":"<bpt id=\"p1\">[</bpt>CDialog<ept id=\"p1\">](../../mfc/reference/cdialog-class.md)</ept>","source":"[CDialog](../../mfc/reference/cdialog-class.md)"},{"pos":[3400,3451],"content":"<bpt id=\"p1\">[</bpt>CDialogEx<ept id=\"p1\">](../../mfc/reference/cdialogex-class.md)</ept>","source":"[CDialogEx](../../mfc/reference/cdialogex-class.md)"},{"pos":[3458,3523],"content":"<bpt id=\"p1\">[</bpt>CMFCKeyMapDialog<ept id=\"p1\">](../../mfc/reference/cmfckeymapdialog-class.md)</ept>","source":"[CMFCKeyMapDialog](../../mfc/reference/cmfckeymapdialog-class.md)"},{"pos":[3532,3544],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3548,3577],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxkeymapdialog.h","source":"**Header:** afxkeymapdialog.h"},{"pos":[3587,3672],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__cmfckeymapdialog\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::CMFCKeyMapDialog","linkify":"<a name=\"cmfckeymapdialog__cmfckeymapdialog\"></a>  CMFCKeyMapDialog::CMFCKeyMapDialog","source":"<a name=\"cmfckeymapdialog__cmfckeymapdialog\"></a>  CMFCKeyMapDialog::CMFCKeyMapDialog"},{"pos":[3676,3715],"content":"Constructs a <ph id=\"ph1\">`CMFCKeyMapDialog`</ph> object.","source":"Constructs a `CMFCKeyMapDialog` object."},{"pos":[3822,3832],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`pWndParentFrame`</ph>","pos":[3836,3858],"source":"[in] `pWndParentFrame`"},{"content":"A pointer to the parent window of the <ph id=\"ph1\">`CMFCKeyMapDialog`</ph> object.","pos":[3862,3926],"source":" A pointer to the parent window of the `CMFCKeyMapDialog` object."},{"content":"[in] <ph id=\"ph1\">`bEnablePrint`</ph>","pos":[3933,3952],"source":"[in] `bEnablePrint`"},{"content":"<ph id=\"ph1\"> `TRUE`</ph> if the list of accelerator keys can be printed; otherwise, <ph id=\"ph2\">`FALSE`</ph>.","pos":[3955,4030],"source":" `TRUE` if the list of accelerator keys can be printed; otherwise, `FALSE`."},{"content":"The default is <ph id=\"ph1\">`FALSE`</ph>.","pos":[4031,4054],"source":" The default is `FALSE`."},{"pos":[4064,4071],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[4081,4088],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example demonstrates how to construct an object of the <ph id=\"ph1\">`CMFCKeyMapDialog`</ph> class.","pos":[4092,4186],"source":"The following example demonstrates how to construct an object of the `CMFCKeyMapDialog` class."},{"content":"This example is part of the <bpt id=\"p1\">[</bpt>Visual Studio Demo sample<ept id=\"p1\">](../../visual-cpp-samples.md)</ept>.","pos":[4187,4272],"source":" This example is part of the [Visual Studio Demo sample](../../visual-cpp-samples.md)."},{"pos":[4279,4375],"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>NVC_MFC_VisualStudioDemo#21<ept id=\"p2\">](../../mfc/codesnippet/cpp/cmfckeymapdialog-class_1.cpp)</ept><ept id=\"p1\">]</ept>","source":"[!code-cpp[NVC_MFC_VisualStudioDemo#21](../../mfc/codesnippet/cpp/cmfckeymapdialog-class_1.cpp)]"},{"pos":[4385,4452],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__domodal\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::DoModal","linkify":"<a name=\"cmfckeymapdialog__domodal\"></a>  CMFCKeyMapDialog::DoModal","source":"<a name=\"cmfckeymapdialog__domodal\"></a>  CMFCKeyMapDialog::DoModal"},{"content":"Displays a keyboard mapping dialog box.","pos":[4456,4495]},{"pos":[4547,4559],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"A signed integer, such as <ph id=\"ph1\">`IDOK`</ph> or <ph id=\"ph2\">`IDCANCEL`</ph>, that is passed to the <bpt id=\"p1\">[</bpt>CDialog::EndDialog<ept id=\"p1\">](../../mfc/reference/cdialog-class.md#cdialog__enddialog)</ept> method.","pos":[4563,4718],"source":"A signed integer, such as `IDOK` or `IDCANCEL`, that is passed to the [CDialog::EndDialog](../../mfc/reference/cdialog-class.md#cdialog__enddialog) method."},{"content":"The method, in turn, closes the dialog box.","pos":[4719,4762]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CDialog::DoModal<ept id=\"p1\">](../../mfc/reference/cdialog-class.md#cdialog__domodal)</ept>.","pos":[4763,4863],"source":" For more information, see [CDialog::DoModal](../../mfc/reference/cdialog-class.md#cdialog__domodal)."},{"pos":[4873,4880],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The keyboard mapping dialog box enables you to select and assign accelerator keys to various categories of commands.","pos":[4884,5000]},{"content":"In addition, you can copy the selected accelerator keys and their description to the clipboard.","pos":[5001,5096]},{"pos":[5106,5179],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__formatitem\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::FormatItem","linkify":"<a name=\"cmfckeymapdialog__formatitem\"></a>  CMFCKeyMapDialog::FormatItem","source":"<a name=\"cmfckeymapdialog__formatitem\"></a>  CMFCKeyMapDialog::FormatItem"},{"content":"Called by the framework to build a string that describes a key mapping.","pos":[5183,5254]},{"content":"By default, the string contains the command name, the shortcut keys used, and the shortcut key description.","pos":[5255,5362]},{"pos":[5435,5445],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`nItem`</ph>","pos":[5449,5461],"source":"[in] `nItem`"},{"content":"The zero-based index of an item in the internal list of key mappings.","pos":[5465,5534]},{"pos":[5544,5556],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[5560,5617],"content":"A <ph id=\"ph1\">`CString`</ph> object that contains the formatted item text.","source":"A `CString` object that contains the formatted item text."},{"pos":[5627,5634],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[5644,5725],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__getcommandkeys\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::GetCommandKeys","linkify":"<a name=\"cmfckeymapdialog__getcommandkeys\"></a>  CMFCKeyMapDialog::GetCommandKeys","source":"<a name=\"cmfckeymapdialog__getcommandkeys\"></a>  CMFCKeyMapDialog::GetCommandKeys"},{"content":"Retrieves a string value.","pos":[5729,5754]},{"content":"The string contains a list of shortcut keys that are associated with a specified command.","pos":[5755,5844]},{"pos":[5924,5934],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`uiCmdID`</ph>","pos":[5938,5952],"source":"[in] `uiCmdID`"},{"content":"A command ID.","pos":[5956,5969]},{"pos":[5979,5991],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"A semicolon-delimited (';') list of shortcut keys that is associated with the specified command.","pos":[5995,6091]},{"pos":[6101,6108],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[6118,6195],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__oninsertitem\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::OnInsertItem","linkify":"<a name=\"cmfckeymapdialog__oninsertitem\"></a>  CMFCKeyMapDialog::OnInsertItem","source":"<a name=\"cmfckeymapdialog__oninsertitem\"></a>  CMFCKeyMapDialog::OnInsertItem"},{"content":"Called by the framework before a new item is inserted into an internal list control that supports the keyboard mapping control.","pos":[6199,6326]},{"pos":[6428,6438],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`pButton`</ph>","pos":[6442,6456],"source":"[in] `pButton`"},{"content":"A pointer to a toolbar button that is used to map a keyboard key combination to a command name and description.","pos":[6460,6571]},{"content":"The key map item is stored in an internal list control.","pos":[6572,6627]},{"content":"[in] <ph id=\"ph1\">`nItem`</ph>","pos":[6634,6646],"source":"[in] `nItem`"},{"content":"A zero-based index that specifies where to insert the new key map item in the internal list control.","pos":[6650,6750]},{"pos":[6760,6767],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[6777,6856],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__onprintheader\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::OnPrintHeader","linkify":"<a name=\"cmfckeymapdialog__onprintheader\"></a>  CMFCKeyMapDialog::OnPrintHeader","source":"<a name=\"cmfckeymapdialog__onprintheader\"></a>  CMFCKeyMapDialog::OnPrintHeader"},{"content":"Called by the framework to print the header for the keyboard map on a new page.","pos":[6860,6939]},{"pos":[7045,7055],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`dc`</ph>","pos":[7059,7068],"source":"[in] `dc`"},{"content":"The device context for the printer.","pos":[7072,7107]},{"content":"[in] <ph id=\"ph1\">`nPage`</ph>","pos":[7114,7126],"source":"[in] `nPage`"},{"content":"The page number to print.","pos":[7130,7155]},{"content":"[in] <ph id=\"ph1\">`cx`</ph>","pos":[7162,7171],"source":"[in] `cx`"},{"content":"The horizontal offset of the header, in pixels.","pos":[7175,7222]},{"pos":[7232,7244],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"If successful, the height of the printed text.","pos":[7248,7294]},{"content":"For more information, see the Return Value section of <bpt id=\"p1\">[</bpt>CDC::DrawText<ept id=\"p1\">](../../mfc/reference/cdc-class.md#cdc__drawtext)</ept>.","pos":[7295,7413],"source":" For more information, see the Return Value section of [CDC::DrawText](../../mfc/reference/cdc-class.md#cdc__drawtext)."},{"pos":[7423,7430],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The framework uses this method to print the keyboard map.","pos":[7434,7491]},{"content":"By default, this method prints the page number, application name, and dialog box title.","pos":[7492,7579]},{"pos":[7589,7664],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__onprintitem\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::OnPrintItem","linkify":"<a name=\"cmfckeymapdialog__onprintitem\"></a>  CMFCKeyMapDialog::OnPrintItem","source":"<a name=\"cmfckeymapdialog__onprintitem\"></a>  CMFCKeyMapDialog::OnPrintItem"},{"content":"Called by the framework to print a keyboard mapping item.","pos":[7668,7725]},{"pos":[7866,7876],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] <ph id=\"ph1\">`dc`</ph>","pos":[7880,7889],"source":"[in] `dc`"},{"content":"The device context of the printer.","pos":[7893,7927]},{"content":"[in] <ph id=\"ph1\">`nItem`</ph>","pos":[7934,7946],"source":"[in] `nItem`"},{"content":"The zero-based index of the item to print.","pos":[7950,7992]},{"content":"[in] <ph id=\"ph1\">`y`</ph>","pos":[7999,8007],"source":"[in] `y`"},{"content":"The vertical offset between the top of the page and the position of the item.","pos":[8011,8088]},{"content":"[in] <ph id=\"ph1\">`cx`</ph>","pos":[8095,8104],"source":"[in] `cx`"},{"content":"The horizontal offset between the left of the page and the position of the item.","pos":[8108,8188]},{"content":"[in] <ph id=\"ph1\">`bCalcHeight`</ph>","pos":[8195,8213],"source":"[in] `bCalcHeight`"},{"content":"<ph id=\"ph1\"> `TRUE`</ph> to calculate the best height for the print item; <ph id=\"ph2\">`FALSE`</ph> to truncate the print item so that it fits the default space.","pos":[8216,8342],"source":" `TRUE` to calculate the best height for the print item; `FALSE` to truncate the print item so that it fits the default space."},{"pos":[8352,8364],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"The height of the printed item.","pos":[8368,8399]},{"pos":[8409,8416],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The framework calls this method to print a key map dialog box item.","pos":[8420,8487]},{"content":"By default, this method prints the item's command name, shortcut keys, and command description.","pos":[8488,8583]},{"pos":[8593,8670],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__onsetcolumns\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::OnSetColumns","linkify":"<a name=\"cmfckeymapdialog__onsetcolumns\"></a>  CMFCKeyMapDialog::OnSetColumns","source":"<a name=\"cmfckeymapdialog__onsetcolumns\"></a>  CMFCKeyMapDialog::OnSetColumns"},{"content":"Called by the framework to set captions for the columns in the internal list control that supports the keyboard mapping control.","pos":[8674,8802]},{"pos":[8856,8863],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"By default, this method obtains the captions for the columns from three resources.","pos":[8867,8949]},{"content":"The command column caption is from IDS_AFXBARRES_COMMAND, the key column caption is from IDS_AFXBARRES_KEYS, and the description column caption is from IDS_AFXBARRES_DESCRIPTION.","pos":[8950,9128]},{"pos":[9138,9213],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__printkeymap\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::PrintKeyMap","linkify":"<a name=\"cmfckeymapdialog__printkeymap\"></a>  CMFCKeyMapDialog::PrintKeyMap","source":"<a name=\"cmfckeymapdialog__printkeymap\"></a>  CMFCKeyMapDialog::PrintKeyMap"},{"pos":[9217,9281],"content":"Called by the framework when a user clicks the <bpt id=\"p1\">**</bpt>Print<ept id=\"p1\">**</ept> button.","source":"Called by the framework when a user clicks the **Print** button."},{"pos":[9334,9341],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`PrintKeyMap`</ph> method prints the key map.","pos":[9345,9389],"source":"The `PrintKeyMap` method prints the key map."},{"content":"It initiates a new print job and then repeatedly calls the <bpt id=\"p1\">[</bpt>CMFCKeyMapDialog::OnPrintHeader<ept id=\"p1\">](#cmfckeymapdialog__onprintheader)</ept> and <bpt id=\"p2\">[</bpt>CMFCKeyMapDialog::OnPrintItem<ept id=\"p2\">](#cmfckeymapdialog__onprintitem)</ept> methods until all the key mappings are printed.","pos":[9390,9632],"source":" It initiates a new print job and then repeatedly calls the [CMFCKeyMapDialog::OnPrintHeader](#cmfckeymapdialog__onprintheader) and [CMFCKeyMapDialog::OnPrintItem](#cmfckeymapdialog__onprintitem) methods until all the key mappings are printed."},{"pos":[9642,9725],"content":"<bpt id=\"p1\">&lt;a name=\"cmfckeymapdialog__setcolumnswidth\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CMFCKeyMapDialog::SetColumnsWidth","linkify":"<a name=\"cmfckeymapdialog__setcolumnswidth\"></a>  CMFCKeyMapDialog::SetColumnsWidth","source":"<a name=\"cmfckeymapdialog__setcolumnswidth\"></a>  CMFCKeyMapDialog::SetColumnsWidth"},{"content":"Called by the framework to set the width of the columns in the internal list control that supports the keyboard mapping control.","pos":[9729,9857]},{"pos":[9914,9921],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"This method sets the internal list control's columns to default widths.","pos":[9925,9996]},{"content":"First, the width of the shortcut keys column is calculated.","pos":[9997,10056]},{"content":"Then one-third of the remaining width is allocated to the command column and the remaining two-thirds is allocated to the description column.","pos":[10057,10198]},{"pos":[10207,10215],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Hierarchy Chart<ept id=\"p1\">](../../mfc/hierarchy-chart.md)</ept><ph id=\"ph1\"> </ph>","pos":[10219,10267],"source":"[Hierarchy Chart](../../mfc/hierarchy-chart.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Classes<ept id=\"p1\">](../../mfc/reference/mfc-classes.md)</ept><ph id=\"ph1\"> </ph>","pos":[10270,10317],"source":" [Classes](../../mfc/reference/mfc-classes.md) "},{"content":"<bpt id=\"p1\"> [</bpt>CKeyboardManager Class<ept id=\"p1\">](../../mfc/reference/ckeyboardmanager-class.md)</ept>","pos":[10320,10392],"source":" [CKeyboardManager Class](../../mfc/reference/ckeyboardmanager-class.md)"}],"content":"---\ntitle: \"CMFCKeyMapDialog Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CMFCKeyMapDialog\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CMFCKeyMapDialog class\"\nms.assetid: 5feb4942-d636-462d-a162-0104dd320f4e\ncaps.latest.revision: 26\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CMFCKeyMapDialog Class\nThe `CMFCKeyMapDialog` class supports a control that maps commands to keys on the keyboard.  \n  \n## Syntax  \n  \n```  \nclass CMFCKeyMapDialog : public CDialogEx  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCKeyMapDialog::CMFCKeyMapDialog](#cmfckeymapdialog__cmfckeymapdialog)|Constructs a `CMFCKeyMapDialog` object.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCKeyMapDialog::DoModal](#cmfckeymapdialog__domodal)|Displays a keyboard mapping dialog box.|  \n  \n### Protected Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCKeyMapDialog::FormatItem](#cmfckeymapdialog__formatitem)|Called by the framework to build a string that describes a key mapping. By default, the string contains the command name, the shortcut keys used, and the shortcut key description.|  \n|[CMFCKeyMapDialog::GetCommandKeys](#cmfckeymapdialog__getcommandkeys)|Retrieves a string that contains a list of shortcut keys associated with the specified command.|  \n|[CMFCKeyMapDialog::OnInsertItem](#cmfckeymapdialog__oninsertitem)|Called by the framework before a new item is inserted into the internal list control that supports the keyboard mapping control.|  \n|[CMFCKeyMapDialog::OnPrintHeader](#cmfckeymapdialog__onprintheader)|Called by the framework to print the header for the keyboard map on a new page.|  \n|[CMFCKeyMapDialog::OnPrintItem](#cmfckeymapdialog__onprintitem)|Called by the framework to print a keyboard mapping item.|  \n|[CMFCKeyMapDialog::OnSetColumns](#cmfckeymapdialog__onsetcolumns)|Called by the framework to set captions for the columns in the internal list control that supports the keyboard mapping control.|  \n|[CMFCKeyMapDialog::PrintKeyMap](#cmfckeymapdialog__printkeymap)|Called by the framework when a user clicks the **Print** button.|  \n|[CMFCKeyMapDialog::SetColumnsWidth](#cmfckeymapdialog__setcolumnswidth)|Called by the framework to set the width of the columns in the internal list control that supports the keyboard mapping control.|  \n  \n## Remarks  \n Use the `CMFCKeyMapDialog` class to implement a resizable keyboard mapping dialog box. The dialog box uses a list view control to display keyboard shortcuts and their associated commands.  \n  \n To use the `CMFCKeyMapDialog` class in an application, pass in a pointer to the main frame window as a parameter to the `CMFCKeyMapDialog` constructor. Then call the `DoModal` method to start a modal dialog box.  \n  \n## Inheritance Hierarchy  \n [CObject](../../mfc/reference/cobject-class.md)  \n  \n [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  \n  \n [CWnd](../../mfc/reference/cwnd-class.md)  \n  \n [CDialog](../../mfc/reference/cdialog-class.md)  \n  \n [CDialogEx](../../mfc/reference/cdialogex-class.md)  \n  \n [CMFCKeyMapDialog](../../mfc/reference/cmfckeymapdialog-class.md)  \n  \n## Requirements  \n **Header:** afxkeymapdialog.h  \n  \n##  <a name=\"cmfckeymapdialog__cmfckeymapdialog\"></a>  CMFCKeyMapDialog::CMFCKeyMapDialog  \n Constructs a `CMFCKeyMapDialog` object.  \n  \n```  \nCMFCKeyMapDialog(\n    CFrameWnd* pWndParentFrame,  \n    BOOL bEnablePrint=FALSE);\n```  \n  \n### Parameters  \n [in] `pWndParentFrame`  \n A pointer to the parent window of the `CMFCKeyMapDialog` object.  \n  \n [in] `bEnablePrint`  \n `TRUE` if the list of accelerator keys can be printed; otherwise, `FALSE`. The default is `FALSE`.  \n  \n### Remarks  \n  \n### Example  \n The following example demonstrates how to construct an object of the `CMFCKeyMapDialog` class. This example is part of the [Visual Studio Demo sample](../../visual-cpp-samples.md).  \n  \n [!code-cpp[NVC_MFC_VisualStudioDemo#21](../../mfc/codesnippet/cpp/cmfckeymapdialog-class_1.cpp)]  \n  \n##  <a name=\"cmfckeymapdialog__domodal\"></a>  CMFCKeyMapDialog::DoModal  \n Displays a keyboard mapping dialog box.  \n  \n```  \nvirtual INT_PTR DoModal();\n```  \n  \n### Return Value  \n A signed integer, such as `IDOK` or `IDCANCEL`, that is passed to the [CDialog::EndDialog](../../mfc/reference/cdialog-class.md#cdialog__enddialog) method. The method, in turn, closes the dialog box. For more information, see [CDialog::DoModal](../../mfc/reference/cdialog-class.md#cdialog__domodal).  \n  \n### Remarks  \n The keyboard mapping dialog box enables you to select and assign accelerator keys to various categories of commands. In addition, you can copy the selected accelerator keys and their description to the clipboard.  \n  \n##  <a name=\"cmfckeymapdialog__formatitem\"></a>  CMFCKeyMapDialog::FormatItem  \n Called by the framework to build a string that describes a key mapping. By default, the string contains the command name, the shortcut keys used, and the shortcut key description.  \n  \n```  \nvirtual CString FormatItem(int nItem) const;\n\n \n```  \n  \n### Parameters  \n [in] `nItem`  \n The zero-based index of an item in the internal list of key mappings.  \n  \n### Return Value  \n A `CString` object that contains the formatted item text.  \n  \n### Remarks  \n  \n##  <a name=\"cmfckeymapdialog__getcommandkeys\"></a>  CMFCKeyMapDialog::GetCommandKeys  \n Retrieves a string value. The string contains a list of shortcut keys that are associated with a specified command.  \n  \n```  \nvirtual CString GetCommandKeys(UINT uiCmdID) const;\n\n \n```  \n  \n### Parameters  \n [in] `uiCmdID`  \n A command ID.  \n  \n### Return Value  \n A semicolon-delimited (';') list of shortcut keys that is associated with the specified command.  \n  \n### Remarks  \n  \n##  <a name=\"cmfckeymapdialog__oninsertitem\"></a>  CMFCKeyMapDialog::OnInsertItem  \n Called by the framework before a new item is inserted into an internal list control that supports the keyboard mapping control.  \n  \n```  \nvirtual void OnInsertItem(\n    CMFCToolBarButton* pButton,  \n    int nItem);\n```  \n  \n### Parameters  \n [in] `pButton`  \n A pointer to a toolbar button that is used to map a keyboard key combination to a command name and description. The key map item is stored in an internal list control.  \n  \n [in] `nItem`  \n A zero-based index that specifies where to insert the new key map item in the internal list control.  \n  \n### Remarks  \n  \n##  <a name=\"cmfckeymapdialog__onprintheader\"></a>  CMFCKeyMapDialog::OnPrintHeader  \n Called by the framework to print the header for the keyboard map on a new page.  \n  \n```  \nvirtual int OnPrintHeader(\n    CDC& dc,  \n    int nPage,  \n    int cx) const;\n\n \n```  \n  \n### Parameters  \n [in] `dc`  \n The device context for the printer.  \n  \n [in] `nPage`  \n The page number to print.  \n  \n [in] `cx`  \n The horizontal offset of the header, in pixels.  \n  \n### Return Value  \n If successful, the height of the printed text. For more information, see the Return Value section of [CDC::DrawText](../../mfc/reference/cdc-class.md#cdc__drawtext).  \n  \n### Remarks  \n The framework uses this method to print the keyboard map. By default, this method prints the page number, application name, and dialog box title.  \n  \n##  <a name=\"cmfckeymapdialog__onprintitem\"></a>  CMFCKeyMapDialog::OnPrintItem  \n Called by the framework to print a keyboard mapping item.  \n  \n```  \nvirtual int OnPrintItem(\n    CDC& dc,  \n    int nItem,  \n    int y,  \n    int cx,  \n    BOOL bCalcHeight) const;\n\n \n```  \n  \n### Parameters  \n [in] `dc`  \n The device context of the printer.  \n  \n [in] `nItem`  \n The zero-based index of the item to print.  \n  \n [in] `y`  \n The vertical offset between the top of the page and the position of the item.  \n  \n [in] `cx`  \n The horizontal offset between the left of the page and the position of the item.  \n  \n [in] `bCalcHeight`  \n `TRUE` to calculate the best height for the print item; `FALSE` to truncate the print item so that it fits the default space.  \n  \n### Return Value  \n The height of the printed item.  \n  \n### Remarks  \n The framework calls this method to print a key map dialog box item. By default, this method prints the item's command name, shortcut keys, and command description.  \n  \n##  <a name=\"cmfckeymapdialog__onsetcolumns\"></a>  CMFCKeyMapDialog::OnSetColumns  \n Called by the framework to set captions for the columns in the internal list control that supports the keyboard mapping control.  \n  \n```  \nvirtual void OnSetColumns();\n```  \n  \n### Remarks  \n By default, this method obtains the captions for the columns from three resources. The command column caption is from IDS_AFXBARRES_COMMAND, the key column caption is from IDS_AFXBARRES_KEYS, and the description column caption is from IDS_AFXBARRES_DESCRIPTION.  \n  \n##  <a name=\"cmfckeymapdialog__printkeymap\"></a>  CMFCKeyMapDialog::PrintKeyMap  \n Called by the framework when a user clicks the **Print** button.  \n  \n```  \nvirtual void PrintKeyMap();\n```  \n  \n### Remarks  \n The `PrintKeyMap` method prints the key map. It initiates a new print job and then repeatedly calls the [CMFCKeyMapDialog::OnPrintHeader](#cmfckeymapdialog__onprintheader) and [CMFCKeyMapDialog::OnPrintItem](#cmfckeymapdialog__onprintitem) methods until all the key mappings are printed.  \n  \n##  <a name=\"cmfckeymapdialog__setcolumnswidth\"></a>  CMFCKeyMapDialog::SetColumnsWidth  \n Called by the framework to set the width of the columns in the internal list control that supports the keyboard mapping control.  \n  \n```  \nvirtual void SetColumnsWidth();\n```  \n  \n### Remarks  \n This method sets the internal list control's columns to default widths. First, the width of the shortcut keys column is calculated. Then one-third of the remaining width is allocated to the command column and the remaining two-thirds is allocated to the description column.  \n  \n## See Also  \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [Classes](../../mfc/reference/mfc-classes.md)   \n [CKeyboardManager Class](../../mfc/reference/ckeyboardmanager-class.md)\n"}