{"nodes":[{"pos":[12,60],"content":"_ungetc_nolock, _ungetwc_nolock | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_ungetc_nolock, _ungetwc_nolock | Microsoft Docs","pos":[0,48]}]},{"content":"_ungetc_nolock, _ungetwc_nolock","pos":[1250,1281]},{"content":"Pushes a character back onto the stream.","pos":[1282,1322]},{"content":"Syntax","pos":[1331,1337]},{"content":"Parameters","pos":[1486,1496]},{"content":"Character to be pushed.","pos":[1507,1530]},{"content":"Pointer to <ph id=\"ph1\">`FILE`</ph> structure.","pos":[1549,1577],"source":" Pointer to `FILE` structure."},{"content":"Return Value","pos":[1586,1598]},{"content":"If successful, each of these functions returns the character argument <ph id=\"ph1\">`c`</ph><bpt id=\"p1\">*</bpt>.<ept id=\"p1\">*</ept>","pos":[1602,1678],"source":"If successful, each of these functions returns the character argument `c`*.*"},{"content":"If <ph id=\"ph1\">`c`</ph> cannot be pushed back or if no character has been read, the input stream is unchanged and <ph id=\"ph2\">`_ungetc_nolock`</ph> returns <ph id=\"ph3\">`EOF`</ph>; <ph id=\"ph4\">`_ungetwc_nolock`</ph> returns <ph id=\"ph5\">`WEOF`</ph>.","pos":[1679,1841],"source":" If `c` cannot be pushed back or if no character has been read, the input stream is unchanged and `_ungetc_nolock` returns `EOF`; `_ungetwc_nolock` returns `WEOF`."},{"content":"If <ph id=\"ph1\">`stream`</ph> is <ph id=\"ph2\">`NULL`</ph>, <ph id=\"ph3\">`EOF`</ph> or <ph id=\"ph4\">`WEOF`</ph> is returned and <ph id=\"ph5\">`errno`</ph> is set to <ph id=\"ph6\">`EINVAL`</ph>.","pos":[1842,1924],"source":" If `stream` is `NULL`, `EOF` or `WEOF` is returned and `errno` is set to `EINVAL`."},{"pos":[1931,2099],"content":"For information on these and other error codes, see <bpt id=\"p1\">[</bpt>_doserrno, errno, _sys_errlist, and _sys_nerr<ept id=\"p1\">](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)</ept>.","source":"For information on these and other error codes, see [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)."},{"content":"Remarks","pos":[2108,2115]},{"content":"These functions are non-locking versions of <ph id=\"ph1\">`ungetc`</ph> and <ph id=\"ph2\">`ungetwc`</ph>.","pos":[2119,2186],"source":"These functions are non-locking versions of `ungetc` and `ungetwc`."},{"content":"The versions with the <ph id=\"ph1\">`_nolock`</ph> suffix are identical except that they are not protected from interference by other threads.","pos":[2187,2310],"source":" The versions with the `_nolock` suffix are identical except that they are not protected from interference by other threads."},{"content":"They may be faster since they do not incur the overhead of locking out other threads.","pos":[2311,2396]},{"content":"Use these functions only in thread-safe contexts such as single-threaded applications or where the calling scope already handles thread isolation.","pos":[2397,2543]},{"content":"Generic-Text Routine Mappings","pos":[2553,2582]},{"content":"TCHAR.H routine","pos":[2589,2604]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[2605,2633],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[2634,2647]},{"content":"_UNICODE defined","pos":[2648,2664]},{"content":"Requirements","pos":[2856,2868]},{"content":"Routine","pos":[2875,2882]},{"content":"Required header","pos":[2883,2898]},{"content":"stdio.h&gt;","pos":[2962,2970],"source":"stdio.h>"},{"content":"stdio.h&gt; or <ph id=\"ph1\">\\&lt;</ph>wchar.h&gt;","pos":[2995,3017],"source":"stdio.h> or \\<wchar.h>"},{"pos":[3025,3149],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":".NET Framework Equivalent","pos":[3158,3183]},{"content":"Not applicable.","pos":[3187,3202]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[3203,3250],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[3251,3376],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"content":"See Also","pos":[3385,3393]},{"content":"Stream I/O","pos":[3398,3408]},{"content":"getc, getwc","pos":[3454,3465]},{"content":"putc, putwc","pos":[3521,3532]}],"content":"---\ntitle: \"_ungetc_nolock, _ungetwc_nolock | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_ungetwc_nolock\"\n  - \"_ungetc_nolock\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-stdio-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_ungettc_nolock\"\n  - \"ungetwc_nolock\"\n  - \"ungetc_nolock\"\n  - \"_ungetc_nolock\"\n  - \"_ungetwc_nolock\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"_ungettc_nolock function\"\n  - \"_ungetwc_nolock function\"\n  - \"characters, pushing back onto stream\"\n  - \"_ungetc_nolock function\"\n  - \"ungetwc_nolock function\"\n  - \"ungettc_nolock function\"\n  - \"ungetc_nolock function\"\nms.assetid: aa02d5c2-1be1-46d2-a8c4-b61269e9d465\ncaps.latest.revision: 9\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _ungetc_nolock, _ungetwc_nolock\nPushes a character back onto the stream.  \n  \n## Syntax  \n  \n```  \nint _ungetc_nolock(  \n   int c,  \n   FILE *stream   \n);  \nwint_t _ungetwc_nolock(  \n   wint_t c,  \n   FILE *stream   \n);  \n```  \n  \n#### Parameters  \n `c`  \n Character to be pushed.  \n  \n `stream`  \n Pointer to `FILE` structure.  \n  \n## Return Value  \n If successful, each of these functions returns the character argument `c`*.* If `c` cannot be pushed back or if no character has been read, the input stream is unchanged and `_ungetc_nolock` returns `EOF`; `_ungetwc_nolock` returns `WEOF`. If `stream` is `NULL`, `EOF` or `WEOF` is returned and `errno` is set to `EINVAL`.  \n  \n For information on these and other error codes, see [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md).  \n  \n## Remarks  \n These functions are non-locking versions of `ungetc` and `ungetwc`. The versions with the `_nolock` suffix are identical except that they are not protected from interference by other threads. They may be faster since they do not incur the overhead of locking out other threads. Use these functions only in thread-safe contexts such as single-threaded applications or where the calling scope already handles thread isolation.  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_ungettc_nolock`|`_ungetc_nolock`|`_ungetc_nolock`|`_ungetwc_nolock`|  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_ungetc_nolock`|\\<stdio.h>|  \n|`_ungetwc_nolock`|\\<stdio.h> or \\<wchar.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [Stream I/O](../../c-runtime-library/stream-i-o.md)   \n [getc, getwc](../../c-runtime-library/reference/getc-getwc.md)   \n [putc, putwc](../../c-runtime-library/reference/putc-putwc.md)"}