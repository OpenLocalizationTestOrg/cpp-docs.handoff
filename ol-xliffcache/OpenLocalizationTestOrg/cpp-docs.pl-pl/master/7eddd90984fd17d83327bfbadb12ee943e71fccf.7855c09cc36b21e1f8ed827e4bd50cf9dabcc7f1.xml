{"nodes":[{"pos":[12,49],"content":"Compiler Error C3145 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Error C3145 | Microsoft Docs","pos":[0,37]}]},{"pos":[598,618],"content":"Compiler Error C3145","linkify":"Compiler Error C3145","nodes":[{"content":"Compiler Error C3145","pos":[0,20]}]},{"content":"'object' : global or static variable may not have managed or WinRT type 'type'","pos":[619,697]},{"content":"You can only define CLR or WinRT objects within function scope.","pos":[704,767]},{"content":"The following sample generates C3145 and shows how to fix it:","pos":[774,835]},{"content":"The following sample generates C3145:","pos":[1194,1231]}],"content":"---\ntitle: \"Compiler Error C3145 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"C3145\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C3145\"\nms.assetid: f165c874-0f51-45c7-85e8-ebe321cbc168\ncaps.latest.revision: 13\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Compiler Error C3145\n'object' : global or static variable may not have managed or WinRT type 'type'  \n  \n You can only define CLR or WinRT objects within function scope.  \n  \n The following sample generates C3145 and shows how to fix it:  \n  \n```  \n// C3145.cpp  \n// compile with: /clr  \nusing namespace System;   \nref class G {};   \n  \nG ^ ptr;   // C3145  \nG ^ ptr2 = gcnew G;   // C3145  \n  \nref class GlobalObjects {  \npublic:  \n   static G ^ ptr;   // OK  \n   static G ^ ptr2 = gcnew G;   // OK   \n};   \n  \nint main() {  \n   G ^ ptr;   // OK  \n   G ^ ptr2 = gcnew G;   // OK  \n}  \n```  \n  \n The following sample generates C3145:  \n  \n```  \n// C3145b.cpp  \n// compile with: /clr  \nref class MyClass {  \npublic:  \n   static int data;  \n};  \n  \ninterior_ptr<int> p = &(MyClass::data);   // C3145  \n  \nvoid Test(interior_ptr<int> x) {}  \n  \nint main() {  \n   MyClass ^ h_MyClass = gcnew MyClass;  \n   interior_ptr<int> p = &(h_MyClass->data);  \n}  \n```  \n"}