{"nodes":[{"pos":[12,73],"content":"How to: Use Build Events in MSBuild Projects | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Use Build Events in MSBuild Projects | Microsoft Docs","pos":[0,61]}]},{"content":"How to: Use Build Events in MSBuild Projects","pos":[686,730]},{"content":"A build event is a command that <ph id=\"ph1\">[!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)]</ph> performs at a particular stage in the build process.","pos":[731,878],"source":"A build event is a command that [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] performs at a particular stage in the build process."},{"content":"The <bpt id=\"p1\">*</bpt>pre-build<ept id=\"p1\">*</ept> event occurs before the build starts; the <bpt id=\"p2\">*</bpt>pre-link<ept id=\"p2\">*</ept> event occurs before the link step starts; and the <bpt id=\"p3\">*</bpt>post-build<ept id=\"p3\">*</ept> event occurs after the build successfully ends.","pos":[879,1058],"source":" The *pre-build* event occurs before the build starts; the *pre-link* event occurs before the link step starts; and the *post-build* event occurs after the build successfully ends."},{"content":"A build event occurs only if the associated build step occurs.","pos":[1059,1121]},{"content":"For example, the pre-link event does not occur if the link step does not run.","pos":[1122,1199]},{"content":"Each of the three build events is represented in an item definition group by a command element (<ph id=\"ph1\">`&lt;Command&gt;`</ph>) that is executed and a message element (<ph id=\"ph2\">`&lt;Message&gt;`</ph>) that is displayed when <bpt id=\"p1\">**</bpt>MSBuild<ept id=\"p1\">**</ept> performs the build event.","pos":[1206,1428],"source":"Each of the three build events is represented in an item definition group by a command element (`<Command>`) that is executed and a message element (`<Message>`) that is displayed when **MSBuild** performs the build event."},{"content":"Each element is optional, and if you specify the same element multiple times, the last occurrence takes precedence.","pos":[1429,1544]},{"content":"An optional <bpt id=\"p1\">*</bpt>use-in-build<ept id=\"p1\">*</ept> element (<ph id=\"ph1\">`&lt;`</ph><bpt id=\"p2\">*</bpt>build-event<ept id=\"p2\">*</ept><bpt id=\"p3\">**</bpt>UseInBuild<ept id=\"p3\">**</ept><ph id=\"ph2\">`&gt;`</ph>) can be specified in a property group to indicate whether the build event is executed.","pos":[1551,1707],"source":"An optional *use-in-build* element (`<`*build-event***UseInBuild**`>`) can be specified in a property group to indicate whether the build event is executed."},{"content":"The value of the content of a <bpt id=\"p1\">*</bpt>use-in-build<ept id=\"p1\">*</ept> element is either <ph id=\"ph1\">`true`</ph> or <ph id=\"ph2\">`false`</ph>.","pos":[1708,1789],"source":" The value of the content of a *use-in-build* element is either `true` or `false`."},{"content":"By default, a build event is executed unless its corresponding <bpt id=\"p1\">*</bpt>use-in-build<ept id=\"p1\">*</ept> element is set to <ph id=\"ph1\">`false`</ph>.","pos":[1790,1894],"source":" By default, a build event is executed unless its corresponding *use-in-build* element is set to `false`."},{"content":"The following table lists each build event XML element:","pos":[1901,1956]},{"content":"XML Element","pos":[1963,1974]},{"content":"Description","pos":[1975,1986]},{"content":"This event executes before the build begins.","pos":[2047,2091]},{"content":"This event executes before the link step begins.","pos":[2111,2159]},{"content":"This event executes after the build finishes.","pos":[2181,2226]},{"pos":[2234,2288],"content":"The following table lists each <bpt id=\"p1\">*</bpt>use-in-build<ept id=\"p1\">*</ept> element:","source":"The following table lists each *use-in-build* element:"},{"content":"XML Element","pos":[2295,2306]},{"content":"Description","pos":[2307,2318]},{"pos":[2389,2440],"content":"Specifies whether to execute the <bpt id=\"p1\">*</bpt>pre-build<ept id=\"p1\">*</ept> event.","source":"Specifies whether to execute the *pre-build* event."},{"pos":[2470,2520],"content":"Specifies whether to execute the <bpt id=\"p1\">*</bpt>pre-link<ept id=\"p1\">*</ept> event.","source":"Specifies whether to execute the *pre-link* event."},{"pos":[2552,2604],"content":"Specifies whether to execute the <bpt id=\"p1\">*</bpt>post-build<ept id=\"p1\">*</ept> event.","source":"Specifies whether to execute the *post-build* event."},{"content":"Example","pos":[2614,2621]},{"content":"The following example can be added inside of the Project element of the myproject.vcxproj file created in <bpt id=\"p1\">[</bpt>Walkthrough: Using MSBuild to Create a Visual C++ Project<ept id=\"p1\">](../build/walkthrough-using-msbuild-to-create-a-visual-cpp-project.md)</ept>.","pos":[2625,2861],"source":"The following example can be added inside of the Project element of the myproject.vcxproj file created in [Walkthrough: Using MSBuild to Create a Visual C++ Project](../build/walkthrough-using-msbuild-to-create-a-visual-cpp-project.md)."},{"content":"A <bpt id=\"p1\">*</bpt>pre-build<ept id=\"p1\">*</ept> event makes a copy of main.cpp; a <bpt id=\"p2\">*</bpt>pre-link<ept id=\"p2\">*</ept> event makes a copy of main.obj; and a <bpt id=\"p3\">*</bpt>post-build<ept id=\"p3\">*</ept> event makes a copy of myproject.exe.","pos":[2862,3008],"source":" A *pre-build* event makes a copy of main.cpp; a *pre-link* event makes a copy of main.obj; and a *post-build* event makes a copy of myproject.exe."},{"content":"If the project is built using a release configuration, the build events are executed.","pos":[3009,3094]},{"content":"If the project is built using a debug configuration, the build events are not executed.","pos":[3095,3182]},{"content":"See Also","pos":[4414,4422]},{"content":"MSBuild (Visual C++)","pos":[4427,4447]},{"content":"Walkthrough: Using MSBuild to Create a Visual C++ Project","pos":[4486,4543]}],"content":"---\ntitle: \"How to: Use Build Events in MSBuild Projects | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"msbuild.cpp.howto.usebuildevents\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"msbuild (c++), howto: use build events in projects\"\nms.assetid: 2a58dc9d-3d50-4e49-97c1-86c5a05ce218\ncaps.latest.revision: 23\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# How to: Use Build Events in MSBuild Projects\nA build event is a command that [!INCLUDE[vstecmsbuild](../build/includes/vstecmsbuild_md.md)] performs at a particular stage in the build process. The *pre-build* event occurs before the build starts; the *pre-link* event occurs before the link step starts; and the *post-build* event occurs after the build successfully ends. A build event occurs only if the associated build step occurs. For example, the pre-link event does not occur if the link step does not run.  \n  \n Each of the three build events is represented in an item definition group by a command element (`<Command>`) that is executed and a message element (`<Message>`) that is displayed when **MSBuild** performs the build event. Each element is optional, and if you specify the same element multiple times, the last occurrence takes precedence.  \n  \n An optional *use-in-build* element (`<`*build-event***UseInBuild**`>`) can be specified in a property group to indicate whether the build event is executed. The value of the content of a *use-in-build* element is either `true` or `false`. By default, a build event is executed unless its corresponding *use-in-build* element is set to `false`.  \n  \n The following table lists each build event XML element:  \n  \n|XML Element|Description|  \n|-----------------|-----------------|  \n|`PreBuildEvent`|This event executes before the build begins.|  \n|`PreLinkEvent`|This event executes before the link step begins.|  \n|`PostBuildEvent`|This event executes after the build finishes.|  \n  \n The following table lists each *use-in-build* element:  \n  \n|XML Element|Description|  \n|-----------------|-----------------|  \n|`PreBuildEventUseInBuild`|Specifies whether to execute the *pre-build* event.|  \n|`PreLinkEventUseInBuild`|Specifies whether to execute the *pre-link* event.|  \n|`PostBuildEventUseInBuild`|Specifies whether to execute the *post-build* event.|  \n  \n## Example  \n The following example can be added inside of the Project element of the myproject.vcxproj file created in [Walkthrough: Using MSBuild to Create a Visual C++ Project](../build/walkthrough-using-msbuild-to-create-a-visual-cpp-project.md). A *pre-build* event makes a copy of main.cpp; a *pre-link* event makes a copy of main.obj; and a *post-build* event makes a copy of myproject.exe. If the project is built using a release configuration, the build events are executed. If the project is built using a debug configuration, the build events are not executed.  \n  \n```  \n<ItemDefinitionGroup>  \n  <PreBuildEvent>  \n    <Command>copy $(ProjectDir)main.cpp $(ProjectDir)copyOfMain.cpp</Command>  \n    <Message>Making a copy of main.cpp </Message>  \n  </PreBuildEvent>  \n  <PreLinkEvent>  \n <Command>copy $(ProjectDir)$(Configuration)\\main.obj $(ProjectDir)$(Configuration)\\copyOfMain.obj</Command>  \n    <Message>Making a copy of main.obj</Message>  \n  </PreLinkEvent>  \n  <PostBuildEvent>  \n <Command>copy $(ProjectDir)$(Configuration)\\$(TargetFileName) $(ProjectDir)$(Configuration)\\copyOfMyproject.exe</Command>  \n    <Message>Making a copy of myproject.exe</Message>  \n  </PostBuildEvent>  \n</ItemDefinitionGroup>  \n  \n<PropertyGroup Condition=\"'$(Configuration)|$(Platform)'=='Release|Win32'\">  \n  <PreBuildEventUseInBuild>true</PreBuildEventUseInBuild>  \n  <PreLinkEventUseInBuild>true</PreLinkEventUseInBuild>  \n  <PostBuildEventUseInBuild>true</PostBuildEventUseInBuild>  \n</PropertyGroup>  \n  \n<PropertyGroup Condition=\"'$(Configuration)|$(Platform)'=='Debug|Win32'\">  \n  <PreBuildEventUseInBuild>false</PreBuildEventUseInBuild>  \n  <PreLinkEventUseInBuild>false</PreLinkEventUseInBuild>  \n  <PostBuildEventUseInBuild>false</PostBuildEventUseInBuild>  \n</PropertyGroup>  \n```  \n  \n## See Also  \n [MSBuild (Visual C++)](../build/msbuild-visual-cpp.md)   \n [Walkthrough: Using MSBuild to Create a Visual C++ Project](../build/walkthrough-using-msbuild-to-create-a-visual-cpp-project.md)"}