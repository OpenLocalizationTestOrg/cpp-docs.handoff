{"nodes":[{"pos":[0,103],"content":"The     <ph id=\"ph1\">`task_group`</ph> class represents a collection of parallel work which can be waited on or canceled.","source":"The     `task_group` class represents a collection of parallel work which can be waited on or canceled."},{"pos":[112,118],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[162,169],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[179,198],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[205,209]},{"content":"Description","pos":[210,221]},{"pos":[259,302],"content":"<bpt id=\"p1\">[</bpt>task_group::task_group Constructor<ept id=\"p1\">](#ctor)</ept>","source":"[task_group::task_group Constructor](#ctor)"},{"content":"Overloaded.","pos":[303,314]},{"content":"Constructs a new <ph id=\"ph1\">`task_group`</ph> object.","pos":[315,352],"source":" Constructs a new `task_group` object."},{"pos":[357,400],"content":"<bpt id=\"p1\">[</bpt>task_group::~task_group Destructor<ept id=\"p1\">](#dtor)</ept>","source":"[task_group::~task_group Destructor](#dtor)"},{"content":"Destroys a <ph id=\"ph1\">`task_group`</ph> object.","pos":[401,432],"source":"Destroys a `task_group` object."},{"content":"You are expected to call the either the <ph id=\"ph1\">`wait`</ph> or <ph id=\"ph2\">`run_and_wait`</ph> method on the object prior to the destructor executing, unless the destructor is executing as the result of stack unwinding due to an exception.","pos":[433,642],"source":" You are expected to call the either the `wait` or `run_and_wait` method on the object prior to the destructor executing, unless the destructor is executing as the result of stack unwinding due to an exception."},{"pos":[653,667],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[674,678]},{"content":"Description","pos":[679,690]},{"pos":[728,764],"content":"<bpt id=\"p1\">[</bpt>task_group::cancel Method<ept id=\"p1\">](#cancel)</ept>","source":"[task_group::cancel Method](#cancel)"},{"content":"Makes a best effort attempt to cancel the sub-tree of work rooted at this task group.","pos":[765,850]},{"content":"Every task scheduled on the task group will get canceled transitively if possible.","pos":[851,933]},{"pos":[938,986],"content":"<bpt id=\"p1\">[</bpt>task_group::is_canceling Method<ept id=\"p1\">](#is_canceling)</ept>","source":"[task_group::is_canceling Method](#is_canceling)"},{"content":"Informs the caller whether or not the task group is currently in the midst of a cancellation.","pos":[987,1080]},{"content":"This does not necessarily indicate that the <ph id=\"ph1\">`cancel`</ph> method was called on the <ph id=\"ph2\">`task_group`</ph> object (although such certainly qualifies this method to return <ph id=\"ph3\">`true`</ph>).","pos":[1081,1244],"source":" This does not necessarily indicate that the `cancel` method was called on the `task_group` object (although such certainly qualifies this method to return `true`)."},{"content":"It may be the case that the <ph id=\"ph1\">`task_group`</ph> object is executing inline and a task group further up in the work tree was canceled.","pos":[1245,1371],"source":" It may be the case that the `task_group` object is executing inline and a task group further up in the work tree was canceled."},{"content":"In cases such as these where the runtime can determine ahead of time that cancellation will flow through this <ph id=\"ph1\">`task_group`</ph> object, <ph id=\"ph2\">`true`</ph> will be returned as well.","pos":[1372,1535],"source":" In cases such as these where the runtime can determine ahead of time that cancellation will flow through this `task_group` object, `true` will be returned as well."},{"pos":[1540,1570],"content":"<bpt id=\"p1\">[</bpt>task_group::run Method<ept id=\"p1\">](#run)</ept>","source":"[task_group::run Method](#run)"},{"content":"Overloaded.","pos":[1571,1582]},{"content":"Schedules a task on the <ph id=\"ph1\">`task_group`</ph> object.","pos":[1583,1627],"source":" Schedules a task on the `task_group` object."},{"content":"If a <ph id=\"ph1\">`task_handle`</ph> object is passed as a parameter to <ph id=\"ph2\">`run`</ph>, the caller is responsible for managing the lifetime of the <ph id=\"ph3\">`task_handle`</ph> object.","pos":[1628,1769],"source":" If a `task_handle` object is passed as a parameter to `run`, the caller is responsible for managing the lifetime of the `task_handle` object."},{"content":"The version of the method that takes a reference to a function object as a parameter involves heap allocation inside the runtime which may be perform less well than using the version that takes a reference to a <ph id=\"ph1\">`task_handle`</ph> object.","pos":[1770,2002],"source":" The version of the method that takes a reference to a function object as a parameter involves heap allocation inside the runtime which may be perform less well than using the version that takes a reference to a `task_handle` object."},{"content":"The version which takes the parameter <ph id=\"ph1\">`_Placement`</ph> causes the task to be biased towards executing at the location specified by that parameter.","pos":[2003,2145],"source":" The version which takes the parameter `_Placement` causes the task to be biased towards executing at the location specified by that parameter."},{"pos":[2150,2198],"content":"<bpt id=\"p1\">[</bpt>task_group::run_and_wait Method<ept id=\"p1\">](#run_and_wait)</ept>","source":"[task_group::run_and_wait Method](#run_and_wait)"},{"content":"Overloaded.","pos":[2199,2210]},{"content":"Schedules a task to be run inline on the calling context with the assistance of the <ph id=\"ph1\">`task_group`</ph> object for full cancellation support.","pos":[2211,2345],"source":" Schedules a task to be run inline on the calling context with the assistance of the `task_group` object for full cancellation support."},{"content":"The function then waits until all work on the <ph id=\"ph1\">`task_group`</ph> object has either completed or been canceled.","pos":[2346,2450],"source":" The function then waits until all work on the `task_group` object has either completed or been canceled."},{"content":"If a <ph id=\"ph1\">`task_handle`</ph> object is passed as a parameter to <ph id=\"ph2\">`run_and_wait`</ph>, the caller is responsible for managing the lifetime of the <ph id=\"ph3\">`task_handle`</ph> object.","pos":[2451,2601],"source":" If a `task_handle` object is passed as a parameter to `run_and_wait`, the caller is responsible for managing the lifetime of the `task_handle` object."},{"pos":[2606,2638],"content":"<bpt id=\"p1\">[</bpt>task_group::wait Method<ept id=\"p1\">](#wait)</ept>","source":"[task_group::wait Method](#wait)"},{"pos":[2639,2725],"content":"Waits until all work on the <ph id=\"ph1\">`task_group`</ph> object has either completed or been canceled.","source":"Waits until all work on the `task_group` object has either completed or been canceled."},{"pos":[2735,2742],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Unlike the heavily restricted <ph id=\"ph1\">`structured_task_group`</ph> class, the <ph id=\"ph2\">`task_group`</ph> class is much more general construct.","pos":[2746,2861],"source":"Unlike the heavily restricted `structured_task_group` class, the `task_group` class is much more general construct."},{"content":"It does not have any of the restrictions described by <bpt id=\"p1\">[</bpt>structured_task_group<ept id=\"p1\">](structured-task-group-class.md)</ept>.","pos":[2862,2972],"source":" It does not have any of the restrictions described by [structured_task_group](structured-task-group-class.md)."},{"content":"<ph id=\"ph1\">`task_group`</ph> objects may safely be used across threads and utilized in free-form ways.","pos":[2973,3059],"source":"`task_group` objects may safely be used across threads and utilized in free-form ways."},{"content":"The disadvantage of the <ph id=\"ph1\">`task_group`</ph> construct is that it may not perform as well as the <ph id=\"ph2\">`structured_task_group`</ph> construct for tasks which perform small amounts of work.","pos":[3060,3229],"source":" The disadvantage of the `task_group` construct is that it may not perform as well as the `structured_task_group` construct for tasks which perform small amounts of work."},{"pos":[3236,3325],"content":"For more information, see <bpt id=\"p1\">[</bpt>Task Parallelism<ept id=\"p1\">](../task-parallelism-concurrency-runtime.md)</ept>.","source":"For more information, see [Task Parallelism](../task-parallelism-concurrency-runtime.md)."},{"pos":[3334,3355],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[3380,3392],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3396,3413],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> ppl.h","source":"**Header:** ppl.h"},{"pos":[3420,3446],"content":"<bpt id=\"p1\">**</bpt>Namespace:<ept id=\"p1\">**</ept> concurrency","source":"**Namespace:** concurrency"},{"pos":[3456,3504],"content":"<bpt id=\"p1\">&lt;a name=\"cancel\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_group::cancel Method","linkify":"<a name=\"cancel\"></a>  task_group::cancel Method","source":"<a name=\"cancel\"></a>  task_group::cancel Method"},{"content":"Makes a best effort attempt to cancel the sub-tree of work rooted at this task group.","pos":[3508,3593]},{"content":"Every task scheduled on the task group will get canceled transitively if possible.","pos":[3594,3676]},{"pos":[3718,3725],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[3729,3801],"content":"For more information, see <bpt id=\"p1\">[</bpt>Cancellation<ept id=\"p1\">](../cancellation-in-the-ppl.md)</ept>.","source":"For more information, see [Cancellation](../cancellation-in-the-ppl.md)."},{"pos":[3811,3871],"content":"<bpt id=\"p1\">&lt;a name=\"is_canceling\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_group::is_canceling Method","linkify":"<a name=\"is_canceling\"></a>  task_group::is_canceling Method","source":"<a name=\"is_canceling\"></a>  task_group::is_canceling Method"},{"content":"Informs the caller whether or not the task group is currently in the midst of a cancellation.","pos":[3875,3968]},{"content":"This does not necessarily indicate that the <ph id=\"ph1\">`cancel`</ph> method was called on the <ph id=\"ph2\">`task_group`</ph> object (although such certainly qualifies this method to return <ph id=\"ph3\">`true`</ph>).","pos":[3969,4132],"source":" This does not necessarily indicate that the `cancel` method was called on the `task_group` object (although such certainly qualifies this method to return `true`)."},{"content":"It may be the case that the <ph id=\"ph1\">`task_group`</ph> object is executing inline and a task group further up in the work tree was canceled.","pos":[4133,4259],"source":" It may be the case that the `task_group` object is executing inline and a task group further up in the work tree was canceled."},{"content":"In cases such as these where the runtime can determine ahead of time that cancellation will flow through this <ph id=\"ph1\">`task_group`</ph> object, <ph id=\"ph2\">`true`</ph> will be returned as well.","pos":[4260,4423],"source":" In cases such as these where the runtime can determine ahead of time that cancellation will flow through this `task_group` object, `true` will be returned as well."},{"pos":[4471,4483],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[4487,4603],"content":"An indication of whether the <ph id=\"ph1\">`task_group`</ph> object is in the midst of a cancellation (or is guaranteed to be shortly).","source":"An indication of whether the `task_group` object is in the midst of a cancellation (or is guaranteed to be shortly)."},{"pos":[4613,4620],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[4624,4696],"content":"For more information, see <bpt id=\"p1\">[</bpt>Cancellation<ept id=\"p1\">](../cancellation-in-the-ppl.md)</ept>.","source":"For more information, see [Cancellation](../cancellation-in-the-ppl.md)."},{"pos":[4706,4748],"content":"<bpt id=\"p1\">&lt;a name=\"run\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_group::run Method","linkify":"<a name=\"run\"></a>  task_group::run Method","source":"<a name=\"run\"></a>  task_group::run Method"},{"content":"Schedules a task on the <ph id=\"ph1\">`task_group`</ph> object.","pos":[4752,4796],"source":"Schedules a task on the `task_group` object."},{"content":"If a <ph id=\"ph1\">`task_handle`</ph> object is passed as a parameter to <ph id=\"ph2\">`run`</ph>, the caller is responsible for managing the lifetime of the <ph id=\"ph3\">`task_handle`</ph> object.","pos":[4797,4938],"source":" If a `task_handle` object is passed as a parameter to `run`, the caller is responsible for managing the lifetime of the `task_handle` object."},{"content":"The version of the method that takes a reference to a function object as a parameter involves heap allocation inside the runtime which may be perform less well than using the version that takes a reference to a <ph id=\"ph1\">`task_handle`</ph> object.","pos":[4939,5171],"source":" The version of the method that takes a reference to a function object as a parameter involves heap allocation inside the runtime which may be perform less well than using the version that takes a reference to a `task_handle` object."},{"content":"The version which takes the parameter <ph id=\"ph1\">`_Placement`</ph> causes the task to be biased towards executing at the location specified by that parameter.","pos":[5172,5314],"source":" The version which takes the parameter `_Placement` causes the task to be biased towards executing at the location specified by that parameter."},{"pos":[5770,5780],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The type of the function object that will be invoked to execute the body of the task handle.","pos":[5799,5891]},{"content":"A function which will be called to invoke the body of the task.","pos":[5909,5972]},{"content":"This may be a lambda expression or other object which supports a version of the function call operator with the signature <ph id=\"ph1\">`void operator()()`</ph>.","pos":[5973,6115],"source":" This may be a lambda expression or other object which supports a version of the function call operator with the signature `void operator()()`."},{"content":"A reference to the location where the task represented by the <ph id=\"ph1\">`_Func`</ph> parameter should execute.","pos":[6138,6233],"source":" A reference to the location where the task represented by the `_Func` parameter should execute."},{"content":"A handle to the work being scheduled.","pos":[6258,6295]},{"content":"Note that the caller has responsibility for the lifetime of this object.","pos":[6296,6368]},{"content":"The runtime will continue to expect it to live until either the <ph id=\"ph1\">`wait`</ph> or <ph id=\"ph2\">`run_and_wait`</ph> method has been called on this <ph id=\"ph3\">`task_group`</ph> object.","pos":[6369,6509],"source":" The runtime will continue to expect it to live until either the `wait` or `run_and_wait` method has been called on this `task_group` object."},{"pos":[6519,6526],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The runtime schedules the provided work function to run at a later time, which can be after the calling function returns.","pos":[6530,6651]},{"content":"This method uses a <bpt id=\"p1\">[</bpt>task_handle<ept id=\"p1\">](task-handle-class.md)</ept> object to hold a copy of the provided work function.","pos":[6652,6759],"source":" This method uses a [task_handle](task-handle-class.md) object to hold a copy of the provided work function."},{"content":"Therefore, any state changes that occur in a function object that you pass to this method will not appear in your copy of that function object.","pos":[6760,6903]},{"content":"In addition, make sure that the lifetime of any objects that you pass by pointer or by reference to the work function remain valid until the work function returns.","pos":[6904,7067]},{"content":"If the <ph id=\"ph1\">`task_group`</ph> destructs as the result of stack unwinding from an exception, you do not need to guarantee that a call has been made to either the <ph id=\"ph2\">`wait`</ph> or <ph id=\"ph3\">`run_and_wait`</ph> method.","pos":[7074,7257],"source":"If the `task_group` destructs as the result of stack unwinding from an exception, you do not need to guarantee that a call has been made to either the `wait` or `run_and_wait` method."},{"content":"In this case, the destructor will appropriately cancel and wait for the task represented by the <ph id=\"ph1\">`_Task_handle`</ph> parameter to complete.","pos":[7258,7391],"source":" In this case, the destructor will appropriately cancel and wait for the task represented by the `_Task_handle` parameter to complete."},{"pos":[7398,7731],"content":"The method throws an <bpt id=\"p1\">[</bpt>invalid_multiple_scheduling<ept id=\"p1\">](invalid-multiple-scheduling-class.md)</ept> exception if the task handle given by the <ph id=\"ph1\">`_Task_handle`</ph> parameter has already been scheduled onto a task group object via the <ph id=\"ph2\">`run`</ph> method and there has been no intervening call to either the <ph id=\"ph3\">`wait`</ph> or <ph id=\"ph4\">`run_and_wait`</ph> method on that task group.","source":"The method throws an [invalid_multiple_scheduling](invalid-multiple-scheduling-class.md) exception if the task handle given by the `_Task_handle` parameter has already been scheduled onto a task group object via the `run` method and there has been no intervening call to either the `wait` or `run_and_wait` method on that task group."},{"pos":[7741,7801],"content":"<bpt id=\"p1\">&lt;a name=\"run_and_wait\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_group::run_and_wait Method","linkify":"<a name=\"run_and_wait\"></a>  task_group::run_and_wait Method","source":"<a name=\"run_and_wait\"></a>  task_group::run_and_wait Method"},{"content":"Schedules a task to be run inline on the calling context with the assistance of the <ph id=\"ph1\">`task_group`</ph> object for full cancellation support.","pos":[7805,7939],"source":"Schedules a task to be run inline on the calling context with the assistance of the `task_group` object for full cancellation support."},{"content":"The function then waits until all work on the <ph id=\"ph1\">`task_group`</ph> object has either completed or been canceled.","pos":[7940,8044],"source":" The function then waits until all work on the `task_group` object has either completed or been canceled."},{"content":"If a <ph id=\"ph1\">`task_handle`</ph> object is passed as a parameter to <ph id=\"ph2\">`run_and_wait`</ph>, the caller is responsible for managing the lifetime of the <ph id=\"ph3\">`task_handle`</ph> object.","pos":[8045,8195],"source":" If a `task_handle` object is passed as a parameter to `run_and_wait`, the caller is responsible for managing the lifetime of the `task_handle` object."},{"pos":[8445,8455],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The type of the function object that will be invoked to execute the body of the task.","pos":[8474,8559]},{"content":"A handle to the task which will be run inline on the calling context.","pos":[8584,8653]},{"content":"Note that the caller has responsibility for the lifetime of this object.","pos":[8654,8726]},{"content":"The runtime will continue to expect it to live until the <ph id=\"ph1\">`run_and_wait`</ph> method finishes execution.","pos":[8727,8825],"source":" The runtime will continue to expect it to live until the `run_and_wait` method finishes execution."},{"content":"A function which will be called to invoke the body of the work.","pos":[8843,8906]},{"content":"This may be a lambda expression or other object which supports a version of the function call operator with the signature <ph id=\"ph1\">`void operator()()`</ph>.","pos":[8907,9049],"source":" This may be a lambda expression or other object which supports a version of the function call operator with the signature `void operator()()`."},{"pos":[9059,9071],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"An indication of whether the wait was satisfied or the task group was canceled, due to either an explicit cancel operation or an exception being thrown from one of its tasks.","pos":[9075,9249]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>task_group_status<ept id=\"p1\">](concurrency-namespace-enums.md#task_group_status)</ept>.","pos":[9250,9346],"source":" For more information, see [task_group_status](concurrency-namespace-enums.md#task_group_status)."},{"pos":[9357,9364],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[9368,9483],"content":"Note that one or more of the tasks scheduled to this <ph id=\"ph1\">`task_group`</ph> object may execute inline on the calling context.","source":"Note that one or more of the tasks scheduled to this `task_group` object may execute inline on the calling context."},{"pos":[9490,9698],"content":"If one or more of the tasks scheduled to this <ph id=\"ph1\">`task_group`</ph> object throws an exception, the runtime will select one such exception of its choosing and propagate it out of the call to the <ph id=\"ph2\">`run_and_wait`</ph> method.","source":"If one or more of the tasks scheduled to this `task_group` object throws an exception, the runtime will select one such exception of its choosing and propagate it out of the call to the `run_and_wait` method."},{"content":"Upon return from the <ph id=\"ph1\">`run_and_wait`</ph> method on a <ph id=\"ph2\">`task_group`</ph> object, the runtime resets the object to a clean state where it can be reused.","pos":[9705,9844],"source":"Upon return from the `run_and_wait` method on a `task_group` object, the runtime resets the object to a clean state where it can be reused."},{"content":"This includes the case where the <ph id=\"ph1\">`task_group`</ph> object was canceled.","pos":[9845,9911],"source":" This includes the case where the `task_group` object was canceled."},{"pos":[9918,10078],"content":"In the non-exceptional path of execution, you have a mandate to call either this method or the <ph id=\"ph1\">`wait`</ph> method before the destructor of the <ph id=\"ph2\">`task_group`</ph> executes.","source":"In the non-exceptional path of execution, you have a mandate to call either this method or the `wait` method before the destructor of the `task_group` executes."},{"pos":[10088,10143],"content":"<bpt id=\"p1\">&lt;a name=\"ctor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_group::task_group Constructor","linkify":"<a name=\"ctor\"></a>  task_group::task_group Constructor","source":"<a name=\"ctor\"></a>  task_group::task_group Constructor"},{"pos":[10147,10184],"content":"Constructs a new <ph id=\"ph1\">`task_group`</ph> object.","source":"Constructs a new `task_group` object."},{"pos":[10290,10300],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A cancellation token to associate with this task group.","pos":[10328,10383]},{"content":"The task group will be canceled when the token is canceled.","pos":[10384,10443]},{"pos":[10453,10460],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The constructor that takes a cancellation token creates a <ph id=\"ph1\">`task_group`</ph> that will be canceled when the source associated with the token is canceled.","pos":[10464,10611],"source":"The constructor that takes a cancellation token creates a `task_group` that will be canceled when the source associated with the token is canceled."},{"content":"Providing an explicit cancellation token also isolates this task group from participating in an implicit cancellation from a parent group with a different token or no token.","pos":[10612,10785]},{"pos":[10795,10850],"content":"<bpt id=\"p1\">&lt;a name=\"dtor\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_group::~task_group Destructor","linkify":"<a name=\"dtor\"></a>  task_group::~task_group Destructor","source":"<a name=\"dtor\"></a>  task_group::~task_group Destructor"},{"content":"Destroys a <ph id=\"ph1\">`task_group`</ph> object.","pos":[10854,10885],"source":"Destroys a `task_group` object."},{"content":"You are expected to call the either the <ph id=\"ph1\">`wait`</ph> or <ph id=\"ph2\">`run_and_wait`</ph> method on the object prior to the destructor executing, unless the destructor is executing as the result of stack unwinding due to an exception.","pos":[10886,11095],"source":" You are expected to call the either the `wait` or `run_and_wait` method on the object prior to the destructor executing, unless the destructor is executing as the result of stack unwinding due to an exception."},{"pos":[11137,11144],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[11148,11403],"content":"If the destructor runs as the result of normal execution (for example, not stack unwinding due to an exception) and neither the <ph id=\"ph1\">`wait`</ph> nor <ph id=\"ph2\">`run_and_wait`</ph> methods have been called, the destructor may throw a <bpt id=\"p1\">[</bpt>missing_wait<ept id=\"p1\">](missing-wait-class.md)</ept> exception.","source":"If the destructor runs as the result of normal execution (for example, not stack unwinding due to an exception) and neither the `wait` nor `run_and_wait` methods have been called, the destructor may throw a [missing_wait](missing-wait-class.md) exception."},{"pos":[11413,11457],"content":"<bpt id=\"p1\">&lt;a name=\"wait\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  task_group::wait Method","linkify":"<a name=\"wait\"></a>  task_group::wait Method","source":"<a name=\"wait\"></a>  task_group::wait Method"},{"pos":[11461,11547],"content":"Waits until all work on the <ph id=\"ph1\">`task_group`</ph> object has either completed or been canceled.","source":"Waits until all work on the `task_group` object has either completed or been canceled."},{"pos":[11600,11612],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"An indication of whether the wait was satisfied or the task group was canceled, due to either an explicit cancel operation or an exception being thrown from one of its tasks.","pos":[11616,11790]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>task_group_status<ept id=\"p1\">](concurrency-namespace-enums.md#task_group_status)</ept>.","pos":[11791,11887],"source":" For more information, see [task_group_status](concurrency-namespace-enums.md#task_group_status)."},{"pos":[11898,11905],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[11909,12024],"content":"Note that one or more of the tasks scheduled to this <ph id=\"ph1\">`task_group`</ph> object may execute inline on the calling context.","source":"Note that one or more of the tasks scheduled to this `task_group` object may execute inline on the calling context."},{"pos":[12031,12231],"content":"If one or more of the tasks scheduled to this <ph id=\"ph1\">`task_group`</ph> object throws an exception, the runtime will select one such exception of its choosing and propagate it out of the call to the <ph id=\"ph2\">`wait`</ph> method.","source":"If one or more of the tasks scheduled to this `task_group` object throws an exception, the runtime will select one such exception of its choosing and propagate it out of the call to the `wait` method."},{"content":"Calling <ph id=\"ph1\">`wait`</ph> on a <ph id=\"ph2\">`task_group`</ph> object resets it to a clean state where it can be reused.","pos":[12238,12328],"source":"Calling `wait` on a `task_group` object resets it to a clean state where it can be reused."},{"content":"This includes the case where the <ph id=\"ph1\">`task_group`</ph> object was canceled.","pos":[12329,12395],"source":" This includes the case where the `task_group` object was canceled."},{"pos":[12402,12570],"content":"In the non-exceptional path of execution, you have a mandate to call either this method or the <ph id=\"ph1\">`run_and_wait`</ph> method before the destructor of the <ph id=\"ph2\">`task_group`</ph> executes.","source":"In the non-exceptional path of execution, you have a mandate to call either this method or the `run_and_wait` method before the destructor of the `task_group` executes."},{"pos":[12579,12587],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>concurrency Namespace<ept id=\"p1\">](concurrency-namespace.md)</ept><ph id=\"ph1\"> </ph>","pos":[12591,12641],"source":"[concurrency Namespace](concurrency-namespace.md) "},{"content":"<bpt id=\"p1\"> [</bpt>structured_task_group Class<ept id=\"p1\">](structured-task-group-class.md)</ept><ph id=\"ph1\"> </ph>","pos":[12644,12707],"source":" [structured_task_group Class](structured-task-group-class.md) "},{"content":"<bpt id=\"p1\"> [</bpt>task_handle Class<ept id=\"p1\">](task-handle-class.md)</ept>","pos":[12710,12752],"source":" [task_handle Class](task-handle-class.md)"}],"content":"The     `task_group` class represents a collection of parallel work which can be waited on or canceled.  \n  \n## Syntax  \n  \n```  \nclass task_group;  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[task_group::task_group Constructor](#ctor)|Overloaded. Constructs a new `task_group` object.|  \n|[task_group::~task_group Destructor](#dtor)|Destroys a `task_group` object. You are expected to call the either the `wait` or `run_and_wait` method on the object prior to the destructor executing, unless the destructor is executing as the result of stack unwinding due to an exception.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[task_group::cancel Method](#cancel)|Makes a best effort attempt to cancel the sub-tree of work rooted at this task group. Every task scheduled on the task group will get canceled transitively if possible.|  \n|[task_group::is_canceling Method](#is_canceling)|Informs the caller whether or not the task group is currently in the midst of a cancellation. This does not necessarily indicate that the `cancel` method was called on the `task_group` object (although such certainly qualifies this method to return `true`). It may be the case that the `task_group` object is executing inline and a task group further up in the work tree was canceled. In cases such as these where the runtime can determine ahead of time that cancellation will flow through this `task_group` object, `true` will be returned as well.|  \n|[task_group::run Method](#run)|Overloaded. Schedules a task on the `task_group` object. If a `task_handle` object is passed as a parameter to `run`, the caller is responsible for managing the lifetime of the `task_handle` object. The version of the method that takes a reference to a function object as a parameter involves heap allocation inside the runtime which may be perform less well than using the version that takes a reference to a `task_handle` object. The version which takes the parameter `_Placement` causes the task to be biased towards executing at the location specified by that parameter.|  \n|[task_group::run_and_wait Method](#run_and_wait)|Overloaded. Schedules a task to be run inline on the calling context with the assistance of the `task_group` object for full cancellation support. The function then waits until all work on the `task_group` object has either completed or been canceled. If a `task_handle` object is passed as a parameter to `run_and_wait`, the caller is responsible for managing the lifetime of the `task_handle` object.|  \n|[task_group::wait Method](#wait)|Waits until all work on the `task_group` object has either completed or been canceled.|  \n  \n## Remarks  \n Unlike the heavily restricted `structured_task_group` class, the `task_group` class is much more general construct. It does not have any of the restrictions described by [structured_task_group](structured-task-group-class.md). `task_group` objects may safely be used across threads and utilized in free-form ways. The disadvantage of the `task_group` construct is that it may not perform as well as the `structured_task_group` construct for tasks which perform small amounts of work.  \n  \n For more information, see [Task Parallelism](../task-parallelism-concurrency-runtime.md).  \n  \n## Inheritance Hierarchy  \n `task_group`  \n  \n## Requirements  \n **Header:** ppl.h  \n  \n **Namespace:** concurrency  \n  \n##  <a name=\"cancel\"></a>  task_group::cancel Method  \n Makes a best effort attempt to cancel the sub-tree of work rooted at this task group. Every task scheduled on the task group will get canceled transitively if possible.  \n  \n```  \nvoid cancel();  \n```  \n  \n### Remarks  \n For more information, see [Cancellation](../cancellation-in-the-ppl.md).  \n  \n##  <a name=\"is_canceling\"></a>  task_group::is_canceling Method  \n Informs the caller whether or not the task group is currently in the midst of a cancellation. This does not necessarily indicate that the `cancel` method was called on the `task_group` object (although such certainly qualifies this method to return `true`). It may be the case that the `task_group` object is executing inline and a task group further up in the work tree was canceled. In cases such as these where the runtime can determine ahead of time that cancellation will flow through this `task_group` object, `true` will be returned as well.  \n  \n```  \nbool is_canceling();  \n```  \n  \n### Return Value  \n An indication of whether the `task_group` object is in the midst of a cancellation (or is guaranteed to be shortly).  \n  \n### Remarks  \n For more information, see [Cancellation](../cancellation-in-the-ppl.md).  \n  \n##  <a name=\"run\"></a>  task_group::run Method  \n Schedules a task on the `task_group` object. If a `task_handle` object is passed as a parameter to `run`, the caller is responsible for managing the lifetime of the `task_handle` object. The version of the method that takes a reference to a function object as a parameter involves heap allocation inside the runtime which may be perform less well than using the version that takes a reference to a `task_handle` object. The version which takes the parameter `_Placement` causes the task to be biased towards executing at the location specified by that parameter.  \n  \n```  \ntemplate<  \n   typename _Function  \n>  \nvoid run(  \n   const _Function& _Func  \n);  \n  \ntemplate<  \n   typename _Function  \n>  \nvoid run(  \n   const _Function& _Func,  \n   location& _Placement  \n);  \n  \ntemplate<  \n   typename _Function  \n>  \nvoid run(  \n   task_handle<_Function>& _Task_handle  \n);  \n  \ntemplate<  \n   typename _Function  \n>  \nvoid run(  \n   task_handle<_Function>& _Task_handle,  \n   location& _Placement  \n);  \n```  \n  \n### Parameters  \n `_Function`  \n The type of the function object that will be invoked to execute the body of the task handle.  \n  \n `_Func`  \n A function which will be called to invoke the body of the task. This may be a lambda expression or other object which supports a version of the function call operator with the signature `void operator()()`.  \n  \n `_Placement`  \n A reference to the location where the task represented by the `_Func` parameter should execute.  \n  \n `_Task_handle`  \n A handle to the work being scheduled. Note that the caller has responsibility for the lifetime of this object. The runtime will continue to expect it to live until either the `wait` or `run_and_wait` method has been called on this `task_group` object.  \n  \n### Remarks  \n The runtime schedules the provided work function to run at a later time, which can be after the calling function returns. This method uses a [task_handle](task-handle-class.md) object to hold a copy of the provided work function. Therefore, any state changes that occur in a function object that you pass to this method will not appear in your copy of that function object. In addition, make sure that the lifetime of any objects that you pass by pointer or by reference to the work function remain valid until the work function returns.  \n  \n If the `task_group` destructs as the result of stack unwinding from an exception, you do not need to guarantee that a call has been made to either the `wait` or `run_and_wait` method. In this case, the destructor will appropriately cancel and wait for the task represented by the `_Task_handle` parameter to complete.  \n  \n The method throws an [invalid_multiple_scheduling](invalid-multiple-scheduling-class.md) exception if the task handle given by the `_Task_handle` parameter has already been scheduled onto a task group object via the `run` method and there has been no intervening call to either the `wait` or `run_and_wait` method on that task group.  \n  \n##  <a name=\"run_and_wait\"></a>  task_group::run_and_wait Method  \n Schedules a task to be run inline on the calling context with the assistance of the `task_group` object for full cancellation support. The function then waits until all work on the `task_group` object has either completed or been canceled. If a `task_handle` object is passed as a parameter to `run_and_wait`, the caller is responsible for managing the lifetime of the `task_handle` object.  \n  \n```  \ntemplate<  \n   class _Function  \n>  \ntask_group_status run_and_wait(  \n   task_handle<_Function>& _Task_handle  \n);  \n  \ntemplate<  \n   class _Function  \n>  \ntask_group_status run_and_wait(  \n   const _Function& _Func  \n);  \n```  \n  \n### Parameters  \n `_Function`  \n The type of the function object that will be invoked to execute the body of the task.  \n  \n `_Task_handle`  \n A handle to the task which will be run inline on the calling context. Note that the caller has responsibility for the lifetime of this object. The runtime will continue to expect it to live until the `run_and_wait` method finishes execution.  \n  \n `_Func`  \n A function which will be called to invoke the body of the work. This may be a lambda expression or other object which supports a version of the function call operator with the signature `void operator()()`.  \n  \n### Return Value  \n An indication of whether the wait was satisfied or the task group was canceled, due to either an explicit cancel operation or an exception being thrown from one of its tasks. For more information, see [task_group_status](concurrency-namespace-enums.md#task_group_status).  \n\n  \n### Remarks  \n Note that one or more of the tasks scheduled to this `task_group` object may execute inline on the calling context.  \n  \n If one or more of the tasks scheduled to this `task_group` object throws an exception, the runtime will select one such exception of its choosing and propagate it out of the call to the `run_and_wait` method.  \n  \n Upon return from the `run_and_wait` method on a `task_group` object, the runtime resets the object to a clean state where it can be reused. This includes the case where the `task_group` object was canceled.  \n  \n In the non-exceptional path of execution, you have a mandate to call either this method or the `wait` method before the destructor of the `task_group` executes.  \n  \n##  <a name=\"ctor\"></a>  task_group::task_group Constructor  \n Constructs a new `task_group` object.  \n  \n```  \ntask_group();  \n  \ntask_group(  \n   cancellation_token _CancellationToken  \n);  \n```  \n  \n### Parameters  \n `_CancellationToken`  \n A cancellation token to associate with this task group. The task group will be canceled when the token is canceled.  \n  \n### Remarks  \n The constructor that takes a cancellation token creates a `task_group` that will be canceled when the source associated with the token is canceled. Providing an explicit cancellation token also isolates this task group from participating in an implicit cancellation from a parent group with a different token or no token.  \n  \n##  <a name=\"dtor\"></a>  task_group::~task_group Destructor  \n Destroys a `task_group` object. You are expected to call the either the `wait` or `run_and_wait` method on the object prior to the destructor executing, unless the destructor is executing as the result of stack unwinding due to an exception.  \n  \n```  \n~task_group();  \n```  \n  \n### Remarks  \n If the destructor runs as the result of normal execution (for example, not stack unwinding due to an exception) and neither the `wait` nor `run_and_wait` methods have been called, the destructor may throw a [missing_wait](missing-wait-class.md) exception.  \n  \n##  <a name=\"wait\"></a>  task_group::wait Method  \n Waits until all work on the `task_group` object has either completed or been canceled.  \n  \n```  \ntask_group_status wait();  \n```  \n  \n### Return Value  \n An indication of whether the wait was satisfied or the task group was canceled, due to either an explicit cancel operation or an exception being thrown from one of its tasks. For more information, see [task_group_status](concurrency-namespace-enums.md#task_group_status).  \n\n  \n### Remarks  \n Note that one or more of the tasks scheduled to this `task_group` object may execute inline on the calling context.  \n  \n If one or more of the tasks scheduled to this `task_group` object throws an exception, the runtime will select one such exception of its choosing and propagate it out of the call to the `wait` method.  \n  \n Calling `wait` on a `task_group` object resets it to a clean state where it can be reused. This includes the case where the `task_group` object was canceled.  \n  \n In the non-exceptional path of execution, you have a mandate to call either this method or the `run_and_wait` method before the destructor of the `task_group` executes.  \n  \n## See Also  \n [concurrency Namespace](concurrency-namespace.md)   \n [structured_task_group Class](structured-task-group-class.md)   \n [task_handle Class](task-handle-class.md)"}