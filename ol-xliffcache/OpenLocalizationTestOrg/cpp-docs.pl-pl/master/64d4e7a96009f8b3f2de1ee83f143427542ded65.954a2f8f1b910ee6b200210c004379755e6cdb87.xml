{"nodes":[{"pos":[12,57],"content":"Linker Tools Warning LNK4092 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Linker Tools Warning LNK4092 | Microsoft Docs","pos":[0,45]}]},{"pos":[609,637],"content":"Linker Tools Warning LNK4092","linkify":"Linker Tools Warning LNK4092","nodes":[{"content":"Linker Tools Warning LNK4092","pos":[0,28]}]},{"content":"shared writable section 'section' contains relocations; image may not run correctly","pos":[638,721]},{"content":"The linker emits this warning whenever you have a shared section to warn you of a potentially serious problem.","pos":[728,838]},{"content":"One way to share data between multiple processes is to mark a section as \"shared.\"","pos":[845,927]},{"content":"However, marking a section as shared can cause problems.","pos":[928,984]},{"content":"For example, you have a DLL that contains declarations like this in a shared data section:","pos":[985,1075]},{"content":"The linker cannot resolve <ph id=\"ph1\">`pvar`</ph> because its value depends on where the DLL is loaded in memory, so it puts a relocation record in the DLL.","pos":[1132,1271],"source":"The linker cannot resolve `pvar` because its value depends on where the DLL is loaded in memory, so it puts a relocation record in the DLL."},{"content":"When the DLL is loaded into memory, the address of <ph id=\"ph1\">`var`</ph> can be resolved and <ph id=\"ph2\">`pvar`</ph> assigned.","pos":[1272,1365],"source":" When the DLL is loaded into memory, the address of `var` can be resolved and `pvar` assigned."},{"content":"If another process loads the same DLL but cannot load it at the same address, the relocation for the address of <ph id=\"ph1\">`var`</ph> will be updated for the second process and the first process's address space will point to the wrong address.","pos":[1366,1593],"source":" If another process loads the same DLL but cannot load it at the same address, the relocation for the address of `var` will be updated for the second process and the first process's address space will point to the wrong address."}],"content":"---\ntitle: \"Linker Tools Warning LNK4092 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"LNK4092\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"LNK4092\"\nms.assetid: d569ec47-a338-40e1-940b-8a8061459acb\ncaps.latest.revision: 6\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Linker Tools Warning LNK4092\nshared writable section 'section' contains relocations; image may not run correctly  \n  \n The linker emits this warning whenever you have a shared section to warn you of a potentially serious problem.  \n  \n One way to share data between multiple processes is to mark a section as \"shared.\" However, marking a section as shared can cause problems. For example, you have a DLL that contains declarations like this in a shared data section:  \n  \n```  \nint var = 1;  \nint *pvar = &var;  \n```  \n  \n The linker cannot resolve `pvar` because its value depends on where the DLL is loaded in memory, so it puts a relocation record in the DLL. When the DLL is loaded into memory, the address of `var` can be resolved and `pvar` assigned. If another process loads the same DLL but cannot load it at the same address, the relocation for the address of `var` will be updated for the second process and the first process's address space will point to the wrong address."}