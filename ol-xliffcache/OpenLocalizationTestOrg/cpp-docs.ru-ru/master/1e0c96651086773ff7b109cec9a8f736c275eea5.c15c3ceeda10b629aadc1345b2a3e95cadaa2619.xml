{"nodes":[{"pos":[12,43],"content":"&lt;future&gt; | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>future<ph id=\"ph2\">&amp;gt;</ph> | Microsoft Docs","pos":[0,31],"source":"&lt;future&gt; | Microsoft Docs"}]},{"pos":[579,593],"content":"&lt;future&gt;","linkify":"&lt;future&gt;","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>future<ph id=\"ph2\">&amp;gt;</ph>","pos":[0,14],"source":"&lt;future&gt;"}]},{"content":"Include the standard header <ph id=\"ph1\">\\&lt;</ph>future&gt; to define template classes and supporting templates that simplify running a function—possibly in a separate thread—and retrieving its result.","pos":[594,773],"source":"Include the standard header \\<future> to define template classes and supporting templates that simplify running a function—possibly in a separate thread—and retrieving its result."},{"content":"The result is either the value that is returned by the function or an exception that is emitted by the function but is not caught in the function.","pos":[774,920]},{"content":"This header uses Concurrency Runtime (ConcRT) so that you can use it together with other ConcRT mechanisms.","pos":[927,1034]},{"content":"For more information about ConcRT, see <bpt id=\"p1\">[</bpt>Concurrency Runtime<ept id=\"p1\">](../parallel/concrt/concurrency-runtime.md)</ept>.","pos":[1035,1139],"source":" For more information about ConcRT, see [Concurrency Runtime](../parallel/concrt/concurrency-runtime.md)."},{"pos":[1148,1154],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1201,1208],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1216,1311],"content":"[!NOTE]\n In code that is compiled by using **/clr** or **/clr:pure**, this header is blocked.","leadings":["","> "],"nodes":[{"content":"In code that is compiled by using <bpt id=\"p1\">**</bpt>/clr<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>/clr:pure<ept id=\"p2\">**</ept>, this header is blocked.","pos":[9,93],"source":" In code that is compiled by using **/clr** or **/clr:pure**, this header is blocked."}]},{"content":"An <bpt id=\"p1\">*</bpt>asynchronous provider<ept id=\"p1\">*</ept> stores the result of a function call.","pos":[1318,1382],"source":"An *asynchronous provider* stores the result of a function call."},{"content":"An <bpt id=\"p1\">*</bpt>asynchronous return object<ept id=\"p1\">*</ept> is used to retrieve the result of a function call.","pos":[1383,1465],"source":" An *asynchronous return object* is used to retrieve the result of a function call."},{"content":"An <bpt id=\"p1\">*</bpt>associated asynchronous state<ept id=\"p1\">*</ept> provides communication between an asynchronous provider and one or more asynchronous return objects.","pos":[1466,1601],"source":" An *associated asynchronous state* provides communication between an asynchronous provider and one or more asynchronous return objects."},{"content":"A program does not directly create any associated asynchronous state objects.","pos":[1608,1685]},{"content":"The program creates an asynchronous provider whenever it needs one and from that it creates an asynchronous return object that shares its associated asynchronous state with the provider.","pos":[1686,1872]},{"content":"Asynchronous providers and asynchronous return objects manage the objects that hold their shared associated asynchronous state.","pos":[1873,2000]},{"content":"When the last object that references the associated asynchronous state releases it, the object that holds the associated asynchronous state is destroyed.","pos":[2001,2154]},{"pos":[2161,2272],"content":"An asynchronous provider or an asynchronous return object that has no associated asynchronous state is <bpt id=\"p1\">*</bpt>empty<ept id=\"p1\">*</ept>.","source":"An asynchronous provider or an asynchronous return object that has no associated asynchronous state is *empty*."},{"pos":[2279,2406],"content":"An associated asynchronous state is <bpt id=\"p1\">*</bpt>ready<ept id=\"p1\">*</ept> only if its asynchronous provider has stored a return value or stored an exception.","source":"An associated asynchronous state is *ready* only if its asynchronous provider has stored a return value or stored an exception."},{"content":"The template function <ph id=\"ph1\">`async`</ph> and the template classes <ph id=\"ph2\">`promise`</ph> and <ph id=\"ph3\">`packaged_task`</ph> are asynchronous providers.","pos":[2413,2525],"source":"The template function `async` and the template classes `promise` and `packaged_task` are asynchronous providers."},{"content":"The template classes <ph id=\"ph1\">`future`</ph> and <ph id=\"ph2\">`shared_future`</ph> describe asynchronous return objects.","pos":[2526,2613],"source":" The template classes `future` and `shared_future` describe asynchronous return objects."},{"content":"Each of the template classes <ph id=\"ph1\">`promise`</ph>, <ph id=\"ph2\">`future`</ph>, and <ph id=\"ph3\">`shared_future`</ph> has a specialization for the type <ph id=\"ph4\">`void`</ph> and a partial specialization for storing and retrieving a value by reference.","pos":[2620,2808],"source":"Each of the template classes `promise`, `future`, and `shared_future` has a specialization for the type `void` and a partial specialization for storing and retrieving a value by reference."},{"content":"These specializations differ from the primary template only in the signatures and semantics of the functions that store and retrieve the returned value.","pos":[2809,2961]},{"content":"The template classes <ph id=\"ph1\">`future`</ph> and <ph id=\"ph2\">`shared_future`</ph> never block in their destructors, except in one case that's preserved for backward compatibility: Unlike all other futures, for a <ph id=\"ph3\">`future`</ph>—or the last <ph id=\"ph4\">`shared_future`</ph>—that's attached to a task started with <ph id=\"ph5\">`std::async`</ph>, the destructor blocks if the task has not completed; that is, it blocks if this thread did not yet call <ph id=\"ph6\">`.get()`</ph> or <ph id=\"ph7\">`.wait()`</ph> and the task is still running.","pos":[2968,3394],"source":"The template classes `future` and `shared_future` never block in their destructors, except in one case that's preserved for backward compatibility: Unlike all other futures, for a `future`—or the last `shared_future`—that's attached to a task started with `std::async`, the destructor blocks if the task has not completed; that is, it blocks if this thread did not yet call `.get()` or `.wait()` and the task is still running."},{"content":"The following usability note has been added to the description of <ph id=\"ph1\">`std::async`</ph> in the draft standard: \"[Note: If a future obtained from std::async is moved outside the local scope, other code that uses the future must be aware that the future’s destructor may block for the shared state to become ready.—end note]\" In all other cases, <ph id=\"ph2\">`future`</ph> and <ph id=\"ph3\">`shared_future`</ph> destructors are required and are guaranteed to never block.","pos":[3395,3818],"source":" The following usability note has been added to the description of `std::async` in the draft standard: \"[Note: If a future obtained from std::async is moved outside the local scope, other code that uses the future must be aware that the future’s destructor may block for the shared state to become ready.—end note]\" In all other cases, `future` and `shared_future` destructors are required and are guaranteed to never block."},{"pos":[3827,3834],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[3844,3851],"content":"Classes","linkify":"Classes","nodes":[{"content":"Classes","pos":[0,7]}]},{"content":"Name","pos":[3858,3862]},{"content":"Description","pos":[3863,3874]},{"pos":[3912,3963],"content":"<bpt id=\"p1\">[</bpt>future Class<ept id=\"p1\">](../standard-library/future-class.md)</ept>","source":"[future Class](../standard-library/future-class.md)"},{"content":"Describes an asynchronous return object.","pos":[3964,4004]},{"pos":[4009,4072],"content":"<bpt id=\"p1\">[</bpt>future_error Class<ept id=\"p1\">](../standard-library/future-error-class.md)</ept>","source":"[future_error Class](../standard-library/future-error-class.md)"},{"pos":[4073,4171],"content":"Describes an exception object that can be thrown by methods of types that manage <ph id=\"ph1\">`future`</ph> objects.","source":"Describes an exception object that can be thrown by methods of types that manage `future` objects."},{"pos":[4176,4241],"content":"<bpt id=\"p1\">[</bpt>packaged_task Class<ept id=\"p1\">](../standard-library/packaged-task-class.md)</ept>","source":"[packaged_task Class](../standard-library/packaged-task-class.md)"},{"content":"Describes an asynchronous provider that is a call wrapper and whose call signature is <ph id=\"ph1\">`Ty(ArgTypes...)`</ph>.","pos":[4242,4346],"source":"Describes an asynchronous provider that is a call wrapper and whose call signature is `Ty(ArgTypes...)`."},{"content":"Its associated asynchronous state holds a copy of its callable object in addition to the potential result.","pos":[4347,4453]},{"pos":[4458,4511],"content":"<bpt id=\"p1\">[</bpt>promise Class<ept id=\"p1\">](../standard-library/promise-class.md)</ept>","source":"[promise Class](../standard-library/promise-class.md)"},{"content":"Describes an asynchronous provider.","pos":[4512,4547]},{"pos":[4552,4617],"content":"<bpt id=\"p1\">[</bpt>shared_future Class<ept id=\"p1\">](../standard-library/shared-future-class.md)</ept>","source":"[shared_future Class](../standard-library/shared-future-class.md)"},{"content":"Describes an asynchronous return object.","pos":[4618,4658]},{"content":"In contrast with a <ph id=\"ph1\">`future`</ph> object, an asynchronous provider can be associated with any number of <ph id=\"ph2\">`shared_future`</ph> objects.","pos":[4659,4781],"source":" In contrast with a `future` object, an asynchronous provider can be associated with any number of `shared_future` objects."},{"pos":[4792,4802],"content":"Structures","linkify":"Structures","nodes":[{"content":"Structures","pos":[0,10]}]},{"content":"Name","pos":[4809,4813]},{"content":"Description","pos":[4814,4825]},{"pos":[4863,4946],"content":"<bpt id=\"p1\">[</bpt>is_error_code_enum Structure<ept id=\"p1\">](../standard-library/is-error-code-enum-structure.md)</ept>","source":"[is_error_code_enum Structure](../standard-library/is-error-code-enum-structure.md)"},{"pos":[4947,5036],"content":"Specialization that indicates that <ph id=\"ph1\">`future_errc`</ph> is suitable for storing an <ph id=\"ph2\">`error_code`</ph>.","source":"Specialization that indicates that `future_errc` is suitable for storing an `error_code`."},{"pos":[5041,5116],"content":"<bpt id=\"p1\">[</bpt>uses_allocator Structure<ept id=\"p1\">](../standard-library/uses-allocator-structure.md)</ept>","source":"[uses_allocator Structure](../standard-library/uses-allocator-structure.md)"},{"content":"Specialization that always holds true.","pos":[5117,5155]},{"pos":[5166,5175],"content":"Functions","linkify":"Functions","nodes":[{"content":"Functions","pos":[0,9]}]},{"content":"Name","pos":[5182,5186]},{"content":"Description","pos":[5187,5198]},{"pos":[5236,5308],"content":"<bpt id=\"p1\">[</bpt>async Function<ept id=\"p1\">](../standard-library/future-functions.md#async_function)</ept>","source":"[async Function](../standard-library/future-functions.md#async_function)"},{"content":"Represents an asynchronous provider.","pos":[5309,5345]},{"pos":[5350,5442],"content":"<bpt id=\"p1\">[</bpt>future_category Function<ept id=\"p1\">](../standard-library/future-functions.md#future_category_function)</ept>","source":"[future_category Function](../standard-library/future-functions.md#future_category_function)"},{"pos":[5443,5562],"content":"Returns a reference to the <ph id=\"ph1\">`error_category`</ph> object that characterizes errors that are associated with <ph id=\"ph2\">`future`</ph> objects.","source":"Returns a reference to the `error_category` object that characterizes errors that are associated with `future` objects."},{"pos":[5567,5659],"content":"<bpt id=\"p1\">[</bpt>make_error_code Function<ept id=\"p1\">](../standard-library/future-functions.md#make_error_code_function)</ept>","source":"[make_error_code Function](../standard-library/future-functions.md#make_error_code_function)"},{"pos":[5660,5756],"content":"Creates an <ph id=\"ph1\">`error_code`</ph> that has the <ph id=\"ph2\">`error_category`</ph> object that characterizes <ph id=\"ph3\">`future`</ph> errors.","source":"Creates an `error_code` that has the `error_category` object that characterizes `future` errors."},{"pos":[5761,5863],"content":"<bpt id=\"p1\">[</bpt>make_error_condition Function<ept id=\"p1\">](../standard-library/future-functions.md#make_error_condition_function)</ept>","source":"[make_error_condition Function](../standard-library/future-functions.md#make_error_condition_function)"},{"pos":[5864,5965],"content":"Creates an <ph id=\"ph1\">`error_condition`</ph> that has the <ph id=\"ph2\">`error_category`</ph> object that characterizes <ph id=\"ph3\">`future`</ph> errors.","source":"Creates an `error_condition` that has the `error_category` object that characterizes `future` errors."},{"pos":[5970,6040],"content":"<bpt id=\"p1\">[</bpt>swap Function<ept id=\"p1\">](../standard-library/future-functions.md#swap_function)</ept>","source":"[swap Function](../standard-library/future-functions.md#swap_function)"},{"pos":[6041,6130],"content":"Exchanges the associated asynchronous state of one <ph id=\"ph1\">`promise`</ph> object with that of another.","source":"Exchanges the associated asynchronous state of one `promise` object with that of another."},{"pos":[6141,6153],"content":"Enumerations","linkify":"Enumerations","nodes":[{"content":"Enumerations","pos":[0,12]}]},{"content":"Name","pos":[6160,6164]},{"content":"Description","pos":[6165,6176]},{"pos":[6214,6300],"content":"<bpt id=\"p1\">[</bpt>future_errc Enumeration<ept id=\"p1\">](../standard-library/future-enums.md#future_errc_enumeration)</ept>","source":"[future_errc Enumeration](../standard-library/future-enums.md#future_errc_enumeration)"},{"pos":[6301,6386],"content":"Supplies symbolic names for the errors that are reported by the <ph id=\"ph1\">`future_error`</ph> class.","source":"Supplies symbolic names for the errors that are reported by the `future_error` class."},{"pos":[6391,6481],"content":"<bpt id=\"p1\">[</bpt>future_status Enumeration<ept id=\"p1\">](../standard-library/future-enums.md#future_status_enumeration)</ept>","source":"[future_status Enumeration](../standard-library/future-enums.md#future_status_enumeration)"},{"content":"Supplies symbolic names for the reasons that a timed wait function can return.","pos":[6482,6560]},{"pos":[6565,6641],"content":"<bpt id=\"p1\">[</bpt>launch Enumeration<ept id=\"p1\">](../standard-library/future-enums.md#launch_enumeration)</ept>","source":"[launch Enumeration](../standard-library/future-enums.md#launch_enumeration)"},{"pos":[6642,6736],"content":"Represents a bitmask type that describes the possible modes for the template function <ph id=\"ph1\">`async`</ph>.","source":"Represents a bitmask type that describes the possible modes for the template function `async`."},{"pos":[6746,6754],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[6758,6840],"content":"<bpt id=\"p1\">[</bpt>Header Files Reference<ept id=\"p1\">](../standard-library/cpp-standard-library-header-files.md)</ept>","source":"[Header Files Reference](../standard-library/cpp-standard-library-header-files.md)"}],"content":"---\ntitle: \"&lt;future&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"<future>\"\ndev_langs: \n  - \"C++\"\nms.assetid: 2f5830fc-455d-44f9-9e3d-94ea051596a2\ncaps.latest.revision: 23\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# &lt;future&gt;\nInclude the standard header \\<future> to define template classes and supporting templates that simplify running a function—possibly in a separate thread—and retrieving its result. The result is either the value that is returned by the function or an exception that is emitted by the function but is not caught in the function.  \n  \n This header uses Concurrency Runtime (ConcRT) so that you can use it together with other ConcRT mechanisms. For more information about ConcRT, see [Concurrency Runtime](../parallel/concrt/concurrency-runtime.md).  \n  \n## Syntax  \n  \n```cpp  \n#include <future>  \n```  \n  \n## Remarks  \n  \n> [!NOTE]\n>  In code that is compiled by using **/clr** or **/clr:pure**, this header is blocked.  \n  \n An *asynchronous provider* stores the result of a function call. An *asynchronous return object* is used to retrieve the result of a function call. An *associated asynchronous state* provides communication between an asynchronous provider and one or more asynchronous return objects.  \n  \n A program does not directly create any associated asynchronous state objects. The program creates an asynchronous provider whenever it needs one and from that it creates an asynchronous return object that shares its associated asynchronous state with the provider. Asynchronous providers and asynchronous return objects manage the objects that hold their shared associated asynchronous state. When the last object that references the associated asynchronous state releases it, the object that holds the associated asynchronous state is destroyed.  \n  \n An asynchronous provider or an asynchronous return object that has no associated asynchronous state is *empty*.  \n  \n An associated asynchronous state is *ready* only if its asynchronous provider has stored a return value or stored an exception.  \n  \n The template function `async` and the template classes `promise` and `packaged_task` are asynchronous providers. The template classes `future` and `shared_future` describe asynchronous return objects.  \n  \n Each of the template classes `promise`, `future`, and `shared_future` has a specialization for the type `void` and a partial specialization for storing and retrieving a value by reference. These specializations differ from the primary template only in the signatures and semantics of the functions that store and retrieve the returned value.  \n  \n The template classes `future` and `shared_future` never block in their destructors, except in one case that's preserved for backward compatibility: Unlike all other futures, for a `future`—or the last `shared_future`—that's attached to a task started with `std::async`, the destructor blocks if the task has not completed; that is, it blocks if this thread did not yet call `.get()` or `.wait()` and the task is still running. The following usability note has been added to the description of `std::async` in the draft standard: \"[Note: If a future obtained from std::async is moved outside the local scope, other code that uses the future must be aware that the future’s destructor may block for the shared state to become ready.—end note]\" In all other cases, `future` and `shared_future` destructors are required and are guaranteed to never block.  \n  \n## Members  \n  \n### Classes  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[future Class](../standard-library/future-class.md)|Describes an asynchronous return object.|  \n|[future_error Class](../standard-library/future-error-class.md)|Describes an exception object that can be thrown by methods of types that manage `future` objects.|  \n|[packaged_task Class](../standard-library/packaged-task-class.md)|Describes an asynchronous provider that is a call wrapper and whose call signature is `Ty(ArgTypes...)`. Its associated asynchronous state holds a copy of its callable object in addition to the potential result.|  \n|[promise Class](../standard-library/promise-class.md)|Describes an asynchronous provider.|  \n|[shared_future Class](../standard-library/shared-future-class.md)|Describes an asynchronous return object. In contrast with a `future` object, an asynchronous provider can be associated with any number of `shared_future` objects.|  \n  \n### Structures  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[is_error_code_enum Structure](../standard-library/is-error-code-enum-structure.md)|Specialization that indicates that `future_errc` is suitable for storing an `error_code`.|  \n|[uses_allocator Structure](../standard-library/uses-allocator-structure.md)|Specialization that always holds true.|  \n  \n### Functions  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[async Function](../standard-library/future-functions.md#async_function)|Represents an asynchronous provider.|  \n|[future_category Function](../standard-library/future-functions.md#future_category_function)|Returns a reference to the `error_category` object that characterizes errors that are associated with `future` objects.|  \n|[make_error_code Function](../standard-library/future-functions.md#make_error_code_function)|Creates an `error_code` that has the `error_category` object that characterizes `future` errors.|  \n|[make_error_condition Function](../standard-library/future-functions.md#make_error_condition_function)|Creates an `error_condition` that has the `error_category` object that characterizes `future` errors.|  \n|[swap Function](../standard-library/future-functions.md#swap_function)|Exchanges the associated asynchronous state of one `promise` object with that of another.|  \n  \n### Enumerations  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[future_errc Enumeration](../standard-library/future-enums.md#future_errc_enumeration)|Supplies symbolic names for the errors that are reported by the `future_error` class.|  \n|[future_status Enumeration](../standard-library/future-enums.md#future_status_enumeration)|Supplies symbolic names for the reasons that a timed wait function can return.|  \n|[launch Enumeration](../standard-library/future-enums.md#launch_enumeration)|Represents a bitmask type that describes the possible modes for the template function `async`.|  \n  \n## See Also  \n [Header Files Reference](../standard-library/cpp-standard-library-header-files.md)\n\n\n\n"}