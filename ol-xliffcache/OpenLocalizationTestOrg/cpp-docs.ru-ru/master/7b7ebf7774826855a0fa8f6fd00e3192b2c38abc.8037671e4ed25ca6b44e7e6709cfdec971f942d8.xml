{"nodes":[{"pos":[12,44],"content":"CCtrlView Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CCtrlView Class | Microsoft Docs","pos":[0,32]}]},{"pos":[663,678],"content":"CCtrlView Class","linkify":"CCtrlView Class","nodes":[{"content":"CCtrlView Class","pos":[0,15]}]},{"content":"Adapts the document-view architecture to the common controls supported by Windows 98 and Windows NT versions 3.51 and later.","pos":[679,803]},{"pos":[812,818],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[875,882],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[892,911],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[918,922]},{"content":"Description","pos":[923,934]},{"pos":[972,1017],"content":"<bpt id=\"p1\">[</bpt>CCtrlView::CCtrlView<ept id=\"p1\">](#cctrlview__cctrlview)</ept>","source":"[CCtrlView::CCtrlView](#cctrlview__cctrlview)"},{"pos":[1018,1050],"content":"Constructs a <ph id=\"ph1\">`CCtrlView`</ph> object.","source":"Constructs a `CCtrlView` object."},{"pos":[1061,1078],"content":"Protected Methods","linkify":"Protected Methods","nodes":[{"content":"Protected Methods","pos":[0,17]}]},{"content":"Name","pos":[1085,1089]},{"content":"Description","pos":[1090,1101]},{"pos":[1139,1178],"content":"<bpt id=\"p1\">[</bpt>CCtrlView::OnDraw<ept id=\"p1\">](#cctrlview__ondraw)</ept>","source":"[CCtrlView::OnDraw](#cctrlview__ondraw)"},{"content":"Called by the framework to draw using the specified device context.","pos":[1179,1246]},{"pos":[1251,1308],"content":"<bpt id=\"p1\">[</bpt>CCtrlView::PreCreateWindow<ept id=\"p1\">](#cctrlview__precreatewindow)</ept>","source":"[CCtrlView::PreCreateWindow](#cctrlview__precreatewindow)"},{"pos":[1309,1394],"content":"Called before the creation of the Windows window attached to this <ph id=\"ph1\">`CCtrlView`</ph> object.","source":"Called before the creation of the Windows window attached to this `CCtrlView` object."},{"pos":[1405,1427],"content":"Protected Data Members","linkify":"Protected Data Members","nodes":[{"content":"Protected Data Members","pos":[0,22]}]},{"content":"Name","pos":[1434,1438]},{"content":"Description","pos":[1439,1450]},{"pos":[1488,1547],"content":"<bpt id=\"p1\">[</bpt>CCtrlView::m_dwDefaultStyle<ept id=\"p1\">](#cctrlview__m_dwdefaultstyle)</ept>","source":"[CCtrlView::m_dwDefaultStyle](#cctrlview__m_dwdefaultstyle)"},{"content":"Contains the default style for the view class.","pos":[1548,1594]},{"pos":[1599,1646],"content":"<bpt id=\"p1\">[</bpt>CCtrlView::m_strClass<ept id=\"p1\">](#cctrlview__m_strclass)</ept>","source":"[CCtrlView::m_strClass](#cctrlview__m_strclass)"},{"content":"Contains the Windows class name for the view class.","pos":[1647,1698]},{"pos":[1708,1715],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The class <ph id=\"ph1\">`CCtrlView`</ph> and its derivatives, <bpt id=\"p1\">[</bpt>CEditView<ept id=\"p1\">](../../mfc/reference/ceditview-class.md)</ept>, <bpt id=\"p2\">[</bpt>CListView<ept id=\"p2\">](../../mfc/reference/clistview-class.md)</ept>, <bpt id=\"p3\">[</bpt>CTreeView<ept id=\"p3\">](../../mfc/reference/ctreeview-class.md)</ept>, and <bpt id=\"p4\">[</bpt>CRichEditView<ept id=\"p4\">](../../mfc/reference/cricheditview-class.md)</ept>, adapt the document-view architecture to the new common controls supported by Windows 95/98 and Windows NT versions 3.51 and later.","pos":[1719,2116],"source":"The class `CCtrlView` and its derivatives, [CEditView](../../mfc/reference/ceditview-class.md), [CListView](../../mfc/reference/clistview-class.md), [CTreeView](../../mfc/reference/ctreeview-class.md), and [CRichEditView](../../mfc/reference/cricheditview-class.md), adapt the document-view architecture to the new common controls supported by Windows 95/98 and Windows NT versions 3.51 and later."},{"content":"For more information on the document-view architecture, see <bpt id=\"p1\">[</bpt>Document/View Architecture<ept id=\"p1\">](../../mfc/document-view-architecture.md)</ept>.","pos":[2117,2247],"source":" For more information on the document-view architecture, see [Document/View Architecture](../../mfc/document-view-architecture.md)."},{"pos":[2256,2277],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[2281,2328],"content":"<bpt id=\"p1\">[</bpt>CObject<ept id=\"p1\">](../../mfc/reference/cobject-class.md)</ept>","source":"[CObject](../../mfc/reference/cobject-class.md)"},{"pos":[2335,2388],"content":"<bpt id=\"p1\">[</bpt>CCmdTarget<ept id=\"p1\">](../../mfc/reference/ccmdtarget-class.md)</ept>","source":"[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)"},{"pos":[2395,2436],"content":"<bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../../mfc/reference/cwnd-class.md)</ept>","source":"[CWnd](../../mfc/reference/cwnd-class.md)"},{"pos":[2443,2486],"content":"<bpt id=\"p1\">[</bpt>CView<ept id=\"p1\">](../../mfc/reference/cview-class.md)</ept>","source":"[CView](../../mfc/reference/cview-class.md)"},{"pos":[2513,2525],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[2529,2549],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxwin.h","source":"**Header:** afxwin.h"},{"pos":[2559,2616],"content":"<bpt id=\"p1\">&lt;a name=\"cctrlview__cctrlview\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCtrlView::CCtrlView","linkify":"<a name=\"cctrlview__cctrlview\"></a>  CCtrlView::CCtrlView","source":"<a name=\"cctrlview__cctrlview\"></a>  CCtrlView::CCtrlView"},{"pos":[2620,2652],"content":"Constructs a <ph id=\"ph1\">`CCtrlView`</ph> object.","source":"Constructs a `CCtrlView` object."},{"pos":[2733,2743],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Windows class name of the view class.","pos":[2762,2799]},{"content":"Style of the view class.","pos":[2819,2843]},{"pos":[2853,2860],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The framework calls the constructor when a new frame window is created or a window is split.","pos":[2864,2956]},{"content":"Override <bpt id=\"p1\">[</bpt>CView::OnInitialUpdate<ept id=\"p1\">](../../mfc/reference/cview-class.md#cview__oninitialupdate)</ept> to initialize the view after the document is attached.","pos":[2957,3104],"source":" Override [CView::OnInitialUpdate](../../mfc/reference/cview-class.md#cview__oninitialupdate) to initialize the view after the document is attached."},{"content":"Call <bpt id=\"p1\">[</bpt>CWnd::Create<ept id=\"p1\">](../../mfc/reference/cwnd-class.md#cwnd__create)</ept> or <bpt id=\"p2\">[</bpt>CWnd::CreateEx<ept id=\"p2\">](../../mfc/reference/cwnd-class.md#cwnd__createex)</ept> to create the Windows object.","pos":[3105,3272],"source":" Call [CWnd::Create](../../mfc/reference/cwnd-class.md#cwnd__create) or [CWnd::CreateEx](../../mfc/reference/cwnd-class.md#cwnd__createex) to create the Windows object."},{"pos":[3282,3341],"content":"<bpt id=\"p1\">&lt;a name=\"cctrlview__m_strclass\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCtrlView::m_strClass","linkify":"<a name=\"cctrlview__m_strclass\"></a>  CCtrlView::m_strClass","source":"<a name=\"cctrlview__m_strclass\"></a>  CCtrlView::m_strClass"},{"content":"Contains the Windows class name for the view class.","pos":[3345,3396]},{"pos":[3443,3514],"content":"<bpt id=\"p1\">&lt;a name=\"cctrlview__m_dwdefaultstyle\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCtrlView::m_dwDefaultStyle","linkify":"<a name=\"cctrlview__m_dwdefaultstyle\"></a>  CCtrlView::m_dwDefaultStyle","source":"<a name=\"cctrlview__m_dwdefaultstyle\"></a>  CCtrlView::m_dwDefaultStyle"},{"content":"Contains the default style for the view class.","pos":[3518,3564]},{"pos":[3615,3622],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"This style is applied when a window is created.","pos":[3626,3673]},{"pos":[3683,3734],"content":"<bpt id=\"p1\">&lt;a name=\"cctrlview__ondraw\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCtrlView::OnDraw","linkify":"<a name=\"cctrlview__ondraw\"></a>  CCtrlView::OnDraw","source":"<a name=\"cctrlview__ondraw\"></a>  CCtrlView::OnDraw"},{"pos":[3738,3844],"content":"Called by the framework to draw the contents of the <ph id=\"ph1\">`CCtrlView`</ph> object using the specified device context.","source":"Called by the framework to draw the contents of the `CCtrlView` object using the specified device context."},{"pos":[3900,3910],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A pointer to the device context in which the drawing occurs.","pos":[3923,3983]},{"pos":[3993,4000],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[4004,4104],"content":"<ph id=\"ph1\">`OnDraw`</ph> is typically called for screen display, passing a screen device context specified by <ph id=\"ph2\">`pDC`</ph>.","source":"`OnDraw` is typically called for screen display, passing a screen device context specified by `pDC`."},{"pos":[4114,4183],"content":"<bpt id=\"p1\">&lt;a name=\"cctrlview__precreatewindow\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCtrlView::PreCreateWindow","linkify":"<a name=\"cctrlview__precreatewindow\"></a>  CCtrlView::PreCreateWindow","source":"<a name=\"cctrlview__precreatewindow\"></a>  CCtrlView::PreCreateWindow"},{"pos":[4187,4267],"content":"Called before the creation of the Windows window attached to this <ph id=\"ph1\">`CWnd`</ph> object.","source":"Called before the creation of the Windows window attached to this `CWnd` object."},{"pos":[4340,4350],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"<bpt id=\"p1\">*</bpt>cs<ept id=\"p1\">*</ept>","pos":[4354,4358],"source":"*cs*"},{"content":"A <bpt id=\"p1\">[</bpt>CREATESTRUCT<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms632603)</ept> structure.","pos":[4362,4449],"source":" A [CREATESTRUCT](http://msdn.microsoft.com/library/windows/desktop/ms632603) structure."},{"pos":[4459,4471],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Nonzero if the window creation should continue; 0 to indicate creation failure.","pos":[4475,4554]},{"pos":[4564,4571],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Never call this function directly.","pos":[4575,4609]},{"content":"The default implementation of this function checks for a <bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> window class name and substitutes an appropriate default.","pos":[4616,4739],"source":"The default implementation of this function checks for a **NULL** window class name and substitutes an appropriate default."},{"content":"Override this member function to modify the <ph id=\"ph1\">`CREATESTRUCT`</ph> structure before the window is created.","pos":[4740,4838],"source":" Override this member function to modify the `CREATESTRUCT` structure before the window is created."},{"content":"Each class derived from <ph id=\"ph1\">`CCtrlView`</ph> adds its own functionality to its override of <ph id=\"ph2\">`PreCreateWindow`</ph>.","pos":[4845,4945],"source":"Each class derived from `CCtrlView` adds its own functionality to its override of `PreCreateWindow`."},{"content":"By design, these derivations of <ph id=\"ph1\">`PreCreateWindow`</ph> are not documented.","pos":[4946,5015],"source":" By design, these derivations of `PreCreateWindow` are not documented."},{"content":"To determine the styles appropriate to each class and the interdependencies between the styles, you can examine the MFC source code for your application's base class.","pos":[5016,5182]},{"content":"If you choose to override <ph id=\"ph1\">`PreCreateWindow`</ph>, you can determine whether the styles used in your application's base class provide the functionality you need by using information gathered from the MFC source code.","pos":[5183,5393],"source":" If you choose to override `PreCreateWindow`, you can determine whether the styles used in your application's base class provide the functionality you need by using information gathered from the MFC source code."},{"pos":[5400,5566],"content":"For more information on changing window styles, see the <bpt id=\"p1\">[</bpt>Changing the Styles of a Window Created by MFC<ept id=\"p1\">](../../mfc/changing-the-styles-of-a-window-created-by-mfc.md)</ept>.","source":"For more information on changing window styles, see the [Changing the Styles of a Window Created by MFC](../../mfc/changing-the-styles-of-a-window-created-by-mfc.md)."},{"pos":[5575,5583],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>CView Class<ept id=\"p1\">](../../mfc/reference/cview-class.md)</ept><ph id=\"ph1\"> </ph>","pos":[5587,5637],"source":"[CView Class](../../mfc/reference/cview-class.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Hierarchy Chart<ept id=\"p1\">](../../mfc/hierarchy-chart.md)</ept><ph id=\"ph1\"> </ph>","pos":[5640,5689],"source":" [Hierarchy Chart](../../mfc/hierarchy-chart.md) "},{"content":"<bpt id=\"p1\"> [</bpt>CTreeView Class<ept id=\"p1\">](../../mfc/reference/ctreeview-class.md)</ept><ph id=\"ph1\"> </ph>","pos":[5692,5751],"source":" [CTreeView Class](../../mfc/reference/ctreeview-class.md) "},{"content":"<bpt id=\"p1\"> [</bpt>CListView Class<ept id=\"p1\">](../../mfc/reference/clistview-class.md)</ept><ph id=\"ph1\"> </ph>","pos":[5754,5813],"source":" [CListView Class](../../mfc/reference/clistview-class.md) "},{"content":"<bpt id=\"p1\"> [</bpt>CRichEditView Class<ept id=\"p1\">](../../mfc/reference/cricheditview-class.md)</ept>","pos":[5816,5882],"source":" [CRichEditView Class](../../mfc/reference/cricheditview-class.md)"}],"content":"---\ntitle: \"CCtrlView Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CCtrlView\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"views, and common controls\"\n  - \"controls [MFC], common\"\n  - \"CCtrlView class\"\nms.assetid: ff488596-1e71-451f-8fec-b0831a7b44e0\ncaps.latest.revision: 20\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CCtrlView Class\nAdapts the document-view architecture to the common controls supported by Windows 98 and Windows NT versions 3.51 and later.  \n  \n## Syntax  \n  \n```  \nclass CCtrlView : public CView  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CCtrlView::CCtrlView](#cctrlview__cctrlview)|Constructs a `CCtrlView` object.|  \n  \n### Protected Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CCtrlView::OnDraw](#cctrlview__ondraw)|Called by the framework to draw using the specified device context.|  \n|[CCtrlView::PreCreateWindow](#cctrlview__precreatewindow)|Called before the creation of the Windows window attached to this `CCtrlView` object.|  \n  \n### Protected Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CCtrlView::m_dwDefaultStyle](#cctrlview__m_dwdefaultstyle)|Contains the default style for the view class.|  \n|[CCtrlView::m_strClass](#cctrlview__m_strclass)|Contains the Windows class name for the view class.|  \n  \n## Remarks  \n The class `CCtrlView` and its derivatives, [CEditView](../../mfc/reference/ceditview-class.md), [CListView](../../mfc/reference/clistview-class.md), [CTreeView](../../mfc/reference/ctreeview-class.md), and [CRichEditView](../../mfc/reference/cricheditview-class.md), adapt the document-view architecture to the new common controls supported by Windows 95/98 and Windows NT versions 3.51 and later. For more information on the document-view architecture, see [Document/View Architecture](../../mfc/document-view-architecture.md).  \n  \n## Inheritance Hierarchy  \n [CObject](../../mfc/reference/cobject-class.md)  \n  \n [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  \n  \n [CWnd](../../mfc/reference/cwnd-class.md)  \n  \n [CView](../../mfc/reference/cview-class.md)  \n  \n `CCtrlView`  \n  \n## Requirements  \n **Header:** afxwin.h  \n  \n##  <a name=\"cctrlview__cctrlview\"></a>  CCtrlView::CCtrlView  \n Constructs a `CCtrlView` object.  \n  \n```  \nCCtrlView(\n    LPCTSTR lpszClass,  \n    DWORD dwStyle);\n```  \n  \n### Parameters  \n `lpszClass`  \n Windows class name of the view class.  \n  \n `dwStyle`  \n Style of the view class.  \n  \n### Remarks  \n The framework calls the constructor when a new frame window is created or a window is split. Override [CView::OnInitialUpdate](../../mfc/reference/cview-class.md#cview__oninitialupdate) to initialize the view after the document is attached. Call [CWnd::Create](../../mfc/reference/cwnd-class.md#cwnd__create) or [CWnd::CreateEx](../../mfc/reference/cwnd-class.md#cwnd__createex) to create the Windows object.  \n  \n##  <a name=\"cctrlview__m_strclass\"></a>  CCtrlView::m_strClass  \n Contains the Windows class name for the view class.  \n  \n```  \nCString m_strClass;  \n```  \n  \n##  <a name=\"cctrlview__m_dwdefaultstyle\"></a>  CCtrlView::m_dwDefaultStyle  \n Contains the default style for the view class.  \n  \n```  \nDWORD m_dwDefaultStyle;  \n```  \n  \n### Remarks  \n This style is applied when a window is created.  \n  \n##  <a name=\"cctrlview__ondraw\"></a>  CCtrlView::OnDraw  \n Called by the framework to draw the contents of the `CCtrlView` object using the specified device context.  \n  \n```  \nvirtual void OnDraw(CDC* pDC);\n```  \n  \n### Parameters  \n `pDC`  \n A pointer to the device context in which the drawing occurs.  \n  \n### Remarks  \n `OnDraw` is typically called for screen display, passing a screen device context specified by `pDC`.  \n  \n##  <a name=\"cctrlview__precreatewindow\"></a>  CCtrlView::PreCreateWindow  \n Called before the creation of the Windows window attached to this `CWnd` object.  \n  \n```  \nvirtual BOOL PreCreateWindow(CREATESTRUCT& cs);\n```  \n  \n### Parameters  \n *cs*  \n A [CREATESTRUCT](http://msdn.microsoft.com/library/windows/desktop/ms632603) structure.  \n  \n### Return Value  \n Nonzero if the window creation should continue; 0 to indicate creation failure.  \n  \n### Remarks  \n Never call this function directly.  \n  \n The default implementation of this function checks for a **NULL** window class name and substitutes an appropriate default. Override this member function to modify the `CREATESTRUCT` structure before the window is created.  \n  \n Each class derived from `CCtrlView` adds its own functionality to its override of `PreCreateWindow`. By design, these derivations of `PreCreateWindow` are not documented. To determine the styles appropriate to each class and the interdependencies between the styles, you can examine the MFC source code for your application's base class. If you choose to override `PreCreateWindow`, you can determine whether the styles used in your application's base class provide the functionality you need by using information gathered from the MFC source code.  \n  \n For more information on changing window styles, see the [Changing the Styles of a Window Created by MFC](../../mfc/changing-the-styles-of-a-window-created-by-mfc.md).  \n  \n## See Also  \n [CView Class](../../mfc/reference/cview-class.md)   \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [CTreeView Class](../../mfc/reference/ctreeview-class.md)   \n [CListView Class](../../mfc/reference/clistview-class.md)   \n [CRichEditView Class](../../mfc/reference/cricheditview-class.md)\n"}