{"nodes":[{"pos":[12,68],"content":"Argument Passing and Naming Conventions | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Argument Passing and Naming Conventions | Microsoft Docs","pos":[0,56]}]},{"content":"Argument Passing and Naming Conventions","pos":[931,970]},{"content":"Microsoft Specific","pos":[973,991]},{"content":"The Visual C++ compilers allow you to specify conventions for passing arguments and return values between functions and callers.","pos":[1000,1128]},{"content":"Not all conventions are available on all supported platforms, and some conventions use platform-specific implementations.","pos":[1129,1250]},{"content":"In most cases, keywords or compiler switches that specify an unsupported convention on a particular platform are ignored, and the platform default convention is used.","pos":[1251,1417]},{"content":"On x86 plaftorms, all arguments are widened to 32 bits when they are passed.","pos":[1424,1500]},{"content":"Return values are also widened to 32 bits and returned in the EAX register, except for 8-byte structures, which are returned in the EDX:EAX register pair.","pos":[1501,1655]},{"content":"Larger structures are returned in the EAX register as pointers to hidden return structures.","pos":[1656,1747]},{"content":"Parameters are pushed onto the stack from right to left.","pos":[1748,1804]},{"content":"Structures that are not PODs will not be returned in registers.","pos":[1805,1868]},{"content":"The compiler generates prolog and epilog code to save and restore the ESI, EDI, EBX, and EBP registers, if they are used in the function.","pos":[1875,2012]},{"pos":[2020,2186],"content":"[!NOTE]\n When a struct, union, or class is returned from a function by value, all definitions of the type need to be the same, else the program may fail at runtime.","leadings":["","> "],"nodes":[{"content":"When a struct, union, or class is returned from a function by value, all definitions of the type need to be the same, else the program may fail at runtime.","pos":[9,164]}]},{"pos":[2193,2327],"content":"For information on how to define your own function prolog and epilog code, see <bpt id=\"p1\">[</bpt>Naked Function Calls<ept id=\"p1\">](../cpp/naked-function-calls.md)</ept>.","source":"For information on how to define your own function prolog and epilog code, see [Naked Function Calls](../cpp/naked-function-calls.md)."},{"content":"For information about the default calling conventions in code that targets x64 platforms, see <bpt id=\"p1\">[</bpt>Overview of x64 Calling Conventions<ept id=\"p1\">](../build/overview-of-x64-calling-conventions.md)</ept>.","pos":[2334,2515],"source":"For information about the default calling conventions in code that targets x64 platforms, see [Overview of x64 Calling Conventions](../build/overview-of-x64-calling-conventions.md)."},{"content":"For information about calling convention issues in code that targets ARM platforms, see <bpt id=\"p1\">[</bpt>Common Visual C++ ARM Migration Issues<ept id=\"p1\">](../build/common-visual-cpp-arm-migration-issues.md)</ept>.","pos":[2516,2697],"source":" For information about calling convention issues in code that targets ARM platforms, see [Common Visual C++ ARM Migration Issues](../build/common-visual-cpp-arm-migration-issues.md)."},{"content":"The following calling conventions are supported by the Visual C/C++ compiler.","pos":[2704,2781]},{"content":"Keyword","pos":[2788,2795]},{"content":"Stack cleanup","pos":[2796,2809]},{"content":"Parameter passing","pos":[2810,2827]},{"content":"__cdecl","pos":[2895,2902]},{"content":"Caller","pos":[2921,2927]},{"content":"Pushes parameters on the stack, in reverse order (right to left)","pos":[2928,2992]},{"content":"__clrcall","pos":[2998,3007]},{"content":"n/a","pos":[3028,3031]},{"content":"Load parameters onto CLR expression stack in order (left to right).","pos":[3032,3099]},{"content":"__stdcall","pos":[3105,3114]},{"content":"Callee","pos":[3135,3141]},{"content":"Pushes parameters on the stack, in reverse order (right to left)","pos":[3142,3206]},{"content":"__fastcall","pos":[3212,3222]},{"content":"Callee","pos":[3244,3250]},{"content":"Stored in registers, then pushed on stack","pos":[3251,3292]},{"content":"__thiscall","pos":[3298,3308]},{"content":"Callee","pos":[3330,3336]},{"pos":[3337,3384],"content":"Pushed on stack; <bpt id=\"p1\">**</bpt>this<ept id=\"p1\">**</ept> pointer stored in ECX","source":"Pushed on stack; **this** pointer stored in ECX"},{"content":"__vectorcall","pos":[3390,3402]},{"content":"Callee","pos":[3426,3432]},{"content":"Stored in registers, then pushed on stack in reverse order (right to left)","pos":[3433,3507]},{"pos":[3515,3615],"content":"For related information, see <bpt id=\"p1\">[</bpt>Obsolete Calling Conventions<ept id=\"p1\">](../cpp/obsolete-calling-conventions.md)</ept>.","source":"For related information, see [Obsolete Calling Conventions](../cpp/obsolete-calling-conventions.md)."},{"content":"END Microsoft Specific","pos":[3624,3646]},{"content":"See Also","pos":[3657,3665]},{"content":"Calling Conventions","pos":[3670,3689]}],"content":"---\ntitle: \"Argument Passing and Naming Conventions | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"language-reference\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"argument passing [C++], conventions\"\n  - \"arguments [C++], widening\"\n  - \"coding conventions, arguments\"\n  - \"arguments [C++], passing\"\n  - \"registers, return values\"\n  - \"thiscall keyword [C++]\"\n  - \"naming conventions [C++], arguments\"\n  - \"arguments [C++], naming\"\n  - \"passing arguments, conventions\"\n  - \"conventions [C++], argument names\"\nms.assetid: de468979-eab8-4158-90c5-c198932f93b9\ncaps.latest.revision: 9\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Argument Passing and Naming Conventions\n**Microsoft Specific**  \n  \n The Visual C++ compilers allow you to specify conventions for passing arguments and return values between functions and callers. Not all conventions are available on all supported platforms, and some conventions use platform-specific implementations. In most cases, keywords or compiler switches that specify an unsupported convention on a particular platform are ignored, and the platform default convention is used.  \n  \n On x86 plaftorms, all arguments are widened to 32 bits when they are passed. Return values are also widened to 32 bits and returned in the EAX register, except for 8-byte structures, which are returned in the EDX:EAX register pair. Larger structures are returned in the EAX register as pointers to hidden return structures. Parameters are pushed onto the stack from right to left. Structures that are not PODs will not be returned in registers.  \n  \n The compiler generates prolog and epilog code to save and restore the ESI, EDI, EBX, and EBP registers, if they are used in the function.  \n  \n> [!NOTE]\n>  When a struct, union, or class is returned from a function by value, all definitions of the type need to be the same, else the program may fail at runtime.  \n  \n For information on how to define your own function prolog and epilog code, see [Naked Function Calls](../cpp/naked-function-calls.md).  \n  \n For information about the default calling conventions in code that targets x64 platforms, see [Overview of x64 Calling Conventions](../build/overview-of-x64-calling-conventions.md). For information about calling convention issues in code that targets ARM platforms, see [Common Visual C++ ARM Migration Issues](../build/common-visual-cpp-arm-migration-issues.md).  \n  \n The following calling conventions are supported by the Visual C/C++ compiler.  \n  \n|Keyword|Stack cleanup|Parameter passing|  \n|-------------|-------------------|-----------------------|  \n|[__cdecl](../cpp/cdecl.md)|Caller|Pushes parameters on the stack, in reverse order (right to left)|  \n|[__clrcall](../cpp/clrcall.md)|n/a|Load parameters onto CLR expression stack in order (left to right).|  \n|[__stdcall](../cpp/stdcall.md)|Callee|Pushes parameters on the stack, in reverse order (right to left)|  \n|[__fastcall](../cpp/fastcall.md)|Callee|Stored in registers, then pushed on stack|  \n|[__thiscall](../cpp/thiscall.md)|Callee|Pushed on stack; **this** pointer stored in ECX|  \n|[__vectorcall](../cpp/vectorcall.md)|Callee|Stored in registers, then pushed on stack in reverse order (right to left)|  \n  \n For related information, see [Obsolete Calling Conventions](../cpp/obsolete-calling-conventions.md).  \n  \n **END Microsoft Specific**  \n  \n## See Also  \n [Calling Conventions](../cpp/calling-conventions.md)"}