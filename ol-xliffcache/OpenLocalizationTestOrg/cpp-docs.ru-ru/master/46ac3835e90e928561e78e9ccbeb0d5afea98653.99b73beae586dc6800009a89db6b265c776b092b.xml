{"nodes":[{"pos":[12,60],"content":"Synchronization Data Structures | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Synchronization Data Structures | Microsoft Docs","pos":[0,48]}]},{"content":"Synchronization Data Structures","pos":[601,632]},{"content":"The Concurrency Runtime provides several data structures that let you synchronize access to shared data from multiple threads.","pos":[633,759]},{"content":"These data structures are useful when you have shared data that you modify infrequently.","pos":[760,848]},{"content":"A synchronization object, for example, a critical section, causes other threads to wait until the shared resource is available.","pos":[849,976]},{"content":"Therefore, if you use such an object to synchronize access to data that is used frequently, you can lose scalability in your application.","pos":[977,1114]},{"content":"The <bpt id=\"p1\">[</bpt>Parallel Patterns Library (PPL)<ept id=\"p1\">](../../parallel/concrt/parallel-patterns-library-ppl.md)</ept> provides the <bpt id=\"p2\">[</bpt>concurrency::combinable<ept id=\"p2\">](../../parallel/concrt/reference/combinable-class.md)</ept> class, which enables you to share a resource among several threads or tasks without the need for synchronization.","pos":[1115,1414],"source":" The [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) provides the [concurrency::combinable](../../parallel/concrt/reference/combinable-class.md) class, which enables you to share a resource among several threads or tasks without the need for synchronization."},{"content":"For more information about the <ph id=\"ph1\">`combinable`</ph> class, see <bpt id=\"p1\">[</bpt>Parallel Containers and Objects<ept id=\"p1\">](../../parallel/concrt/parallel-containers-and-objects.md)</ept>.","pos":[1415,1562],"source":" For more information about the `combinable` class, see [Parallel Containers and Objects](../../parallel/concrt/parallel-containers-and-objects.md)."},{"pos":[1591,1599],"content":"Sections"},{"content":"This topic describes the following asynchronous message block types in detail:","pos":[1603,1681]},{"content":"critical_section","pos":[1692,1708]},{"content":"reader_writer_lock","pos":[1739,1757]},{"content":"scoped_lock and scoped_lock_read","pos":[1790,1822]},{"content":"event","pos":[1848,1853]},{"pos":[1904,1920],"content":"critical_section"},{"content":"The <bpt id=\"p1\">[</bpt>concurrency::critical_section<ept id=\"p1\">](../../parallel/concrt/reference/critical-section-class.md)</ept> class represents a cooperative mutual exclusion object that yields to other tasks instead of preempting them.","pos":[1924,2128],"source":"The [concurrency::critical_section](../../parallel/concrt/reference/critical-section-class.md) class represents a cooperative mutual exclusion object that yields to other tasks instead of preempting them."},{"content":"Critical sections are useful when multiple threads require exclusive read and write access to shared data.","pos":[2129,2235]},{"content":"The <ph id=\"ph1\">`critical_section`</ph> class is non-reentrant.","pos":[2240,2286],"source":"The `critical_section` class is non-reentrant."},{"content":"The <bpt id=\"p1\">[</bpt>concurrency::critical_section::lock<ept id=\"p1\">](reference/critical-section-class.md#lock)</ept> method throws an exception of type <bpt id=\"p2\">[</bpt>concurrency::improper_lock<ept id=\"p2\">](../../parallel/concrt/reference/improper-lock-class.md)</ept> if it is called by the thread that already owns the lock.","pos":[2287,2548],"source":" The [concurrency::critical_section::lock](reference/critical-section-class.md#lock) method throws an exception of type [concurrency::improper_lock](../../parallel/concrt/reference/improper-lock-class.md) if it is called by the thread that already owns the lock."},{"content":"Methods and Features","pos":[2560,2580]},{"pos":[2584,2681],"content":"The following table shows the important methods that are defined by the <ph id=\"ph1\">`critical_section`</ph> class.","source":"The following table shows the important methods that are defined by the `critical_section` class."},{"content":"Method","pos":[2688,2694]},{"content":"Description","pos":[2695,2706]},{"content":"lock","pos":[2747,2751]},{"content":"Acquires the critical section.","pos":[2795,2825]},{"content":"The calling context blocks until it acquires the lock.","pos":[2826,2880]},{"content":"try_lock","pos":[2886,2894]},{"content":"Tries to acquire the critical section, but does not block.","pos":[2942,3000]},{"content":"unlock","pos":[3006,3012]},{"content":"Releases the critical section.","pos":[3058,3088]},{"pos":[3096,3109],"content":"[<bpt id=\"p1\">[</bpt>Top<ept id=\"p1\">](#top)</ept>]","source":"[[Top](#top)]"},{"pos":[3153,3171],"content":"reader_writer_lock"},{"content":"The <bpt id=\"p1\">[</bpt>concurrency::reader_writer_lock<ept id=\"p1\">](../../parallel/concrt/reference/reader-writer-lock-class.md)</ept> class provides thread-safe read/write operations to shared data.","pos":[3175,3338],"source":"The [concurrency::reader_writer_lock](../../parallel/concrt/reference/reader-writer-lock-class.md) class provides thread-safe read/write operations to shared data."},{"content":"Use reader/writer locks when multiple threads require concurrent read access to a shared resource but rarely write to that shared resource.","pos":[3339,3478]},{"content":"This class gives only one thread write access to an object at any time.","pos":[3479,3550]},{"pos":[3557,3763],"content":"The <ph id=\"ph1\">`reader_writer_lock`</ph> class can perform better than the <ph id=\"ph2\">`critical_section`</ph> class because a <ph id=\"ph3\">`critical_section`</ph> object acquires exclusive access to a shared resource, which prevents concurrent read access.","source":"The `reader_writer_lock` class can perform better than the `critical_section` class because a `critical_section` object acquires exclusive access to a shared resource, which prevents concurrent read access."},{"pos":[3770,3939],"content":"Like the <ph id=\"ph1\">`critical_section`</ph> class, the <ph id=\"ph2\">`reader_writer_lock`</ph> class represents a cooperative mutual exclusion object that yields to other tasks instead of preempting them.","source":"Like the `critical_section` class, the `reader_writer_lock` class represents a cooperative mutual exclusion object that yields to other tasks instead of preempting them."},{"content":"When a thread that must write to a shared resource acquires a reader/writer lock, other threads that also must access the resource are blocked until the writer releases the lock.","pos":[3946,4124]},{"content":"The <ph id=\"ph1\">`reader_writer_lock`</ph> class is an example of a <bpt id=\"p1\">*</bpt>write-preference<ept id=\"p1\">*</ept> lock, which is a lock that unblocks waiting writers before it unblocks waiting readers.","pos":[4125,4281],"source":" The `reader_writer_lock` class is an example of a *write-preference* lock, which is a lock that unblocks waiting writers before it unblocks waiting readers."},{"content":"Like the <ph id=\"ph1\">`critical_section`</ph> class, the <ph id=\"ph2\">`reader_writer_lock`</ph> class is non-reentrant.","pos":[4288,4371],"source":"Like the `critical_section` class, the `reader_writer_lock` class is non-reentrant."},{"content":"The <bpt id=\"p1\">[</bpt>concurrency::reader_writer_lock::lock<ept id=\"p1\">](reference/reader-writer-lock-class.md#lock)</ept> and <bpt id=\"p2\">[</bpt>concurrency::reader_writer_lock::lock_read<ept id=\"p2\">](reference/reader-writer-lock-class.md#lock_read)</ept> methods throw an exception of type <ph id=\"ph1\">`improper_lock`</ph> if they are called by a thread that already owns the lock.","pos":[4372,4667],"source":" The [concurrency::reader_writer_lock::lock](reference/reader-writer-lock-class.md#lock) and [concurrency::reader_writer_lock::lock_read](reference/reader-writer-lock-class.md#lock_read) methods throw an exception of type `improper_lock` if they are called by a thread that already owns the lock."},{"pos":[4677,4928],"content":"[!NOTE]\n Because the `reader_writer_lock` class is non-reentrant, you cannot upgrade a read-only lock to a reader/writer lock or downgrade a reader/writer lock to a read-only lock. Performing either of these operations produces unspecified behavior.","leadings":["","> "],"nodes":[{"content":" Because the `reader_writer_lock` class is non-reentrant, you cannot upgrade a read-only lock to a reader/writer lock or downgrade a reader/writer lock to a read-only lock. Performing either of these operations produces unspecified behavior.","pos":[8,249],"nodes":[{"content":"Because the <ph id=\"ph1\">`reader_writer_lock`</ph> class is non-reentrant, you cannot upgrade a read-only lock to a reader/writer lock or downgrade a reader/writer lock to a read-only lock.","pos":[1,172],"source":" Because the `reader_writer_lock` class is non-reentrant, you cannot upgrade a read-only lock to a reader/writer lock or downgrade a reader/writer lock to a read-only lock."},{"content":"Performing either of these operations produces unspecified behavior.","pos":[173,241]}]}]},{"content":"Methods and Features","pos":[4938,4958]},{"pos":[4962,5061],"content":"The following table shows the important methods that are defined by the <ph id=\"ph1\">`reader_writer_lock`</ph> class.","source":"The following table shows the important methods that are defined by the `reader_writer_lock` class."},{"content":"Method","pos":[5068,5074]},{"content":"Description","pos":[5075,5086]},{"content":"lock","pos":[5127,5131]},{"content":"Acquires read/write access to the lock.","pos":[5177,5216]},{"content":"try_lock","pos":[5222,5230]},{"content":"Tries to acquire read/write access to the lock, but does not block.","pos":[5280,5347]},{"content":"lock_read","pos":[5353,5362]},{"content":"Acquires read-only access to the lock.","pos":[5413,5451]},{"content":"try_lock_read","pos":[5457,5470]},{"content":"Tries to acquire read-only access to the lock, but does not block.","pos":[5525,5591]},{"content":"unlock","pos":[5597,5603]},{"content":"Releases the lock.","pos":[5651,5669]},{"pos":[5677,5690],"content":"[<bpt id=\"p1\">[</bpt>Top<ept id=\"p1\">](#top)</ept>]","source":"[[Top](#top)]"},{"pos":[5727,5759],"content":"scoped_lock and scoped_lock_read"},{"content":"The <ph id=\"ph1\">`critical_section`</ph> and <ph id=\"ph2\">`reader_writer_lock`</ph> classes provide nested helper classes that simplify the way you work with mutual exclusion objects.","pos":[5763,5910],"source":"The `critical_section` and `reader_writer_lock` classes provide nested helper classes that simplify the way you work with mutual exclusion objects."},{"content":"These helper classes are known as <bpt id=\"p1\">*</bpt>scoped locks<ept id=\"p1\">*</ept>.","pos":[5911,5960],"source":" These helper classes are known as *scoped locks*."},{"content":"The <ph id=\"ph1\">`critical_section`</ph> class contains the <bpt id=\"p1\">[</bpt>concurrency::critical_section::scoped_lock<ept id=\"p1\">](reference/critical-section-class.md#critical_section__scoped_lock_class)</ept> class.","pos":[5967,6133],"source":"The `critical_section` class contains the [concurrency::critical_section::scoped_lock](reference/critical-section-class.md#critical_section__scoped_lock_class) class."},{"content":"The constructor acquires access to the provided <ph id=\"ph1\">`critical_section`</ph> object; the destructor releases access to that object.","pos":[6134,6255],"source":" The constructor acquires access to the provided `critical_section` object; the destructor releases access to that object."},{"content":"The <ph id=\"ph1\">`reader_writer_lock`</ph> class contains the <bpt id=\"p1\">[</bpt>concurrency::reader_writer_lock::scoped_lock<ept id=\"p1\">](reference/reader-writer-lock-class.md#scoped_lock_class)</ept> class, which resembles <ph id=\"ph2\">`critical_section::scoped_lock`</ph>, except that it manages write access to the provided <ph id=\"ph3\">`reader_writer_lock`</ph> object.","pos":[6256,6540],"source":" The `reader_writer_lock` class contains the [concurrency::reader_writer_lock::scoped_lock](reference/reader-writer-lock-class.md#scoped_lock_class) class, which resembles `critical_section::scoped_lock`, except that it manages write access to the provided `reader_writer_lock` object."},{"content":"The <ph id=\"ph1\">`reader_writer_lock`</ph> class also contains the <bpt id=\"p1\">[</bpt>concurrency::reader_writer_lock::scoped_lock_read<ept id=\"p1\">](reference/reader-writer-lock-class.md#scoped_lock_read_class)</ept> class.","pos":[6541,6710],"source":" The `reader_writer_lock` class also contains the [concurrency::reader_writer_lock::scoped_lock_read](reference/reader-writer-lock-class.md#scoped_lock_read_class) class."},{"content":"This class manages read access to the provided <ph id=\"ph1\">`reader_writer_lock`</ph> object.","pos":[6711,6786],"source":" This class manages read access to the provided `reader_writer_lock` object."},{"content":"Scoped locks provide several benefits when you are working with <ph id=\"ph1\">`critical_section`</ph> and <ph id=\"ph2\">`reader_writer_lock`</ph> objects manually.","pos":[6794,6919],"source":"Scoped locks provide several benefits when you are working with `critical_section` and `reader_writer_lock` objects manually."},{"content":"Typically, you allocate a scoped lock on the stack.","pos":[6920,6971]},{"content":"A scoped lock releases access to its mutual exclusion object automatically when it is destroyed; therefore, you do not manually unlock the underlying object.","pos":[6972,7129]},{"content":"This is useful when a function contains multiple <ph id=\"ph1\">`return`</ph> statements.","pos":[7130,7199],"source":" This is useful when a function contains multiple `return` statements."},{"content":"Scoped locks can also help you write exception-safe code.","pos":[7200,7257]},{"content":"When a <ph id=\"ph1\">`throw`</ph> statement causes the stack to unwind, the destructor for any active scoped lock is called, and therefore the mutual exclusion object is always correctly released.","pos":[7258,7435],"source":" When a `throw` statement causes the stack to unwind, the destructor for any active scoped lock is called, and therefore the mutual exclusion object is always correctly released."},{"pos":[7443,7710],"content":"[!NOTE]\n When you use the `critical_section::scoped_lock`, `reader_writer_lock::scoped_lock`, and `reader_writer_lock::scoped_lock_read` classes, do not manually release access to the underlying mutual exclusion object. This can put the runtime in an invalid state.","leadings":["","> "],"nodes":[{"content":" When you use the `critical_section::scoped_lock`, `reader_writer_lock::scoped_lock`, and `reader_writer_lock::scoped_lock_read` classes, do not manually release access to the underlying mutual exclusion object. This can put the runtime in an invalid state.","pos":[8,265],"nodes":[{"content":"When you use the <ph id=\"ph1\">`critical_section::scoped_lock`</ph>, <ph id=\"ph2\">`reader_writer_lock::scoped_lock`</ph>, and <ph id=\"ph3\">`reader_writer_lock::scoped_lock_read`</ph> classes, do not manually release access to the underlying mutual exclusion object.","pos":[1,211],"source":" When you use the `critical_section::scoped_lock`, `reader_writer_lock::scoped_lock`, and `reader_writer_lock::scoped_lock_read` classes, do not manually release access to the underlying mutual exclusion object."},{"content":"This can put the runtime in an invalid state.","pos":[212,257]}]}]},{"pos":[7741,7746],"content":"event"},{"content":"The <bpt id=\"p1\">[</bpt>concurrency::event<ept id=\"p1\">](../../parallel/concrt/reference/event-class.md)</ept> class represents a synchronization object whose state can be signaled or non-signaled.","pos":[7750,7909],"source":"The [concurrency::event](../../parallel/concrt/reference/event-class.md) class represents a synchronization object whose state can be signaled or non-signaled."},{"content":"Unlike synchronization objects, such as critical sections, whose purpose is to protect access to shared data, events synchronize flow of execution.","pos":[7910,8057]},{"content":"The <ph id=\"ph1\">`event`</ph> class is useful when one task has completed work for another task.","pos":[8064,8142],"source":"The `event` class is useful when one task has completed work for another task."},{"content":"For example, one task might signal another task that it has read data from a network connection or from a file.","pos":[8143,8254]},{"content":"Methods and Features","pos":[8264,8284]},{"pos":[8288,8385],"content":"The following table shows several of the important methods that are defined by the <ph id=\"ph1\">`event`</ph> class.","source":"The following table shows several of the important methods that are defined by the `event` class."},{"content":"Method","pos":[8392,8398]},{"content":"Description","pos":[8399,8410]},{"content":"<bpt id=\"p1\">[</bpt>wait<ept id=\"p1\">](reference/event-class.md#wait)</ept>|Waits for the event to become signaled.|","pos":[8451,8529],"source":"[wait](reference/event-class.md#wait)|Waits for the event to become signaled.|"},{"content":"<bpt id=\"p1\">[</bpt>set<ept id=\"p1\">](reference/event-class.md#set)</ept>|Sets the event to the signaled state.|","pos":[8533,8607],"source":"[set](reference/event-class.md#set)|Sets the event to the signaled state.|"},{"content":"<bpt id=\"p1\">[</bpt>reset<ept id=\"p1\">](reference/event-class.md#reset)</ept>|Sets the event to the non-signaled state.|","pos":[8611,8693],"source":"[reset](reference/event-class.md#reset)|Sets the event to the non-signaled state.|"},{"content":"<bpt id=\"p1\">[</bpt>wait_for_multiple<ept id=\"p1\">](reference/event-class.md#wait_for_multiple)</ept>|Waits for multiple events to become signaled.|","pos":[8697,8807],"source":"[wait_for_multiple](reference/event-class.md#wait_for_multiple)|Waits for multiple events to become signaled.|"},{"content":"Example","pos":[8818,8825]},{"pos":[8829,9039],"content":"For an example that shows how to use the <ph id=\"ph1\">`event`</ph> class, see <bpt id=\"p1\">[</bpt>Comparing Synchronization Data Structures to the Windows API<ept id=\"p1\">](../../parallel/concrt/comparing-synchronization-data-structures-to-the-windows-api.md)</ept>.","source":"For an example that shows how to use the `event` class, see [Comparing Synchronization Data Structures to the Windows API](../../parallel/concrt/comparing-synchronization-data-structures-to-the-windows-api.md)."},{"pos":[9046,9059],"content":"[<bpt id=\"p1\">[</bpt>Top<ept id=\"p1\">](#top)</ept>]","source":"[[Top](#top)]"},{"content":"Related Sections","pos":[9068,9084]},{"content":"Comparing Synchronization Data Structures to the Windows API","pos":[9089,9149]},{"content":"Compares the behavior of the synchronization data structures to those provided by the Windows API.","pos":[9241,9339]},{"content":"Concurrency Runtime","pos":[9347,9366]},{"content":"Describes the Concurrency Runtime, which simplifies parallel programming, and contains links to related topics.","pos":[9417,9528]}],"content":"---\ntitle: \"Synchronization Data Structures | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"synchronization data structures\"\nms.assetid: d612757d-e4b7-4019-a627-f853af085b8b\ncaps.latest.revision: 26\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Synchronization Data Structures\nThe Concurrency Runtime provides several data structures that let you synchronize access to shared data from multiple threads. These data structures are useful when you have shared data that you modify infrequently. A synchronization object, for example, a critical section, causes other threads to wait until the shared resource is available. Therefore, if you use such an object to synchronize access to data that is used frequently, you can lose scalability in your application. The [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) provides the [concurrency::combinable](../../parallel/concrt/reference/combinable-class.md) class, which enables you to share a resource among several threads or tasks without the need for synchronization. For more information about the `combinable` class, see [Parallel Containers and Objects](../../parallel/concrt/parallel-containers-and-objects.md).  \n  \n##  <a name=\"top\"></a> Sections  \n This topic describes the following asynchronous message block types in detail:  \n  \n-   [critical_section](#critical_section)  \n  \n-   [reader_writer_lock](#reader_writer_lock)  \n  \n-   [scoped_lock and scoped_lock_read](#scoped_lock)  \n  \n-   [event](#event)  \n  \n##  <a name=\"critical_section\"></a> critical_section  \n The [concurrency::critical_section](../../parallel/concrt/reference/critical-section-class.md) class represents a cooperative mutual exclusion object that yields to other tasks instead of preempting them. Critical sections are useful when multiple threads require exclusive read and write access to shared data.  \n\n The `critical_section` class is non-reentrant. The [concurrency::critical_section::lock](reference/critical-section-class.md#lock) method throws an exception of type [concurrency::improper_lock](../../parallel/concrt/reference/improper-lock-class.md) if it is called by the thread that already owns the lock.  \n\n\n  \n### Methods and Features  \n The following table shows the important methods that are defined by the `critical_section` class.  \n  \n|Method|Description|  \n|------------|-----------------|  \n|[lock](reference/critical-section-class.md#lock)|Acquires the critical section. The calling context blocks until it acquires the lock.|  \n|[try_lock](reference/critical-section-class.md#try_lock)|Tries to acquire the critical section, but does not block.|  \n|[unlock](reference/critical-section-class.md#unlock)|Releases the critical section.|  \n  \n [[Top](#top)]  \n  \n##  <a name=\"reader_writer_lock\"></a> reader_writer_lock  \n The [concurrency::reader_writer_lock](../../parallel/concrt/reference/reader-writer-lock-class.md) class provides thread-safe read/write operations to shared data. Use reader/writer locks when multiple threads require concurrent read access to a shared resource but rarely write to that shared resource. This class gives only one thread write access to an object at any time.  \n  \n The `reader_writer_lock` class can perform better than the `critical_section` class because a `critical_section` object acquires exclusive access to a shared resource, which prevents concurrent read access.  \n  \n Like the `critical_section` class, the `reader_writer_lock` class represents a cooperative mutual exclusion object that yields to other tasks instead of preempting them.  \n  \n When a thread that must write to a shared resource acquires a reader/writer lock, other threads that also must access the resource are blocked until the writer releases the lock. The `reader_writer_lock` class is an example of a *write-preference* lock, which is a lock that unblocks waiting writers before it unblocks waiting readers.  \n  \n Like the `critical_section` class, the `reader_writer_lock` class is non-reentrant. The [concurrency::reader_writer_lock::lock](reference/reader-writer-lock-class.md#lock) and [concurrency::reader_writer_lock::lock_read](reference/reader-writer-lock-class.md#lock_read) methods throw an exception of type `improper_lock` if they are called by a thread that already owns the lock.  \n\n\n  \n> [!NOTE]\n>  Because the `reader_writer_lock` class is non-reentrant, you cannot upgrade a read-only lock to a reader/writer lock or downgrade a reader/writer lock to a read-only lock. Performing either of these operations produces unspecified behavior.  \n  \n### Methods and Features  \n The following table shows the important methods that are defined by the `reader_writer_lock` class.  \n  \n|Method|Description|  \n|------------|-----------------|  \n|[lock](reference/reader-writer-lock-class.md#lock)|Acquires read/write access to the lock.|  \n|[try_lock](reference/reader-writer-lock-class.md#try_lock)|Tries to acquire read/write access to the lock, but does not block.|  \n|[lock_read](reference/reader-writer-lock-class.md#lock_read)|Acquires read-only access to the lock.|  \n|[try_lock_read](reference/reader-writer-lock-class.md#try_lock_read)|Tries to acquire read-only access to the lock, but does not block.|  \n|[unlock](reference/reader-writer-lock-class.md#unlock)|Releases the lock.|  \n  \n [[Top](#top)]  \n  \n##  <a name=\"scoped_lock\"></a> scoped_lock and scoped_lock_read  \n The `critical_section` and `reader_writer_lock` classes provide nested helper classes that simplify the way you work with mutual exclusion objects. These helper classes are known as *scoped locks*.  \n  \n The `critical_section` class contains the [concurrency::critical_section::scoped_lock](reference/critical-section-class.md#critical_section__scoped_lock_class) class. The constructor acquires access to the provided `critical_section` object; the destructor releases access to that object. The `reader_writer_lock` class contains the [concurrency::reader_writer_lock::scoped_lock](reference/reader-writer-lock-class.md#scoped_lock_class) class, which resembles `critical_section::scoped_lock`, except that it manages write access to the provided `reader_writer_lock` object. The `reader_writer_lock` class also contains the [concurrency::reader_writer_lock::scoped_lock_read](reference/reader-writer-lock-class.md#scoped_lock_read_class) class. This class manages read access to the provided `reader_writer_lock` object.  \n\n  \n Scoped locks provide several benefits when you are working with `critical_section` and `reader_writer_lock` objects manually. Typically, you allocate a scoped lock on the stack. A scoped lock releases access to its mutual exclusion object automatically when it is destroyed; therefore, you do not manually unlock the underlying object. This is useful when a function contains multiple `return` statements. Scoped locks can also help you write exception-safe code. When a `throw` statement causes the stack to unwind, the destructor for any active scoped lock is called, and therefore the mutual exclusion object is always correctly released.  \n  \n> [!NOTE]\n>  When you use the `critical_section::scoped_lock`, `reader_writer_lock::scoped_lock`, and `reader_writer_lock::scoped_lock_read` classes, do not manually release access to the underlying mutual exclusion object. This can put the runtime in an invalid state.  \n  \n##  <a name=\"event\"></a> event  \n The [concurrency::event](../../parallel/concrt/reference/event-class.md) class represents a synchronization object whose state can be signaled or non-signaled. Unlike synchronization objects, such as critical sections, whose purpose is to protect access to shared data, events synchronize flow of execution.  \n  \n The `event` class is useful when one task has completed work for another task. For example, one task might signal another task that it has read data from a network connection or from a file.  \n  \n### Methods and Features  \n The following table shows several of the important methods that are defined by the `event` class.  \n  \n|Method|Description|  \n|------------|-----------------|  \n\n|[wait](reference/event-class.md#wait)|Waits for the event to become signaled.|  \n|[set](reference/event-class.md#set)|Sets the event to the signaled state.|  \n|[reset](reference/event-class.md#reset)|Sets the event to the non-signaled state.|  \n|[wait_for_multiple](reference/event-class.md#wait_for_multiple)|Waits for multiple events to become signaled.|  \n\n  \n### Example  \n For an example that shows how to use the `event` class, see [Comparing Synchronization Data Structures to the Windows API](../../parallel/concrt/comparing-synchronization-data-structures-to-the-windows-api.md).  \n  \n [[Top](#top)]  \n  \n## Related Sections  \n [Comparing Synchronization Data Structures to the Windows API](../../parallel/concrt/comparing-synchronization-data-structures-to-the-windows-api.md)  \n Compares the behavior of the synchronization data structures to those provided by the Windows API.  \n  \n [Concurrency Runtime](../../parallel/concrt/concurrency-runtime.md)  \n Describes the Concurrency Runtime, which simplifies parallel programming, and contains links to related topics.\n\n"}