{"nodes":[{"pos":[12,57],"content":"Linker Tools Warning LNK4248 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Linker Tools Warning LNK4248 | Microsoft Docs","pos":[0,45]}]},{"content":"Linker Tools Warning LNK4248","pos":[610,638]},{"content":"unresolved typeref token (token) for 'type'; image may not run","pos":[639,701]},{"content":"A type doesn’t have a definition in MSIL metadata.","pos":[708,758]},{"pos":[765,1020],"content":"LNK4248 can occur when there is only a forward declaration for a type in an MSIL module (compiled with <bpt id=\"p1\">**</bpt>/clr<ept id=\"p1\">**</ept>), where the type is referenced in the MSIL module, and where the MSIL module is linked with a native module that has a definition for the type.","source":"LNK4248 can occur when there is only a forward declaration for a type in an MSIL module (compiled with **/clr**), where the type is referenced in the MSIL module, and where the MSIL module is linked with a native module that has a definition for the type."},{"content":"In this situation, the linker will provide the native type definition in the MSIL metadata, and this may provide for the correct behavior.","pos":[1027,1165]},{"content":"However, if a forward type declaration is a CLR type, then the linker's native type definition may not be correct","pos":[1172,1285]},{"pos":[1292,1429],"content":"For more information, see <bpt id=\"p1\">[</bpt>/clr (Common Language Runtime Compilation)<ept id=\"p1\">](../../build/reference/clr-common-language-runtime-compilation.md)</ept>.","source":"For more information, see [/clr (Common Language Runtime Compilation)](../../build/reference/clr-common-language-runtime-compilation.md)."},{"content":"To correct this error","pos":[1439,1460]},{"content":"Provide the type definition in the MSIL module.","pos":[1470,1517]},{"content":"Example","pos":[1526,1533]},{"content":"The following sample generates LNK4248.","pos":[1537,1576]},{"content":"Define struct A to resolve.","pos":[1577,1604]},{"content":"Example","pos":[1761,1768]},{"content":"The following sample has a forward definition of a type.","pos":[1772,1828]},{"content":"Example","pos":[2058,2065]},{"content":"The following sample generates LNK4248.","pos":[2069,2108]}],"content":"---\ntitle: \"Linker Tools Warning LNK4248 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"LNK4248\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"LNK4248\"\nms.assetid: e40523ff-e3cb-4ba6-ab79-23f0f339f6cf\ncaps.latest.revision: 11\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Linker Tools Warning LNK4248\nunresolved typeref token (token) for 'type'; image may not run  \n  \n A type doesn’t have a definition in MSIL metadata.  \n  \n LNK4248 can occur when there is only a forward declaration for a type in an MSIL module (compiled with **/clr**), where the type is referenced in the MSIL module, and where the MSIL module is linked with a native module that has a definition for the type.  \n  \n In this situation, the linker will provide the native type definition in the MSIL metadata, and this may provide for the correct behavior.  \n  \n However, if a forward type declaration is a CLR type, then the linker's native type definition may not be correct  \n  \n For more information, see [/clr (Common Language Runtime Compilation)](../../build/reference/clr-common-language-runtime-compilation.md).  \n  \n### To correct this error  \n  \n1.  Provide the type definition in the MSIL module.  \n  \n## Example  \n The following sample generates LNK4248. Define struct A to resolve.  \n  \n```  \n// LNK4248.cpp  \n// compile with: /clr /W1  \n// LNK4248 expected  \nstruct A;  \nvoid Test(A*){}  \n  \nint main() {  \n   Test(0);  \n}  \n```  \n  \n## Example  \n The following sample has a forward definition of a type.  \n  \n```  \n// LNK4248_2.cpp  \n// compile with: /clr /c  \nclass A;   // provide a definition for A here to resolve  \nA * newA();  \nint valueA(A * a);  \n  \nint main() {  \n   A * a = newA();  \n   return valueA(a);  \n}  \n```  \n  \n## Example  \n The following sample generates LNK4248.  \n  \n```  \n// LNK4248_3.cpp  \n// compile with: /c  \n// post-build command: link LNK4248_2.obj LNK4248_3.obj  \nclass A {  \npublic:   \n   int b;  \n};  \n  \nA* newA() {  \n   return new A;  \n}  \n  \nint valueA(A * a) {  \n   return (int)a;  \n}  \n```"}