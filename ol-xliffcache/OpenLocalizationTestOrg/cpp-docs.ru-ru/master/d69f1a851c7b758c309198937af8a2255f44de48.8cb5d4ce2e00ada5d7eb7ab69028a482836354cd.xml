{"nodes":[{"pos":[12,72],"content":"How to: Specify Specific Scheduler Policies | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Specify Specific Scheduler Policies | Microsoft Docs","pos":[0,60]}]},{"content":"How to: Specify Specific Scheduler Policies","pos":[718,761]},{"content":"Scheduler policies let you control the strategy that the scheduler uses when it manages tasks.","pos":[762,856]},{"content":"This topic shows how to use a scheduler policy to increase the thread priority of a task that prints a progress indicator to the console.","pos":[857,994]},{"pos":[1001,1236],"content":"For an example that uses custom scheduler policies together with asynchronous agents, see <bpt id=\"p1\">[</bpt>How to: Create Agents that Use Specific Scheduler Policies<ept id=\"p1\">](../../parallel/concrt/how-to-create-agents-that-use-specific-scheduler-policies.md)</ept>.","source":"For an example that uses custom scheduler policies together with asynchronous agents, see [How to: Create Agents that Use Specific Scheduler Policies](../../parallel/concrt/how-to-create-agents-that-use-specific-scheduler-policies.md)."},{"content":"Example","pos":[1245,1252]},{"content":"The following example performs two tasks in parallel.","pos":[1256,1309]},{"content":"The first task computes the n<ph id=\"ph1\">&lt;sup&gt;</ph>th<ph id=\"ph2\">&lt;/sup&gt;</ph> Fibonacci number.","pos":[1310,1370],"source":" The first task computes the n<sup>th</sup> Fibonacci number."},{"content":"The second task prints a progress indicator to the console.","pos":[1371,1430]},{"content":"The first task uses recursive decomposition to compute the Fibonacci number.","pos":[1437,1513]},{"content":"That is, each task recursively creates subtasks to compute the overall result.","pos":[1514,1592]},{"content":"A task that uses recursive decomposition might use all available resources, and thereby starve other tasks.","pos":[1593,1700]},{"content":"In this example, the task that prints the progress indicator might not receive timely access to computing resources.","pos":[1701,1817]},{"content":"To provide the task that prints a progress message fair access to computing resources, this example uses steps that are described in <bpt id=\"p1\">[</bpt>How to: Manage a Scheduler Instance<ept id=\"p1\">](../../parallel/concrt/how-to-manage-a-scheduler-instance.md)</ept> to create a scheduler instance that has a custom policy.","pos":[1824,2112],"source":"To provide the task that prints a progress message fair access to computing resources, this example uses steps that are described in [How to: Manage a Scheduler Instance](../../parallel/concrt/how-to-manage-a-scheduler-instance.md) to create a scheduler instance that has a custom policy."},{"content":"The custom policy specifies the thread priority to be the highest priority class.","pos":[2113,2194]},{"content":"This example uses the <bpt id=\"p1\">[</bpt>concurrency::call<ept id=\"p1\">](../../parallel/concrt/reference/call-class.md)</ept> and <bpt id=\"p2\">[</bpt>concurrency::timer<ept id=\"p2\">](../../parallel/concrt/reference/timer-class.md)</ept> classes to print the progress indicator.","pos":[2201,2403],"source":"This example uses the [concurrency::call](../../parallel/concrt/reference/call-class.md) and [concurrency::timer](../../parallel/concrt/reference/timer-class.md) classes to print the progress indicator."},{"content":"These classes have versions of their constructors that take a reference to a <bpt id=\"p1\">[</bpt>concurrency::Scheduler<ept id=\"p1\">](../../parallel/concrt/reference/scheduler-class.md)</ept> object that schedules them.","pos":[2404,2585],"source":" These classes have versions of their constructors that take a reference to a [concurrency::Scheduler](../../parallel/concrt/reference/scheduler-class.md) object that schedules them."},{"content":"The example uses the default scheduler to schedule the task that computes the Fibonacci number and the scheduler instance to schedule the task that prints the progress indicator.","pos":[2586,2764]},{"content":"To illustrate the benefits of using a scheduler that has a custom policy, this example performs the overall task two times.","pos":[2771,2894]},{"content":"The example first uses the default scheduler to schedule both tasks.","pos":[2895,2963]},{"content":"The example then uses the default scheduler to schedule the first task, and a scheduler that has a custom policy to schedule the second task.","pos":[2964,3105]},{"pos":[3123,3148],"content":"concrt-scheduler-policy#1"},{"content":"This example produces the following output.","pos":[3245,3288]},{"content":"Although both sets of tasks produce the same result, the version that uses a custom policy enables the task that prints the progress indicator to run at an elevated priority so that it behaves more responsively.","pos":[3539,3750]},{"content":"Compiling the Code","pos":[3759,3777]},{"pos":[3781,3979],"content":"Copy the example code and paste it in a Visual Studio project, or paste it in a file that is named <ph id=\"ph1\">`scheduler-policy.cpp`</ph> and then run the following command in a Visual Studio Command Prompt window.","source":"Copy the example code and paste it in a Visual Studio project, or paste it in a file that is named `scheduler-policy.cpp` and then run the following command in a Visual Studio Command Prompt window."},{"content":"cl.exe /EHsc scheduler-policy.cpp","pos":[3988,4021]},{"content":"See Also","pos":[4032,4040]},{"content":"Scheduler Policies","pos":[4045,4063]},{"content":"How to: Manage a Scheduler Instance","pos":[4115,4150]},{"content":"How to: Create Agents that Use Specific Scheduler Policies","pos":[4218,4276]}],"content":"---\ntitle: \"How to: Specify Specific Scheduler Policies | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"specifying scheduler policies [Concurrency Runtime]\"\n  - \"scheduler policies, specifying [Concurrency Runtime]\"\nms.assetid: 9c5149f9-ac34-4ff3-9e79-0bad103e4e6b\ncaps.latest.revision: 17\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# How to: Specify Specific Scheduler Policies\nScheduler policies let you control the strategy that the scheduler uses when it manages tasks. This topic shows how to use a scheduler policy to increase the thread priority of a task that prints a progress indicator to the console.  \n  \n For an example that uses custom scheduler policies together with asynchronous agents, see [How to: Create Agents that Use Specific Scheduler Policies](../../parallel/concrt/how-to-create-agents-that-use-specific-scheduler-policies.md).  \n  \n## Example  \n The following example performs two tasks in parallel. The first task computes the n<sup>th</sup> Fibonacci number. The second task prints a progress indicator to the console.  \n  \n The first task uses recursive decomposition to compute the Fibonacci number. That is, each task recursively creates subtasks to compute the overall result. A task that uses recursive decomposition might use all available resources, and thereby starve other tasks. In this example, the task that prints the progress indicator might not receive timely access to computing resources.  \n  \n To provide the task that prints a progress message fair access to computing resources, this example uses steps that are described in [How to: Manage a Scheduler Instance](../../parallel/concrt/how-to-manage-a-scheduler-instance.md) to create a scheduler instance that has a custom policy. The custom policy specifies the thread priority to be the highest priority class.  \n  \n This example uses the [concurrency::call](../../parallel/concrt/reference/call-class.md) and [concurrency::timer](../../parallel/concrt/reference/timer-class.md) classes to print the progress indicator. These classes have versions of their constructors that take a reference to a [concurrency::Scheduler](../../parallel/concrt/reference/scheduler-class.md) object that schedules them. The example uses the default scheduler to schedule the task that computes the Fibonacci number and the scheduler instance to schedule the task that prints the progress indicator.  \n  \n To illustrate the benefits of using a scheduler that has a custom policy, this example performs the overall task two times. The example first uses the default scheduler to schedule both tasks. The example then uses the default scheduler to schedule the first task, and a scheduler that has a custom policy to schedule the second task.  \n  \n [!code-cpp[concrt-scheduler-policy#1](../../parallel/concrt/codesnippet/cpp/how-to-specify-specific-scheduler-policies_1.cpp)]  \n  \n This example produces the following output.  \n  \n```Output  \nDefault scheduler:  \n...........................................................................done  \nScheduler that has a custom policy:  \n...........................................................................done  \n```  \n  \n Although both sets of tasks produce the same result, the version that uses a custom policy enables the task that prints the progress indicator to run at an elevated priority so that it behaves more responsively.  \n  \n## Compiling the Code  \n Copy the example code and paste it in a Visual Studio project, or paste it in a file that is named `scheduler-policy.cpp` and then run the following command in a Visual Studio Command Prompt window.  \n  \n **cl.exe /EHsc scheduler-policy.cpp**  \n  \n## See Also  \n [Scheduler Policies](../../parallel/concrt/scheduler-policies.md)   \n [How to: Manage a Scheduler Instance](../../parallel/concrt/how-to-manage-a-scheduler-instance.md)   \n [How to: Create Agents that Use Specific Scheduler Policies](../../parallel/concrt/how-to-create-agents-that-use-specific-scheduler-policies.md)\n\n"}