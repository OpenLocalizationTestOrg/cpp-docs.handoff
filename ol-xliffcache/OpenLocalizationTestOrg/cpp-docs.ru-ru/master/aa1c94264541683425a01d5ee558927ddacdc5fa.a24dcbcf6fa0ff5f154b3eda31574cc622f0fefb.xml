{"nodes":[{"pos":[12,62],"content":"Using an Unclipped Device Context | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Using an Unclipped Device Context | Microsoft Docs","pos":[0,50]}]},{"content":"Using an Unclipped Device Context","pos":[618,651]},{"content":"If you are absolutely certain that your control does not paint outside its client rectangle, you can realize a small but detectable speed gain by disabling the call to <ph id=\"ph1\">`IntersectClipRect`</ph> that is made by <ph id=\"ph2\">`COleControl`</ph>.","pos":[652,870],"source":"If you are absolutely certain that your control does not paint outside its client rectangle, you can realize a small but detectable speed gain by disabling the call to `IntersectClipRect` that is made by `COleControl`."},{"content":"To do this, remove the <bpt id=\"p1\">**</bpt>clipPaintDC<ept id=\"p1\">**</ept> flag from the set of flags returned by <bpt id=\"p2\">[</bpt>COleControl::GetControlFlags<ept id=\"p2\">](../mfc/reference/colecontrol-class.md#colecontrol__getcontrolflags)</ept>.","pos":[871,1048],"source":" To do this, remove the **clipPaintDC** flag from the set of flags returned by [COleControl::GetControlFlags](../mfc/reference/colecontrol-class.md#colecontrol__getcontrolflags)."},{"content":"For example:","pos":[1049,1061]},{"content":"NVC_MFC_AxOpt#5","pos":[1079,1094]},{"content":"NVC_MFC_AxOpt#14","pos":[1174,1190]},{"content":"NVC_MFC_AxOpt#7","pos":[1270,1285]},{"pos":[1358,1628],"content":"The code to remove this flag is automatically generated if you select the <bpt id=\"p1\">**</bpt>Unclipped Device Context<ept id=\"p1\">**</ept> option on the <bpt id=\"p2\">[</bpt>Control Settings<ept id=\"p2\">](../mfc/reference/control-settings-mfc-activex-control-wizard.md)</ept> page, when creating your control with the MFC ActiveX Control Wizard.","source":"The code to remove this flag is automatically generated if you select the **Unclipped Device Context** option on the [Control Settings](../mfc/reference/control-settings-mfc-activex-control-wizard.md) page, when creating your control with the MFC ActiveX Control Wizard."},{"content":"If you are using windowless activation, this optimization has no effect.","pos":[1635,1707]},{"content":"See Also","pos":[1716,1724]},{"content":"MFC ActiveX Controls: Optimization","pos":[1729,1763]}],"content":"---\ntitle: \"Using an Unclipped Device Context | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"MFC ActiveX controls, unclipped device context\"\nms.assetid: 9c020063-73da-4803-bf7b-2e1fd950c9ed\ncaps.latest.revision: 10\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Using an Unclipped Device Context\nIf you are absolutely certain that your control does not paint outside its client rectangle, you can realize a small but detectable speed gain by disabling the call to `IntersectClipRect` that is made by `COleControl`. To do this, remove the **clipPaintDC** flag from the set of flags returned by [COleControl::GetControlFlags](../mfc/reference/colecontrol-class.md#colecontrol__getcontrolflags). For example:  \n  \n [!code-cpp[NVC_MFC_AxOpt#5](../mfc/codesnippet/cpp/using-an-unclipped-device-context_1.cpp)]  \n[!code-cpp[NVC_MFC_AxOpt#14](../mfc/codesnippet/cpp/using-an-unclipped-device-context_2.cpp)]  \n[!code-cpp[NVC_MFC_AxOpt#7](../mfc/codesnippet/cpp/using-an-unclipped-device-context_3.cpp)]  \n  \n The code to remove this flag is automatically generated if you select the **Unclipped Device Context** option on the [Control Settings](../mfc/reference/control-settings-mfc-activex-control-wizard.md) page, when creating your control with the MFC ActiveX Control Wizard.  \n  \n If you are using windowless activation, this optimization has no effect.  \n  \n## See Also  \n [MFC ActiveX Controls: Optimization](../mfc/mfc-activex-controls-optimization.md)\n\n"}