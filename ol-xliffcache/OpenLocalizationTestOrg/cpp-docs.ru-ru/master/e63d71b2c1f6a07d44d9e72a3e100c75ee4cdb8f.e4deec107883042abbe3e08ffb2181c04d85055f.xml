{"nodes":[{"pos":[12,70],"content":"Deriving Controls from a Standard Control | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Deriving Controls from a Standard Control | Microsoft Docs","pos":[0,58]}]},{"content":"Deriving Controls from a Standard Control","pos":[792,833]},{"pos":[834,991],"content":"As with any <bpt id=\"p1\">[</bpt>CWnd<ept id=\"p1\">](../mfc/reference/cwnd-class.md)</ept>-derived class, you can modify a control's behavior by deriving a new class from an existing control class.","source":"As with any [CWnd](../mfc/reference/cwnd-class.md)-derived class, you can modify a control's behavior by deriving a new class from an existing control class."},{"content":"To create a derived control class","pos":[1001,1034]},{"pos":[1044,1230],"content":"Derive your class from an existing control class and optionally override the <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> member function so that it provides the necessary arguments to the base-class <bpt id=\"p2\">**</bpt>Create<ept id=\"p2\">**</ept> function.","source":"Derive your class from an existing control class and optionally override the **Create** member function so that it provides the necessary arguments to the base-class **Create** function."},{"content":"Provide message-handler member functions and message-map entries to modify the control's behavior in response to specific Windows messages.","pos":[1240,1379]},{"content":"See <bpt id=\"p1\">[</bpt>Mapping Messages to Functions<ept id=\"p1\">](../mfc/reference/mapping-messages-to-functions.md)</ept>.","pos":[1380,1467],"source":" See [Mapping Messages to Functions](../mfc/reference/mapping-messages-to-functions.md)."},{"content":"Provide new member functions to extend the functionality of the control (optional).","pos":[1477,1560]},{"content":"Using a derived control in a dialog box requires extra work.","pos":[1567,1627]},{"content":"The types and positions of controls in a dialog box are normally specified in a dialog-template resource.","pos":[1628,1733]},{"content":"If you create a derived control class, you cannot specify it in a dialog template since the resource compiler knows nothing about your derived class.","pos":[1734,1883]},{"content":"To place your derived control in a dialog box","pos":[1894,1939]},{"content":"Embed an object of the derived control class in the declaration of your derived dialog class.","pos":[1949,2042]},{"pos":[2052,2187],"content":"Override the <ph id=\"ph1\">`OnInitDialog`</ph> member function in your dialog class to call the <ph id=\"ph2\">`SubclassDlgItem`</ph> member function for the derived control.","source":"Override the `OnInitDialog` member function in your dialog class to call the `SubclassDlgItem` member function for the derived control."},{"content":"\"dynamically subclasses\" a control created from a dialog template.","pos":[2212,2278]},{"content":"When a control is dynamically subclassed, you hook into Windows, process some messages within your own application, then pass the remaining messages on to Windows.","pos":[2279,2442]},{"content":"For more information, see the <bpt id=\"p1\">[</bpt>SubclassDlgItem<ept id=\"p1\">](../mfc/reference/cwnd-class.md#cwnd__subclassdlgitem)</ept> member function of class <ph id=\"ph1\">`CWnd`</ph> in the <bpt id=\"p2\">*</bpt>MFC Reference<ept id=\"p2\">*</ept>.","pos":[2443,2600],"source":" For more information, see the [SubclassDlgItem](../mfc/reference/cwnd-class.md#cwnd__subclassdlgitem) member function of class `CWnd` in the *MFC Reference*."},{"content":"The following example shows how you might write an override of <ph id=\"ph1\">`OnInitDialog`</ph> to call <ph id=\"ph2\">`SubclassDlgItem`</ph>:","pos":[2601,2705],"source":" The following example shows how you might write an override of `OnInitDialog` to call `SubclassDlgItem`:"},{"pos":[2723,2750],"content":"NVC_MFCControlLadenDialog#3"},{"content":"Because the derived control is embedded in the dialog class, it will be constructed when the dialog box is constructed, and it will be destroyed when the dialog box is destroyed.","pos":[2831,3009]},{"content":"Compare this code to the example in <bpt id=\"p1\">[</bpt>Adding Controls By Hand<ept id=\"p1\">](../mfc/adding-controls-by-hand.md)</ept>.","pos":[3010,3107],"source":" Compare this code to the example in [Adding Controls By Hand](../mfc/adding-controls-by-hand.md)."},{"content":"See Also","pos":[3116,3124]},{"content":"Making and Using Controls","pos":[3129,3154]},{"content":"Controls","pos":[3198,3206]}],"content":"---\ntitle: \"Deriving Controls from a Standard Control | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"standard controls, deriving controls from\"\n  - \"common controls [C++], deriving from\"\n  - \"derived controls\"\n  - \"controls [MFC], derived\"\n  - \"Windows common controls [C++], deriving from\"\n  - \"standard controls\"\nms.assetid: a6f84315-7007-4e0e-8576-78be81254802\ncaps.latest.revision: 11\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Deriving Controls from a Standard Control\nAs with any [CWnd](../mfc/reference/cwnd-class.md)-derived class, you can modify a control's behavior by deriving a new class from an existing control class.  \n  \n### To create a derived control class  \n  \n1.  Derive your class from an existing control class and optionally override the **Create** member function so that it provides the necessary arguments to the base-class **Create** function.  \n  \n2.  Provide message-handler member functions and message-map entries to modify the control's behavior in response to specific Windows messages. See [Mapping Messages to Functions](../mfc/reference/mapping-messages-to-functions.md).  \n  \n3.  Provide new member functions to extend the functionality of the control (optional).  \n  \n Using a derived control in a dialog box requires extra work. The types and positions of controls in a dialog box are normally specified in a dialog-template resource. If you create a derived control class, you cannot specify it in a dialog template since the resource compiler knows nothing about your derived class.  \n  \n#### To place your derived control in a dialog box  \n  \n1.  Embed an object of the derived control class in the declaration of your derived dialog class.  \n  \n2.  Override the `OnInitDialog` member function in your dialog class to call the `SubclassDlgItem` member function for the derived control.  \n  \n `SubclassDlgItem` \"dynamically subclasses\" a control created from a dialog template. When a control is dynamically subclassed, you hook into Windows, process some messages within your own application, then pass the remaining messages on to Windows. For more information, see the [SubclassDlgItem](../mfc/reference/cwnd-class.md#cwnd__subclassdlgitem) member function of class `CWnd` in the *MFC Reference*. The following example shows how you might write an override of `OnInitDialog` to call `SubclassDlgItem`:  \n  \n [!code-cpp[NVC_MFCControlLadenDialog#3](../mfc/codesnippet/cpp/deriving-controls-from-a-standard-control_1.cpp)]  \n  \n Because the derived control is embedded in the dialog class, it will be constructed when the dialog box is constructed, and it will be destroyed when the dialog box is destroyed. Compare this code to the example in [Adding Controls By Hand](../mfc/adding-controls-by-hand.md).  \n  \n## See Also  \n [Making and Using Controls](../mfc/making-and-using-controls.md)   \n [Controls](../mfc/controls-mfc.md)\n\n"}