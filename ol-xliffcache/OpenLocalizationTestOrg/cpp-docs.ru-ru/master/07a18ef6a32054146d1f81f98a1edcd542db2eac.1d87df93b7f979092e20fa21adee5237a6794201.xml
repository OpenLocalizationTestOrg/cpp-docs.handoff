{"nodes":[{"pos":[12,36],"content":"_fileno | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_fileno | Microsoft Docs","pos":[0,24]}]},{"content":"_fileno","pos":[1036,1043]},{"content":"Gets the file descriptor associated with a stream.","pos":[1044,1094]},{"content":"Syntax","pos":[1103,1109]},{"content":"Parameters","pos":[1175,1185]},{"content":"Pointer to the <ph id=\"ph1\">`FILE`</ph> structure.","pos":[1201,1233],"source":" Pointer to the `FILE` structure."},{"content":"Return Value","pos":[1242,1254]},{"content":"returns the file descriptor.","pos":[1268,1296]},{"content":"There is no error return.","pos":[1297,1322]},{"content":"The result is undefined if <ph id=\"ph1\">`stream`</ph> does not specify an open file.","pos":[1323,1389],"source":" The result is undefined if `stream` does not specify an open file."},{"content":"If stream is <ph id=\"ph1\">`NULL`</ph>, _<ph id=\"ph2\">`fileno`</ph> invokes the invalid parameter handler, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[1390,1548],"source":" If stream is `NULL`, _`fileno` invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, this function returns -1 and sets <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`EINVAL`</ph>.","pos":[1549,1640],"source":" If execution is allowed to continue, this function returns -1 and sets `errno` to `EINVAL`."},{"pos":[1647,1823],"content":"For more information about these and other error codes, see <bpt id=\"p1\">[</bpt>_doserrno, errno, _sys_errlist, and _sys_nerr<ept id=\"p1\">](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)</ept>.","source":"For more information about these and other error codes, see [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)."},{"pos":[1831,2143],"content":"[!NOTE]\n If `stdout` or `stderr` is not associated with an output stream (for example, in a Windows application without a console window), the file descriptor returned is -2. In previous versions, the file descriptor returned was -1. This change allows applications to distinguish this condition from an error.","leadings":["","> "],"nodes":[{"content":" If `stdout` or `stderr` is not associated with an output stream (for example, in a Windows application without a console window), the file descriptor returned is -2. In previous versions, the file descriptor returned was -1. This change allows applications to distinguish this condition from an error.","pos":[8,310],"nodes":[{"content":"If <ph id=\"ph1\">`stdout`</ph> or <ph id=\"ph2\">`stderr`</ph> is not associated with an output stream (for example, in a Windows application without a console window), the file descriptor returned is -2.","pos":[1,166],"source":" If `stdout` or `stderr` is not associated with an output stream (for example, in a Windows application without a console window), the file descriptor returned is -2."},{"content":"In previous versions, the file descriptor returned was -1.","pos":[167,225]},{"content":"This change allows applications to distinguish this condition from an error.","pos":[226,302]}]}]},{"content":"Remarks","pos":[2152,2159]},{"content":"The <ph id=\"ph1\">`_fileno`</ph> routine returns the file descriptor currently associated with <ph id=\"ph2\">`stream`</ph>.","pos":[2163,2248],"source":"The `_fileno` routine returns the file descriptor currently associated with `stream`."},{"content":"This routine is implemented both as a function and as a macro.","pos":[2249,2311]},{"content":"For information about choosing either implementation, see <bpt id=\"p1\">[</bpt>Choosing Between Functions and Macros<ept id=\"p1\">](../../c-runtime-library/recommendations-for-choosing-between-functions-and-macros.md)</ept>.","pos":[2312,2496],"source":" For information about choosing either implementation, see [Choosing Between Functions and Macros](../../c-runtime-library/recommendations-for-choosing-between-functions-and-macros.md)."},{"content":"Requirements","pos":[2505,2517]},{"content":"Function","pos":[2524,2532]},{"content":"Required header","pos":[2533,2548]},{"content":"stdio.h&gt;","pos":[2606,2614],"source":"stdio.h>"},{"pos":[2622,2740],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":"Example","pos":[2749,2756]},{"content":".NET Framework Equivalent","pos":[3312,3337]},{"content":"System::IO::FileStream::Handle","pos":[3342,3372]},{"content":"See Also","pos":[3457,3465]},{"content":"Stream I/O","pos":[3470,3480]},{"content":"_fdopen, _wfdopen","pos":[3526,3543]},{"content":"_filelength, _filelengthi64","pos":[3603,3630]},{"content":"fopen, _wfopen","pos":[3700,3714]},{"content":"freopen, _wfreopen","pos":[3772,3790]}],"content":"---\ntitle: \"_fileno | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_fileno\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-stdio-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_fileno\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"file handles [C++], getting from streams\"\n  - \"fileno function\"\n  - \"_fileno function\"\n  - \"streams, getting file handles\"\nms.assetid: 86474174-2f17-4100-bcc4-352dd976c7b5\ncaps.latest.revision: 19\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# _fileno\nGets the file descriptor associated with a stream.  \n  \n## Syntax  \n  \n```  \nint _fileno(   \n   FILE *stream   \n);  \n```  \n  \n#### Parameters  \n `stream`  \n Pointer to the `FILE` structure.  \n  \n## Return Value  \n `_fileno` returns the file descriptor. There is no error return. The result is undefined if `stream` does not specify an open file. If stream is `NULL`, _`fileno` invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, this function returns -1 and sets `errno` to `EINVAL`.  \n  \n For more information about these and other error codes, see [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md).  \n  \n> [!NOTE]\n>  If `stdout` or `stderr` is not associated with an output stream (for example, in a Windows application without a console window), the file descriptor returned is -2. In previous versions, the file descriptor returned was -1. This change allows applications to distinguish this condition from an error.  \n  \n## Remarks  \n The `_fileno` routine returns the file descriptor currently associated with `stream`. This routine is implemented both as a function and as a macro. For information about choosing either implementation, see [Choosing Between Functions and Macros](../../c-runtime-library/recommendations-for-choosing-between-functions-and-macros.md).  \n  \n## Requirements  \n  \n|Function|Required header|  \n|--------------|---------------------|  \n|`_fileno`|\\<stdio.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Example  \n  \n```  \n// crt_fileno.c  \n// This program uses _fileno to obtain  \n// the file descriptor for some standard C streams.  \n//  \n  \n#include <stdio.h>  \n  \nint main( void )  \n{  \n   printf( \"The file descriptor for stdin is %d\\n\", _fileno( stdin ) );  \n   printf( \"The file descriptor for stdout is %d\\n\", _fileno( stdout ) );  \n   printf( \"The file descriptor for stderr is %d\\n\", _fileno( stderr ) );  \n}  \n```  \n  \n```Output  \nThe file descriptor for stdin is 0  \nThe file descriptor for stdout is 1  \nThe file descriptor for stderr is 2  \n```  \n  \n## .NET Framework Equivalent  \n [System::IO::FileStream::Handle](https://msdn.microsoft.com/en-us/library/system.io.filestream.handle.aspx)  \n  \n## See Also  \n [Stream I/O](../../c-runtime-library/stream-i-o.md)   \n [_fdopen, _wfdopen](../../c-runtime-library/reference/fdopen-wfdopen.md)   \n [_filelength, _filelengthi64](../../c-runtime-library/reference/filelength-filelengthi64.md)   \n [fopen, _wfopen](../../c-runtime-library/reference/fopen-wfopen.md)   \n [freopen, _wfreopen](../../c-runtime-library/reference/freopen-wfreopen.md)"}