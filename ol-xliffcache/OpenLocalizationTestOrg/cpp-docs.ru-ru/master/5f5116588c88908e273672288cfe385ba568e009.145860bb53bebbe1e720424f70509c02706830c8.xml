{"nodes":[{"pos":[12,44],"content":"_open_osfhandle | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_open_osfhandle | Microsoft Docs","pos":[0,32]}]},{"content":"_open_osfhandle","pos":[1052,1067]},{"content":"Associates a C run-time file descriptor with an existing operating-system file handle.","pos":[1068,1154]},{"content":"Syntax","pos":[1163,1169]},{"content":"Parameters","pos":[1274,1284]},{"content":"Operating-system file handle.","pos":[1303,1332]},{"content":"Types of operations allowed.","pos":[1350,1378]},{"content":"Return Value","pos":[1387,1399]},{"content":"If successful, <ph id=\"ph1\">`_open_osfhandle`</ph> returns a C run-time file descriptor.","pos":[1403,1473],"source":"If successful, `_open_osfhandle` returns a C run-time file descriptor."},{"content":"Otherwise, it returns –1.","pos":[1474,1499]},{"content":"Remarks","pos":[1508,1515]},{"content":"The <ph id=\"ph1\">`_open_osfhandle`</ph> function allocates a C run-time file descriptor and associates it with the operating-system file handle specified by <ph id=\"ph2\">`osfhandle`</ph>.","pos":[1519,1670],"source":"The `_open_osfhandle` function allocates a C run-time file descriptor and associates it with the operating-system file handle specified by `osfhandle`."},{"content":"The <ph id=\"ph1\">`flags`</ph> argument is an integer expression formed from one or more of the manifest constants defined in Fcntl.h.","pos":[1671,1786],"source":" The `flags` argument is an integer expression formed from one or more of the manifest constants defined in Fcntl.h."},{"content":"When two or more manifest constants are used to form the <ph id=\"ph1\">`flags`</ph> argument, the constants are combined with the bitwise-OR operator ( <bpt id=\"p1\">**</bpt>&amp;#124;<ept id=\"p1\">**</ept> ).","pos":[1787,1933],"source":" When two or more manifest constants are used to form the `flags` argument, the constants are combined with the bitwise-OR operator ( **&#124;** )."},{"content":"Fcntl.h defines the following manifest constants.","pos":[1940,1989]},{"content":"_O_APPEND","pos":[1998,2007]},{"content":"Positions a file pointer to the end of the file before every write operation.","pos":[2013,2090]},{"content":"_O_RDONLY","pos":[2099,2108]},{"content":"Opens the file for reading only.","pos":[2114,2146]},{"content":"_O_TEXT","pos":[2155,2162]},{"content":"Opens the file in text (translated) mode.","pos":[2168,2209]},{"content":"_O_WTEXT","pos":[2218,2226]},{"content":"Opens the file in Unicode (translated UTF-16) mode.","pos":[2232,2283]},{"content":"To close a file opened with <ph id=\"ph1\">`_open_osfhandle`</ph>, call <ph id=\"ph2\">`_close`</ph>.","pos":[2290,2351],"source":"To close a file opened with `_open_osfhandle`, call `_close`."},{"content":"The underlying handle is also closed by a call to <ph id=\"ph1\">`_close`</ph>, so it is not necessary to call the Win32 function <ph id=\"ph2\">`CloseHandle`</ph> on the original handle.","pos":[2352,2499],"source":" The underlying handle is also closed by a call to `_close`, so it is not necessary to call the Win32 function `CloseHandle` on the original handle."},{"content":"Requirements","pos":[2508,2520]},{"content":"Routine","pos":[2527,2534]},{"content":"Required header","pos":[2535,2550]},{"content":"io.h&gt;","pos":[2615,2620],"source":"io.h>"},{"pos":[2628,2746],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":"Libraries","pos":[2755,2764]},{"pos":[2768,2860],"content":"All versions of the <bpt id=\"p1\">[</bpt>C run-time libraries<ept id=\"p1\">](../../c-runtime-library/crt-library-features.md)</ept>.","source":"All versions of the [C run-time libraries](../../c-runtime-library/crt-library-features.md)."},{"content":".NET Framework Equivalent","pos":[2869,2894]},{"content":"System::IO::FileStream::Handle","pos":[2899,2929]},{"content":"See Also","pos":[3014,3022]},{"content":"File Handling","pos":[3027,3040]}],"content":"---\ntitle: \"_open_osfhandle | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_open_osfhandle\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-stdio-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_open_osfhandle\"\n  - \"open_osfhandle\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"open_osfhandle function\"\n  - \"file handles [C++], associating\"\n  - \"_open_osfhandle function\"\nms.assetid: 30d94df4-7868-4667-a401-9eb67ecb7855\ncaps.latest.revision: 11\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# _open_osfhandle\nAssociates a C run-time file descriptor with an existing operating-system file handle.  \n  \n## Syntax  \n  \n```  \n  \n      int _open_osfhandle (  \n   intptr_t osfhandle,  \n   int flags   \n);  \n```  \n  \n#### Parameters  \n `osfhandle`  \n Operating-system file handle.  \n  \n `flags`  \n Types of operations allowed.  \n  \n## Return Value  \n If successful, `_open_osfhandle` returns a C run-time file descriptor. Otherwise, it returns –1.  \n  \n## Remarks  \n The `_open_osfhandle` function allocates a C run-time file descriptor and associates it with the operating-system file handle specified by `osfhandle`. The `flags` argument is an integer expression formed from one or more of the manifest constants defined in Fcntl.h. When two or more manifest constants are used to form the `flags` argument, the constants are combined with the bitwise-OR operator ( **&#124;** ).  \n  \n Fcntl.h defines the following manifest constants.  \n  \n **_O_APPEND**  \n Positions a file pointer to the end of the file before every write operation.  \n  \n **_O_RDONLY**  \n Opens the file for reading only.  \n  \n **_O_TEXT**  \n Opens the file in text (translated) mode.  \n  \n **_O_WTEXT**  \n Opens the file in Unicode (translated UTF-16) mode.  \n  \n To close a file opened with `_open_osfhandle`, call `_close`. The underlying handle is also closed by a call to `_close`, so it is not necessary to call the Win32 function `CloseHandle` on the original handle.  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_open_osfhandle`|\\<io.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Libraries  \n All versions of the [C run-time libraries](../../c-runtime-library/crt-library-features.md).  \n  \n## .NET Framework Equivalent  \n [System::IO::FileStream::Handle](https://msdn.microsoft.com/en-us/library/system.io.filestream.handle.aspx)  \n  \n## See Also  \n [File Handling](../../c-runtime-library/file-handling.md)"}