{"nodes":[{"pos":[12,77],"content":"How to: Create Verifiable C++ Projects (C++-CLI) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Create Verifiable C++ Projects (C++-CLI) | Microsoft Docs","pos":[0,65]}]},{"content":"How to: Create Verifiable C++ Projects (C++/CLI)","pos":[682,730]},{"content":"Visual C++ application wizards do not create verifiable projects, but projects can be converted to be verifiable.","pos":[731,844]},{"content":"This topic describes how to set project properties and modify project source files to transform your Visual C++ projects to produce verifiable applications.","pos":[845,1001]},{"content":"Compiler and Linker Settings","pos":[1010,1038]},{"content":"By default, .NET projects use the /clr compiler flag and configure the linker to target x86 hardware.","pos":[1042,1143]},{"content":"For verifiable code, you must use the /clr:safe flag, and you must instruct the linker to generate MSIL instead of native machine instructions.","pos":[1144,1287]},{"content":"To change the compiler and linker settings","pos":[1298,1340]},{"content":"Display the project Property Page.","pos":[1350,1384]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../ide/working-with-project-properties.md)</ept>.","pos":[1385,1488],"source":" For more information, see [Working with Project Properties](../ide/working-with-project-properties.md)."},{"pos":[1498,1681],"content":"On the <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> page under the <bpt id=\"p2\">**</bpt>Configuration Properties<ept id=\"p2\">**</ept> node, set the <bpt id=\"p3\">**</bpt>Common Language Runtime Support<ept id=\"p3\">**</ept> property to <bpt id=\"p4\">**</bpt>Safe MSIL Common Language Runtime Support (/clr:safe)<ept id=\"p4\">**</ept>.","source":"On the **General** page under the **Configuration Properties** node, set the **Common Language Runtime Support** property to **Safe MSIL Common Language Runtime Support (/clr:safe)**."},{"pos":[1691,1827],"content":"On the <bpt id=\"p1\">**</bpt>Advanced<ept id=\"p1\">**</ept> page under the <bpt id=\"p2\">**</bpt>Linker<ept id=\"p2\">**</ept> node, set the <bpt id=\"p3\">**</bpt>CLR Image Type<ept id=\"p3\">**</ept> property to <bpt id=\"p4\">**</bpt>Force safe IL image (/CLRIMAGETYPE:SAFE)<ept id=\"p4\">**</ept>.","source":"On the **Advanced** page under the **Linker** node, set the **CLR Image Type** property to **Force safe IL image (/CLRIMAGETYPE:SAFE)**."},{"content":"Removing Native Data Types","pos":[1836,1862]},{"content":"Because native data types are non-verifiable, even if they are not actually used, you must remove all header files containing native types.","pos":[1866,2005]},{"pos":[2013,2132],"content":"[!NOTE]\n The following procedure applies to Windows Forms Application (.NET) and Console Application (.NET) projects.","leadings":["","> "],"nodes":[{"content":"The following procedure applies to Windows Forms Application (.NET) and Console Application (.NET) projects.","pos":[9,117]}]},{"content":"To remove references to native data types","pos":[2143,2184]},{"content":"Comment out everything in the Stdafx.h file.","pos":[2194,2238]},{"content":"Configuring an Entry Point","pos":[2247,2273]},{"content":"Because verifiable applications cannot use the C run-time libraries (CRT), they cannot depend on the CRT to call the main function as the standard entry point.","pos":[2277,2436]},{"content":"This means that you must explicitly provide the name of the function to be called initially to the linker.","pos":[2437,2543]},{"content":"(In this case, Main() is used instead of main() or _tmain() to indicate a non-CRT entry point, but because the entry point must be specified explicitly, this name is arbitrary.)","pos":[2544,2721]},{"pos":[2729,2810],"content":"[!NOTE]\n The following procedures apply to Console Application (.NET) projects.","leadings":["","> "],"nodes":[{"content":"The following procedures apply to Console Application (.NET) projects.","pos":[9,79]}]},{"content":"To configure an entry point","pos":[2821,2848]},{"content":"Change _tmain() to Main() in the project's main .cpp file.","pos":[2858,2916]},{"content":"Display the project Property Page.","pos":[2926,2960]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../ide/working-with-project-properties.md)</ept>.","pos":[2961,3064],"source":" For more information, see [Working with Project Properties](../ide/working-with-project-properties.md)."},{"pos":[3074,3177],"content":"On the <bpt id=\"p1\">**</bpt>Advanced<ept id=\"p1\">**</ept> page under the <bpt id=\"p2\">**</bpt>Linker<ept id=\"p2\">**</ept> node, enter <ph id=\"ph1\">`Main`</ph> as the <bpt id=\"p3\">**</bpt>Entry Point<ept id=\"p3\">**</ept> property value.","source":"On the **Advanced** page under the **Linker** node, enter `Main` as the **Entry Point** property value."},{"content":"See Also","pos":[3186,3194]},{"content":"Pure and Verifiable Code (C++/CLI)","pos":[3199,3233]}],"content":"---\ntitle: \"How to: Create Verifiable C++ Projects (C++-CLI) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"verifiable assemblies [C++], creating\"\n  - \"conversions, C++ projects\"\n  - \"Visual C++ projects\"\nms.assetid: 4ef2cc1a-e3e5-4d67-8d8d-9c614f8ec5d3\ncaps.latest.revision: 11\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# How to: Create Verifiable C++ Projects (C++/CLI)\nVisual C++ application wizards do not create verifiable projects, but projects can be converted to be verifiable. This topic describes how to set project properties and modify project source files to transform your Visual C++ projects to produce verifiable applications.  \n  \n## Compiler and Linker Settings  \n By default, .NET projects use the /clr compiler flag and configure the linker to target x86 hardware. For verifiable code, you must use the /clr:safe flag, and you must instruct the linker to generate MSIL instead of native machine instructions.  \n  \n#### To change the compiler and linker settings  \n  \n1.  Display the project Property Page. For more information, see [Working with Project Properties](../ide/working-with-project-properties.md).  \n  \n2.  On the **General** page under the **Configuration Properties** node, set the **Common Language Runtime Support** property to **Safe MSIL Common Language Runtime Support (/clr:safe)**.  \n  \n3.  On the **Advanced** page under the **Linker** node, set the **CLR Image Type** property to **Force safe IL image (/CLRIMAGETYPE:SAFE)**.  \n  \n## Removing Native Data Types  \n Because native data types are non-verifiable, even if they are not actually used, you must remove all header files containing native types.  \n  \n> [!NOTE]\n>  The following procedure applies to Windows Forms Application (.NET) and Console Application (.NET) projects.  \n  \n#### To remove references to native data types  \n  \n1.  Comment out everything in the Stdafx.h file.  \n  \n## Configuring an Entry Point  \n Because verifiable applications cannot use the C run-time libraries (CRT), they cannot depend on the CRT to call the main function as the standard entry point. This means that you must explicitly provide the name of the function to be called initially to the linker. (In this case, Main() is used instead of main() or _tmain() to indicate a non-CRT entry point, but because the entry point must be specified explicitly, this name is arbitrary.)  \n  \n> [!NOTE]\n>  The following procedures apply to Console Application (.NET) projects.  \n  \n#### To configure an entry point  \n  \n1.  Change _tmain() to Main() in the project's main .cpp file.  \n  \n2.  Display the project Property Page. For more information, see [Working with Project Properties](../ide/working-with-project-properties.md).  \n  \n3.  On the **Advanced** page under the **Linker** node, enter `Main` as the **Entry Point** property value.  \n  \n## See Also  \n [Pure and Verifiable Code (C++/CLI)](../dotnet/pure-and-verifiable-code-cpp-cli.md)"}