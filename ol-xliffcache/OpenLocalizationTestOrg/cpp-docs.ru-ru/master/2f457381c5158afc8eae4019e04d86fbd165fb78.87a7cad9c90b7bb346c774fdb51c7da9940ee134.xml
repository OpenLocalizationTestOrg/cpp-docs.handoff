{"nodes":[{"pos":[12,65],"content":"2.7.2 Data-Sharing Attribute Clauses | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"2.7.2 Data-Sharing Attribute Clauses | Microsoft Docs","pos":[0,53]}]},{"content":"2.7.2 Data-Sharing Attribute Clauses","pos":[545,581]},{"content":"Several directives accept clauses that allow a user to control the sharing attributes of variables for the duration of the region.","pos":[582,712]},{"content":"Sharing attribute clauses apply only to variables in the lexical extent of the directive on which the clause appears.","pos":[713,830]},{"content":"Not all of the following clauses are allowed on all directives.","pos":[831,894]},{"content":"The list of clauses that are valid on a particular directive are described with the directive.","pos":[895,989]},{"content":"If a variable is visible when a parallel or work-sharing construct is encountered, and the variable is not specified in a sharing attribute clause or <bpt id=\"p1\">**</bpt>threadprivate<ept id=\"p1\">**</ept> directive, then the variable is shared.","pos":[996,1203],"source":"If a variable is visible when a parallel or work-sharing construct is encountered, and the variable is not specified in a sharing attribute clause or **threadprivate** directive, then the variable is shared."},{"content":"Static variables declared within the dynamic extent of a parallel region are shared.","pos":[1204,1288]},{"content":"Heap allocated memory (for example, using <bpt id=\"p1\">**</bpt>malloc()<ept id=\"p1\">**</ept> in C or C++ or the <bpt id=\"p2\">**</bpt>new<ept id=\"p2\">**</ept> operator in C++) is shared.","pos":[1289,1398],"source":" Heap allocated memory (for example, using **malloc()** in C or C++ or the **new** operator in C++) is shared."},{"content":"(The pointer to this memory, however, can be either private or shared.) Variables with automatic storage duration declared within the dynamic extent of a parallel region are private.","pos":[1399,1581]},{"content":"Most of the clauses accept a <bpt id=\"p1\">*</bpt>variable-list<ept id=\"p1\">*</ept> argument, which is a comma-separated list of variables that are visible.","pos":[1588,1705],"source":"Most of the clauses accept a *variable-list* argument, which is a comma-separated list of variables that are visible."},{"content":"If a variable referenced in a data-sharing attribute clause has a type derived from a template, and there are no other references to that variable in the program, the behavior is undefined.","pos":[1706,1895]},{"content":"All variables that appear within directive clauses must be visible.","pos":[1902,1969]},{"content":"Clauses may be repeated as needed, but no variable may be specified in more than one clause, except that a variable can be specified in both a <bpt id=\"p1\">**</bpt>firstprivate<ept id=\"p1\">**</ept> and a <bpt id=\"p2\">**</bpt>lastprivate<ept id=\"p2\">**</ept> clause.","pos":[1970,2159],"source":" Clauses may be repeated as needed, but no variable may be specified in more than one clause, except that a variable can be specified in both a **firstprivate** and a **lastprivate** clause."},{"content":"The following sections describe the data-sharing attribute clauses:","pos":[2166,2233]},{"pos":[2243,2327],"content":"<bpt id=\"p1\">**</bpt>private<ept id=\"p1\">**</ept>, <bpt id=\"p2\">[</bpt>Section 2.7.2.1<ept id=\"p2\">](../../parallel/openmp/2-7-2-1-private.md)</ept> on page 25.","source":"**private**, [Section 2.7.2.1](../../parallel/openmp/2-7-2-1-private.md) on page 25."},{"pos":[2337,2431],"content":"<bpt id=\"p1\">**</bpt>firstprivate<ept id=\"p1\">**</ept>, <bpt id=\"p2\">[</bpt>Section 2.7.2.2<ept id=\"p2\">](../../parallel/openmp/2-7-2-2-firstprivate.md)</ept> on page 26.","source":"**firstprivate**, [Section 2.7.2.2](../../parallel/openmp/2-7-2-2-firstprivate.md) on page 26."},{"pos":[2441,2533],"content":"<bpt id=\"p1\">**</bpt>lastprivate<ept id=\"p1\">**</ept>, <bpt id=\"p2\">[</bpt>Section 2.7.2.3<ept id=\"p2\">](../../parallel/openmp/2-7-2-3-lastprivate.md)</ept> on page 27.","source":"**lastprivate**, [Section 2.7.2.3](../../parallel/openmp/2-7-2-3-lastprivate.md) on page 27."},{"pos":[2543,2625],"content":"<bpt id=\"p1\">**</bpt>shared<ept id=\"p1\">**</ept>, <bpt id=\"p2\">[</bpt>Section 2.7.2.4<ept id=\"p2\">](../../parallel/openmp/2-7-2-4-shared.md)</ept> on page 27.","source":"**shared**, [Section 2.7.2.4](../../parallel/openmp/2-7-2-4-shared.md) on page 27."},{"pos":[2635,2719],"content":"<bpt id=\"p1\">**</bpt>default<ept id=\"p1\">**</ept>, <bpt id=\"p2\">[</bpt>Section 2.7.2.5<ept id=\"p2\">](../../parallel/openmp/2-7-2-5-default.md)</ept> on page 28.","source":"**default**, [Section 2.7.2.5](../../parallel/openmp/2-7-2-5-default.md) on page 28."},{"pos":[2729,2817],"content":"<bpt id=\"p1\">**</bpt>reduction<ept id=\"p1\">**</ept>, <bpt id=\"p2\">[</bpt>Section 2.7.2.6<ept id=\"p2\">](../../parallel/openmp/2-7-2-6-reduction.md)</ept> on page 28.","source":"**reduction**, [Section 2.7.2.6](../../parallel/openmp/2-7-2-6-reduction.md) on page 28."},{"pos":[2827,2909],"content":"<bpt id=\"p1\">**</bpt>copyin<ept id=\"p1\">**</ept>, <bpt id=\"p2\">[</bpt>Section 2.7.2.7<ept id=\"p2\">](../../parallel/openmp/2-7-2-7-copyin.md)</ept> on page 31.","source":"**copyin**, [Section 2.7.2.7](../../parallel/openmp/2-7-2-7-copyin.md) on page 31."},{"pos":[2919,3011],"content":"<bpt id=\"p1\">**</bpt>copyprivate<ept id=\"p1\">**</ept>, <bpt id=\"p2\">[</bpt>Section 2.7.2.8<ept id=\"p2\">](../../parallel/openmp/2-7-2-8-copyprivate.md)</ept> on page 32.","source":"**copyprivate**, [Section 2.7.2.8](../../parallel/openmp/2-7-2-8-copyprivate.md) on page 32."}],"content":"---\ntitle: \"2.7.2 Data-Sharing Attribute Clauses | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nms.assetid: 47347d3c-18bd-441f-99cf-7737564c417f\ncaps.latest.revision: 6\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# 2.7.2 Data-Sharing Attribute Clauses\nSeveral directives accept clauses that allow a user to control the sharing attributes of variables for the duration of the region. Sharing attribute clauses apply only to variables in the lexical extent of the directive on which the clause appears. Not all of the following clauses are allowed on all directives. The list of clauses that are valid on a particular directive are described with the directive.  \n  \n If a variable is visible when a parallel or work-sharing construct is encountered, and the variable is not specified in a sharing attribute clause or **threadprivate** directive, then the variable is shared. Static variables declared within the dynamic extent of a parallel region are shared. Heap allocated memory (for example, using **malloc()** in C or C++ or the **new** operator in C++) is shared. (The pointer to this memory, however, can be either private or shared.) Variables with automatic storage duration declared within the dynamic extent of a parallel region are private.  \n  \n Most of the clauses accept a *variable-list* argument, which is a comma-separated list of variables that are visible. If a variable referenced in a data-sharing attribute clause has a type derived from a template, and there are no other references to that variable in the program, the behavior is undefined.  \n  \n All variables that appear within directive clauses must be visible. Clauses may be repeated as needed, but no variable may be specified in more than one clause, except that a variable can be specified in both a **firstprivate** and a **lastprivate** clause.  \n  \n The following sections describe the data-sharing attribute clauses:  \n  \n-   **private**, [Section 2.7.2.1](../../parallel/openmp/2-7-2-1-private.md) on page 25.  \n  \n-   **firstprivate**, [Section 2.7.2.2](../../parallel/openmp/2-7-2-2-firstprivate.md) on page 26.  \n  \n-   **lastprivate**, [Section 2.7.2.3](../../parallel/openmp/2-7-2-3-lastprivate.md) on page 27.  \n  \n-   **shared**, [Section 2.7.2.4](../../parallel/openmp/2-7-2-4-shared.md) on page 27.  \n  \n-   **default**, [Section 2.7.2.5](../../parallel/openmp/2-7-2-5-default.md) on page 28.  \n  \n-   **reduction**, [Section 2.7.2.6](../../parallel/openmp/2-7-2-6-reduction.md) on page 28.  \n  \n-   **copyin**, [Section 2.7.2.7](../../parallel/openmp/2-7-2-7-copyin.md) on page 31.  \n  \n-   **copyprivate**, [Section 2.7.2.8](../../parallel/openmp/2-7-2-8-copyprivate.md) on page 32."}