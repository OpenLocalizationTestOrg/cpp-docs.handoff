{"nodes":[{"pos":[12,86],"content":"_utime, _utime32, _utime64, _wutime, _wutime32, _wutime64 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_utime, _utime32, _utime64, _wutime, _wutime32, _wutime64 | Microsoft Docs","pos":[0,74]}]},{"content":"_utime, _utime32, _utime64, _wutime, _wutime32, _wutime64","pos":[1690,1747]},{"content":"Set the file modification time.","pos":[1748,1779]},{"content":"Syntax","pos":[1788,1794]},{"content":"Parameters","pos":[2302,2312]},{"content":"Pointer to a string that contains the path or filename.","pos":[2330,2385]},{"content":"Pointer to stored time values.","pos":[2403,2433]},{"content":"Return Value","pos":[2442,2454]},{"content":"Each of these functions returns 0 if the file-modification time was changed.","pos":[2458,2534]},{"content":"A return value of –1 indicates an error.","pos":[2535,2575]},{"content":"If an invalid parameter is passed, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[2576,2741],"source":" If an invalid parameter is passed, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, these functions return -1 and <ph id=\"ph1\">`errno`</ph> is set to one of the following values:","pos":[2742,2855],"source":" If execution is allowed to continue, these functions return -1 and `errno` is set to one of the following values:"},{"content":"Path specifies directory or read-only file","pos":[2874,2916]},{"content":"Invalid <ph id=\"ph1\">`times`</ph> argument","pos":[2935,2959],"source":" Invalid `times` argument"},{"content":"Too many open files (the file must be opened to change its modification time)","pos":[2978,3055]},{"content":"Path or filename not found","pos":[3074,3100]},{"pos":[3107,3282],"content":"See <bpt id=\"p1\">[</bpt>_doserrno, errno, _sys_errlist, and _sys_nerr<ept id=\"p1\">](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)</ept> for more information on these, and other, return codes.","source":"See [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md) for more information on these, and other, return codes."},{"content":"The date can be changed for a file if the change date is after midnight, January 1, 1970, and before the end date of the function used.","pos":[3289,3424]},{"content":"and <ph id=\"ph1\">`_wutime`</ph> use a 64-bit time value, so the end date is 23:59:59, December 31, 3000, UTC.","pos":[3434,3525],"source":" and `_wutime` use a 64-bit time value, so the end date is 23:59:59, December 31, 3000, UTC."},{"content":"If <ph id=\"ph1\">`_USE_32BIT_TIME_T`</ph> is defined to force the old behavior, the end date is 23:59:59 January 18, 2038, UTC.","pos":[3526,3634],"source":" If `_USE_32BIT_TIME_T` is defined to force the old behavior, the end date is 23:59:59 January 18, 2038, UTC."},{"content":"or <ph id=\"ph1\">`_wutime32`</ph> use a 32-bit time type regardless of whether <ph id=\"ph2\">`_USE_32BIT_TIME_T`</ph> is defined, and always have the earlier end date.","pos":[3646,3775],"source":" or `_wutime32` use a 32-bit time type regardless of whether `_USE_32BIT_TIME_T` is defined, and always have the earlier end date."},{"content":"or <ph id=\"ph1\">`_wutime64`</ph> always use the 64-bit time type, so these functions always support the later end date.","pos":[3787,3888],"source":" or `_wutime64` always use the 64-bit time type, so these functions always support the later end date."},{"content":"Remarks","pos":[3897,3904]},{"content":"The <ph id=\"ph1\">`_utime`</ph> function sets the modification time for the file specified by <ph id=\"ph2\">`filename`</ph><bpt id=\"p1\">*</bpt>.<ept id=\"p1\">*</ept>","pos":[3908,3996],"source":"The `_utime` function sets the modification time for the file specified by `filename`*.*"},{"content":"The process must have write access to the file in order to change the time.","pos":[3997,4072]},{"content":"In the Windows operating system, you can change the access time and the modification time in the <ph id=\"ph1\">`_utimbuf`</ph> structure.","pos":[4073,4191],"source":" In the Windows operating system, you can change the access time and the modification time in the `_utimbuf` structure."},{"content":"If <ph id=\"ph1\">`times`</ph> is a <ph id=\"ph2\">`NULL`</ph> pointer, the modification time is set to the current local time.","pos":[4192,4279],"source":" If `times` is a `NULL` pointer, the modification time is set to the current local time."},{"content":"Otherwise, <ph id=\"ph1\">`times`</ph> must point to a structure of type <ph id=\"ph2\">`_utimbuf`</ph>, defined in SYS\\UTIME.H.","pos":[4280,4368],"source":" Otherwise, `times` must point to a structure of type `_utimbuf`, defined in SYS\\UTIME.H."},{"content":"The <ph id=\"ph1\">`_utimbuf`</ph> structure stores file access and modification times used by <ph id=\"ph2\">`_utime`</ph> to change file-modification dates.","pos":[4375,4493],"source":"The `_utimbuf` structure stores file access and modification times used by `_utime` to change file-modification dates."},{"content":"The structure has the following fields, which are both of type <ph id=\"ph1\">`time_t`</ph>:","pos":[4494,4566],"source":" The structure has the following fields, which are both of type `time_t`:"},{"content":"Time of file access","pos":[4585,4604]},{"content":"Time of file modification","pos":[4624,4649]},{"content":"Specific versions of the <ph id=\"ph1\">`_utimbuf`</ph> structure (<ph id=\"ph2\">`_utimebuf32`</ph> and <ph id=\"ph3\">`__utimbuf64`</ph>) are defined using the 32-bit and 64-bit versions of the time type.","pos":[4656,4802],"source":"Specific versions of the `_utimbuf` structure (`_utimebuf32` and `__utimbuf64`) are defined using the 32-bit and 64-bit versions of the time type."},{"content":"These are used in the 32-bit and 64-bit specific versions of this function.","pos":[4803,4878]},{"content":"itself by default uses a 64-bit time type unless <ph id=\"ph1\">`_USE_32BIT_TIME_T`</ph> is defined.","pos":[4890,4970],"source":" itself by default uses a 64-bit time type unless `_USE_32BIT_TIME_T` is defined."},{"pos":[4986,5141],"content":"is identical to <ph id=\"ph1\">`_futime`</ph> except that the <ph id=\"ph2\">`filename`</ph> argument of <ph id=\"ph3\">`_utime`</ph> is a filename or a path to a file, rather than a file descriptor of an open file.","source":" is identical to `_futime` except that the `filename` argument of `_utime` is a filename or a path to a file, rather than a file descriptor of an open file."},{"content":"is a wide-character version of <ph id=\"ph1\">`_utime`</ph>; the <ph id=\"ph2\">`filename`</ph> argument to <ph id=\"ph3\">`_wutime`</ph> is a wide-character string.","pos":[5158,5263],"source":" is a wide-character version of `_utime`; the `filename` argument to `_wutime` is a wide-character string."},{"content":"These functions behave identically otherwise.","pos":[5264,5309]},{"content":"Generic-Text Routine Mappings","pos":[5319,5348]},{"content":"TCHAR.H routine","pos":[5355,5370]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[5371,5399],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[5400,5413]},{"content":"_UNICODE defined","pos":[5414,5430]},{"content":"Requirements","pos":[5690,5702]},{"content":"Routine","pos":[5709,5716]},{"content":"Required headers","pos":[5717,5733]},{"content":"Optional headers","pos":[5734,5750]},{"pos":[5827,5840],"content":", <ph id=\"ph1\">`_utime32`</ph>,","source":", `_utime32`, "},{"content":"sys/utime.h&gt;","pos":[5854,5866],"source":"sys/utime.h>"},{"content":"errno.h&gt;","pos":[5869,5877],"source":"errno.h>"},{"content":"sys/utime.h&gt;","pos":[5895,5907],"source":"sys/utime.h>"},{"content":"errno.h&gt;","pos":[5910,5918],"source":"errno.h>"},{"content":"utime.h&gt; or <ph id=\"ph1\">\\&lt;</ph>wchar.h&gt;","pos":[5935,5957],"source":"utime.h> or \\<wchar.h>"},{"content":"errno.h&gt;","pos":[5960,5968],"source":"errno.h>"},{"pos":[5976,6100],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":"Example","pos":[6109,6116]},{"pos":[6120,6201],"content":"This program uses <ph id=\"ph1\">`_utime`</ph> to set the file-modification time to the current time.","source":"This program uses `_utime` to set the file-modification time to the current time."},{"content":"Sample Output","pos":[7196,7209]},{"content":".NET Framework Equivalent","pos":[7765,7790]},{"content":"Not applicable.","pos":[7794,7809]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[7810,7857],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[7858,7983],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"content":"See Also","pos":[7992,8000]},{"content":"Time Management","pos":[8005,8020]},{"content":"asctime, _wasctime","pos":[8071,8089]},{"content":"ctime, _ctime32, _ctime64, _wctime, _wctime32, _wctime64","pos":[8151,8207]},{"content":"_fstat, _fstat32, _fstat64, _fstati64, _fstat32i64, _fstat64i32","pos":[8299,8362]},{"content":"_ftime, _ftime32, _ftime64","pos":[8460,8486]},{"content":"_futime, _futime32, _futime64","pos":[8553,8582]},{"content":"gmtime, _gmtime32, _gmtime64","pos":[8652,8680]},{"content":"localtime, _localtime32, _localtime64","pos":[8750,8787]},{"content":"_stat, _wstat Functions","pos":[8866,8889]},{"content":"time, _time32, _time64","pos":[8949,8971]}],"content":"---\ntitle: \"_utime, _utime32, _utime64, _wutime, _wutime32, _wutime64 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_utime64\"\n  - \"_utime\"\n  - \"_wutime\"\n  - \"_wutime64\"\n  - \"_wutime32\"\n  - \"_utime32\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-time-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_tutime\"\n  - \"_utime64\"\n  - \"wutime\"\n  - \"utime32\"\n  - \"wutime64\"\n  - \"_utime\"\n  - \"wutime32\"\n  - \"_wutime\"\n  - \"utime\"\n  - \"utime64\"\n  - \"_wutime64\"\n  - \"_utime32\"\n  - \"_tutime64\"\n  - \"_wutime32\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"tutime function\"\n  - \"utime32 function\"\n  - \"utime64 function\"\n  - \"_utime function\"\n  - \"_tutime32 function\"\n  - \"time [C++], file modification\"\n  - \"wutime function\"\n  - \"_wutime function\"\n  - \"_wutime32 function\"\n  - \"_tutime64 function\"\n  - \"_tutime function\"\n  - \"files [C++], modification time\"\n  - \"_wutime64 function\"\n  - \"_utime32 function\"\n  - \"utime function\"\n  - \"_utime64 function\"\n  - \"wutime64 function\"\n  - \"wutime32 function\"\n  - \"tutime64 function\"\n  - \"tutime32 function\"\nms.assetid: 8d482d40-19b9-4591-bfee-5d7f601d1a9e\ncaps.latest.revision: 16\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _utime, _utime32, _utime64, _wutime, _wutime32, _wutime64\nSet the file modification time.  \n  \n## Syntax  \n  \n```  \nint _utime(  \n   const char *filename,  \n   struct _utimbuf *times   \n);  \nint _utime32(  \n   const char *filename,  \n   struct __utimbuf32 *times   \n);  \nint _utime64(  \n   const char *filename,  \n   struct __utimbuf64 *times   \n);  \nint _wutime(  \n   const wchar_t *filename,  \n   struct _utimbuf *times   \n);  \nint _wutime32(  \n   const wchar_t *filename,  \n   struct __utimbuf32 *times   \n);  \nint _wutime64(  \n   const wchar_t *filename,  \n   struct __utimbuf64 *times   \n);  \n```  \n  \n#### Parameters  \n `filename`  \n Pointer to a string that contains the path or filename.  \n  \n `times`  \n Pointer to stored time values.  \n  \n## Return Value  \n Each of these functions returns 0 if the file-modification time was changed. A return value of –1 indicates an error. If an invalid parameter is passed, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, these functions return -1 and `errno` is set to one of the following values:  \n  \n `EACCES`  \n Path specifies directory or read-only file  \n  \n `EINVAL`  \n Invalid `times` argument  \n  \n `EMFILE`  \n Too many open files (the file must be opened to change its modification time)  \n  \n `ENOENT`  \n Path or filename not found  \n  \n See [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md) for more information on these, and other, return codes.  \n  \n The date can be changed for a file if the change date is after midnight, January 1, 1970, and before the end date of the function used. `_utime` and `_wutime` use a 64-bit time value, so the end date is 23:59:59, December 31, 3000, UTC. If `_USE_32BIT_TIME_T` is defined to force the old behavior, the end date is 23:59:59 January 18, 2038, UTC. `_utime32` or `_wutime32` use a 32-bit time type regardless of whether `_USE_32BIT_TIME_T` is defined, and always have the earlier end date. `_utime64` or `_wutime64` always use the 64-bit time type, so these functions always support the later end date.  \n  \n## Remarks  \n The `_utime` function sets the modification time for the file specified by `filename`*.* The process must have write access to the file in order to change the time. In the Windows operating system, you can change the access time and the modification time in the `_utimbuf` structure. If `times` is a `NULL` pointer, the modification time is set to the current local time. Otherwise, `times` must point to a structure of type `_utimbuf`, defined in SYS\\UTIME.H.  \n  \n The `_utimbuf` structure stores file access and modification times used by `_utime` to change file-modification dates. The structure has the following fields, which are both of type `time_t`:  \n  \n `actime`  \n Time of file access  \n  \n `modtime`  \n Time of file modification  \n  \n Specific versions of the `_utimbuf` structure (`_utimebuf32` and `__utimbuf64`) are defined using the 32-bit and 64-bit versions of the time type. These are used in the 32-bit and 64-bit specific versions of this function. `_utimbuf` itself by default uses a 64-bit time type unless `_USE_32BIT_TIME_T` is defined.  \n  \n `_utime` is identical to `_futime` except that the `filename` argument of `_utime` is a filename or a path to a file, rather than a file descriptor of an open file.  \n  \n `_wutime` is a wide-character version of `_utime`; the `filename` argument to `_wutime` is a wide-character string. These functions behave identically otherwise.  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_tutime`|`_utime`|`_utime`|`_wutime`|  \n|`_tutime32`|`_utime32`|`_utime32`|`_wutime32`|  \n|`_tutime64`|`_utime64`|`_utime64`|`_wutime64`|  \n  \n## Requirements  \n  \n|Routine|Required headers|Optional headers|  \n|-------------|----------------------|----------------------|  \n|`_utime`, `_utime32`, `_utime64`|\\<sys/utime.h>|\\<errno.h>|  \n|`_utime64`|\\<sys/utime.h>|\\<errno.h>|  \n|`_wutime`|\\<utime.h> or \\<wchar.h>|\\<errno.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Example  \n This program uses `_utime` to set the file-modification time to the current time.  \n  \n```  \n// crt_utime.c  \n#include <stdio.h>  \n#include <stdlib.h>  \n#include <sys/types.h>  \n#include <sys/utime.h>  \n#include <time.h>  \n  \nint main( void )  \n{  \n   struct tm tma = {0}, tmm = {0};  \n   struct _utimbuf ut;  \n  \n   // Fill out the accessed time structure  \n   tma.tm_hour = 12;  \n   tma.tm_isdst = 0;  \n   tma.tm_mday = 15;  \n   tma.tm_min = 0;  \n   tma.tm_mon = 0;  \n   tma.tm_sec = 0;  \n   tma.tm_year = 103;  \n  \n   // Fill out the modified time structure  \n   tmm.tm_hour = 12;  \n   tmm.tm_isdst = 0;  \n   tmm.tm_mday = 15;  \n   tmm.tm_min = 0;  \n   tmm.tm_mon = 0;  \n   tmm.tm_sec = 0;  \n   tmm.tm_year = 102;  \n  \n   // Convert tm to time_t  \n   ut.actime = mktime(&tma);  \n   ut.modtime = mktime(&tmm);  \n  \n   // Show file time before and after  \n   system( \"dir crt_utime.c\" );  \n   if( _utime( \"crt_utime.c\", &ut ) == -1 )  \n      perror( \"_utime failed\\n\" );  \n   else  \n      printf( \"File time modified\\n\" );  \n   system( \"dir crt_utime.c\" );  \n}  \n```  \n  \n## Sample Output  \n  \n```  \nVolume in drive C has no label.  \n Volume Serial Number is 9CAC-DE74  \n  \n Directory of C:\\test  \n  \n01/09/2003  05:38 PM               935 crt_utime.c  \n               1 File(s)            935 bytes  \n               0 Dir(s)  20,742,955,008 bytes free  \nFile time modified  \n Volume in drive C has no label.  \n Volume Serial Number is 9CAC-DE74  \n  \n Directory of C:\\test  \n  \n01/15/2002  12:00 PM               935 crt_utime.c  \n               1 File(s)            935 bytes  \n               0 Dir(s)  20,742,955,008 bytes free  \n```  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [Time Management](../../c-runtime-library/time-management.md)   \n [asctime, _wasctime](../../c-runtime-library/reference/asctime-wasctime.md)   \n [ctime, _ctime32, _ctime64, _wctime, _wctime32, _wctime64](../../c-runtime-library/reference/ctime-ctime32-ctime64-wctime-wctime32-wctime64.md)   \n [_fstat, _fstat32, _fstat64, _fstati64, _fstat32i64, _fstat64i32](../../c-runtime-library/reference/fstat-fstat32-fstat64-fstati64-fstat32i64-fstat64i32.md)   \n [_ftime, _ftime32, _ftime64](../../c-runtime-library/reference/ftime-ftime32-ftime64.md)   \n [_futime, _futime32, _futime64](../../c-runtime-library/reference/futime-futime32-futime64.md)   \n [gmtime, _gmtime32, _gmtime64](../../c-runtime-library/reference/gmtime-gmtime32-gmtime64.md)   \n [localtime, _localtime32, _localtime64](../../c-runtime-library/reference/localtime-localtime32-localtime64.md)   \n [_stat, _wstat Functions](../../c-runtime-library/reference/stat-functions.md)   \n [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md)"}