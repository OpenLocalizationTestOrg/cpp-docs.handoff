{"nodes":[{"pos":[12,44],"content":"aked Functions | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"aked Functions | Microsoft Docs","pos":[0,31]}]},{"content":"Naked Functions","pos":[641,656]},{"content":"Microsoft Specific","pos":[659,677]},{"content":"The <ph id=\"ph1\">`naked`</ph> storage-class attribute is a Microsoft-specific extension to the C language.","pos":[686,774],"source":"The `naked` storage-class attribute is a Microsoft-specific extension to the C language."},{"content":"For functions declared with the <ph id=\"ph1\">`naked`</ph> storage-class attribute, the compiler generates code without prolog and epilog code.","pos":[775,899],"source":" For functions declared with the `naked` storage-class attribute, the compiler generates code without prolog and epilog code."},{"content":"You can use this feature to write your own prolog/epilog code sequences using inline assembler code.","pos":[900,1000]},{"content":"Naked functions are particularly useful in writing virtual device drivers.","pos":[1001,1075]},{"pos":[1082,1343],"content":"Because the <ph id=\"ph1\">`naked`</ph> attribute is only relevant to the definition of a function and is not a type modifier, naked functions use the extended attribute syntax, described in <bpt id=\"p1\">[</bpt>Extended Storage-Class Attributes<ept id=\"p1\">](../c-language/c-extended-storage-class-attributes.md)</ept>.","source":"Because the `naked` attribute is only relevant to the definition of a function and is not a type modifier, naked functions use the extended attribute syntax, described in [Extended Storage-Class Attributes](../c-language/c-extended-storage-class-attributes.md)."},{"pos":[1350,1418],"content":"The following example defines a function with the <ph id=\"ph1\">`naked`</ph> attribute:","source":"The following example defines a function with the `naked` attribute:"},{"content":"Or, alternatively:","pos":[1525,1543]},{"content":"The <ph id=\"ph1\">`naked`</ph> attribute affects only the nature of the compiler's code generation for the function's prolog and epilog sequences.","pos":[1677,1804],"source":"The `naked` attribute affects only the nature of the compiler's code generation for the function's prolog and epilog sequences."},{"content":"It does not affect the code that is generated for calling such functions.","pos":[1805,1878]},{"content":"Thus, the <ph id=\"ph1\">`naked`</ph> attribute is not considered part of the function's type, and function pointers cannot have the <ph id=\"ph2\">`naked`</ph> attribute.","pos":[1879,2010],"source":" Thus, the `naked` attribute is not considered part of the function's type, and function pointers cannot have the `naked` attribute."},{"content":"Furthermore, the <ph id=\"ph1\">`naked`</ph> attribute cannot be applied to a data definition.","pos":[2011,2085],"source":" Furthermore, the `naked` attribute cannot be applied to a data definition."},{"content":"For example, the following code generates errors:","pos":[2086,2135]},{"content":"The <ph id=\"ph1\">`naked`</ph> attribute is relevant only to the definition of the function and cannot be specified in the function's prototype.","pos":[2288,2413],"source":"The `naked` attribute is relevant only to the definition of the function and cannot be specified in the function's prototype."},{"content":"The following declaration generates a compiler error:","pos":[2414,2467]},{"content":"END Microsoft Specific","pos":[2632,2654]},{"content":"See Also","pos":[2665,2673]},{"content":"C Function Definitions","pos":[2678,2700]}],"content":"---\ntitle: \"Naked Functions | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"naked functions\"\n  - \"functions [C++], naked\"\n  - \"prolog code\"\n  - \"epilog code\"\nms.assetid: 2543c8af-00d4-4a2a-8a87-e746da1f9929\ncaps.latest.revision: 8\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Naked Functions\n**Microsoft Specific**  \n  \n The `naked` storage-class attribute is a Microsoft-specific extension to the C language. For functions declared with the `naked` storage-class attribute, the compiler generates code without prolog and epilog code. You can use this feature to write your own prolog/epilog code sequences using inline assembler code. Naked functions are particularly useful in writing virtual device drivers.  \n  \n Because the `naked` attribute is only relevant to the definition of a function and is not a type modifier, naked functions use the extended attribute syntax, described in [Extended Storage-Class Attributes](../c-language/c-extended-storage-class-attributes.md).  \n  \n The following example defines a function with the `naked` attribute:  \n  \n```  \n__declspec( naked ) int func( formal_parameters )  \n{  \n   /* Function body */  \n}  \n```  \n  \n Or, alternatively:  \n  \n```  \n#define Naked   __declspec( naked )  \n  \nNaked int func( formal_parameters )  \n{  \n   /* Function body */  \n}  \n```  \n  \n The `naked` attribute affects only the nature of the compiler's code generation for the function's prolog and epilog sequences. It does not affect the code that is generated for calling such functions. Thus, the `naked` attribute is not considered part of the function's type, and function pointers cannot have the `naked` attribute. Furthermore, the `naked` attribute cannot be applied to a data definition. For example, the following code generates errors:  \n  \n```  \n__declspec( naked ) int i;  /* Error--naked attribute not */  \n                            /* permitted on data declarations. */  \n```  \n  \n The `naked` attribute is relevant only to the definition of the function and cannot be specified in the function's prototype. The following declaration generates a compiler error:  \n  \n```  \n__declspec( naked ) int func();   /* Error--naked attribute not */  \n                     /* permitted on function declarations.    */   \\  \n```  \n  \n **END Microsoft Specific**  \n  \n## See Also  \n [C Function Definitions](../c-language/c-function-definitions.md)"}