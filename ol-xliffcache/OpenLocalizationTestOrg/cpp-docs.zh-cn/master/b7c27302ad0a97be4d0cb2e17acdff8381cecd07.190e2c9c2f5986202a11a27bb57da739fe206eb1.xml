{"nodes":[{"pos":[12,40],"content":"aked (C++) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"aked (C++) | Microsoft Docs","pos":[0,27]}]},{"content":"naked (C++)","pos":[691,702]},{"content":"Microsoft Specific","pos":[705,723]},{"content":"For functions declared with the <ph id=\"ph1\">`naked`</ph> attribute, the compiler generates code without prolog and epilog code.","pos":[732,842],"source":"For functions declared with the `naked` attribute, the compiler generates code without prolog and epilog code."},{"content":"You can use this feature to write your own prolog/epilog code sequences using inline assembler code.","pos":[843,943]},{"content":"Naked functions are particularly useful in writing virtual device drivers.","pos":[944,1018]},{"content":"Note that the <ph id=\"ph1\">`naked`</ph> attribute is only valid on x86 and ARM, and is not available on <ph id=\"ph2\">[!INCLUDE[vcprx64](../assembler/inline/includes/vcprx64_md.md)]</ph>.","pos":[1020,1170],"source":"  Note that the `naked` attribute is only valid on x86 and ARM, and is not available on [!INCLUDE[vcprx64](../assembler/inline/includes/vcprx64_md.md)]."},{"content":"Syntax","pos":[1179,1185]},{"content":"Remarks","pos":[1240,1247]},{"pos":[1251,1458],"content":"Because the <ph id=\"ph1\">`naked`</ph> attribute is only relevant to the definition of a function and is not a type modifier, naked functions must use extended attribute syntax and the <bpt id=\"p1\">[</bpt>__declspec<ept id=\"p1\">](../cpp/declspec.md)</ept> keyword.","source":"Because the `naked` attribute is only relevant to the definition of a function and is not a type modifier, naked functions must use extended attribute syntax and the [__declspec](../cpp/declspec.md) keyword."},{"pos":[1466,1656],"content":"The compiler cannot generate an inline function for a function marked with the naked attribute, even if the function is also marked with the <bpt id=\"p1\">[</bpt>__forceinline<ept id=\"p1\">](inline-functions-cpp.md)</ept> keyword.","source":"The compiler cannot generate an inline function for a function marked with the naked attribute, even if the function is also marked with the [__forceinline](inline-functions-cpp.md) keyword."},{"pos":[1664,1790],"content":"The compiler issues an error if the <ph id=\"ph1\">`naked`</ph> attribute is applied to anything other than the definition of a non-member method.","source":"The compiler issues an error if the `naked` attribute is applied to anything other than the definition of a non-member method."},{"content":"Examples","pos":[1799,1807]},{"pos":[1811,1867],"content":"This code defines a function with the <ph id=\"ph1\">`naked`</ph> attribute:","source":"This code defines a function with the `naked` attribute:"},{"content":"Or, alternately:","pos":[1944,1960]},{"content":"The <ph id=\"ph1\">`naked`</ph> attribute affects only the nature of the compiler's code generation for the function's prolog and epilog sequences.","pos":[2059,2186],"source":"The `naked` attribute affects only the nature of the compiler's code generation for the function's prolog and epilog sequences."},{"content":"It does not affect the code that is generated for calling such functions.","pos":[2187,2260]},{"content":"Thus, the <ph id=\"ph1\">`naked`</ph> attribute is not considered part of the function's type, and function pointers cannot have the <ph id=\"ph2\">`naked`</ph> attribute.","pos":[2261,2392],"source":" Thus, the `naked` attribute is not considered part of the function's type, and function pointers cannot have the `naked` attribute."},{"content":"Furthermore, the <ph id=\"ph1\">`naked`</ph> attribute cannot be applied to a data definition.","pos":[2393,2467],"source":" Furthermore, the `naked` attribute cannot be applied to a data definition."},{"content":"For example, this code sample generates an error:","pos":[2468,2517]},{"content":"The <ph id=\"ph1\">`naked`</ph> attribute is relevant only to the definition of the function and cannot be specified in the function's prototype.","pos":[2674,2799],"source":"The `naked` attribute is relevant only to the definition of the function and cannot be specified in the function's prototype."},{"content":"For example, this declaration generates a compiler error:","pos":[2800,2857]},{"content":"END Microsoft Specific","pos":[3020,3042]},{"content":"See Also","pos":[3053,3061]},{"content":"__declspec","pos":[3066,3076]},{"content":"Keywords","pos":[3103,3111]},{"content":"Naked Function Calls","pos":[3142,3162]}],"content":"---\ntitle: \"naked (C++) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"language-reference\"\nf1_keywords: \n  - \"naked_cpp\"\n  - \"naked\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"__declspec keyword [C++], naked\"\n  - \"naked __declspec keyword\"\nms.assetid: 69723241-05e1-439b-868e-20a83a16ab6d\ncaps.latest.revision: 12\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# naked (C++)\n**Microsoft Specific**  \n  \n For functions declared with the `naked` attribute, the compiler generates code without prolog and epilog code. You can use this feature to write your own prolog/epilog code sequences using inline assembler code. Naked functions are particularly useful in writing virtual device drivers.  Note that the `naked` attribute is only valid on x86 and ARM, and is not available on [!INCLUDE[vcprx64](../assembler/inline/includes/vcprx64_md.md)].  \n  \n## Syntax  \n  \n```  \n__declspec(naked) declarator  \n```  \n  \n## Remarks  \n Because the `naked` attribute is only relevant to the definition of a function and is not a type modifier, naked functions must use extended attribute syntax and the [__declspec](../cpp/declspec.md) keyword.  \n  \n\n The compiler cannot generate an inline function for a function marked with the naked attribute, even if the function is also marked with the [__forceinline](inline-functions-cpp.md) keyword.  \n\n  \n The compiler issues an error if the `naked` attribute is applied to anything other than the definition of a non-member method.  \n  \n## Examples  \n This code defines a function with the `naked` attribute:  \n  \n```  \n__declspec( naked ) int func( formal_parameters ) {}  \n```  \n  \n Or, alternately:  \n  \n```  \n#define Naked __declspec( naked )  \nNaked int func( formal_parameters ) {}  \n```  \n  \n The `naked` attribute affects only the nature of the compiler's code generation for the function's prolog and epilog sequences. It does not affect the code that is generated for calling such functions. Thus, the `naked` attribute is not considered part of the function's type, and function pointers cannot have the `naked` attribute. Furthermore, the `naked` attribute cannot be applied to a data definition. For example, this code sample generates an error:  \n  \n```  \n__declspec( naked ) int i;       // Error--naked attribute not  \n                                 // permitted on data declarations.  \n```  \n  \n The `naked` attribute is relevant only to the definition of the function and cannot be specified in the function's prototype. For example, this declaration generates a compiler error:  \n  \n```  \n__declspec( naked ) int func();  // Error--naked attribute not   \n                                 // permitted on function declarations  \n```  \n  \n **END Microsoft Specific**  \n  \n## See Also  \n [__declspec](../cpp/declspec.md)   \n [Keywords](../cpp/keywords-cpp.md)   \n [Naked Function Calls](../cpp/naked-function-calls.md)"}