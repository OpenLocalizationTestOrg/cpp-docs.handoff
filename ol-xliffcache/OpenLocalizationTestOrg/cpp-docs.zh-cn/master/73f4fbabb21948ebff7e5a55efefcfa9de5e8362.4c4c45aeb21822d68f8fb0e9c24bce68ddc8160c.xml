{"nodes":[{"pos":[12,50],"content":"vsscanf_s, vswscanf_s | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"vsscanf_s, vswscanf_s | Microsoft Docs","pos":[0,38]}]},{"content":"vsscanf_s, vswscanf_s","pos":[883,904]},{"content":"Reads formatted data from a string.","pos":[905,940]},{"content":"These versions of <bpt id=\"p1\">[</bpt>vsscanf, vswscanf<ept id=\"p1\">](../../c-runtime-library/reference/vsscanf-vswscanf.md)</ept> have security enhancements, as described in <bpt id=\"p2\">[</bpt>Security Features in the CRT<ept id=\"p2\">](../../c-runtime-library/security-features-in-the-crt.md)</ept>.","pos":[941,1166],"source":" These versions of [vsscanf, vswscanf](../../c-runtime-library/reference/vsscanf-vswscanf.md) have security enhancements, as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md)."},{"content":"Syntax","pos":[1175,1181]},{"content":"Parameters","pos":[1401,1411]},{"content":"Stored data","pos":[1427,1438]},{"content":"Format-control string.","pos":[1457,1479]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Format Specification Fields: scanf and wscanf Functions<ept id=\"p1\">](../../c-runtime-library/format-specification-fields-scanf-and-wscanf-functions.md)</ept>.","pos":[1480,1647],"source":" For more information, see [Format Specification Fields: scanf and wscanf Functions](../../c-runtime-library/format-specification-fields-scanf-and-wscanf-functions.md)."},{"content":"Variable argument list.","pos":[1667,1690]},{"content":"Return Value","pos":[1699,1711]},{"content":"Each of these functions returns the number of fields that are successfully converted and assigned; the return value does not include fields that were read but not assigned.","pos":[1715,1887]},{"content":"A return value of 0 indicates that no fields were assigned.","pos":[1888,1947]},{"content":"The return value is <ph id=\"ph1\">`EOF`</ph> for an error or if the end of the string is reached before the first conversion.","pos":[1948,2054],"source":" The return value is `EOF` for an error or if the end of the string is reached before the first conversion."},{"content":"If <ph id=\"ph1\">`buffer`</ph> or <ph id=\"ph2\">`format`</ph> is a <ph id=\"ph3\">`NULL`</ph> pointer, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[2061,2236],"source":"If `buffer` or `format` is a `NULL` pointer, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, these functions return -1 and set <ph id=\"ph1\">`errno`</ph> to","pos":[2237,2318],"source":" If execution is allowed to continue, these functions return -1 and set `errno` to "},{"pos":[2334,2505],"content":"For information about these and other error codes, see <bpt id=\"p1\">[</bpt>errno, _doserrno, _sys_errlist, and _sys_nerr<ept id=\"p1\">](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)</ept>.","source":"For information about these and other error codes, see [errno, _doserrno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)."},{"content":"Remarks","pos":[2514,2521]},{"content":"The <ph id=\"ph1\">`vsscanf_s`</ph> function reads data from <ph id=\"ph2\">`buffer`</ph> into the locations that are given by each argument in the <ph id=\"ph3\">`arglist`</ph> argument list.","pos":[2525,2657],"source":"The `vsscanf_s` function reads data from `buffer` into the locations that are given by each argument in the `arglist` argument list."},{"content":"The arguments in the argument list specify pointers to variables that have a type that corresponds to a type specifier in <ph id=\"ph1\">`format`</ph>.","pos":[2658,2789],"source":" The arguments in the argument list specify pointers to variables that have a type that corresponds to a type specifier in `format`."},{"content":"Unlike the less secure version <ph id=\"ph1\">`vsscanf`</ph>, a buffer size parameter is required when you use the type field characters <ph id=\"ph2\">`c`</ph>, <ph id=\"ph3\">`C`</ph>, <ph id=\"ph4\">`s`</ph>, <ph id=\"ph5\">`S`</ph>, or string-control sets that are enclosed in <ph id=\"ph6\">`[]`</ph>.","pos":[2790,2976],"source":" Unlike the less secure version `vsscanf`, a buffer size parameter is required when you use the type field characters `c`, `C`, `s`, `S`, or string-control sets that are enclosed in `[]`."},{"content":"The buffer size in characters must be supplied as an additional parameter immediately after each buffer parameter that requires it.","pos":[2977,3108]},{"content":"The buffer size includes the terminating null.","pos":[3115,3161]},{"content":"A width specification field may be used to ensure that the token that's read in will fit into the buffer.","pos":[3162,3267]},{"content":"If no width specification field is used, and the token read in is too big to fit in the buffer, nothing is written to that buffer.","pos":[3268,3398]},{"pos":[3405,3642],"content":"For more information, see <bpt id=\"p1\">[</bpt>scanf_s, _scanf_s_l, wscanf_s, _wscanf_s_l<ept id=\"p1\">](../../c-runtime-library/reference/scanf-s-scanf-s-l-wscanf-s-wscanf-s-l.md)</ept> and <bpt id=\"p2\">[</bpt>scanf Type Field Characters<ept id=\"p2\">](../../c-runtime-library/scanf-type-field-characters.md)</ept>.","source":"For more information, see [scanf_s, _scanf_s_l, wscanf_s, _wscanf_s_l](../../c-runtime-library/reference/scanf-s-scanf-s-l-wscanf-s-wscanf-s-l.md) and [scanf Type Field Characters](../../c-runtime-library/scanf-type-field-characters.md)."},{"pos":[3650,3716],"content":"[!NOTE]\n The size parameter is of type `unsigned`, not `size_t`.","leadings":["","> "],"nodes":[{"content":"The size parameter is of type <ph id=\"ph1\">`unsigned`</ph>, not <ph id=\"ph2\">`size_t`</ph>.","pos":[9,64],"source":" The size parameter is of type `unsigned`, not `size_t`."}]},{"content":"The <ph id=\"ph1\">`format`</ph> argument controls the interpretation of the input fields and has the same form and function as the <ph id=\"ph2\">`format`</ph> argument for the <ph id=\"ph3\">`scanf_s`</ph> function.","pos":[3723,3880],"source":"The `format` argument controls the interpretation of the input fields and has the same form and function as the `format` argument for the `scanf_s` function."},{"content":"If copying occurs between strings that overlap, the behavior is undefined.","pos":[3881,3955]},{"content":"is a wide-character version of <ph id=\"ph1\">`vsscanf_s`</ph>; the arguments to <ph id=\"ph2\">`vswscanf_s`</ph> are wide-character strings.","pos":[3975,4076],"source":" is a wide-character version of `vsscanf_s`; the arguments to `vswscanf_s` are wide-character strings."},{"content":"does not handle multibyte hexadecimal characters.","pos":[4089,4138]},{"content":"does not handle Unicode full-width hexadecimal or \"compatibility zone\" characters.","pos":[4152,4234]},{"content":"Otherwise, <ph id=\"ph1\">`vswscanf_s`</ph> and <ph id=\"ph2\">`vsscanf_s`</ph> behave identically.","pos":[4235,4294],"source":" Otherwise, `vswscanf_s` and `vsscanf_s` behave identically."},{"content":"Generic-Text Routine Mappings","pos":[4304,4333]},{"content":"TCHAR.H routine","pos":[4340,4355]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[4356,4384],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[4385,4398]},{"content":"_UNICODE defined","pos":[4399,4415]},{"content":"Requirements","pos":[4588,4600]},{"content":"Routine","pos":[4607,4614]},{"content":"Required header","pos":[4615,4630]},{"content":"stdio.h&gt;","pos":[4689,4697],"source":"stdio.h>"},{"content":"stdio.h&gt; or <ph id=\"ph1\">\\&lt;</ph>wchar.h&gt;","pos":[4717,4739],"source":"stdio.h> or \\<wchar.h>"},{"pos":[4747,4851],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"content":"Example","pos":[4860,4867]},{"content":".NET Framework Equivalent","pos":[6064,6089]},{"pos":[6093,6213],"content":"See <ph id=\"ph1\">`Parse`</ph> methods, such as <bpt id=\"p1\">[</bpt>System::Double::Parse<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/system.double.parse.aspx)</ept>.","source":"See `Parse` methods, such as [System::Double::Parse](https://msdn.microsoft.com/en-us/library/system.double.parse.aspx)."},{"content":"See Also","pos":[6222,6230]},{"content":"Stream I/O","pos":[6235,6245]},{"content":"scanf, _scanf_l, wscanf, _wscanf_l","pos":[6291,6325]},{"content":"sscanf, _sscanf_l, swscanf, _swscanf_l","pos":[6400,6438]},{"content":"sscanf_s, _sscanf_s_l, swscanf_s, _swscanf_s_l","pos":[6517,6563]},{"content":"sprintf, _sprintf_l, swprintf, _swprintf_l, <ph id=\"ph1\">\\_</ph>_swprintf_l","pos":[6650,6707],"source":"sprintf, _sprintf_l, swprintf, _swprintf_l, \\__swprintf_l"},{"content":"vsscanf, vswscanf","pos":[6801,6818]}],"content":"---\ntitle: \"vsscanf_s, vswscanf_s | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"vswscanf_s\"\n  - \"vsscanf_s\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"vsscanf_s\"\n  - \"vswscanf_s\"\n  - \"_vstscanf_s\"\ndev_langs: \n  - \"C++\"\nms.assetid: 7b732e68-c6f4-4579-8917-122f5a7876e1\ncaps.latest.revision: 6\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# vsscanf_s, vswscanf_s\nReads formatted data from a string. These versions of [vsscanf, vswscanf](../../c-runtime-library/reference/vsscanf-vswscanf.md) have security enhancements, as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md).  \n  \n## Syntax  \n  \n```  \nint vsscanf_s(  \n   const char *buffer,  \n   const char *format,  \n   va_list argptr  \n);   \nint vswscanf_s(  \n   const wchar_t *buffer,  \n   const wchar_t *format,  \n   va_list arglist  \n);   \n```  \n  \n#### Parameters  \n `buffer`  \n Stored data  \n  \n `format`  \n Format-control string. For more information, see [Format Specification Fields: scanf and wscanf Functions](../../c-runtime-library/format-specification-fields-scanf-and-wscanf-functions.md).  \n  \n `arglist`  \n Variable argument list.  \n  \n## Return Value  \n Each of these functions returns the number of fields that are successfully converted and assigned; the return value does not include fields that were read but not assigned. A return value of 0 indicates that no fields were assigned. The return value is `EOF` for an error or if the end of the string is reached before the first conversion.  \n  \n If `buffer` or `format` is a `NULL` pointer, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, these functions return -1 and set `errno` to `EINVAL`  \n  \n For information about these and other error codes, see [errno, _doserrno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md).  \n  \n## Remarks  \n The `vsscanf_s` function reads data from `buffer` into the locations that are given by each argument in the `arglist` argument list. The arguments in the argument list specify pointers to variables that have a type that corresponds to a type specifier in `format`. Unlike the less secure version `vsscanf`, a buffer size parameter is required when you use the type field characters `c`, `C`, `s`, `S`, or string-control sets that are enclosed in `[]`. The buffer size in characters must be supplied as an additional parameter immediately after each buffer parameter that requires it.  \n  \n The buffer size includes the terminating null. A width specification field may be used to ensure that the token that's read in will fit into the buffer. If no width specification field is used, and the token read in is too big to fit in the buffer, nothing is written to that buffer.  \n  \n For more information, see [scanf_s, _scanf_s_l, wscanf_s, _wscanf_s_l](../../c-runtime-library/reference/scanf-s-scanf-s-l-wscanf-s-wscanf-s-l.md) and [scanf Type Field Characters](../../c-runtime-library/scanf-type-field-characters.md).  \n  \n> [!NOTE]\n>  The size parameter is of type `unsigned`, not `size_t`.  \n  \n The `format` argument controls the interpretation of the input fields and has the same form and function as the `format` argument for the `scanf_s` function. If copying occurs between strings that overlap, the behavior is undefined.  \n  \n `vswscanf_s` is a wide-character version of `vsscanf_s`; the arguments to `vswscanf_s` are wide-character strings. `vsscanf_s` does not handle multibyte hexadecimal characters. `vswscanf_s` does not handle Unicode full-width hexadecimal or \"compatibility zone\" characters. Otherwise, `vswscanf_s` and `vsscanf_s` behave identically.  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_vstscanf_s`|`vsscanf_s`|`vsscanf_s`|`vswscanf_s`|  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`vsscanf_s`|\\<stdio.h>|  \n|`vswscanf_s`|\\<stdio.h> or \\<wchar.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n  \n```  \n// crt_vsscanf_s.c  \n// compile with: /W3  \n// This program uses vsscanf_s to read data items  \n// from a string named tokenstring, then displays them.  \n  \n#include <stdio.h>  \n#include <stdarg.h>  \n#include <stdlib.h>  \n  \nint call_vsscanf_s(char *tokenstring, char *format, ...)  \n{  \n    int result;  \n    va_list arglist;  \n    va_start(arglist, format);  \n    result = vsscanf_s(tokenstring, format, arglist);  \n    va_end(arglist);  \n    return result;  \n}  \n  \nint main( void )  \n{  \n    char  tokenstring[] = \"15 12 14...\";  \n    char  s[81];  \n    char  c;  \n    int   i;  \n    float fp;  \n  \n    // Input various data from tokenstring:  \n    // max 80 character string:  \n    call_vsscanf_s(tokenstring, \"%80s\", s, _countof(s));  \n    call_vsscanf_s(tokenstring, \"%c\", &c, sizeof(char));  \n    call_vsscanf_s(tokenstring, \"%d\", &i);  \n    call_vsscanf_s(tokenstring, \"%f\", &fp);  \n  \n    // Output the data read  \n    printf(\"String    = %s\\n\", s);  \n    printf(\"Character = %c\\n\", c);  \n    printf(\"Integer:  = %d\\n\", i);  \n    printf(\"Real:     = %f\\n\", fp);  \n}  \n```  \n  \n```Output  \nString    = 15  \nCharacter = 1  \nInteger:  = 15  \nReal:     = 15.000000  \n```  \n  \n## .NET Framework Equivalent  \n See `Parse` methods, such as [System::Double::Parse](https://msdn.microsoft.com/en-us/library/system.double.parse.aspx).  \n  \n## See Also  \n [Stream I/O](../../c-runtime-library/stream-i-o.md)   \n [scanf, _scanf_l, wscanf, _wscanf_l](../../c-runtime-library/reference/scanf-scanf-l-wscanf-wscanf-l.md)   \n [sscanf, _sscanf_l, swscanf, _swscanf_l](../../c-runtime-library/reference/sscanf-sscanf-l-swscanf-swscanf-l.md)   \n [sscanf_s, _sscanf_s_l, swscanf_s, _swscanf_s_l](../../c-runtime-library/reference/sscanf-s-sscanf-s-l-swscanf-s-swscanf-s-l.md)   \n [sprintf, _sprintf_l, swprintf, _swprintf_l, \\__swprintf_l](../../c-runtime-library/reference/sprintf-sprintf-l-swprintf-swprintf-l-swprintf-l.md)   \n [vsscanf, vswscanf](../../c-runtime-library/reference/vsscanf-vswscanf.md)"}