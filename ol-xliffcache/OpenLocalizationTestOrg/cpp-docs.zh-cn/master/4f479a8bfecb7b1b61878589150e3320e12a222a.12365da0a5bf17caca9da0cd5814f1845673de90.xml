{"nodes":[{"pos":[12,61],"content":"Compiler Warning (level 1) C4722 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Warning (level 1) C4722 | Microsoft Docs","pos":[0,49]}]},{"content":"Compiler Warning (level 1) C4722","pos":[630,662]},{"content":"'function' : destructor never returns, potential memory leak","pos":[663,723]},{"content":"The flow of control terminates in a destructor.","pos":[730,777]},{"content":"The thread or the entire program will terminate and allocated resources may not be released.","pos":[778,870]},{"content":"Furthermore, if a destructor will be called for stack unwinding during exception processing, the behavior of executable is undefined.","pos":[872,1005]},{"content":"To resolve, remove the function call that causes the destructor to not return.","pos":[1012,1090]},{"content":"Example","pos":[1099,1106]},{"content":"The following sample generates C4722:","pos":[1110,1147]}],"content":"---\ntitle: \"Compiler Warning (level 1) C4722 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-csharp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"C4722\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C4722\"\nms.assetid: d8660710-f67b-4f59-a5fd-59259475529e\ncaps.latest.revision: 6\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# Compiler Warning (level 1) C4722\n'function' : destructor never returns, potential memory leak  \n  \n The flow of control terminates in a destructor. The thread or the entire program will terminate and allocated resources may not be released.  Furthermore, if a destructor will be called for stack unwinding during exception processing, the behavior of executable is undefined.  \n  \n To resolve, remove the function call that causes the destructor to not return.  \n  \n## Example  \n The following sample generates C4722:  \n  \n```  \n// C4722.cpp  \n// compile with: /O1 /W1 /c  \n#include <stdlib.h>  \nclass C {  \npublic:  \n   C();  \n   ~C() { exit(1); };   // C4722  \n};  \n  \nextern void func (C*);  \n  \nvoid Test(){  \n   C x;  \n   func(&x);  \n   // control will not leave Test because destructor will exit  \n}  \n```"}