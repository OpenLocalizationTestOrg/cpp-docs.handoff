{"nodes":[{"pos":[12,61],"content":"_status87, _statusfp, _statusfp2 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_status87, _statusfp, _statusfp2 | Microsoft Docs","pos":[0,49]}]},{"content":"_status87, _statusfp, _statusfp2","pos":[1385,1417]},{"content":"Gets the floating-point status word.","pos":[1418,1454]},{"content":"Syntax","pos":[1463,1469]},{"content":"Parameters","pos":[1622,1632]},{"content":"This address is filled with the status word for the x87 floating-point unit.","pos":[1646,1722]},{"content":"This address is filled with the status word for the SSE2 floating-point unit.","pos":[1740,1817]},{"content":"Return Value","pos":[1826,1838]},{"content":"For <ph id=\"ph1\">`_status87`</ph> and <ph id=\"ph2\">`_statusfp`</ph>, the bits in the value that's returned indicate the floating-point status.","pos":[1842,1948],"source":"For `_status87` and `_statusfp`, the bits in the value that's returned indicate the floating-point status."},{"content":"See the FLOAT.H include file for a definition of the bits that are returned by <ph id=\"ph1\">`_statusfp`</ph>.","pos":[1949,2040],"source":" See the FLOAT.H include file for a definition of the bits that are returned by `_statusfp`."},{"content":"Many math library functions modify the floating-point status word, with unpredictable results.","pos":[2041,2135]},{"content":"Optimization can reorder, combine, and eliminate floating-point operations around calls to <ph id=\"ph1\">`_status87`</ph>, <ph id=\"ph2\">`_statusfp`</ph>, and related functions.","pos":[2136,2275],"source":" Optimization can reorder, combine, and eliminate floating-point operations around calls to `_status87`, `_statusfp`, and related functions."},{"content":"Use the <bpt id=\"p1\">[</bpt>/Od (Disable (Debug))<ept id=\"p1\">](../../build/reference/od-disable-debug.md)</ept> compiler option or the <bpt id=\"p2\">[</bpt>fenv_access<ept id=\"p2\">](../../preprocessor/fenv-access.md)</ept> pragma directive to prevent optimizations that reorder floating-point operations.","pos":[2276,2504],"source":" Use the [/Od (Disable (Debug))](../../build/reference/od-disable-debug.md) compiler option or the [fenv_access](../../preprocessor/fenv-access.md) pragma directive to prevent optimizations that reorder floating-point operations."},{"content":"Return values from <ph id=\"ph1\">`_clearfp`</ph> and <ph id=\"ph2\">`_statusfp`</ph>, and also the return parameters of <ph id=\"ph3\">`_statusfp2`</ph>, are more reliable if fewer floating-point operations are performed between known states of the floating-point status word.","pos":[2505,2722],"source":" Return values from `_clearfp` and `_statusfp`, and also the return parameters of `_statusfp2`, are more reliable if fewer floating-point operations are performed between known states of the floating-point status word."},{"content":"Remarks","pos":[2731,2738]},{"content":"The <ph id=\"ph1\">`_statusfp`</ph> function gets the floating-point status word.","pos":[2742,2803],"source":"The `_statusfp` function gets the floating-point status word."},{"content":"The status word is a combination of the floating-point processor status and other conditions detected by the floating-point exception handler—for example, floating-point stack overflow and underflow.","pos":[2804,3003]},{"content":"Unmasked exceptions are checked for before the contents of the status word are returned.","pos":[3004,3092]},{"content":"This means that the caller is informed of pending exceptions.","pos":[3093,3154]},{"content":"On x86 platforms, <ph id=\"ph1\">`_statusfp`</ph> returns a combination of the x87 and SSE2 floating-point status.","pos":[3155,3249],"source":" On x86 platforms, `_statusfp` returns a combination of the x87 and SSE2 floating-point status."},{"content":"On x64 platforms, the status that's returned is based on the SSE’s MXCSR status.","pos":[3250,3330]},{"content":"On ARM platforms, <ph id=\"ph1\">`_statusfp`</ph> returns status from the FPSCR register.","pos":[3331,3400],"source":" On ARM platforms, `_statusfp` returns status from the FPSCR register."},{"content":"is a platform-independent, portable version of <ph id=\"ph1\">`_status87`</ph>.","pos":[3419,3478],"source":" is a platform-independent, portable version of `_status87`."},{"content":"It is identical to <ph id=\"ph1\">`_status87`</ph> on Intel (x86) platforms and is also supported by the x64 and ARM platforms.","pos":[3479,3586],"source":" It is identical to `_status87` on Intel (x86) platforms and is also supported by the x64 and ARM platforms."},{"content":"To ensure that your floating-point code is portable to all architectures, use <ph id=\"ph1\">`_statusfp`</ph>.","pos":[3587,3677],"source":" To ensure that your floating-point code is portable to all architectures, use `_statusfp`."},{"content":"If you are only targeting x86 platforms, you can use either <ph id=\"ph1\">`_status87`</ph> or <ph id=\"ph2\">`_statusfp`</ph>.","pos":[3678,3765],"source":" If you are only targeting x86 platforms, you can use either `_status87` or `_statusfp`."},{"content":"We recommend <ph id=\"ph1\">`_statusfp2`</ph> for chips (such as the Pentium IV) that have both an x87 and an SSE2 floating-point processor.","pos":[3772,3892],"source":"We recommend `_statusfp2` for chips (such as the Pentium IV) that have both an x87 and an SSE2 floating-point processor."},{"content":"For <ph id=\"ph1\">`_statusfp2`</ph>, the addresses are filled by using the floating-point status word for both the x87 or the SSE2 floating-point processor.","pos":[3893,4030],"source":" For `_statusfp2`, the addresses are filled by using the floating-point status word for both the x87 or the SSE2 floating-point processor."},{"content":"For a chip that supports x87 and SSE2 floating-point processors, EM_AMBIGUOUS is set to 1 if <ph id=\"ph1\">`_statusfp`</ph> or <ph id=\"ph2\">`_controlfp`</ph> is used and the action was ambiguous because it could refer to the x87 or the SSE2 floating-point status word.","pos":[4031,4262],"source":" For a chip that supports x87 and SSE2 floating-point processors, EM_AMBIGUOUS is set to 1 if `_statusfp` or `_controlfp` is used and the action was ambiguous because it could refer to the x87 or the SSE2 floating-point status word."},{"content":"The <ph id=\"ph1\">`_statusfp2`</ph> function is only supported on x86 platforms.","pos":[4263,4324],"source":" The `_statusfp2` function is only supported on x86 platforms."},{"pos":[4331,4597],"content":"These functions are not useful for <bpt id=\"p1\">[</bpt>/clr (Common Language Runtime Compilation)<ept id=\"p1\">](../../build/reference/clr-common-language-runtime-compilation.md)</ept> or <ph id=\"ph1\">`/clr:pure`</ph> compilation because the common language runtime (CLR) only supports the default floating-point precision.","source":"These functions are not useful for [/clr (Common Language Runtime Compilation)](../../build/reference/clr-common-language-runtime-compilation.md) or `/clr:pure` compilation because the common language runtime (CLR) only supports the default floating-point precision."},{"content":"Requirements","pos":[4606,4618]},{"content":"Routine","pos":[4625,4632]},{"content":"Required header","pos":[4633,4648]},{"pos":[4704,4718],"content":", <ph id=\"ph1\">`_statusfp`</ph>,","source":", `_statusfp`, "},{"content":"float.h&gt;","pos":[4734,4742],"source":"float.h>"},{"pos":[4750,4854],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"content":"Example","pos":[4863,4870]},{"content":".NET Framework Equivalent","pos":[5882,5907]},{"content":"Not applicable.","pos":[5911,5926]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[5927,5974],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[5975,6100],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"content":"See Also","pos":[6109,6117]},{"content":"Floating-Point Support","pos":[6122,6144]},{"content":"_clear87, _clearfp","pos":[6202,6220]},{"content":"_control87, _controlfp, <ph id=\"ph1\">\\_</ph>_control87_2","pos":[6281,6319],"source":"_control87, _controlfp, \\__control87_2"}],"content":"---\ntitle: \"_status87, _statusfp, _statusfp2 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_statusfp2\"\n  - \"_statusfp\"\n  - \"_status87\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-runtime-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_statusfp2\"\n  - \"_statusfp\"\n  - \"statusfp2\"\n  - \"_status87\"\n  - \"status87\"\n  - \"statusfp\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"floating-point functions, getting status word\"\n  - \"floating-point numbers, status word\"\n  - \"status87 function\"\n  - \"status word, getting floating point\"\n  - \"statusfp function\"\n  - \"_statusfp function\"\n  - \"_statusfp2 function\"\n  - \"statusfp2 function\"\n  - \"_status87 function\"\n  - \"floating-point functions\"\n  - \"status word\"\nms.assetid: 7ef963fa-b1fb-429d-94d6-fbf282ab7432\ncaps.latest.revision: 20\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# _status87, _statusfp, _statusfp2\nGets the floating-point status word.  \n  \n## Syntax  \n  \n```  \nunsigned int _status87( void );  \nunsigned int _statusfp( void );  \nvoid _statusfp2(unsigned int *px86, unsigned int *pSSE2)  \n```  \n  \n#### Parameters  \n `px86`  \n This address is filled with the status word for the x87 floating-point unit.  \n  \n `pSSE2`  \n This address is filled with the status word for the SSE2 floating-point unit.  \n  \n## Return Value  \n For `_status87` and `_statusfp`, the bits in the value that's returned indicate the floating-point status. See the FLOAT.H include file for a definition of the bits that are returned by `_statusfp`. Many math library functions modify the floating-point status word, with unpredictable results. Optimization can reorder, combine, and eliminate floating-point operations around calls to `_status87`, `_statusfp`, and related functions. Use the [/Od (Disable (Debug))](../../build/reference/od-disable-debug.md) compiler option or the [fenv_access](../../preprocessor/fenv-access.md) pragma directive to prevent optimizations that reorder floating-point operations. Return values from `_clearfp` and `_statusfp`, and also the return parameters of `_statusfp2`, are more reliable if fewer floating-point operations are performed between known states of the floating-point status word.  \n  \n## Remarks  \n The `_statusfp` function gets the floating-point status word. The status word is a combination of the floating-point processor status and other conditions detected by the floating-point exception handler—for example, floating-point stack overflow and underflow. Unmasked exceptions are checked for before the contents of the status word are returned. This means that the caller is informed of pending exceptions. On x86 platforms, `_statusfp` returns a combination of the x87 and SSE2 floating-point status. On x64 platforms, the status that's returned is based on the SSE’s MXCSR status. On ARM platforms, `_statusfp` returns status from the FPSCR register.  \n  \n `_statusfp` is a platform-independent, portable version of `_status87`. It is identical to `_status87` on Intel (x86) platforms and is also supported by the x64 and ARM platforms. To ensure that your floating-point code is portable to all architectures, use `_statusfp`. If you are only targeting x86 platforms, you can use either `_status87` or `_statusfp`.  \n  \n We recommend `_statusfp2` for chips (such as the Pentium IV) that have both an x87 and an SSE2 floating-point processor. For `_statusfp2`, the addresses are filled by using the floating-point status word for both the x87 or the SSE2 floating-point processor. For a chip that supports x87 and SSE2 floating-point processors, EM_AMBIGUOUS is set to 1 if `_statusfp` or `_controlfp` is used and the action was ambiguous because it could refer to the x87 or the SSE2 floating-point status word. The `_statusfp2` function is only supported on x86 platforms.  \n  \n These functions are not useful for [/clr (Common Language Runtime Compilation)](../../build/reference/clr-common-language-runtime-compilation.md) or `/clr:pure` compilation because the common language runtime (CLR) only supports the default floating-point precision.  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_status87`, `_statusfp`, `_statusfp2`|\\<float.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n  \n```  \n// crt_statusfp.c  \n// Build by using: cl /W4 /Ox /nologo crt_statusfp.c  \n// This program creates various floating-point errors and  \n// then uses _statusfp to display messages that indicate these problems.  \n  \n#include <stdio.h>  \n#include <float.h>  \n#pragma fenv_access(on)  \n  \ndouble test( void )  \n{  \n   double a = 1e-40;  \n   float b;  \n   double c;  \n  \n   printf(\"Status = 0x%.8x - clear\\n\", _statusfp());  \n  \n   // Assignment into b is inexact & underflows:   \n   b = (float)(a + 1e-40);  \n   printf(\"Status = 0x%.8x - inexact, underflow\\n\", _statusfp());  \n  \n   // c is denormal:   \n   c = b / 2.0;   \n   printf(\"Status = 0x%.8x - inexact, underflow, denormal\\n\",   \n            _statusfp());  \n  \n   // Clear floating point status:   \n   _clearfp();  \n   return c;  \n}  \n  \nint main(void)  \n{  \n   return (int)test();  \n}  \n```  \n  \n```Output  \nStatus = 0x00000000 - clear  \nStatus = 0x00000003 - inexact, underflow  \nStatus = 0x00080003 - inexact, underflow, denormal  \n```  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [Floating-Point Support](../../c-runtime-library/floating-point-support.md)   \n [_clear87, _clearfp](../../c-runtime-library/reference/clear87-clearfp.md)   \n [_control87, _controlfp, \\__control87_2](../../c-runtime-library/reference/control87-controlfp-control87-2.md)"}