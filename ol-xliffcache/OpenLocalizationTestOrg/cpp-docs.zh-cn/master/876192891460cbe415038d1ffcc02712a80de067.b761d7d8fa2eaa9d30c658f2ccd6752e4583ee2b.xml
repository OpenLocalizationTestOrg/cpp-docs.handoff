{"nodes":[{"pos":[12,56],"content":"-ENTRY (Entry-Point Symbol) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-ENTRY (Entry-Point Symbol) | Microsoft Docs","pos":[0,44]}]},{"content":"/ENTRY (Entry-Point Symbol)","pos":[736,763]},{"content":"Remarks","pos":[800,807]},{"content":"where:","pos":[811,817]},{"content":"function","pos":[825,833]},{"content":"A function that specifies a user-defined starting address for an .exe file or DLL.","pos":[838,920]},{"content":"Remarks","pos":[929,936]},{"content":"The /ENTRY option specifies an entry point function as the starting address for an .exe file or DLL.","pos":[940,1040]},{"content":"The function must be defined with the <ph id=\"ph1\">`__stdcall`</ph> calling convention.","pos":[1047,1116],"source":"The function must be defined with the `__stdcall` calling convention."},{"content":"The parameters and return value depend on if the program is a console application, a windows application or a DLL.","pos":[1117,1231]},{"content":"It is recommended that you let the linker set the entry point so that the C run-time library is initialized correctly, and C++ constructors for static objects are executed.","pos":[1232,1404]},{"content":"By default, the starting address is a function name from the C run-time library.","pos":[1411,1491]},{"content":"The linker selects it according to the attributes of the program, as shown in the following table.","pos":[1492,1590]},{"content":"Function name","pos":[1597,1610]},{"content":"Default for","pos":[1611,1622]},{"pos":[1669,1712],"content":"<bpt id=\"p1\">**</bpt>mainCRTStartup<ept id=\"p1\">**</ept> (or <bpt id=\"p2\">**</bpt>wmainCRTStartup<ept id=\"p2\">**</ept>)","source":"**mainCRTStartup** (or **wmainCRTStartup**)"},{"pos":[1713,1787],"content":"An application using /SUBSYSTEM:<bpt id=\"p1\">**</bpt>CONSOLE<ept id=\"p1\">**</ept>; calls <bpt id=\"p2\">**</bpt>main<ept id=\"p2\">**</ept> (or <bpt id=\"p3\">**</bpt>wmain<ept id=\"p3\">**</ept>)","source":"An application using /SUBSYSTEM:**CONSOLE**; calls **main** (or **wmain**)"},{"pos":[1792,1841],"content":"<bpt id=\"p1\">**</bpt>WinMainCRTStartup<ept id=\"p1\">**</ept> (or <bpt id=\"p2\">**</bpt>wWinMainCRTStartup<ept id=\"p2\">**</ept>)","source":"**WinMainCRTStartup** (or **wWinMainCRTStartup**)"},{"pos":[1842,1948],"content":"An application using /SUBSYSTEM:<bpt id=\"p1\">**</bpt>WINDOWS<ept id=\"p1\">**</ept>; calls <ph id=\"ph1\">`WinMain`</ph> (or <bpt id=\"p2\">**</bpt>wWinMain<ept id=\"p2\">**</ept>), which must be defined with","source":"An application using /SUBSYSTEM:**WINDOWS**; calls `WinMain` (or **wWinMain**), which must be defined with "},{"content":"_DllMainCRTStartup","pos":[1967,1985]},{"pos":[1988,2064],"content":"A DLL; calls <ph id=\"ph1\">`DllMain`</ph>, which must be defined with <ph id=\"ph2\">`__stdcall`</ph>, if it exists","source":"A DLL; calls `DllMain`, which must be defined with `__stdcall`, if it exists"},{"pos":[2072,2324],"content":"If the <bpt id=\"p1\">[</bpt>/DLL<ept id=\"p1\">](../../build/reference/dll-build-a-dll.md)</ept> or <bpt id=\"p2\">[</bpt>/SUBSYSTEM<ept id=\"p2\">](../../build/reference/subsystem-specify-subsystem.md)</ept> option is not specified, the linker selects a subsystem and entry point depending on whether <bpt id=\"p3\">**</bpt>main<ept id=\"p3\">**</ept> or <ph id=\"ph1\">`WinMain`</ph> is defined.","source":"If the [/DLL](../../build/reference/dll-build-a-dll.md) or [/SUBSYSTEM](../../build/reference/subsystem-specify-subsystem.md) option is not specified, the linker selects a subsystem and entry point depending on whether **main** or `WinMain` is defined."},{"pos":[2331,2432],"content":"The functions <bpt id=\"p1\">**</bpt>main<ept id=\"p1\">**</ept>, <ph id=\"ph1\">`WinMain`</ph>, and <ph id=\"ph2\">`DllMain`</ph> are the three forms of the user-defined entry point.","source":"The functions **main**, `WinMain`, and `DllMain` are the three forms of the user-defined entry point."},{"pos":[2439,2575],"content":"When creating a managed image, the function specified with /ENTRY must have a signature of (LPVOID <bpt id=\"p1\">*</bpt>var1<ept id=\"p1\">*</ept>, DWORD <bpt id=\"p2\">*</bpt>var2<ept id=\"p2\">*</ept>, LPVOID <bpt id=\"p3\">*</bpt>var3<ept id=\"p3\">*</ept>).","source":"When creating a managed image, the function specified with /ENTRY must have a signature of (LPVOID *var1*, DWORD *var2*, LPVOID *var3*)."},{"pos":[2582,2720],"content":"For information on how to define your own DllMain entry point, see <bpt id=\"p1\">[</bpt>Run-Time Library Behavior<ept id=\"p1\">](../../build/run-time-library-behavior.md)</ept> .","source":"For information on how to define your own DllMain entry point, see [Run-Time Library Behavior](../../build/run-time-library-behavior.md) ."},{"content":"To set this linker option in the Visual Studio development environment","pos":[2730,2800]},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[2810,2859],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Setting Visual C++ Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[2860,2963],"source":" For details, see [Setting Visual C++ Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[2973,3001],"content":"Click the <bpt id=\"p1\">**</bpt>Linker<ept id=\"p1\">**</ept> folder.","source":"Click the **Linker** folder."},{"pos":[3011,3048],"content":"Click the <bpt id=\"p1\">**</bpt>Advanced<ept id=\"p1\">**</ept> property page.","source":"Click the **Advanced** property page."},{"pos":[3058,3094],"content":"Modify the <bpt id=\"p1\">**</bpt>Entry Point<ept id=\"p1\">**</ept> property.","source":"Modify the **Entry Point** property."},{"content":"To set this linker option programmatically","pos":[3104,3146]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCLinkerTool.EntryPointSymbol%2A&gt;.","pos":[3156,3239],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCLinkerTool.EntryPointSymbol%2A>."},{"content":"See Also","pos":[3248,3256]},{"content":"Setting Linker Options","pos":[3261,3283]},{"content":"Linker Options","pos":[3339,3353]}],"content":"---\ntitle: \"-ENTRY (Entry-Point Symbol) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/entry\"\n  - \"VC.Project.VCLinkerTool.EntryPointSymbol\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"starting address\"\n  - \"-ENTRY linker option\"\n  - \"/ENTRY linker option\"\n  - \"ENTRY linker option\"\nms.assetid: 26c62ba2-4f52-4882-a7bd-7046a0abf445\ncaps.latest.revision: 10\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /ENTRY (Entry-Point Symbol)\n```  \n/ENTRY:function  \n```  \n  \n## Remarks  \n where:  \n  \n *function*  \n A function that specifies a user-defined starting address for an .exe file or DLL.  \n  \n## Remarks  \n The /ENTRY option specifies an entry point function as the starting address for an .exe file or DLL.  \n  \n The function must be defined with the `__stdcall` calling convention. The parameters and return value depend on if the program is a console application, a windows application or a DLL. It is recommended that you let the linker set the entry point so that the C run-time library is initialized correctly, and C++ constructors for static objects are executed.  \n  \n By default, the starting address is a function name from the C run-time library. The linker selects it according to the attributes of the program, as shown in the following table.  \n  \n|Function name|Default for|  \n|-------------------|-----------------|  \n|**mainCRTStartup** (or **wmainCRTStartup**)|An application using /SUBSYSTEM:**CONSOLE**; calls **main** (or **wmain**)|  \n|**WinMainCRTStartup** (or **wWinMainCRTStartup**)|An application using /SUBSYSTEM:**WINDOWS**; calls `WinMain` (or **wWinMain**), which must be defined with `__stdcall`|  \n|**_DllMainCRTStartup**|A DLL; calls `DllMain`, which must be defined with `__stdcall`, if it exists|  \n  \n If the [/DLL](../../build/reference/dll-build-a-dll.md) or [/SUBSYSTEM](../../build/reference/subsystem-specify-subsystem.md) option is not specified, the linker selects a subsystem and entry point depending on whether **main** or `WinMain` is defined.  \n  \n The functions **main**, `WinMain`, and `DllMain` are the three forms of the user-defined entry point.  \n  \n When creating a managed image, the function specified with /ENTRY must have a signature of (LPVOID *var1*, DWORD *var2*, LPVOID *var3*).  \n  \n For information on how to define your own DllMain entry point, see [Run-Time Library Behavior](../../build/run-time-library-behavior.md) .  \n  \n### To set this linker option in the Visual Studio development environment  \n  \n1.  Open the project's **Property Pages** dialog box. For details, see [Setting Visual C++ Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  Click the **Linker** folder.  \n  \n3.  Click the **Advanced** property page.  \n  \n4.  Modify the **Entry Point** property.  \n  \n### To set this linker option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCLinkerTool.EntryPointSymbol%2A>.  \n  \n## See Also  \n [Setting Linker Options](../../build/reference/setting-linker-options.md)   \n [Linker Options](../../build/reference/linker-options.md)"}