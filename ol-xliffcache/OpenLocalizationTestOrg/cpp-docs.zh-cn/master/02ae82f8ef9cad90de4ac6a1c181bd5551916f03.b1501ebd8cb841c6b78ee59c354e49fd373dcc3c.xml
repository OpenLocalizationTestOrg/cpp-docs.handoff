{"nodes":[{"pos":[12,84],"content":"Obsolete Forms of Function Declarations and Definitions | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Obsolete Forms of Function Declarations and Definitions | Microsoft Docs","pos":[0,72]}]},{"content":"Obsolete Forms of Function Declarations and Definitions","pos":[632,687]},{"content":"The old-style function declarations and definitions use slightly different rules for declaring parameters than the syntax recommended by the ANSI C standard.","pos":[688,845]},{"content":"First, the old-style declarations don't have a parameter list.","pos":[846,908]},{"content":"Second, in the function definition, the parameters are listed, but their types are not declared in the parameter list.","pos":[909,1027]},{"content":"The type declarations precede the compound statement constituting the function body.","pos":[1028,1112]},{"content":"The old-style syntax is obsolete and should not be used in new code.","pos":[1113,1181]},{"content":"Code using the old-style syntax is still supported, however.","pos":[1182,1242]},{"content":"This example illustrates the obsolete forms of declarations and definitions:","pos":[1243,1319]},{"pos":[1551,1703],"content":"Functions returning an integer or pointer with the same size as an <ph id=\"ph1\">`int`</ph> are not required to have a declaration although the declaration is recommended.","source":"Functions returning an integer or pointer with the same size as an `int` are not required to have a declaration although the declaration is recommended."},{"content":"To comply with the ANSI C standard, old-style function declarations using an ellipsis now generate an error when compiling with the /Za option and a level 4 warning when compiling with /Ze.","pos":[1710,1899]},{"content":"For example:","pos":[1900,1912]},{"content":"You should rewrite this declaration as a prototype:","pos":[2070,2121]},{"content":"Old-style function declarations also generate warnings if you subsequently declare or define the same function with either an ellipsis or a parameter with a type that is not the same as its promoted type.","pos":[2179,2383]},{"content":"The next section, <bpt id=\"p1\">[</bpt>C Function Definitions<ept id=\"p1\">](../c-language/c-function-definitions.md)</ept>, shows the syntax for function definitions, including the old-style syntax.","pos":[2390,2549],"source":"The next section, [C Function Definitions](../c-language/c-function-definitions.md), shows the syntax for function definitions, including the old-style syntax."},{"content":"The nonterminal for the list of parameters in the old-style syntax is <bpt id=\"p1\">*</bpt>identifier-list<ept id=\"p1\">*</ept>.","pos":[2550,2638],"source":" The nonterminal for the list of parameters in the old-style syntax is *identifier-list*."},{"content":"See Also","pos":[2647,2655]},{"content":"Overview of Functions","pos":[2660,2681]}],"content":"---\ntitle: \"Obsolete Forms of Function Declarations and Definitions | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"old style function declarations\"\nms.assetid: 67c5038f-0529-4f29-9d0f-c27580977b50\ncaps.latest.revision: 7\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Obsolete Forms of Function Declarations and Definitions\nThe old-style function declarations and definitions use slightly different rules for declaring parameters than the syntax recommended by the ANSI C standard. First, the old-style declarations don't have a parameter list. Second, in the function definition, the parameters are listed, but their types are not declared in the parameter list. The type declarations precede the compound statement constituting the function body. The old-style syntax is obsolete and should not be used in new code. Code using the old-style syntax is still supported, however. This example illustrates the obsolete forms of declarations and definitions:  \n  \n```  \ndouble old_style();           /* Obsolete function declaration */  \n  \ndouble alt_style( a , real )  /* Obsolete function definition */  \n    double *real;   \n    int a;   \n{  \n    return ( *real + a ) ;  \n}  \n```  \n  \n Functions returning an integer or pointer with the same size as an `int` are not required to have a declaration although the declaration is recommended.  \n  \n To comply with the ANSI C standard, old-style function declarations using an ellipsis now generate an error when compiling with the /Za option and a level 4 warning when compiling with /Ze. For example:  \n  \n```  \nvoid funct1( a, ... )  /* Generates a warning under /Ze or */  \nint a;                 /* an error when compiling with /Za */  \n{  \n}  \n```  \n  \n You should rewrite this declaration as a prototype:  \n  \n```  \nvoid funct1( int a, ... )  \n{  \n}  \n```  \n  \n Old-style function declarations also generate warnings if you subsequently declare or define the same function with either an ellipsis or a parameter with a type that is not the same as its promoted type.  \n  \n The next section, [C Function Definitions](../c-language/c-function-definitions.md), shows the syntax for function definitions, including the old-style syntax. The nonterminal for the list of parameters in the old-style syntax is *identifier-list*.  \n  \n## See Also  \n [Overview of Functions](../c-language/overview-of-functions.md)"}