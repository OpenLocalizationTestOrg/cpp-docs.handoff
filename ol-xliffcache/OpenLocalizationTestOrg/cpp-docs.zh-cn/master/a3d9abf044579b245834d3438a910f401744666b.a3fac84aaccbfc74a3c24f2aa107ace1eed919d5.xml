{"nodes":[{"pos":[12,70],"content":"-CLRIMAGETYPE (Specify Type of CLR Image) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-CLRIMAGETYPE (Specify Type of CLR Image) | Microsoft Docs","pos":[0,58]}]},{"content":"/CLRIMAGETYPE (Specify Type of CLR Image)","pos":[718,759]},{"content":"Remarks","pos":[829,836]},{"content":"The linker accepts native objects and also MSIL objects that are compiled by using <bpt id=\"p1\">[</bpt>/clr<ept id=\"p1\">](../../build/reference/clr-common-language-runtime-compilation.md)</ept>, /clr:pure, or /clr:safe.","pos":[840,1021],"source":"The linker accepts native objects and also MSIL objects that are compiled by using [/clr](../../build/reference/clr-common-language-runtime-compilation.md), /clr:pure, or /clr:safe."},{"content":"When mixed objects in the same build are passed, the verifiability of the resulting output file is, by default, equal to the lowest level of verifiability of the input modules.","pos":[1022,1198]},{"content":"For example, if you pass both a safe and a pure module to the linker, the output file will be pure.","pos":[1199,1298]},{"content":"If you pass a native image and a mixed mode image (compiled by using <bpt id=\"p1\">**</bpt>/clr<ept id=\"p1\">**</ept>), the resulting image will be a mixed mode image.","pos":[1299,1426],"source":" If you pass a native image and a mixed mode image (compiled by using **/clr**), the resulting image will be a mixed mode image."},{"content":"You can use /CLRIMAGETYPE to specify a lower level of verifiability, if that is what you need.","pos":[1433,1527]},{"content":"In .NET 4.5, /CLRIMAGETYPE supports a SAFE32BITPREFERRED option.","pos":[1534,1598]},{"content":"This sets—in the PE header of the image—flags that indicate that the MSIL objects are safe and can be run on all platforms, but that 32-bit execution environments are preferred.","pos":[1599,1776]},{"content":"This option enables an app to run on ARM platforms and also specifies that it should run under WOW64 on 64-bit operating systems instead of using the 64-bit execution environment.","pos":[1777,1956]},{"content":"When an .exe that was compiled by using <bpt id=\"p1\">**</bpt>/clr<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>/clr:pure<ept id=\"p2\">**</ept> is run on a 64-bit operating system, the application is run under WOW64, which enables a 32-bit application to run on a 64-bit operating system.","pos":[1963,2173],"source":"When an .exe that was compiled by using **/clr** or **/clr:pure** is run on a 64-bit operating system, the application is run under WOW64, which enables a 32-bit application to run on a 64-bit operating system."},{"content":"By default, an .exe that's compiled by using <bpt id=\"p1\">**</bpt>/clr:safe<ept id=\"p1\">**</ept> is run under the operating system's 64-bit support.","pos":[2174,2284],"source":" By default, an .exe that's compiled by using **/clr:safe** is run under the operating system's 64-bit support."},{"content":"However, it is possible that your safe application loads a 32-bit component.","pos":[2285,2361]},{"content":"In that case, a safe image running under the operating system's 64-bit support will fail when it loads the 32-bit application.","pos":[2362,2488]},{"content":"To ensure that a safe image continues to run when it loads a 32-bit component on a 64-bit operating system, use the /CLRIMAGETYPE:SAFE32BITPREFERRED option.","pos":[2489,2645]},{"content":"If your code does not have to run on ARM platforms, you can specify the /CLRIMAGETYPE:PURE option to change the metadata (.corflags), marking it to be run under WOW64 (and substituting your own entry symbol):","pos":[2646,2854]},{"content":"cl /clr:safe t.cpp /link /clrimagetype:pure /entry:?main@@$$HYMHXZ /subsystem:console","pos":[2863,2948]},{"pos":[2957,3079],"content":"For information about how to determine the CLR image type of a file, see <bpt id=\"p1\">[</bpt>/CLRHEADER<ept id=\"p1\">](../../build/reference/clrheader.md)</ept>.","source":"For information about how to determine the CLR image type of a file, see [/CLRHEADER](../../build/reference/clrheader.md)."},{"content":"To set this linker option in the Visual Studio development environment","pos":[3089,3159]},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[3169,3218],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[3219,3316],"source":" For details, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[3326,3371],"content":"Expand the <bpt id=\"p1\">**</bpt>Configuration Properties<ept id=\"p1\">**</ept> node.","source":"Expand the **Configuration Properties** node."},{"pos":[3381,3408],"content":"Expand the <bpt id=\"p1\">**</bpt>Linker<ept id=\"p1\">**</ept> node.","source":"Expand the **Linker** node."},{"pos":[3418,3456],"content":"Select the <bpt id=\"p1\">**</bpt>Advanced<ept id=\"p1\">**</ept> property page.","source":"Select the **Advanced** property page."},{"pos":[3466,3505],"content":"Modify the <bpt id=\"p1\">**</bpt>CLR Image Type<ept id=\"p1\">**</ept> property.","source":"Modify the **CLR Image Type** property."},{"content":"To set this linker option programmatically","pos":[3515,3557]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCLinkerTool.CLRImageType%2A&gt;.","pos":[3567,3646],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCLinkerTool.CLRImageType%2A>."},{"content":"See Also","pos":[3655,3663]},{"content":"Setting Linker Options","pos":[3668,3690]},{"content":"Linker Options","pos":[3746,3760]}],"content":"---\ntitle: \"-CLRIMAGETYPE (Specify Type of CLR Image) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/CLRIMAGETYPE\"\n  - \"VC.Project.VCLinkerTool.CLRImageType\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"/CLRIMAGETYPE linker option\"\n  - \"-CLRIMAGETYPE linker option\"\nms.assetid: 04c60ee6-9dd7-4391-bc03-6926ad0fa116\ncaps.latest.revision: 14\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /CLRIMAGETYPE (Specify Type of CLR Image)\n```  \n/CLRIMAGETYPE:{IJW|PURE|SAFE|SAFE32BITPREFERRED}  \n```  \n  \n## Remarks  \n The linker accepts native objects and also MSIL objects that are compiled by using [/clr](../../build/reference/clr-common-language-runtime-compilation.md), /clr:pure, or /clr:safe. When mixed objects in the same build are passed, the verifiability of the resulting output file is, by default, equal to the lowest level of verifiability of the input modules. For example, if you pass both a safe and a pure module to the linker, the output file will be pure. If you pass a native image and a mixed mode image (compiled by using **/clr**), the resulting image will be a mixed mode image.  \n  \n You can use /CLRIMAGETYPE to specify a lower level of verifiability, if that is what you need.  \n  \n In .NET 4.5, /CLRIMAGETYPE supports a SAFE32BITPREFERRED option. This sets—in the PE header of the image—flags that indicate that the MSIL objects are safe and can be run on all platforms, but that 32-bit execution environments are preferred. This option enables an app to run on ARM platforms and also specifies that it should run under WOW64 on 64-bit operating systems instead of using the 64-bit execution environment.  \n  \n When an .exe that was compiled by using **/clr** or **/clr:pure** is run on a 64-bit operating system, the application is run under WOW64, which enables a 32-bit application to run on a 64-bit operating system. By default, an .exe that's compiled by using **/clr:safe** is run under the operating system's 64-bit support. However, it is possible that your safe application loads a 32-bit component. In that case, a safe image running under the operating system's 64-bit support will fail when it loads the 32-bit application. To ensure that a safe image continues to run when it loads a 32-bit component on a 64-bit operating system, use the /CLRIMAGETYPE:SAFE32BITPREFERRED option. If your code does not have to run on ARM platforms, you can specify the /CLRIMAGETYPE:PURE option to change the metadata (.corflags), marking it to be run under WOW64 (and substituting your own entry symbol):  \n  \n **cl /clr:safe t.cpp /link /clrimagetype:pure /entry:?main@@$$HYMHXZ /subsystem:console**  \n  \n For information about how to determine the CLR image type of a file, see [/CLRHEADER](../../build/reference/clrheader.md).  \n  \n### To set this linker option in the Visual Studio development environment  \n  \n1.  Open the project's **Property Pages** dialog box. For details, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  Expand the **Configuration Properties** node.  \n  \n3.  Expand the **Linker** node.  \n  \n4.  Select the **Advanced** property page.  \n  \n5.  Modify the **CLR Image Type** property.  \n  \n### To set this linker option programmatically  \n  \n1.  See <xref:Microsoft.VisualStudio.VCProjectEngine.VCLinkerTool.CLRImageType%2A>.  \n  \n## See Also  \n [Setting Linker Options](../../build/reference/setting-linker-options.md)   \n [Linker Options](../../build/reference/linker-options.md)"}