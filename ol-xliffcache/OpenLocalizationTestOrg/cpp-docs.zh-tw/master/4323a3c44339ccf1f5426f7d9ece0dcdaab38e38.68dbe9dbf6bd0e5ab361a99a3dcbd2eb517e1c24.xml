{"nodes":[{"pos":[12,96],"content":"Adding Controls to a Dialog Causes the Dialog to No Longer Function | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Adding Controls to a Dialog Causes the Dialog to No Longer Function | Microsoft Docs","pos":[0,84]}]},{"content":"Adding Controls to a Dialog Causes the Dialog to No Longer Function","pos":[821,888]},{"content":"After adding a common control or rich edit control to a dialog box, it will not appear when you test the dialog box or the dialog itself will not appear.","pos":[889,1042]},{"content":"Example of the problem","pos":[1051,1073]},{"content":"Create a Win32 project, modifying the application settings so you create a Windows application (not a console app).","pos":[1085,1200]},{"pos":[1210,1295],"content":"In <bpt id=\"p1\">[</bpt>Resource View<ept id=\"p1\">](../windows/resource-view-window.md)</ept>, double click on the .rc file.","source":"In [Resource View](../windows/resource-view-window.md), double click on the .rc file."},{"pos":[1305,1361],"content":"Under the dialog option, double click the <bpt id=\"p1\">**</bpt>About<ept id=\"p1\">**</ept> box.","source":"Under the dialog option, double click the **About** box."},{"pos":[1371,1419],"content":"Add an <bpt id=\"p1\">**</bpt>IP Address Control<ept id=\"p1\">**</ept> to the dialog box.","source":"Add an **IP Address Control** to the dialog box."},{"pos":[1429,1454],"content":"Save and <bpt id=\"p1\">**</bpt>Rebuild all<ept id=\"p1\">**</ept>.","source":"Save and **Rebuild all**."},{"content":"Execute the program.","pos":[1464,1484]},{"pos":[1494,1585],"content":"On the dialog box's <bpt id=\"p1\">**</bpt>Help<ept id=\"p1\">**</ept> menu, click the <bpt id=\"p2\">**</bpt>About<ept id=\"p2\">**</ept> command; no dialog box is displayed.","source":"On the dialog box's **Help** menu, click the **About** command; no dialog box is displayed."},{"content":"The cause","pos":[1594,1603]},{"content":"Currently, the Dialog editor does not automatically add code to your project when you drag and drop the following common controls or rich edit controls onto a dialog box.","pos":[1612,1782]},{"content":"Nor does Visual Studio provide an error or warning when this problem occurs.","pos":[1783,1859]},{"content":"You must add the code for the control manually.","pos":[1860,1907]},{"content":"Slider Control","pos":[1931,1945]},{"content":"Tree Control","pos":[1946,1958]},{"content":"Date Time Picker","pos":[1959,1975]},{"content":"Spin Control","pos":[1980,1992]},{"content":"Tab Control","pos":[1993,2004]},{"content":"Month Calendar","pos":[2005,2019]},{"content":"Progress Control","pos":[2024,2040]},{"content":"Animation Control","pos":[2041,2058]},{"content":"IP Address Control","pos":[2059,2077]},{"content":"Hot Key","pos":[2082,2089]},{"content":"Rich Edit Control","pos":[2090,2107]},{"content":"Extended Combo Box","pos":[2108,2126]},{"content":"List Control","pos":[2131,2143]},{"content":"Rich Edit 2.0 Control","pos":[2144,2165]},{"content":"Custom Control","pos":[2166,2180]},{"content":"The fix for common controls","pos":[2190,2217]},{"pos":[2221,2432],"content":"In order to use common controls on a dialog box, you need to call <bpt id=\"p1\">[</bpt>InitCommonControlsEx<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/bb775697)</ept> or <bpt id=\"p2\">**</bpt>AFXInitCommonControls<ept id=\"p2\">**</ept> before you create the dialog box.","source":"In order to use common controls on a dialog box, you need to call [InitCommonControlsEx](http://msdn.microsoft.com/library/windows/desktop/bb775697) or **AFXInitCommonControls** before you create the dialog box."},{"content":"The fix for RichEdit controls","pos":[2441,2470]},{"content":"You must call <bpt id=\"p1\">**</bpt>LoadLibrary<ept id=\"p1\">**</ept> for rich edit controls.","pos":[2474,2527],"source":"You must call **LoadLibrary** for rich edit controls."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Using the RichEdit 1.0 Control with MFC<ept id=\"p1\">](../mfc/using-the-richedit-1-0-control-with-mfc.md)</ept>, <bpt id=\"p2\">[</bpt>About Rich Edit Controls<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/bb787873)</ept> in the <ph id=\"ph1\">[!INCLUDE[winsdkshort](../atl-mfc-shared/reference/includes/winsdkshort_md.md)]</ph>, and <bpt id=\"p3\">[</bpt>Overview of the Rich Edit Control<ept id=\"p3\">](../mfc/overview-of-the-rich-edit-control.md)</ept>.","pos":[2528,2908],"source":" For more information, see [Using the RichEdit 1.0 Control with MFC](../mfc/using-the-richedit-1-0-control-with-mfc.md), [About Rich Edit Controls](http://msdn.microsoft.com/library/windows/desktop/bb787873) in the [!INCLUDE[winsdkshort](../atl-mfc-shared/reference/includes/winsdkshort_md.md)], and [Overview of the Rich Edit Control](../mfc/overview-of-the-rich-edit-control.md)."},{"content":"Requirements","pos":[2917,2929]},{"content":"Win32","pos":[2933,2938]},{"content":"See Also","pos":[2947,2955]},{"content":"Troubleshooting the Dialog Editor","pos":[2960,2993]},{"content":"Dialog Editor","pos":[3045,3058]}],"content":"---\ntitle: \"Adding Controls to a Dialog Causes the Dialog to No Longer Function | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\n  - \"C++\"\nhelpviewer_keywords: \n  - \"controls [C++], troubleshooting\"\n  - \"common controls, troubleshooting\"\n  - \"troubleshooting controls\"\n  - \"dialog boxes, troubleshooting\"\n  - \"dialog box controls, troubleshooting\"\n  - \"InitCommonControls\"\nms.assetid: b2dd4574-ea59-4343-8d65-b387cead5da6\ncaps.latest.revision: 10\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Adding Controls to a Dialog Causes the Dialog to No Longer Function\nAfter adding a common control or rich edit control to a dialog box, it will not appear when you test the dialog box or the dialog itself will not appear.  \n  \n **Example of the problem**  \n  \n1.  Create a Win32 project, modifying the application settings so you create a Windows application (not a console app).  \n  \n2.  In [Resource View](../windows/resource-view-window.md), double click on the .rc file.  \n  \n3.  Under the dialog option, double click the **About** box.  \n  \n4.  Add an **IP Address Control** to the dialog box.  \n  \n5.  Save and **Rebuild all**.  \n  \n6.  Execute the program.  \n  \n7.  On the dialog box's **Help** menu, click the **About** command; no dialog box is displayed.  \n  \n **The cause**  \n  \n Currently, the Dialog editor does not automatically add code to your project when you drag and drop the following common controls or rich edit controls onto a dialog box. Nor does Visual Studio provide an error or warning when this problem occurs. You must add the code for the control manually.  \n  \n||||  \n|-|-|-|  \n|Slider Control|Tree Control|Date Time Picker|  \n|Spin Control|Tab Control|Month Calendar|  \n|Progress Control|Animation Control|IP Address Control|  \n|Hot Key|Rich Edit Control|Extended Combo Box|  \n|List Control|Rich Edit 2.0 Control|Custom Control|  \n  \n## The fix for common controls  \n In order to use common controls on a dialog box, you need to call [InitCommonControlsEx](http://msdn.microsoft.com/library/windows/desktop/bb775697) or **AFXInitCommonControls** before you create the dialog box.  \n  \n## The fix for RichEdit controls  \n You must call **LoadLibrary** for rich edit controls. For more information, see [Using the RichEdit 1.0 Control with MFC](../mfc/using-the-richedit-1-0-control-with-mfc.md), [About Rich Edit Controls](http://msdn.microsoft.com/library/windows/desktop/bb787873) in the [!INCLUDE[winsdkshort](../atl-mfc-shared/reference/includes/winsdkshort_md.md)], and [Overview of the Rich Edit Control](../mfc/overview-of-the-rich-edit-control.md).  \n  \n## Requirements  \n Win32  \n  \n## See Also  \n [Troubleshooting the Dialog Editor](../mfc/troubleshooting-the-dialog-editor.md)   \n [Dialog Editor](../mfc/dialog-editor.md)\n\n"}