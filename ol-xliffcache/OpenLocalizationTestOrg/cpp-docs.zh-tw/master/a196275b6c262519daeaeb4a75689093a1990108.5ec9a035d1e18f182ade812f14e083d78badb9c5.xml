{"nodes":[{"pos":[12,60],"content":"Memory Management with CStringT | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Memory Management with CStringT | Microsoft Docs","pos":[0,48]}]},{"content":"Memory Management with CStringT","pos":[900,931]},{"content":"Class <bpt id=\"p1\">[</bpt>CStringT<ept id=\"p1\">](../atl-mfc-shared/reference/cstringt-class.md)</ept> is a template class used to manipulate variable-length character strings.","pos":[932,1069],"source":"Class [CStringT](../atl-mfc-shared/reference/cstringt-class.md) is a template class used to manipulate variable-length character strings."},{"content":"The memory to hold these strings is allocated and released through a string manager object, associated with each instance of <ph id=\"ph1\">`CStringT`</ph>.","pos":[1070,1206],"source":" The memory to hold these strings is allocated and released through a string manager object, associated with each instance of `CStringT`."},{"content":"MFC and ATL provide default instantiations of <ph id=\"ph1\">`CStringT`</ph>, called <ph id=\"ph2\">`CString`</ph>, <ph id=\"ph3\">`CStringA`</ph>, and <ph id=\"ph4\">`CStringW`</ph>, which manipulate strings of different character types.","pos":[1207,1365],"source":" MFC and ATL provide default instantiations of `CStringT`, called `CString`, `CStringA`, and `CStringW`, which manipulate strings of different character types."},{"content":"These character types are of type <bpt id=\"p1\">**</bpt>TCHAR<ept id=\"p1\">**</ept>, <ph id=\"ph1\">`char`</ph>, and <ph id=\"ph2\">`wchar_t`</ph>, respectively.","pos":[1366,1447],"source":" These character types are of type **TCHAR**, `char`, and `wchar_t`, respectively."},{"content":"These default string types use a string manager that allocates memory from the process heap (in ATL) or the CRT heap (in MFC).","pos":[1448,1574]},{"content":"For typical applications, this memory allocation scheme is sufficient.","pos":[1575,1645]},{"content":"However, for code making intensive use of strings (or multithreaded code) the default memory managers may not perform optimally.","pos":[1646,1774]},{"content":"This topic describes how to override the default memory management behavior of <ph id=\"ph1\">`CStringT`</ph>, creating allocators specifically optimized for the task at hand.","pos":[1775,1930],"source":" This topic describes how to override the default memory management behavior of `CStringT`, creating allocators specifically optimized for the task at hand."},{"content":"Implementation of a Custom String Manager (Basic Method)","pos":[1941,1997]},{"content":"Avoidance of Heap Contention","pos":[2086,2114]},{"content":"Implementation of a Custom String Manager (Advanced Method)","pos":[2177,2236]},{"content":"CFixedStringT: An Example of a Custom String Manager","pos":[2328,2380]},{"content":"See Also","pos":[2461,2469]},{"content":"CustomString sample","pos":[2474,2493]}],"content":"---\ntitle: \"Memory Management with CStringT | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CStringT\"\n  - \"ATL::CStringT\"\n  - \"ATL.CStringT\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CString objects, memory management\"\n  - \"memory [C++], usage\"\n  - \"IAtlStringMgr class, using\"\n  - \"strings [C++], custom memory management\"\n  - \"CFixedStringT class, description of\"\n  - \"strings [C++], memory management\"\n  - \"CStringT class, memory management\"\nms.assetid: 88b8342d-19b5-48c4-9cf6-e4c44cece21e\ncaps.latest.revision: 10\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Memory Management with CStringT\nClass [CStringT](../atl-mfc-shared/reference/cstringt-class.md) is a template class used to manipulate variable-length character strings. The memory to hold these strings is allocated and released through a string manager object, associated with each instance of `CStringT`. MFC and ATL provide default instantiations of `CStringT`, called `CString`, `CStringA`, and `CStringW`, which manipulate strings of different character types. These character types are of type **TCHAR**, `char`, and `wchar_t`, respectively. These default string types use a string manager that allocates memory from the process heap (in ATL) or the CRT heap (in MFC). For typical applications, this memory allocation scheme is sufficient. However, for code making intensive use of strings (or multithreaded code) the default memory managers may not perform optimally. This topic describes how to override the default memory management behavior of `CStringT`, creating allocators specifically optimized for the task at hand.  \n  \n-   [Implementation of a Custom String Manager (Basic Method)](../atl-mfc-shared/implementation-of-a-custom-string-manager-basic-method.md)  \n  \n-   [Avoidance of Heap Contention](../atl-mfc-shared/avoidance-of-heap-contention.md)  \n  \n-   [Implementation of a Custom String Manager (Advanced Method)](../atl-mfc-shared/implementation-of-a-custom-string-manager-advanced-method.md)  \n  \n-   [CFixedStringT: An Example of a Custom String Manager](../atl-mfc-shared/cfixedstringt-example-of-a-custom-string-manager.md)  \n  \n## See Also  \n [CustomString sample](../visual-cpp-samples.md)\n\n"}