{"nodes":[{"pos":[12,59],"content":"3.1.7 omp_set_dynamic Function | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"3.1.7 omp_set_dynamic Function | Microsoft Docs","pos":[0,47]}]},{"content":"3.1.7 omp_set_dynamic Function","pos":[539,569]},{"content":"The <bpt id=\"p1\">**</bpt>omp_set_dynamic<ept id=\"p1\">**</ept> function enables or disables dynamic adjustment of the number of threads available for execution of parallel regions.","pos":[570,711],"source":"The **omp_set_dynamic** function enables or disables dynamic adjustment of the number of threads available for execution of parallel regions."},{"content":"The format is as follows:","pos":[712,737]},{"content":"If <bpt id=\"p1\">*</bpt>dynamic_threads<ept id=\"p1\">*</ept> evaluates to a nonzero value, the number of threads that are used for executing subsequent parallel regions may be adjusted automatically by the run-time environment to best utilize system resources.","pos":[823,1043],"source":"If *dynamic_threads* evaluates to a nonzero value, the number of threads that are used for executing subsequent parallel regions may be adjusted automatically by the run-time environment to best utilize system resources."},{"content":"As a consequence, the number of threads specified by the user is the maximum thread count.","pos":[1044,1134]},{"content":"The number of threads in the team executing a parallel region remains fixed for the duration of that parallel region and is reported by the <bpt id=\"p1\">**</bpt>omp_get_num_threads<ept id=\"p1\">**</ept> function.","pos":[1135,1308],"source":" The number of threads in the team executing a parallel region remains fixed for the duration of that parallel region and is reported by the **omp_get_num_threads** function."},{"pos":[1315,1383],"content":"If <bpt id=\"p1\">*</bpt>dynamic_threads<ept id=\"p1\">*</ept> evaluates to 0, dynamic adjustment is disabled.","source":"If *dynamic_threads* evaluates to 0, dynamic adjustment is disabled."},{"content":"This function has the effects described above when called from a portion of the program where the <bpt id=\"p1\">**</bpt>omp_in_parallel<ept id=\"p1\">**</ept> function returns zero.","pos":[1390,1530],"source":"This function has the effects described above when called from a portion of the program where the **omp_in_parallel** function returns zero."},{"content":"If it is called from a portion of the program where the <bpt id=\"p1\">**</bpt>omp_in_parallel<ept id=\"p1\">**</ept> function returns a nonzero value, the behavior of this function is undefined.","pos":[1531,1684],"source":" If it is called from a portion of the program where the **omp_in_parallel** function returns a nonzero value, the behavior of this function is undefined."},{"pos":[1691,1782],"content":"A call to <bpt id=\"p1\">**</bpt>omp_set_dynamic<ept id=\"p1\">**</ept> has precedence over the <bpt id=\"p2\">**</bpt>OMP_DYNAMIC<ept id=\"p2\">**</ept> environment variable.","source":"A call to **omp_set_dynamic** has precedence over the **OMP_DYNAMIC** environment variable."},{"content":"The default for the dynamic adjustment of threads is implementation-defined.","pos":[1789,1865]},{"content":"As a result, user codes that depend on a specific number of threads for correct execution should explicitly disable dynamic threads.","pos":[1866,1998]},{"content":"Implementations are not required to provide the ability to dynamically adjust the number of threads, but they are required to provide the interface in order to support portability across all platforms.","pos":[1999,2200]},{"content":"Cross References:","pos":[2209,2226]},{"pos":[2236,2362],"content":"<bpt id=\"p1\">**</bpt>omp_get_num_threads<ept id=\"p1\">**</ept> function, see <bpt id=\"p2\">[</bpt>Section 3.1.2<ept id=\"p2\">](../../parallel/openmp/3-1-2-omp-get-num-threads-function.md)</ept> on page 37.","source":"**omp_get_num_threads** function, see [Section 3.1.2](../../parallel/openmp/3-1-2-omp-get-num-threads-function.md) on page 37."},{"pos":[2372,2481],"content":"<bpt id=\"p1\">**</bpt>OMP_DYNAMIC<ept id=\"p1\">**</ept> environment variable, see <bpt id=\"p2\">[</bpt>Section 4.3<ept id=\"p2\">](../../parallel/openmp/4-3-omp-dynamic.md)</ept> on page 49.","source":"**OMP_DYNAMIC** environment variable, see [Section 4.3](../../parallel/openmp/4-3-omp-dynamic.md) on page 49."},{"pos":[2491,2609],"content":"<bpt id=\"p1\">**</bpt>omp_in_parallel<ept id=\"p1\">**</ept> function, see <bpt id=\"p2\">[</bpt>Section 3.1.6<ept id=\"p2\">](../../parallel/openmp/3-1-6-omp-in-parallel-function.md)</ept> on page 38.","source":"**omp_in_parallel** function, see [Section 3.1.6](../../parallel/openmp/3-1-6-omp-in-parallel-function.md) on page 38."}],"content":"---\ntitle: \"3.1.7 omp_set_dynamic Function | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nms.assetid: 1fba961b-b82c-4a1e-ab0f-e4be826e50ab\ncaps.latest.revision: 7\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# 3.1.7 omp_set_dynamic Function\nThe **omp_set_dynamic** function enables or disables dynamic adjustment of the number of threads available for execution of parallel regions. The format is as follows:  \n  \n```  \n#include <omp.h>  \nvoid omp_set_dynamic(int dynamic_threads);  \n```  \n  \n If *dynamic_threads* evaluates to a nonzero value, the number of threads that are used for executing subsequent parallel regions may be adjusted automatically by the run-time environment to best utilize system resources. As a consequence, the number of threads specified by the user is the maximum thread count. The number of threads in the team executing a parallel region remains fixed for the duration of that parallel region and is reported by the **omp_get_num_threads** function.  \n  \n If *dynamic_threads* evaluates to 0, dynamic adjustment is disabled.  \n  \n This function has the effects described above when called from a portion of the program where the **omp_in_parallel** function returns zero. If it is called from a portion of the program where the **omp_in_parallel** function returns a nonzero value, the behavior of this function is undefined.  \n  \n A call to **omp_set_dynamic** has precedence over the **OMP_DYNAMIC** environment variable.  \n  \n The default for the dynamic adjustment of threads is implementation-defined. As a result, user codes that depend on a specific number of threads for correct execution should explicitly disable dynamic threads. Implementations are not required to provide the ability to dynamically adjust the number of threads, but they are required to provide the interface in order to support portability across all platforms.  \n  \n## Cross References:  \n  \n-   **omp_get_num_threads** function, see [Section 3.1.2](../../parallel/openmp/3-1-2-omp-get-num-threads-function.md) on page 37.  \n  \n-   **OMP_DYNAMIC** environment variable, see [Section 4.3](../../parallel/openmp/4-3-omp-dynamic.md) on page 49.  \n  \n-   **omp_in_parallel** function, see [Section 3.1.6](../../parallel/openmp/3-1-6-omp-in-parallel-function.md) on page 38."}