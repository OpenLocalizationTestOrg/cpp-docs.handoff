{"nodes":[{"pos":[12,66],"content":"Bypassing the Serialization Mechanism | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Bypassing the Serialization Mechanism | Microsoft Docs","pos":[0,54]}]},{"content":"Bypassing the Serialization Mechanism","pos":[804,841]},{"content":"As you have seen, the framework provides a default way to read and write data to and from files.","pos":[842,938]},{"content":"Serializing through an archive object suits the needs of a great many applications.","pos":[939,1022]},{"content":"Such an application reads a file entirely into memory, lets the user update the file, and then writes the updated version to disk again.","pos":[1023,1159]},{"content":"However, some applications operate on data very differently, and for these applications serialization through an archive is not suitable.","pos":[1166,1303]},{"content":"Examples include database programs, programs that edit only parts of large files, programs that write text-only files, and programs that share data files.","pos":[1304,1458]},{"pos":[1465,1746],"content":"In these cases, you can override the <bpt id=\"p1\">[</bpt>Serialize<ept id=\"p1\">](../mfc/reference/cobject-class.md#cobject__serialize)</ept> function in a different way to mediate file actions through a <bpt id=\"p2\">[</bpt>CFile<ept id=\"p2\">](../mfc/reference/cfile-class.md)</ept> object rather than a <bpt id=\"p3\">[</bpt>CArchive<ept id=\"p3\">](../mfc/reference/carchive-class.md)</ept> object.","source":"In these cases, you can override the [Serialize](../mfc/reference/cobject-class.md#cobject__serialize) function in a different way to mediate file actions through a [CFile](../mfc/reference/cfile-class.md) object rather than a [CArchive](../mfc/reference/carchive-class.md) object."},{"content":"You can use the <bpt id=\"p1\">**</bpt>Open<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Read<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Write<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Close<ept id=\"p4\">**</ept>, and <ph id=\"ph1\">`Seek`</ph> member functions of class <ph id=\"ph2\">`CFile`</ph> to open a file, move the file pointer (seek) to a specific point in the file, read a record (a specified number of bytes) at that point, let the user update the record, then seek to the same point again and write the record back to the file.","pos":[1753,2097],"source":"You can use the **Open**, **Read**, **Write**, **Close**, and `Seek` member functions of class `CFile` to open a file, move the file pointer (seek) to a specific point in the file, read a record (a specified number of bytes) at that point, let the user update the record, then seek to the same point again and write the record back to the file."},{"content":"The framework will open the file for you, and you can use the <ph id=\"ph1\">`GetFile`</ph> member function of class <ph id=\"ph2\">`CArchive`</ph> to obtain a pointer to the <ph id=\"ph3\">`CFile`</ph> object.","pos":[2098,2248],"source":" The framework will open the file for you, and you can use the `GetFile` member function of class `CArchive` to obtain a pointer to the `CFile` object."},{"content":"For even more sophisticated and flexible use, you can override the <bpt id=\"p1\">[</bpt>OnOpenDocument<ept id=\"p1\">](../mfc/reference/cdocument-class.md#cdocument__onopendocument)</ept> and <bpt id=\"p2\">[</bpt>OnSaveDocument<ept id=\"p2\">](../mfc/reference/cdocument-class.md#cdocument__onsavedocument)</ept> member functions of class <ph id=\"ph1\">`CWinApp`</ph>.","pos":[2249,2516],"source":" For even more sophisticated and flexible use, you can override the [OnOpenDocument](../mfc/reference/cdocument-class.md#cdocument__onopendocument) and [OnSaveDocument](../mfc/reference/cdocument-class.md#cdocument__onsavedocument) member functions of class `CWinApp`."},{"content":"For more information, see class <bpt id=\"p1\">[</bpt>CFile<ept id=\"p1\">](../mfc/reference/cfile-class.md)</ept> in the <bpt id=\"p2\">*</bpt>MFC Reference<ept id=\"p2\">*</ept>.","pos":[2517,2613],"source":" For more information, see class [CFile](../mfc/reference/cfile-class.md) in the *MFC Reference*."},{"pos":[2620,2795],"content":"In this scenario, your <ph id=\"ph1\">`Serialize`</ph> override does nothing, unless, for example, you want to have it read and write a file header to keep it up to date when the document closes.","source":"In this scenario, your `Serialize` override does nothing, unless, for example, you want to have it read and write a file header to keep it up to date when the document closes."},{"content":"See Also","pos":[2804,2812]},{"content":"Using Documents","pos":[2817,2832]}],"content":"---\ntitle: \"Bypassing the Serialization Mechanism | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"archive objects [C++]\"\n  - \"bypassing serialization\"\n  - \"archives [C++], serialization\"\n  - \"serialization [C++], bypassing\"\n  - \"archives [C++]\"\n  - \"serialization [C++], role of framework\"\n  - \"serialization [C++], overriding\"\nms.assetid: 48d4a279-b51c-4ba5-81cd-ed043312b582\ncaps.latest.revision: 10\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Bypassing the Serialization Mechanism\nAs you have seen, the framework provides a default way to read and write data to and from files. Serializing through an archive object suits the needs of a great many applications. Such an application reads a file entirely into memory, lets the user update the file, and then writes the updated version to disk again.  \n  \n However, some applications operate on data very differently, and for these applications serialization through an archive is not suitable. Examples include database programs, programs that edit only parts of large files, programs that write text-only files, and programs that share data files.  \n  \n In these cases, you can override the [Serialize](../mfc/reference/cobject-class.md#cobject__serialize) function in a different way to mediate file actions through a [CFile](../mfc/reference/cfile-class.md) object rather than a [CArchive](../mfc/reference/carchive-class.md) object.  \n  \n You can use the **Open**, **Read**, **Write**, **Close**, and `Seek` member functions of class `CFile` to open a file, move the file pointer (seek) to a specific point in the file, read a record (a specified number of bytes) at that point, let the user update the record, then seek to the same point again and write the record back to the file. The framework will open the file for you, and you can use the `GetFile` member function of class `CArchive` to obtain a pointer to the `CFile` object. For even more sophisticated and flexible use, you can override the [OnOpenDocument](../mfc/reference/cdocument-class.md#cdocument__onopendocument) and [OnSaveDocument](../mfc/reference/cdocument-class.md#cdocument__onsavedocument) member functions of class `CWinApp`. For more information, see class [CFile](../mfc/reference/cfile-class.md) in the *MFC Reference*.  \n  \n In this scenario, your `Serialize` override does nothing, unless, for example, you want to have it read and write a file header to keep it up to date when the document closes.  \n  \n## See Also  \n [Using Documents](../mfc/using-documents.md)\n\n"}