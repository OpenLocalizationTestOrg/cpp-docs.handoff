{"nodes":[{"pos":[12,53],"content":"Tree Control Image Lists | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Tree Control Image Lists | Microsoft Docs","pos":[0,41]}]},{"content":"Tree Control Image Lists","pos":[667,691]},{"content":"Each item in a tree control (<bpt id=\"p1\">[</bpt>CTreeCtrl<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md)</ept>) can have a pair of bitmapped images associated with it.","pos":[692,826],"source":"Each item in a tree control ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) can have a pair of bitmapped images associated with it."},{"content":"The images appear on the left side of an item's label.","pos":[827,881]},{"content":"One image is displayed when the item is selected, and the other is displayed when the item is not selected.","pos":[882,989]},{"content":"For example, an item might display an open folder when it is selected and a closed folder when it is not selected.","pos":[990,1104]},{"content":"To use item images, you must create an image list by constructing a <bpt id=\"p1\">[</bpt>CImageList<ept id=\"p1\">](../mfc/reference/cimagelist-class.md)</ept> object and using the <bpt id=\"p2\">[</bpt>CImageList::Create<ept id=\"p2\">](../mfc/reference/cimagelist-class.md#cimagelist__create)</ept> function to create the associated image list.","pos":[1111,1374],"source":"To use item images, you must create an image list by constructing a [CImageList](../mfc/reference/cimagelist-class.md) object and using the [CImageList::Create](../mfc/reference/cimagelist-class.md#cimagelist__create) function to create the associated image list."},{"content":"Then add the desired bitmaps to the list, and associate the list with the tree control by using the <bpt id=\"p1\">[</bpt>SetImageList<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md#ctreectrl__setimagelist)</ept> member function.","pos":[1375,1567],"source":" Then add the desired bitmaps to the list, and associate the list with the tree control by using the [SetImageList](../mfc/reference/ctreectrl-class.md#ctreectrl__setimagelist) member function."},{"content":"By default, all items display the first image in the image list for both the selected and nonselected states.","pos":[1568,1677]},{"content":"You can change the default behavior for a particular item by specifying the indexes of the selected and nonselected images when adding the item to the tree control using the <bpt id=\"p1\">[</bpt>InsertItem<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md#ctreectrl__insertitem)</ept> member function.","pos":[1678,1940],"source":" You can change the default behavior for a particular item by specifying the indexes of the selected and nonselected images when adding the item to the tree control using the [InsertItem](../mfc/reference/ctreectrl-class.md#ctreectrl__insertitem) member function."},{"content":"You can change the indexes after adding an item by using the <bpt id=\"p1\">[</bpt>SetItemImage<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md#ctreectrl__setitemimage)</ept> member function.","pos":[1941,2094],"source":" You can change the indexes after adding an item by using the [SetItemImage](../mfc/reference/ctreectrl-class.md#ctreectrl__setitemimage) member function."},{"content":"A tree control's image lists can also contain overlay images, which are designed to be superimposed on item images.","pos":[2101,2216]},{"content":"A nonzero value in bits 8 through 11 of a tree control item's state specifies the one-based index of an overlay image (0 indicates no overlay image).","pos":[2217,2366]},{"content":"Because a 4-bit, one-based index is used, overlay images must be among the first 15 images in the image lists.","pos":[2367,2477]},{"content":"For more information about tree control item states, see <bpt id=\"p1\">[</bpt>Tree Control Item States Overview<ept id=\"p1\">](../mfc/tree-control-item-states-overview.md)</ept> earlier in this topic.","pos":[2478,2638],"source":" For more information about tree control item states, see [Tree Control Item States Overview](../mfc/tree-control-item-states-overview.md) earlier in this topic."},{"content":"If a state image list is specified, a tree control reserves space to the left of each item's icon for a state image.","pos":[2645,2761]},{"content":"An application can use state images, such as checked and cleared check boxes, to indicate application-defined item states.","pos":[2762,2884]},{"content":"A nonzero value in bits 12 through 15 specifies the one-based index of a state image (0 indicates no state image).","pos":[2885,2999]},{"content":"By specifying the <bpt id=\"p1\">**</bpt>I_IMAGECALLBACK<ept id=\"p1\">**</ept> value instead of the index of an image, you can delay specifying the selected or nonselected image until the item is about to be redrawn.","pos":[3006,3181],"source":"By specifying the **I_IMAGECALLBACK** value instead of the index of an image, you can delay specifying the selected or nonselected image until the item is about to be redrawn."},{"content":"<bpt id=\"p1\">**</bpt>I_IMAGECALLBACK<ept id=\"p1\">**</ept> directs the tree control to query the application for the index by sending the <bpt id=\"p2\">[</bpt>TVN_GETDISPINFO<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/bb773518)</ept> notification message.","pos":[3182,3380],"source":"**I_IMAGECALLBACK** directs the tree control to query the application for the index by sending the [TVN_GETDISPINFO](http://msdn.microsoft.com/library/windows/desktop/bb773518) notification message."},{"content":"The <bpt id=\"p1\">[</bpt>GetImageList<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md#ctreectrl__getimagelist)</ept> member function retrieves the handle of a tree control's image list.","pos":[3387,3535],"source":"The [GetImageList](../mfc/reference/ctreectrl-class.md#ctreectrl__getimagelist) member function retrieves the handle of a tree control's image list."},{"content":"This function is useful if you need to add more images to the list.","pos":[3536,3603]},{"content":"For more information about image lists, see <bpt id=\"p1\">[</bpt>Using CImageList<ept id=\"p1\">](../mfc/using-cimagelist.md)</ept>, <bpt id=\"p2\">[</bpt>CImageList<ept id=\"p2\">](../mfc/reference/cimagelist-class.md)</ept> in the <bpt id=\"p3\">*</bpt>MFC Reference<ept id=\"p3\">*</ept>, and <bpt id=\"p4\">[</bpt>Image Lists<ept id=\"p4\">](http://msdn.microsoft.com/library/windows/desktop/bb761389)</ept> in the <ph id=\"ph1\">[!INCLUDE[winSDK](../atl/includes/winsdk_md.md)]</ph>.","pos":[3604,3905],"source":" For more information about image lists, see [Using CImageList](../mfc/using-cimagelist.md), [CImageList](../mfc/reference/cimagelist-class.md) in the *MFC Reference*, and [Image Lists](http://msdn.microsoft.com/library/windows/desktop/bb761389) in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)]."},{"content":"See Also","pos":[3914,3922]},{"content":"Using CTreeCtrl","pos":[3927,3942]},{"content":"Controls","pos":[3976,3984]}],"content":"---\ntitle: \"Tree Control Image Lists | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"images [C++], lists in tree controls\"\n  - \"tree controls, image lists\"\n  - \"CTreeCtrl class, image lists\"\nms.assetid: f560c4f2-20d2-4d28-ac33-4017e65fb0a6\ncaps.latest.revision: 11\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Tree Control Image Lists\nEach item in a tree control ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) can have a pair of bitmapped images associated with it. The images appear on the left side of an item's label. One image is displayed when the item is selected, and the other is displayed when the item is not selected. For example, an item might display an open folder when it is selected and a closed folder when it is not selected.  \n  \n To use item images, you must create an image list by constructing a [CImageList](../mfc/reference/cimagelist-class.md) object and using the [CImageList::Create](../mfc/reference/cimagelist-class.md#cimagelist__create) function to create the associated image list. Then add the desired bitmaps to the list, and associate the list with the tree control by using the [SetImageList](../mfc/reference/ctreectrl-class.md#ctreectrl__setimagelist) member function. By default, all items display the first image in the image list for both the selected and nonselected states. You can change the default behavior for a particular item by specifying the indexes of the selected and nonselected images when adding the item to the tree control using the [InsertItem](../mfc/reference/ctreectrl-class.md#ctreectrl__insertitem) member function. You can change the indexes after adding an item by using the [SetItemImage](../mfc/reference/ctreectrl-class.md#ctreectrl__setitemimage) member function.  \n  \n A tree control's image lists can also contain overlay images, which are designed to be superimposed on item images. A nonzero value in bits 8 through 11 of a tree control item's state specifies the one-based index of an overlay image (0 indicates no overlay image). Because a 4-bit, one-based index is used, overlay images must be among the first 15 images in the image lists. For more information about tree control item states, see [Tree Control Item States Overview](../mfc/tree-control-item-states-overview.md) earlier in this topic.  \n  \n If a state image list is specified, a tree control reserves space to the left of each item's icon for a state image. An application can use state images, such as checked and cleared check boxes, to indicate application-defined item states. A nonzero value in bits 12 through 15 specifies the one-based index of a state image (0 indicates no state image).  \n  \n By specifying the **I_IMAGECALLBACK** value instead of the index of an image, you can delay specifying the selected or nonselected image until the item is about to be redrawn. **I_IMAGECALLBACK** directs the tree control to query the application for the index by sending the [TVN_GETDISPINFO](http://msdn.microsoft.com/library/windows/desktop/bb773518) notification message.  \n  \n The [GetImageList](../mfc/reference/ctreectrl-class.md#ctreectrl__getimagelist) member function retrieves the handle of a tree control's image list. This function is useful if you need to add more images to the list. For more information about image lists, see [Using CImageList](../mfc/using-cimagelist.md), [CImageList](../mfc/reference/cimagelist-class.md) in the *MFC Reference*, and [Image Lists](http://msdn.microsoft.com/library/windows/desktop/bb761389) in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)].  \n  \n## See Also  \n [Using CTreeCtrl](../mfc/using-ctreectrl.md)   \n [Controls](../mfc/controls-mfc.md)\n\n"}