{"nodes":[{"pos":[12,58],"content":"-D (Preprocessor Definitions) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-D (Preprocessor Definitions) | Microsoft Docs","pos":[0,46]}]},{"content":"/D (Preprocessor Definitions)","pos":[875,904]},{"content":"Defines a preprocessing symbol for a source file.","pos":[905,954]},{"content":"Syntax","pos":[963,969]},{"content":"Remarks","pos":[1030,1037]},{"content":"You can use this symbol together with <ph id=\"ph1\">`#if`</ph> or <ph id=\"ph2\">`#ifdef`</ph> to compile source code conditionally.","pos":[1041,1134],"source":"You can use this symbol together with `#if` or `#ifdef` to compile source code conditionally."},{"content":"The symbol definition remains in effect until it is redefined in the code or is undefined in the code by the <ph id=\"ph1\">`#undef`</ph> directive.","pos":[1135,1263],"source":" The symbol definition remains in effect until it is redefined in the code or is undefined in the code by the `#undef` directive."},{"pos":[1270,1453],"content":"<bpt id=\"p1\">**</bpt>/D<ept id=\"p1\">**</ept> has the same effect as the <ph id=\"ph1\">`#define`</ph> directive at the beginning of a source code file, except that <bpt id=\"p2\">**</bpt>/D<ept id=\"p2\">**</ept> strips quotation marks on the command line and <ph id=\"ph2\">`#define`</ph> retains them.","source":"**/D** has the same effect as the `#define` directive at the beginning of a source code file, except that **/D** strips quotation marks on the command line and `#define` retains them."},{"content":"By default, the value associated with a symbol is 1.","pos":[1460,1512]},{"content":"For example, <bpt id=\"p1\">**</bpt>/D<ept id=\"p1\">**</ept><ph id=\"ph1\">`name`</ph> is equivalent to <bpt id=\"p2\">**</bpt>/D<ept id=\"p2\">**</ept><ph id=\"ph2\">`name`</ph><bpt id=\"p3\">**</bpt>=1<ept id=\"p3\">**</ept>.","pos":[1513,1575],"source":" For example, **/D**`name` is equivalent to **/D**`name`**=1**."},{"content":"In the example at the end of this article, the definition of <bpt id=\"p1\">**</bpt>TEST<ept id=\"p1\">**</ept> is shown to print <ph id=\"ph1\">`1`</ph>.","pos":[1576,1668],"source":" In the example at the end of this article, the definition of **TEST** is shown to print `1`."},{"content":"Compiling by using <bpt id=\"p1\">**</bpt>/D<ept id=\"p1\">**</ept><ph id=\"ph1\">`name`</ph><bpt id=\"p2\">**</bpt><ph id=\"ph2\">=</ph><ept id=\"p2\">**</ept> causes the symbol to have no associated value.","pos":[1675,1758],"source":"Compiling by using **/D**`name`**=** causes the symbol to have no associated value."},{"content":"Although the symbol can still be used to conditionally compile code, it otherwise evaluates to nothing.","pos":[1759,1862]},{"content":"In the example, if you compile by using <bpt id=\"p1\">**</bpt>/DTEST=<ept id=\"p1\">**</ept>, an error occurs.","pos":[1863,1932],"source":" In the example, if you compile by using **/DTEST=**, an error occurs."},{"content":"This behavior resembles the use of <ph id=\"ph1\">`#define`</ph> with or without a value.","pos":[1933,2002],"source":" This behavior resembles the use of `#define` with or without a value."},{"content":"This command defines the symbol DEBUG in TEST.c:","pos":[2009,2057]},{"content":"CL /DDEBUG  TEST.C","pos":[2066,2084]},{"pos":[2093,2163],"content":"This command removes all occurrences of the keyword <ph id=\"ph1\">`__far`</ph> in TEST.c:","source":"This command removes all occurrences of the keyword `__far` in TEST.c:"},{"content":"CL /D__far=  TEST.C","pos":[2172,2191]},{"content":"The <bpt id=\"p1\">**</bpt>CL<ept id=\"p1\">**</ept> environment variable cannot be set to a string that contains the equal sign.","pos":[2200,2287],"source":"The **CL** environment variable cannot be set to a string that contains the equal sign."},{"content":"To use <bpt id=\"p1\">**</bpt>/D<ept id=\"p1\">**</ept> together with the <bpt id=\"p2\">**</bpt>CL<ept id=\"p2\">**</ept> environment variable, you must specify the number sign instead of the equal sign:","pos":[2288,2408],"source":" To use **/D** together with the **CL** environment variable, you must specify the number sign instead of the equal sign:"},{"content":"When you define a preprocessing symbol at the command prompt, consider both compiler parsing rules and shell parsing rules.","pos":[2448,2571]},{"content":"For example, to define a percent-sign preprocessing symbol (%) in your program, specify two percent-sign characters (%%) at the command prompt: If you specify only one, a parsing error is emitted.","pos":[2572,2768]},{"content":"To set this compiler option in the Visual Studio development environment","pos":[2815,2887]},{"content":"Open the project <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[2897,2944],"source":"Open the project **Property Pages** dialog box."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[2945,3051],"source":" For more information, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[3061,3144],"content":"In the left pane, select <bpt id=\"p1\">**</bpt>Configuration Properties<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>C/C++<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Preprocessor<ept id=\"p3\">**</ept>.","source":"In the left pane, select **Configuration Properties**, **C/C++**, **Preprocessor**."},{"pos":[3154,3288],"content":"In the right pane, in the right-hand column of the <bpt id=\"p1\">**</bpt>Preprocessor Definitions<ept id=\"p1\">**</ept> property, open the drop-down menu and choose <bpt id=\"p2\">**</bpt>Edit<ept id=\"p2\">**</ept>.","source":"In the right pane, in the right-hand column of the **Preprocessor Definitions** property, open the drop-down menu and choose **Edit**."},{"content":"In the <bpt id=\"p1\">**</bpt>Preprocessor Definitions<ept id=\"p1\">**</ept> dialog box, add (one per line), modify, or delete one or more definitions.","pos":[3298,3408],"source":"In the **Preprocessor Definitions** dialog box, add (one per line), modify, or delete one or more definitions."},{"content":"Choose <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to save your changes.","pos":[3409,3444],"source":" Choose **OK** to save your changes."},{"content":"To set this compiler option programmatically","pos":[3454,3498]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.PreprocessorDefinitions%2A&gt;.","pos":[3508,3602],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.PreprocessorDefinitions%2A>."},{"content":"Example","pos":[3611,3618]},{"content":"See Also","pos":[3915,3923]},{"content":"Compiler Options","pos":[3928,3944]},{"content":"Setting Compiler Options","pos":[3994,4018]},{"content":"/U, /u (Undefine Symbols)","pos":[4076,4101]},{"content":"undef Directive (C/C++)","pos":[4156,4179]},{"content":"define Directive (C/C++)","pos":[4237,4261]}],"content":"---\ntitle: \"-D (Preprocessor Definitions) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"VC.Project.VCNMakeTool.PreprocessorDefinitions\"\n  - \"VC.Project.VCCLCompilerTool.PreprocessorDefinitions\"\n  - \"/d\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"preprocessor definition symbols\"\n  - \"constants, defining\"\n  - \"macros, compiling\"\n  - \"/D compiler option [C++]\"\n  - \"-D compiler option [C++]\"\n  - \"D compiler option [C++]\"\nms.assetid: b53fdda7-8da1-474f-8811-ba7cdcc66dba\ncaps.latest.revision: 22\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /D (Preprocessor Definitions)\nDefines a preprocessing symbol for a source file.  \n  \n## Syntax  \n  \n```  \n/Dname[= | # [{string | number}] ]  \n```  \n  \n## Remarks  \n You can use this symbol together with `#if` or `#ifdef` to compile source code conditionally. The symbol definition remains in effect until it is redefined in the code or is undefined in the code by the `#undef` directive.  \n  \n **/D** has the same effect as the `#define` directive at the beginning of a source code file, except that **/D** strips quotation marks on the command line and `#define` retains them.  \n  \n By default, the value associated with a symbol is 1. For example, **/D**`name` is equivalent to **/D**`name`**=1**. In the example at the end of this article, the definition of **TEST** is shown to print `1`.  \n  \n Compiling by using **/D**`name`**=** causes the symbol to have no associated value. Although the symbol can still be used to conditionally compile code, it otherwise evaluates to nothing. In the example, if you compile by using **/DTEST=**, an error occurs. This behavior resembles the use of `#define` with or without a value.  \n  \n This command defines the symbol DEBUG in TEST.c:  \n  \n **CL /DDEBUG  TEST.C**  \n  \n This command removes all occurrences of the keyword `__far` in TEST.c:  \n  \n **CL /D__far=  TEST.C**  \n  \n The **CL** environment variable cannot be set to a string that contains the equal sign. To use **/D** together with the **CL** environment variable, you must specify the number sign instead of the equal sign:  \n  \n```  \nSET CL=/DTEST#0  \n```  \n  \n When you define a preprocessing symbol at the command prompt, consider both compiler parsing rules and shell parsing rules. For example, to define a percent-sign preprocessing symbol (%) in your program, specify two percent-sign characters (%%) at the command prompt: If you specify only one, a parsing error is emitted.  \n  \n```  \nCL /DTEST=%% TEST.C  \n```  \n  \n### To set this compiler option in the Visual Studio development environment  \n  \n1.  Open the project **Property Pages** dialog box. For more information, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  In the left pane, select **Configuration Properties**, **C/C++**, **Preprocessor**.  \n  \n3.  In the right pane, in the right-hand column of the **Preprocessor Definitions** property, open the drop-down menu and choose **Edit**.  \n  \n4.  In the **Preprocessor Definitions** dialog box, add (one per line), modify, or delete one or more definitions. Choose **OK** to save your changes.  \n  \n### To set this compiler option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.PreprocessorDefinitions%2A>.  \n  \n## Example  \n  \n```  \n// cpp_D_compiler_option.cpp  \n// compile with: /DTEST  \n#include <stdio.h>  \n  \nint main( )  \n{  \n    #ifdef TEST  \n        printf_s(\"TEST defined %d\\n\", TEST);  \n    #else  \n        printf_s(\"TEST not defined\\n\");  \n    #endif  \n}  \n```  \n  \n```Output  \nTEST defined 1  \n```  \n  \n## See Also  \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)   \n [/U, /u (Undefine Symbols)](../../build/reference/u-u-undefine-symbols.md)   \n [#undef Directive (C/C++)](../../preprocessor/hash-undef-directive-c-cpp.md)   \n [#define Directive (C/C++)](../../preprocessor/hash-define-directive-c-cpp.md)"}