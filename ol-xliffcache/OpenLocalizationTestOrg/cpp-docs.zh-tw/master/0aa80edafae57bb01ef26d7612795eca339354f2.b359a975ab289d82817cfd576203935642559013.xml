{"nodes":[{"pos":[12,60],"content":"_create_locale, _wcreate_locale | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_create_locale, _wcreate_locale | Microsoft Docs","pos":[0,48]}]},{"content":"_create_locale, _wcreate_locale","pos":[1121,1152]},{"content":"Creates a locale object.","pos":[1153,1177]},{"content":"Syntax","pos":[1186,1192]},{"content":"Parameters","pos":[1376,1386]},{"content":"Category.","pos":[1404,1413]},{"content":"Locale specifier.","pos":[1432,1449]},{"content":"Return Value","pos":[1458,1470]},{"content":"If a valid <ph id=\"ph1\">`locale`</ph> and <ph id=\"ph2\">`category`</ph> are given, returns the specified locale settings as a <ph id=\"ph3\">`_locale_t`</ph> object.","pos":[1474,1582],"source":"If a valid `locale` and `category` are given, returns the specified locale settings as a `_locale_t` object."},{"content":"The current locale settings of the program are not changed.","pos":[1583,1642]},{"content":"Remarks","pos":[1651,1658]},{"content":"The <ph id=\"ph1\">`_create_locale`</ph> function allows you to create an object that represents certain region-specific settings, for use in locale-specific versions of many CRT functions (functions with the <ph id=\"ph2\">`_l`</ph> suffix).","pos":[1662,1864],"source":"The `_create_locale` function allows you to create an object that represents certain region-specific settings, for use in locale-specific versions of many CRT functions (functions with the `_l` suffix)."},{"content":"The behavior is similar to <ph id=\"ph1\">`setlocale`</ph>, except that instead of applying the specified locale settings to the current environment, the settings are saved in a <ph id=\"ph2\">`_locale_t`</ph> structure that is returned.","pos":[1865,2062],"source":" The behavior is similar to `setlocale`, except that instead of applying the specified locale settings to the current environment, the settings are saved in a `_locale_t` structure that is returned."},{"content":"The <ph id=\"ph1\">`_locale_t`</ph> structure should be freed using <bpt id=\"p1\">[</bpt>_free_locale<ept id=\"p1\">](../../c-runtime-library/reference/free-locale.md)</ept> when it is no longer needed.","pos":[2063,2204],"source":" The `_locale_t` structure should be freed using [_free_locale](../../c-runtime-library/reference/free-locale.md) when it is no longer needed."},{"content":"is a wide-character version of <ph id=\"ph1\">`_create_locale`</ph>; the <ph id=\"ph2\">`locale`</ph> argument to <ph id=\"ph3\">`_wcreate_locale`</ph> is a wide-character string.","pos":[2229,2348],"source":" is a wide-character version of `_create_locale`; the `locale` argument to `_wcreate_locale` is a wide-character string."},{"content":"and <ph id=\"ph1\">`_create_locale`</ph> behave identically otherwise.","pos":[2367,2417],"source":" and `_create_locale` behave identically otherwise."},{"content":"The <ph id=\"ph1\">`category`</ph> argument specifies the parts of the locale-specific behavior that are affected.","pos":[2424,2518],"source":"The `category` argument specifies the parts of the locale-specific behavior that are affected."},{"content":"The flags used for <ph id=\"ph1\">`category`</ph> and the parts of the program they affect are as shown in the following table.","pos":[2519,2626],"source":" The flags used for `category` and the parts of the program they affect are as shown in the following table."},{"content":"All categories, as listed below.","pos":[2645,2677]},{"content":"The <ph id=\"ph1\">`strcoll`</ph>, <ph id=\"ph2\">`_stricoll`</ph>, <ph id=\"ph3\">`wcscoll`</ph>, <ph id=\"ph4\">`_wcsicoll`</ph>, <ph id=\"ph5\">`strxfrm`</ph>, <ph id=\"ph6\">`_strncoll`</ph>, <ph id=\"ph7\">`_strnicoll`</ph>, <ph id=\"ph8\">`_wcsncoll`</ph>, <ph id=\"ph9\">`_wcsnicoll`</ph>, and <ph id=\"ph10\">`wcsxfrm`</ph> functions.","pos":[2700,2841],"source":" The `strcoll`, `_stricoll`, `wcscoll`, `_wcsicoll`, `strxfrm`, `_strncoll`, `_strnicoll`, `_wcsncoll`, `_wcsnicoll`, and `wcsxfrm` functions."},{"content":"The character-handling functions (except <ph id=\"ph1\">`isdigit`</ph>, <ph id=\"ph2\">`isxdigit`</ph>, <ph id=\"ph3\">`mbstowcs`</ph>, and <ph id=\"ph4\">`mbtowc`</ph>, which are unaffected).","pos":[2862,2974],"source":" The character-handling functions (except `isdigit`, `isxdigit`, `mbstowcs`, and `mbtowc`, which are unaffected)."},{"content":"Monetary-formatting information returned by the <ph id=\"ph1\">`localeconv`</ph> function.","pos":[2998,3068],"source":" Monetary-formatting information returned by the `localeconv` function."},{"content":"Decimal-point character for the formatted output routines (such as <ph id=\"ph1\">`printf`</ph>), for the data-conversion routines, and for the non-monetary formatting information returned by <ph id=\"ph2\">`localeconv`</ph>.","pos":[3091,3276],"source":" Decimal-point character for the formatted output routines (such as `printf`), for the data-conversion routines, and for the non-monetary formatting information returned by `localeconv`."},{"content":"In addition to the decimal-point character, <ph id=\"ph1\">`LC_NUMERIC`</ph> sets the thousands separator and the grouping control string returned by <bpt id=\"p1\">[</bpt>localeconv<ept id=\"p1\">](../../c-runtime-library/reference/localeconv.md)</ept>.","pos":[3277,3469],"source":" In addition to the decimal-point character, `LC_NUMERIC` sets the thousands separator and the grouping control string returned by [localeconv](../../c-runtime-library/reference/localeconv.md)."},{"content":"The <ph id=\"ph1\">`strftime`</ph> and <ph id=\"ph2\">`wcsftime`</ph> functions.","pos":[3489,3529],"source":" The `strftime` and `wcsftime` functions."},{"content":"This function validates the <ph id=\"ph1\">`category`</ph> and <ph id=\"ph2\">`locale`</ph> parameters.","pos":[3536,3599],"source":"This function validates the `category` and `locale` parameters."},{"content":"If the category parameter is not one of the values given in the previous table or if <ph id=\"ph1\">`locale`</ph> is <ph id=\"ph2\">`NULL`</ph>, the function returns <ph id=\"ph3\">`NULL`</ph>.","pos":[3600,3733],"source":" If the category parameter is not one of the values given in the previous table or if `locale` is `NULL`, the function returns `NULL`."},{"content":"The <ph id=\"ph1\">`locale`</ph> argument is a pointer to a string that specifies the locale.","pos":[3740,3813],"source":"The `locale` argument is a pointer to a string that specifies the locale."},{"content":"For information about the format of the <ph id=\"ph1\">`locale`</ph> argument, see <bpt id=\"p1\">[</bpt>Locale Names, Languages, and Country/Region Strings<ept id=\"p1\">](../../c-runtime-library/locale-names-languages-and-country-region-strings.md)</ept>.","pos":[3814,4009],"source":" For information about the format of the `locale` argument, see [Locale Names, Languages, and Country/Region Strings](../../c-runtime-library/locale-names-languages-and-country-region-strings.md)."},{"content":"The <ph id=\"ph1\">`locale`</ph> argument can take a locale name, a language string, a language string and country/region code, a code page, or a language string, country/region code, and code page.","pos":[4016,4194],"source":"The `locale` argument can take a locale name, a language string, a language string and country/region code, a code page, or a language string, country/region code, and code page."},{"content":"The set of available locale names, languages, country/region codes, and code pages includes all that are supported by the Windows NLS API except the code pages that require more than two bytes per character—for example, UTF-7 and UTF-8.","pos":[4195,4431]},{"content":"If you provide a code page like UTF-7 or UTF-8, <ph id=\"ph1\">`_create_locale`</ph> will fail and return NULL.","pos":[4432,4523],"source":" If you provide a code page like UTF-7 or UTF-8, `_create_locale` will fail and return NULL."},{"content":"The set of locale names supported by <ph id=\"ph1\">`_create_locale`</ph> are described in <bpt id=\"p1\">[</bpt>Locale Names, Languages, and Country/Region Strings<ept id=\"p1\">](../../c-runtime-library/locale-names-languages-and-country-region-strings.md)</ept>.","pos":[4524,4727],"source":" The set of locale names supported by `_create_locale` are described in [Locale Names, Languages, and Country/Region Strings](../../c-runtime-library/locale-names-languages-and-country-region-strings.md)."},{"content":"The set of language and country/region strings supported by <ph id=\"ph1\">`_create_locale`</ph> are listed in <bpt id=\"p1\">[</bpt>Language Strings<ept id=\"p1\">](../../c-runtime-library/language-strings.md)</ept> and <bpt id=\"p2\">[</bpt>Country/Region Strings<ept id=\"p2\">](../../c-runtime-library/country-region-strings.md)</ept>.","pos":[4728,4963],"source":" The set of language and country/region strings supported by `_create_locale` are listed in [Language Strings](../../c-runtime-library/language-strings.md) and [Country/Region Strings](../../c-runtime-library/country-region-strings.md)."},{"pos":[4970,5102],"content":"For more information about locale settings, see <bpt id=\"p1\">[</bpt>setlocale, _wsetlocale<ept id=\"p1\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept>.","source":"For more information about locale settings, see [setlocale, _wsetlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md)."},{"pos":[5109,5215],"content":"The previous name of this function, <ph id=\"ph1\">`__create_locale`</ph> (with two leading underscores), has been deprecated.","source":"The previous name of this function, `__create_locale` (with two leading underscores), has been deprecated."},{"content":"Requirements","pos":[5224,5236]},{"content":"Routine","pos":[5243,5250]},{"content":"Required header","pos":[5251,5266]},{"content":"locale.h&gt;","pos":[5330,5339],"source":"locale.h>"},{"content":"locale.h&gt; or <ph id=\"ph1\">\\&lt;</ph>wchar.h&gt;","pos":[5364,5387],"source":"locale.h> or \\<wchar.h>"},{"pos":[5395,5499],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"content":"Example","pos":[5508,5515]},{"content":"Sample Output","pos":[7029,7042]},{"content":".NET Framework Equivalent","pos":[7199,7224]},{"content":"System::Globalization::CultureInfo Class","pos":[7229,7269]},{"content":"See Also","pos":[7359,7367]},{"content":"Locale Names, Languages, and Country/Region Strings","pos":[7372,7423]},{"content":"Language Strings","pos":[7508,7524]},{"content":"Country/Region Strings","pos":[7576,7598]},{"content":"_free_locale","pos":[7656,7668]},{"content":"_configthreadlocale","pos":[7725,7744]},{"content":"setlocale","pos":[7808,7817]},{"content":"Locale","pos":[7857,7863]},{"content":"localeconv","pos":[7905,7915]},{"content":"_mbclen, mblen, _mblen_l","pos":[7971,7995]},{"content":"strlen, wcslen, _mbslen, _mbslen_l, _mbstrlen, _mbstrlen_l","pos":[8061,8119]},{"content":"mbstowcs, _mbstowcs_l","pos":[8214,8235]},{"content":"mbtowc, _mbtowc_l","pos":[8300,8317]},{"content":"_setmbcp","pos":[8378,8386]},{"content":"setlocale, _wsetlocale","pos":[8439,8461]},{"content":"strcoll Functions","pos":[8527,8544]},{"content":"strftime, wcsftime, _strftime_l, _wcsftime_l","pos":[8597,8641]},{"content":"strxfrm, wcsxfrm, _strxfrm_l, _wcsxfrm_l","pos":[8726,8766]},{"content":"wcstombs, _wcstombs_l","pos":[8847,8868]},{"content":"wctomb, _wctomb_l","pos":[8933,8950]}],"content":"---\ntitle: \"_create_locale, _wcreate_locale | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_create_locale\"\n  - \"__create_locale\"\n  - \"_wcreate_locale\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-locale-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"create_locale\"\n  - \"_create_locale\"\n  - \"__create_locale\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"locales, creating\"\n  - \"_create_locale function\"\n  - \"create_locale function\"\n  - \"__create_locale function\"\nms.assetid: ca362464-9f4a-4ec6-ab03-316c55c5be81\ncaps.latest.revision: 23\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _create_locale, _wcreate_locale\nCreates a locale object.  \n  \n## Syntax  \n  \n```  \n_locale_t _create_locale(  \n   int category,  \n   const char *locale   \n);  \n_locale_t _wcreate_locale(  \n   int category,  \n   const wchar_t *locale   \n);  \n```  \n  \n#### Parameters  \n `category`  \n Category.  \n  \n `locale`  \n Locale specifier.  \n  \n## Return Value  \n If a valid `locale` and `category` are given, returns the specified locale settings as a `_locale_t` object. The current locale settings of the program are not changed.  \n  \n## Remarks  \n The `_create_locale` function allows you to create an object that represents certain region-specific settings, for use in locale-specific versions of many CRT functions (functions with the `_l` suffix). The behavior is similar to `setlocale`, except that instead of applying the specified locale settings to the current environment, the settings are saved in a `_locale_t` structure that is returned. The `_locale_t` structure should be freed using [_free_locale](../../c-runtime-library/reference/free-locale.md) when it is no longer needed.  \n  \n `_wcreate_locale` is a wide-character version of `_create_locale`; the `locale` argument to `_wcreate_locale` is a wide-character string. `_wcreate_locale` and `_create_locale` behave identically otherwise.  \n  \n The `category` argument specifies the parts of the locale-specific behavior that are affected. The flags used for `category` and the parts of the program they affect are as shown in the following table.  \n  \n `LC_ALL`  \n All categories, as listed below.  \n  \n `LC_COLLATE`  \n The `strcoll`, `_stricoll`, `wcscoll`, `_wcsicoll`, `strxfrm`, `_strncoll`, `_strnicoll`, `_wcsncoll`, `_wcsnicoll`, and `wcsxfrm` functions.  \n  \n `LC_CTYPE`  \n The character-handling functions (except `isdigit`, `isxdigit`, `mbstowcs`, and `mbtowc`, which are unaffected).  \n  \n `LC_MONETARY`  \n Monetary-formatting information returned by the `localeconv` function.  \n  \n `LC_NUMERIC`  \n Decimal-point character for the formatted output routines (such as `printf`), for the data-conversion routines, and for the non-monetary formatting information returned by `localeconv`. In addition to the decimal-point character, `LC_NUMERIC` sets the thousands separator and the grouping control string returned by [localeconv](../../c-runtime-library/reference/localeconv.md).  \n  \n `LC_TIME`  \n The `strftime` and `wcsftime` functions.  \n  \n This function validates the `category` and `locale` parameters. If the category parameter is not one of the values given in the previous table or if `locale` is `NULL`, the function returns `NULL`.  \n  \n The `locale` argument is a pointer to a string that specifies the locale. For information about the format of the `locale` argument, see [Locale Names, Languages, and Country/Region Strings](../../c-runtime-library/locale-names-languages-and-country-region-strings.md).  \n  \n The `locale` argument can take a locale name, a language string, a language string and country/region code, a code page, or a language string, country/region code, and code page. The set of available locale names, languages, country/region codes, and code pages includes all that are supported by the Windows NLS API except the code pages that require more than two bytes per character—for example, UTF-7 and UTF-8. If you provide a code page like UTF-7 or UTF-8, `_create_locale` will fail and return NULL. The set of locale names supported by `_create_locale` are described in [Locale Names, Languages, and Country/Region Strings](../../c-runtime-library/locale-names-languages-and-country-region-strings.md). The set of language and country/region strings supported by `_create_locale` are listed in [Language Strings](../../c-runtime-library/language-strings.md) and [Country/Region Strings](../../c-runtime-library/country-region-strings.md).  \n  \n For more information about locale settings, see [setlocale, _wsetlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md).  \n  \n The previous name of this function, `__create_locale` (with two leading underscores), has been deprecated.  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_create_locale`|\\<locale.h>|  \n|`_wcreate_locale`|\\<locale.h> or \\<wchar.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n  \n```  \n  \n      // crt_create_locale.c  \n// Sets the current locale to \"de-CH\" using the  \n// setlocale function and demonstrates its effect on the strftime  \n// function.  \n  \n#include <stdio.h>  \n#include <locale.h>  \n#include <time.h>  \n  \nint main(void)  \n{  \n       time_t ltime;  \n       struct tm thetime;  \n       unsigned char str[100];  \n       _locale_t locale;  \n  \n       // Create a locale object representing the German (Switzerland) locale  \n       locale = _create_locale(LC_ALL, \"de-CH\");  \n       time (&ltime);  \n       _gmtime64_s(&thetime, &ltime);  \n  \n       // %#x is the long date representation, appropriate to  \n       // the current locale  \n       //  \n       if (!_strftime_l((char *)str, 100, \"%#x\",   \n                     (const struct tm *)&thetime, locale))  \n               printf(\"_strftime_l failed!\\n\");  \n       else  \n               printf(\"In de-CH locale, _strftime_l returns '%s'\\n\",   \n                      str);  \n  \n       _free_locale(locale);  \n  \n       // Create a locale object representing the default C locale  \n       locale = _create_locale(LC_ALL, \"C\");  \n       time (&ltime);  \n       _gmtime64_s(&thetime, &ltime);  \n  \n       if (!_strftime_l((char *)str, 100, \"%#x\",   \n                     (const struct tm *)&thetime, locale))  \n               printf(\"_strftime_l failed!\\n\");  \n       else  \n               printf(\"In 'C' locale, _strftime_l returns '%s'\\n\",   \n                      str);  \n  \n       _free_locale(locale);  \n}  \n```  \n  \n## Sample Output  \n  \n```  \nIn de-CH locale, _strftime_l returns 'Samstag, 9. Februar 2002'  \nIn 'C' locale, _strftime_l returns 'Saturday, February 09, 2002'  \n```  \n  \n## .NET Framework Equivalent  \n [System::Globalization::CultureInfo Class](https://msdn.microsoft.com/en-us/library/system.globalization.cultureinfo.aspx)  \n  \n## See Also  \n [Locale Names, Languages, and Country/Region Strings](../../c-runtime-library/locale-names-languages-and-country-region-strings.md)   \n [Language Strings](../../c-runtime-library/language-strings.md)   \n [Country/Region Strings](../../c-runtime-library/country-region-strings.md)   \n [_free_locale](../../c-runtime-library/reference/free-locale.md)   \n [_configthreadlocale](../../c-runtime-library/reference/configthreadlocale.md)   \n [setlocale](../../preprocessor/setlocale.md)   \n [Locale](../../c-runtime-library/locale.md)   \n [localeconv](../../c-runtime-library/reference/localeconv.md)   \n [_mbclen, mblen, _mblen_l](../../c-runtime-library/reference/mbclen-mblen-mblen-l.md)   \n [strlen, wcslen, _mbslen, _mbslen_l, _mbstrlen, _mbstrlen_l](../../c-runtime-library/reference/strlen-wcslen-mbslen-mbslen-l-mbstrlen-mbstrlen-l.md)   \n [mbstowcs, _mbstowcs_l](../../c-runtime-library/reference/mbstowcs-mbstowcs-l.md)   \n [mbtowc, _mbtowc_l](../../c-runtime-library/reference/mbtowc-mbtowc-l.md)   \n [_setmbcp](../../c-runtime-library/reference/setmbcp.md)   \n [setlocale, _wsetlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md)   \n [strcoll Functions](../../c-runtime-library/strcoll-functions.md)   \n [strftime, wcsftime, _strftime_l, _wcsftime_l](../../c-runtime-library/reference/strftime-wcsftime-strftime-l-wcsftime-l.md)   \n [strxfrm, wcsxfrm, _strxfrm_l, _wcsxfrm_l](../../c-runtime-library/reference/strxfrm-wcsxfrm-strxfrm-l-wcsxfrm-l.md)   \n [wcstombs, _wcstombs_l](../../c-runtime-library/reference/wcstombs-wcstombs-l.md)   \n [wctomb, _wctomb_l](../../c-runtime-library/reference/wctomb-wctomb-l.md)"}