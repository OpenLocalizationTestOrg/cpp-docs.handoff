{"nodes":[{"pos":[12,67],"content":"strrchr, wcsrchr, _mbsrchr, _mbsrchr_l | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"strrchr, wcsrchr, _mbsrchr, _mbsrchr_l | Microsoft Docs","pos":[0,55]}]},{"content":"strrchr, wcsrchr, _mbsrchr, _mbsrchr_l","pos":[1353,1391]},{"content":"Scans a string for the last occurrence of a character.","pos":[1392,1446]},{"pos":[1454,1693],"content":"[!IMPORTANT]\n `_mbsrchr` and `_mbsrchr_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","leadings":["","> "],"nodes":[{"content":" and `_mbsrchr_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","pos":[24,237],"nodes":[{"content":"and <ph id=\"ph1\">`_mbsrchr_l`</ph> cannot be used in applications that execute in the Windows Runtime.","pos":[1,85],"source":" and `_mbsrchr_l` cannot be used in applications that execute in the Windows Runtime."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CRT functions not supported with /ZW<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)</ept>.","pos":[86,213],"source":" For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)."}]}]},{"content":"Syntax","pos":[1702,1708]},{"content":"Parameters","pos":[2812,2822]},{"content":"Null-terminated string to search.","pos":[2835,2868]},{"content":"Character to be located.","pos":[2882,2906]},{"content":"Locale to use.","pos":[2925,2939]},{"content":"Return Value","pos":[2948,2960]},{"pos":[2964,3052],"content":"Returns a pointer to the last occurrence of <ph id=\"ph1\">`c`</ph> in <ph id=\"ph2\">`str`</ph>, or <ph id=\"ph3\">`NULL`</ph> if <ph id=\"ph4\">`c`</ph> is not found.","source":"Returns a pointer to the last occurrence of `c` in `str`, or `NULL` if `c` is not found."},{"content":"Remarks","pos":[3061,3068]},{"content":"The <ph id=\"ph1\">`strrchr`</ph> function finds the last occurrence of <ph id=\"ph2\">`c`</ph> (converted to <ph id=\"ph3\">`char`</ph>) in <ph id=\"ph4\">`str`</ph>.","pos":[3072,3159],"source":"The `strrchr` function finds the last occurrence of `c` (converted to `char`) in `str`."},{"content":"The search includes the terminating null character.","pos":[3160,3211]},{"content":"and <ph id=\"ph1\">`_mbsrchr`</ph> are wide-character and multibyte-character versions of <ph id=\"ph2\">`strrchr`</ph>.","pos":[3228,3308],"source":" and `_mbsrchr` are wide-character and multibyte-character versions of `strrchr`."},{"content":"The arguments and return value of <ph id=\"ph1\">`wcsrchr`</ph> are wide-character strings; those of <ph id=\"ph2\">`_mbsrchr`</ph> are multibyte-character strings.","pos":[3309,3433],"source":" The arguments and return value of `wcsrchr` are wide-character strings; those of `_mbsrchr` are multibyte-character strings."},{"content":"In C, these functions take a <ph id=\"ph1\">`const`</ph> pointer for the first argument.","pos":[3440,3508],"source":"In C, these functions take a `const` pointer for the first argument."},{"content":"In C++, two overloads are available.","pos":[3509,3545]},{"content":"The overload taking a pointer to <ph id=\"ph1\">`const`</ph> returns a pointer to <ph id=\"ph2\">`const`</ph>; the version that takes a pointer to non-<ph id=\"ph3\">`const`</ph> returns a pointer to non-<ph id=\"ph4\">`const`</ph>.","pos":[3546,3698],"source":" The overload taking a pointer to `const` returns a pointer to `const`; the version that takes a pointer to non-`const` returns a pointer to non-`const`."},{"content":"The macro _CONST_CORRECT_OVERLOADS is defined if both the <ph id=\"ph1\">`const`</ph> and non-<ph id=\"ph2\">`const`</ph> versions of these functions are available.","pos":[3699,3823],"source":" The macro _CONST_CORRECT_OVERLOADS is defined if both the `const` and non-`const` versions of these functions are available."},{"content":"If you require the non-<ph id=\"ph1\">`const`</ph> behavior for both C++ overloads, define the symbol _CONST_RETURN.","pos":[3824,3920],"source":" If you require the non-`const` behavior for both C++ overloads, define the symbol _CONST_RETURN."},{"content":"validates its parameters.","pos":[3938,3963]},{"content":"If <ph id=\"ph1\">`str`</ph> is <ph id=\"ph2\">`NULL`</ph>, the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[3964,4114],"source":" If `str` is `NULL`, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, <ph id=\"ph1\">`errno`</ph> is set to <ph id=\"ph2\">`EINVAL`</ph> and <ph id=\"ph3\">`_mbsrchr`</ph> returns 0.","pos":[4115,4204],"source":" If execution is allowed to continue, `errno` is set to `EINVAL` and `_mbsrchr` returns 0."},{"content":"and <ph id=\"ph1\">`wcsrchr`</ph> do not validate their parameters.","pos":[4215,4262],"source":" and `wcsrchr` do not validate their parameters."},{"content":"These three functions behave identically otherwise.","pos":[4263,4314]},{"content":"The output value is affected by the setting of the <ph id=\"ph1\">`LC_CTYPE`</ph> category setting of the locale; for more information, see <bpt id=\"p1\">[</bpt>setlocale<ept id=\"p1\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept>.","pos":[4321,4512],"source":"The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; for more information, see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md)."},{"content":"The versions of these functions without the <ph id=\"ph1\">`_l`</ph> suffix use the current locale for this locale-dependent behavior; the versions with the <ph id=\"ph2\">`_l`</ph> suffix are identical except that they use the locale parameter passed in instead.","pos":[4513,4736],"source":" The versions of these functions without the `_l` suffix use the current locale for this locale-dependent behavior; the versions with the `_l` suffix are identical except that they use the locale parameter passed in instead."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept>.","pos":[4737,4807],"source":" For more information, see [Locale](../../c-runtime-library/locale.md)."},{"content":"Generic-Text Routine Mappings","pos":[4817,4846]},{"content":"TCHAR.H routine","pos":[4853,4868]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[4869,4897],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[4898,4911]},{"content":"_UNICODE defined","pos":[4912,4928]},{"content":"n/a","pos":[5089,5092]},{"content":"n/a","pos":[5097,5100]},{"content":"n/a","pos":[5118,5121]},{"content":"Requirements","pos":[5133,5145]},{"content":"Routine","pos":[5152,5159]},{"content":"Required header","pos":[5160,5175]},{"content":"string.h&gt;","pos":[5232,5241],"source":"string.h>"},{"content":"string.h&gt; or <ph id=\"ph1\">\\&lt;</ph>wchar.h&gt;","pos":[5258,5281],"source":"string.h> or \\<wchar.h>"},{"pos":[5296,5297],"content":","},{"content":"mbstring.h&gt;","pos":[5313,5324],"source":"mbstring.h>"},{"pos":[5332,5436],"content":"For more information about compatibility, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For more information about compatibility, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"content":"Example","pos":[5445,5452]},{"pos":[5456,5572],"content":"For an example of using <ph id=\"ph1\">`strrchr`</ph>, see <bpt id=\"p1\">[</bpt>strchr<ept id=\"p1\">](../../c-runtime-library/reference/strchr-wcschr-mbschr-mbschr-l.md)</ept>.","source":"For an example of using `strrchr`, see [strchr](../../c-runtime-library/reference/strchr-wcschr-mbschr-mbschr-l.md)."},{"content":".NET Framework Equivalent","pos":[5581,5606]},{"content":"System::String::LastIndexOf","pos":[5611,5638]},{"content":"See Also","pos":[5721,5729]},{"content":"String Manipulation","pos":[5734,5753]},{"content":"Locale","pos":[5812,5818]},{"content":"Interpretation of Multibyte-Character Sequences","pos":[5860,5907]},{"content":"strchr, wcschr, _mbschr, _mbschr_l","pos":[5990,6024]},{"content":"strcspn, wcscspn, _mbscspn, _mbscspn_l","pos":[6099,6137]},{"content":"_strnicmp, _wcsnicmp, _mbsnicmp, _strnicmp_l, _wcsnicmp_l, _mbsnicmp_l","pos":[6216,6286]},{"content":"strpbrk, wcspbrk, _mbspbrk, _mbspbrk_l","pos":[6391,6429]},{"content":"strspn, wcsspn, _mbsspn, _mbsspn_l","pos":[6508,6542]}],"content":"---\ntitle: \"strrchr, wcsrchr, _mbsrchr, _mbsrchr_l | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"strrchr\"\n  - \"wcsrchr\"\n  - \"_mbsrchr\"\n  - \"_mbsrchr_l\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-multibyte-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_tcsrchr\"\n  - \"_ftcsrchr\"\n  - \"strrchr\"\n  - \"wcsrchr\"\n  - \"_mbsrchr\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"_mbsrchr function\"\n  - \"tcsrchr function\"\n  - \"mbsrchr_l function\"\n  - \"characters [C++], scanning for\"\n  - \"ftcsrchr function\"\n  - \"_tcsrchr function\"\n  - \"strings [C++], scanning\"\n  - \"mbsrchr function\"\n  - \"strrchr function\"\n  - \"scanning strings\"\n  - \"wcsrchr function\"\n  - \"_ftcsrchr function\"\n  - \"_mbsrchr_l function\"\nms.assetid: 75cf2664-758e-49bb-bf6b-8a139cd474d2\ncaps.latest.revision: 28\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# strrchr, wcsrchr, _mbsrchr, _mbsrchr_l\nScans a string for the last occurrence of a character.  \n  \n> [!IMPORTANT]\n>  `_mbsrchr` and `_mbsrchr_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).  \n  \n## Syntax  \n  \n```  \nchar *strrchr(  \n   const char *str,  \n   int c   \n); // C only  \nchar *strrchr(  \n   char *str,  \n   int c   \n); // C++ only  \nconst char *strrchr(  \n   const char *str,  \n   int c   \n); // C++ only  \nwchar_t *wcsrchr(  \n   const wchar_t *str,  \n   wchar_t c   \n); // C only  \nwchar_t *wcsrchr(  \n   wchar_t *str,  \n   wchar_t c   \n); // C++ only  \nconst wchar_t *wcsrchr(  \n   const wchar_t *str,  \n   wchar_t c   \n); // C++ only  \nunsigned char *_mbsrchr(  \n   const unsigned char *str,  \n   unsigned int c   \n); // C only  \nunsigned char *_mbsrchr(  \n   unsigned char *str,  \n   unsigned int c   \n); // C++ only  \nconst unsigned char *_mbsrchr(  \n   const unsigned char *str,  \n   unsigned int c   \n); // C++ only  \nunsigned char *_mbsrchr_l(  \n   const unsigned char *str,  \n   unsigned int c,  \n   _locale_t locale  \n); // C only  \nunsigned char *_mbsrchr_l(  \n   unsigned char *str,  \n   unsigned int c,  \n   _locale_t locale  \n); // C++ only  \nconst unsigned char *_mbsrchr_l(  \n   const unsigned char *str,  \n   unsigned int c,  \n   _locale_t locale  \n); // C++ only  \n```  \n  \n#### Parameters  \n `str`  \n Null-terminated string to search.  \n  \n `c`  \n Character to be located.  \n  \n `locale`  \n Locale to use.  \n  \n## Return Value  \n Returns a pointer to the last occurrence of `c` in `str`, or `NULL` if `c` is not found.  \n  \n## Remarks  \n The `strrchr` function finds the last occurrence of `c` (converted to `char`) in `str`. The search includes the terminating null character.  \n  \n `wcsrchr` and `_mbsrchr` are wide-character and multibyte-character versions of `strrchr`. The arguments and return value of `wcsrchr` are wide-character strings; those of `_mbsrchr` are multibyte-character strings.  \n  \n In C, these functions take a `const` pointer for the first argument. In C++, two overloads are available. The overload taking a pointer to `const` returns a pointer to `const`; the version that takes a pointer to non-`const` returns a pointer to non-`const`. The macro _CONST_CORRECT_OVERLOADS is defined if both the `const` and non-`const` versions of these functions are available. If you require the non-`const` behavior for both C++ overloads, define the symbol _CONST_RETURN.  \n  \n `_mbsrchr` validates its parameters. If `str` is `NULL`, the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, `errno` is set to `EINVAL` and `_mbsrchr` returns 0. `strrchr` and `wcsrchr` do not validate their parameters. These three functions behave identically otherwise.  \n  \n The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; for more information, see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md). The versions of these functions without the `_l` suffix use the current locale for this locale-dependent behavior; the versions with the `_l` suffix are identical except that they use the locale parameter passed in instead. For more information, see [Locale](../../c-runtime-library/locale.md).  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_tcsrchr`|`strrchr`|`_mbsrchr`|`wcsrchr`|  \n|**n/a**|**n/a**|`_mbsrchr_l`|**n/a**|  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`strrchr`|\\<string.h>|  \n|`wcsrchr`|\\<string.h> or \\<wchar.h>|  \n|`_mbsrchr`, `_mbsrchr_l`|\\<mbstring.h>|  \n  \n For more information about compatibility, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n For an example of using `strrchr`, see [strchr](../../c-runtime-library/reference/strchr-wcschr-mbschr-mbschr-l.md).  \n  \n## .NET Framework Equivalent  \n [System::String::LastIndexOf](https://msdn.microsoft.com/en-us/library/system.string.lastindexof.aspx)  \n  \n## See Also  \n [String Manipulation](../../c-runtime-library/string-manipulation-crt.md)   \n [Locale](../../c-runtime-library/locale.md)   \n [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)   \n [strchr, wcschr, _mbschr, _mbschr_l](../../c-runtime-library/reference/strchr-wcschr-mbschr-mbschr-l.md)   \n [strcspn, wcscspn, _mbscspn, _mbscspn_l](../../c-runtime-library/reference/strcspn-wcscspn-mbscspn-mbscspn-l.md)   \n [_strnicmp, _wcsnicmp, _mbsnicmp, _strnicmp_l, _wcsnicmp_l, _mbsnicmp_l](../../c-runtime-library/reference/strnicmp-wcsnicmp-mbsnicmp-strnicmp-l-wcsnicmp-l-mbsnicmp-l.md)   \n [strpbrk, wcspbrk, _mbspbrk, _mbspbrk_l](../../c-runtime-library/reference/strpbrk-wcspbrk-mbspbrk-mbspbrk-l.md)   \n [strspn, wcsspn, _mbsspn, _mbsspn_l](../../c-runtime-library/reference/strspn-wcsspn-mbsspn-mbsspn-l.md)"}