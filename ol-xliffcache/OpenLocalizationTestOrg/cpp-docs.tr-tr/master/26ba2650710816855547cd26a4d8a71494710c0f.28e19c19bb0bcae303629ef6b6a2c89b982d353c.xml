{"nodes":[{"pos":[12,65],"content":"Troubleshooting Build Customizations | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Troubleshooting Build Customizations | Microsoft Docs","pos":[0,53]}]},{"content":"Troubleshooting Build Customizations","pos":[829,865]},{"content":"If your custom build steps or events are not behaving as you expect, there are several things you can do to try to understand what is going wrong.","pos":[866,1012]},{"content":"Make sure that the files your custom build steps generate match the files you declare as outputs.","pos":[1022,1119]},{"content":"If your custom build steps generate any files that are inputs or dependencies of other build steps (custom or otherwise), make sure that those files are added to your project.","pos":[1129,1304]},{"content":"And make sure that the tools that consume those files execute after the custom build step.","pos":[1305,1395]},{"content":"To display what your custom build step is actually doing, add <ph id=\"ph1\">`@echo on`</ph> as the first command.","pos":[1405,1499],"source":"To display what your custom build step is actually doing, add `@echo on` as the first command."},{"content":"The build events and build steps are put in a temporary .bat file and run when the project is built.","pos":[1500,1600]},{"content":"Therefore, you can add error checking to your build event or build step commands.","pos":[1601,1682]},{"content":"Examine the build log in the intermediate files directory to see what actually executed.","pos":[1692,1780]},{"content":"The path and name of the build log is represented by the <bpt id=\"p1\">**</bpt>MSBuild<ept id=\"p1\">**</ept> macro expression, <bpt id=\"p2\">**</bpt>$(IntDir)<ph id=\"ph1\">\\\\</ph>$(MSBuildProjectName).log<ept id=\"p2\">**</ept>.","pos":[1781,1909],"source":" The path and name of the build log is represented by the **MSBuild** macro expression, **$(IntDir)\\\\$(MSBuildProjectName).log**."},{"content":"Modify your project settings to collect more than the default amount of information in the build log.","pos":[1919,2020]},{"content":"On the <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Options<ept id=\"p2\">**</ept>.","pos":[2021,2062],"source":" On the **Tools** menu, click **Options**."},{"content":"In the <bpt id=\"p1\">**</bpt>Options<ept id=\"p1\">**</ept> dialog box, click the <bpt id=\"p2\">**</bpt>Projects and Solutions<ept id=\"p2\">**</ept> node and then click the <bpt id=\"p3\">**</bpt>Build and Run<ept id=\"p3\">**</ept> node.","pos":[2063,2178],"source":" In the **Options** dialog box, click the **Projects and Solutions** node and then click the **Build and Run** node."},{"content":"Then, in the <bpt id=\"p1\">**</bpt>MSBuild project build log file verbosity<ept id=\"p1\">**</ept> box, click <bpt id=\"p2\">**</bpt>Detailed<ept id=\"p2\">**</ept>.","pos":[2179,2261],"source":" Then, in the **MSBuild project build log file verbosity** box, click **Detailed**."},{"content":"Verify the values of any file name or directory macros you are using.","pos":[2271,2340]},{"content":"You can echo macros individually, or you can add <ph id=\"ph1\">`copy %0 command.bat`</ph> to the start of your custom build step, which will copy your custom build step's commands to command.bat with all macros expanded.","pos":[2341,2542],"source":" You can echo macros individually, or you can add `copy %0 command.bat` to the start of your custom build step, which will copy your custom build step's commands to command.bat with all macros expanded."},{"content":"Run custom build steps and build events individually to check their behavior.","pos":[2552,2629]},{"content":"See Also","pos":[2638,2646]},{"content":"Understanding Custom Build Steps and Build Events","pos":[2651,2700]}],"content":"---\ntitle: \"Troubleshooting Build Customizations | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"build events [C++], troubleshooting\"\n  - \"builds [C++], build events\"\n  - \"troubleshooting [C++], builds\"\n  - \"build steps [C++], troubleshooting\"\n  - \"events [C++], build\"\n  - \"builds [C++], troubleshooting\"\n  - \"custom build steps [C++], troubleshooting\"\nms.assetid: e4ceb177-fbee-4ed3-a7d7-80f0d78c1d07\ncaps.latest.revision: 8\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Troubleshooting Build Customizations\nIf your custom build steps or events are not behaving as you expect, there are several things you can do to try to understand what is going wrong.  \n  \n-   Make sure that the files your custom build steps generate match the files you declare as outputs.  \n  \n-   If your custom build steps generate any files that are inputs or dependencies of other build steps (custom or otherwise), make sure that those files are added to your project. And make sure that the tools that consume those files execute after the custom build step.  \n  \n-   To display what your custom build step is actually doing, add `@echo on` as the first command. The build events and build steps are put in a temporary .bat file and run when the project is built. Therefore, you can add error checking to your build event or build step commands.  \n  \n-   Examine the build log in the intermediate files directory to see what actually executed. The path and name of the build log is represented by the **MSBuild** macro expression, **$(IntDir)\\\\$(MSBuildProjectName).log**.  \n  \n-   Modify your project settings to collect more than the default amount of information in the build log. On the **Tools** menu, click **Options**. In the **Options** dialog box, click the **Projects and Solutions** node and then click the **Build and Run** node. Then, in the **MSBuild project build log file verbosity** box, click **Detailed**.  \n  \n-   Verify the values of any file name or directory macros you are using. You can echo macros individually, or you can add `copy %0 command.bat` to the start of your custom build step, which will copy your custom build step's commands to command.bat with all macros expanded.  \n  \n-   Run custom build steps and build events individually to check their behavior.  \n  \n## See Also  \n [Understanding Custom Build Steps and Build Events](../ide/understanding-custom-build-steps-and-build-events.md)"}