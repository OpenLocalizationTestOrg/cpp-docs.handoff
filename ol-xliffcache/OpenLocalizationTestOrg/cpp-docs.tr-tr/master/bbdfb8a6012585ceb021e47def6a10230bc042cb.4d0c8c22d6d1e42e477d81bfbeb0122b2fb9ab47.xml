{"nodes":[{"pos":[12,53],"content":"-QIfist (Suppress _ftol) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-QIfist (Suppress _ftol) | Microsoft Docs","pos":[0,41]}]},{"content":"/QIfist (Suppress _ftol)","pos":[717,741]},{"pos":[742,870],"content":"Suppresses the call of the helper function <ph id=\"ph1\">`_ftol`</ph> when a conversion from a floating-point type to an integral type is required.","source":"Suppresses the call of the helper function `_ftol` when a conversion from a floating-point type to an integral type is required."},{"content":"Syntax","pos":[879,885]},{"content":"Remarks","pos":[919,926]},{"pos":[934,1144],"content":"[!NOTE]\n **/QIfist** is only available in the compiler targeting x86; this compiler option is not available in the compilers targeting [!INCLUDE[vcprx64](../../assembler/inline/includes/vcprx64_md.md)] orARM.","leadings":["","> "],"nodes":[{"content":"<bpt id=\"p1\"> **</bpt>/QIfist<ept id=\"p1\">**</ept> is only available in the compiler targeting x86; this compiler option is not available in the compilers targeting <ph id=\"ph1\">[!INCLUDE[vcprx64](../../assembler/inline/includes/vcprx64_md.md)]</ph> orARM.","pos":[8,208],"source":" **/QIfist** is only available in the compiler targeting x86; this compiler option is not available in the compilers targeting [!INCLUDE[vcprx64](../../assembler/inline/includes/vcprx64_md.md)] orARM."}]},{"content":"In addition to converting from a floating-point type to integral type, the <ph id=\"ph1\">`_ftol`</ph> function ensures the rounding mode of the floating-point unit (FPU) is toward zero (truncate), by setting bits 10 and 11 of the control word.","pos":[1151,1375],"source":"In addition to converting from a floating-point type to integral type, the `_ftol` function ensures the rounding mode of the floating-point unit (FPU) is toward zero (truncate), by setting bits 10 and 11 of the control word."},{"content":"This guarantees that converting from a floating-point type to an integral type occurs as described by the ANSI C standard (the fractional portion of the number is discarded).","pos":[1376,1550]},{"content":"When using <bpt id=\"p1\">**</bpt>/QIfist<ept id=\"p1\">**</ept>, this guarantee no longer applies.","pos":[1551,1608],"source":" When using **/QIfist**, this guarantee no longer applies."},{"content":"The rounding mode will be one of four as documented in Intel reference manuals:","pos":[1609,1688]},{"content":"Round toward nearest (even number if equidistant)","pos":[1698,1747]},{"content":"Round toward negative infinity","pos":[1757,1787]},{"content":"Round toward positive infinity","pos":[1797,1827]},{"content":"Round toward zero","pos":[1837,1854]},{"content":"You can use the <bpt id=\"p1\">[</bpt>_control87, _controlfp, <ph id=\"ph1\">\\_</ph>_control87_2<ept id=\"p1\">](../../c-runtime-library/reference/control87-controlfp-control87-2.md)</ept> C Run-Time function to modify the rounding behavior of the FPU.","pos":[1861,2051],"source":"You can use the [_control87, _controlfp, \\__control87_2](../../c-runtime-library/reference/control87-controlfp-control87-2.md) C Run-Time function to modify the rounding behavior of the FPU."},{"content":"The default rounding mode of the FPU is \"Round toward nearest.\"","pos":[2052,2115]},{"content":"Using <bpt id=\"p1\">**</bpt>/QIfist<ept id=\"p1\">**</ept> can improve the performance of your application, but not without risk.","pos":[2116,2204],"source":" Using **/QIfist** can improve the performance of your application, but not without risk."},{"content":"You should thoroughly test the portions of your code that are sensitive to rounding modes before relying upon code built with <bpt id=\"p1\">**</bpt>/QIfist<ept id=\"p1\">**</ept> in production environments.","pos":[2205,2370],"source":" You should thoroughly test the portions of your code that are sensitive to rounding modes before relying upon code built with **/QIfist** in production environments."},{"pos":[2377,2480],"content":"<bpt id=\"p1\">[</bpt>/arch (x86)<ept id=\"p1\">](../../build/reference/arch-x86.md)</ept> and <bpt id=\"p2\">**</bpt>/QIfist<ept id=\"p2\">**</ept> can not be used on the same compiland.","source":"[/arch (x86)](../../build/reference/arch-x86.md) and **/QIfist** can not be used on the same compiland."},{"pos":[2488,2962],"content":"[!NOTE]\n **/QIfist** is not in effect by default because the rounding bits also affect floating point to floating point rounding (which occurs after every calculation), so when you set the flags for C-style (toward zero) rounding, your floating point calculations might be different. **/QIfist** should not be used if your code depends upon the expected behavior of truncating the fractional portion of the floating-point number. If you are unsure, do not use **/QIfist**.","leadings":["","> "],"nodes":[{"content":" **/QIfist** is not in effect by default because the rounding bits also affect floating point to floating point rounding (which occurs after every calculation), so when you set the flags for C-style (toward zero) rounding, your floating point calculations might be different. **/QIfist** should not be used if your code depends upon the expected behavior of truncating the fractional portion of the floating-point number. If you are unsure, do not use **/QIfist**.","pos":[8,472],"nodes":[{"content":"<bpt id=\"p1\"> **</bpt>/QIfist<ept id=\"p1\">**</ept> is not in effect by default because the rounding bits also affect floating point to floating point rounding (which occurs after every calculation), so when you set the flags for C-style (toward zero) rounding, your floating point calculations might be different.","pos":[0,275],"source":" **/QIfist** is not in effect by default because the rounding bits also affect floating point to floating point rounding (which occurs after every calculation), so when you set the flags for C-style (toward zero) rounding, your floating point calculations might be different."},{"content":"<bpt id=\"p1\">**</bpt>/QIfist<ept id=\"p1\">**</ept> should not be used if your code depends upon the expected behavior of truncating the fractional portion of the floating-point number.","pos":[276,421],"source":"**/QIfist** should not be used if your code depends upon the expected behavior of truncating the fractional portion of the floating-point number."},{"content":"If you are unsure, do not use <bpt id=\"p1\">**</bpt>/QIfist<ept id=\"p1\">**</ept>.","pos":[422,464],"source":" If you are unsure, do not use **/QIfist**."}]}]},{"content":"<bpt id=\"p1\">**</bpt>/QIfist<ept id=\"p1\">**</ept> is deprecated.","pos":[2969,2995],"source":"**/QIfist** is deprecated."},{"content":"The compiler has made significant improvements in float to int conversion speed.","pos":[2996,3076]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Deprecated Compiler Options in Visual C++ 2005<ept id=\"p1\">](http://msdn.microsoft.com/en-us/aa59fce3-50b8-4f66-9aeb-ce09a7a84cce)</ept>.","pos":[3077,3222],"source":" For more information, see [Deprecated Compiler Options in Visual C++ 2005](http://msdn.microsoft.com/en-us/aa59fce3-50b8-4f66-9aeb-ce09a7a84cce)."},{"content":"To set this compiler option in the Visual Studio development environment","pos":[3232,3304]},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[3314,3363],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[3364,3461],"source":" For details, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[3471,3498],"content":"Click the <bpt id=\"p1\">**</bpt>C/C++<ept id=\"p1\">**</ept> folder.","source":"Click the **C/C++** folder."},{"pos":[3508,3549],"content":"Click the <bpt id=\"p1\">**</bpt>Command Line<ept id=\"p1\">**</ept> property page.","source":"Click the **Command Line** property page."},{"pos":[3559,3618],"content":"Type the compiler option in the <bpt id=\"p1\">**</bpt>Additional Options<ept id=\"p1\">**</ept> box.","source":"Type the compiler option in the **Additional Options** box."},{"content":"To set this compiler option programmatically","pos":[3628,3672]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A&gt;.","pos":[3682,3770],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>."},{"content":"See Also","pos":[3779,3787]},{"content":"/Q Options (Low-Level Operations)","pos":[3792,3825]},{"content":"Compiler Options","pos":[3889,3905]},{"content":"Setting Compiler Options","pos":[3955,3979]}],"content":"---\ntitle: \"-QIfist (Suppress _ftol) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/qifist\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"QIfist compiler option [C++]\"\n  - \"-QIfist compiler option [C++]\"\n  - \"/QIfist compiler option [C++]\"\nms.assetid: 1afd32a5-f658-4b66-85f4-e0ce4cb955bd\ncaps.latest.revision: 17\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# /QIfist (Suppress _ftol)\nSuppresses the call of the helper function `_ftol` when a conversion from a floating-point type to an integral type is required.  \n  \n## Syntax  \n  \n```  \n/QIfist  \n```  \n  \n## Remarks  \n  \n> [!NOTE]\n>  **/QIfist** is only available in the compiler targeting x86; this compiler option is not available in the compilers targeting [!INCLUDE[vcprx64](../../assembler/inline/includes/vcprx64_md.md)] orARM.  \n  \n In addition to converting from a floating-point type to integral type, the `_ftol` function ensures the rounding mode of the floating-point unit (FPU) is toward zero (truncate), by setting bits 10 and 11 of the control word. This guarantees that converting from a floating-point type to an integral type occurs as described by the ANSI C standard (the fractional portion of the number is discarded). When using **/QIfist**, this guarantee no longer applies. The rounding mode will be one of four as documented in Intel reference manuals:  \n  \n-   Round toward nearest (even number if equidistant)  \n  \n-   Round toward negative infinity  \n  \n-   Round toward positive infinity  \n  \n-   Round toward zero  \n  \n You can use the [_control87, _controlfp, \\__control87_2](../../c-runtime-library/reference/control87-controlfp-control87-2.md) C Run-Time function to modify the rounding behavior of the FPU. The default rounding mode of the FPU is \"Round toward nearest.\" Using **/QIfist** can improve the performance of your application, but not without risk. You should thoroughly test the portions of your code that are sensitive to rounding modes before relying upon code built with **/QIfist** in production environments.  \n  \n [/arch (x86)](../../build/reference/arch-x86.md) and **/QIfist** can not be used on the same compiland.  \n  \n> [!NOTE]\n>  **/QIfist** is not in effect by default because the rounding bits also affect floating point to floating point rounding (which occurs after every calculation), so when you set the flags for C-style (toward zero) rounding, your floating point calculations might be different. **/QIfist** should not be used if your code depends upon the expected behavior of truncating the fractional portion of the floating-point number. If you are unsure, do not use **/QIfist**.  \n  \n **/QIfist** is deprecated. The compiler has made significant improvements in float to int conversion speed. For more information, see [Deprecated Compiler Options in Visual C++ 2005](http://msdn.microsoft.com/en-us/aa59fce3-50b8-4f66-9aeb-ce09a7a84cce).  \n  \n### To set this compiler option in the Visual Studio development environment  \n  \n1.  Open the project's **Property Pages** dialog box. For details, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  Click the **C/C++** folder.  \n  \n3.  Click the **Command Line** property page.  \n  \n4.  Type the compiler option in the **Additional Options** box.  \n  \n### To set this compiler option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  \n  \n## See Also  \n [/Q Options (Low-Level Operations)](../../build/reference/q-options-low-level-operations.md)   \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)"}