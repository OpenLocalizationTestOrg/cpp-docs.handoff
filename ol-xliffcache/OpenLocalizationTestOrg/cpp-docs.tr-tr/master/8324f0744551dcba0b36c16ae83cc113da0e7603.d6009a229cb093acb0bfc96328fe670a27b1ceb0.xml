{"nodes":[{"pos":[12,43],"content":"Macros and C++ | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Macros and C++ | Microsoft Docs","pos":[0,31]}]},{"content":"Macros and C++","pos":[584,598]},{"content":"C++ offers new capabilities, some of which supplant those offered by the ANSI C preprocessor.","pos":[599,692]},{"content":"These new capabilities enhance the type safety and predictability of the language:","pos":[693,775]},{"content":"In C++, objects declared as <bpt id=\"p1\">**</bpt>const<ept id=\"p1\">**</ept> can be used in constant expressions.","pos":[785,859],"source":"In C++, objects declared as **const** can be used in constant expressions."},{"content":"This allows programs to declare constants that have type and value information, and enumerations that can be viewed symbolically with the debugger.","pos":[860,1007]},{"content":"Using the preprocessor <ph id=\"ph1\">`#define`</ph> directive to define constants is not as precise.","pos":[1008,1089],"source":" Using the preprocessor `#define` directive to define constants is not as precise."},{"content":"No storage is allocated for a <bpt id=\"p1\">**</bpt>const<ept id=\"p1\">**</ept> object unless an expression that takes its address is found in the program.","pos":[1090,1205],"source":" No storage is allocated for a **const** object unless an expression that takes its address is found in the program."},{"content":"The C++ inline function capability supplants function-type macros.","pos":[1215,1281]},{"content":"The advantages of using inline functions over macros are:","pos":[1282,1339]},{"content":"Type safety.","pos":[1353,1365]},{"content":"Inline functions are subject to the same type checking as normal functions.","pos":[1366,1441]},{"content":"Macros are not type safe.","pos":[1442,1467]},{"content":"Correct handling of arguments that have side effects.","pos":[1481,1534]},{"content":"Inline functions evaluate the expressions supplied as arguments prior to entering the function body.","pos":[1535,1635]},{"content":"Therefore, there is no chance that an expression with side effects will be unsafe.","pos":[1636,1718]},{"pos":[1725,1838],"content":"For more information on inline functions, see <bpt id=\"p1\">[</bpt>inline, __inline, <ph id=\"ph1\">\\_</ph>_forceinline<ept id=\"p1\">](../cpp/inline-functions-cpp.md)</ept>.","source":"For more information on inline functions, see [inline, __inline, \\__forceinline](../cpp/inline-functions-cpp.md)."},{"content":"For backward compatibility, all preprocessor facilities that existed in ANSI C and in earlier C++ specifications are preserved for Microsoft C++.","pos":[1845,1990]},{"content":"See Also","pos":[1999,2007]},{"content":"Predefined Macros","pos":[2012,2029]},{"content":"Macros (C/C++)","pos":[2074,2088]}],"content":"---\ntitle: \"Macros and C++ | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"macros, C++\"\n  - \"macros\"\nms.assetid: 83a344c1-73c9-4ace-8b93-cccfb62c6133\ncaps.latest.revision: 7\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Macros and C++\nC++ offers new capabilities, some of which supplant those offered by the ANSI C preprocessor. These new capabilities enhance the type safety and predictability of the language:  \n  \n-   In C++, objects declared as **const** can be used in constant expressions. This allows programs to declare constants that have type and value information, and enumerations that can be viewed symbolically with the debugger. Using the preprocessor `#define` directive to define constants is not as precise. No storage is allocated for a **const** object unless an expression that takes its address is found in the program.  \n  \n-   The C++ inline function capability supplants function-type macros. The advantages of using inline functions over macros are:  \n  \n    -   Type safety. Inline functions are subject to the same type checking as normal functions. Macros are not type safe.  \n  \n    -   Correct handling of arguments that have side effects. Inline functions evaluate the expressions supplied as arguments prior to entering the function body. Therefore, there is no chance that an expression with side effects will be unsafe.  \n  \n For more information on inline functions, see [inline, __inline, \\__forceinline](../cpp/inline-functions-cpp.md).  \n  \n For backward compatibility, all preprocessor facilities that existed in ANSI C and in earlier C++ specifications are preserved for Microsoft C++.  \n  \n## See Also  \n [Predefined Macros](../preprocessor/predefined-macros.md)   \n [Macros (C/C++)](../preprocessor/macros-c-cpp.md)"}