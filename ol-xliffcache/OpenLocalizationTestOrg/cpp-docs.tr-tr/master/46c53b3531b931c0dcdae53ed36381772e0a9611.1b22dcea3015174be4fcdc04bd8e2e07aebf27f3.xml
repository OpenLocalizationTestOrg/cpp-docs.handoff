{"nodes":[{"pos":[12,38],"content":"_TRUNCATE | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_TRUNCATE | Microsoft Docs","pos":[0,26]}]},{"content":"_TRUNCATE","pos":[642,651]},{"content":"Specifies string truncation behavior.","pos":[652,689]},{"content":"Syntax","pos":[698,704]},{"content":"Remarks","pos":[750,757]},{"pos":[773,857],"content":"enables truncation behavior when passed as the <ph id=\"ph1\">`count`</ph> parameter to these functions:","source":" enables truncation behavior when passed as the `count` parameter to these functions:"},{"content":"strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l","pos":[865,939]},{"content":"strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l","pos":[1049,1123]},{"content":"mbstowcs_s, _mbstowcs_s_l","pos":[1233,1258]},{"content":"mbsrtowcs_s","pos":[1326,1337]},{"content":"wcstombs_s, _wcstombs_s_l","pos":[1393,1418]},{"content":"wcsrtombs_s","pos":[1486,1497]},{"content":"_snprintf_s, _snprintf_s_l, _snwprintf_s, _snwprintf_s_l","pos":[1553,1609]},{"content":"vsnprintf_s, _vsnprintf_s, _vsnprintf_s_l, _vsnwprintf_s, _vsnwprintf_s_l","pos":[1703,1776]},{"content":"If the destination buffer is too small to hold the entire string, the normal behavior of these functions is to treat it as an error situation (see <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../c-runtime-library/parameter-validation.md)</ept>).","pos":[1885,2102],"source":"If the destination buffer is too small to hold the entire string, the normal behavior of these functions is to treat it as an error situation (see [Parameter Validation](../c-runtime-library/parameter-validation.md))."},{"content":"However, if string truncation is enabled by passing <ph id=\"ph1\">`_TRUNCATE`</ph>, these functions will copy only as much of the string as will fit, leaving the destination buffer null-terminated, and return successfully.","pos":[2103,2306],"source":" However, if string truncation is enabled by passing `_TRUNCATE`, these functions will copy only as much of the string as will fit, leaving the destination buffer null-terminated, and return successfully."},{"content":"String truncation changes the return values of the affected functions.","pos":[2313,2383]},{"content":"The following functions return 0 if no truncation occurs, or <ph id=\"ph1\">`STRUNCATE`</ph> if truncation does occur:","pos":[2384,2482],"source":" The following functions return 0 if no truncation occurs, or `STRUNCATE` if truncation does occur:"},{"content":"strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l","pos":[2490,2564]},{"content":"strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l","pos":[2674,2748]},{"content":"wcstombs_s, _wcstombs_s_l","pos":[2858,2883]},{"content":"mbstowcs_s, _mbstowcs_s_l","pos":[2951,2976]},{"content":"The following functions return the number of characters copied if no truncation occurs, or -1 if truncation does occur (matching the behavior of the original snprintf functions):","pos":[3043,3221]},{"content":"_snprintf_s, _snprintf_s_l, _snwprintf_s, _snwprintf_s_l","pos":[3229,3285]},{"content":"vsnprintf_s, _vsnprintf_s, _vsnprintf_s_l, _vsnwprintf_s, _vsnwprintf_s_l","pos":[3379,3452]},{"content":"Example","pos":[3563,3570]},{"content":"See Also","pos":[3953,3961]},{"content":"Global Constants","pos":[3966,3982]}],"content":"---\ntitle: \"_TRUNCATE | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"_TRUNCATE\"\n  - \"TRUNCATE\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"TRUNCATE constant\"\n  - \"_TRUNCATE constant\"\nms.assetid: ad093dbf-1aa5-4bd2-9268-efc68afd8434\ncaps.latest.revision: 8\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _TRUNCATE\nSpecifies string truncation behavior.  \n  \n## Syntax  \n  \n```  \n#include <stdlib.h>  \n```  \n  \n## Remarks  \n `_TRUNCATE` enables truncation behavior when passed as the `count` parameter to these functions:  \n  \n [strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l](../c-runtime-library/reference/strncpy-s-strncpy-s-l-wcsncpy-s-wcsncpy-s-l-mbsncpy-s-mbsncpy-s-l.md)  \n  \n [strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l](../c-runtime-library/reference/strncat-s-strncat-s-l-wcsncat-s-wcsncat-s-l-mbsncat-s-mbsncat-s-l.md)  \n  \n [mbstowcs_s, _mbstowcs_s_l](../c-runtime-library/reference/mbstowcs-s-mbstowcs-s-l.md)  \n  \n [mbsrtowcs_s](../c-runtime-library/reference/mbsrtowcs-s.md)  \n  \n [wcstombs_s, _wcstombs_s_l](../c-runtime-library/reference/wcstombs-s-wcstombs-s-l.md)  \n  \n [wcsrtombs_s](../c-runtime-library/reference/wcsrtombs-s.md)  \n  \n [_snprintf_s, _snprintf_s_l, _snwprintf_s, _snwprintf_s_l](../c-runtime-library/reference/snprintf-s-snprintf-s-l-snwprintf-s-snwprintf-s-l.md)  \n  \n [vsnprintf_s, _vsnprintf_s, _vsnprintf_s_l, _vsnwprintf_s, _vsnwprintf_s_l](../c-runtime-library/reference/vsnprintf-s-vsnprintf-s-vsnprintf-s-l-vsnwprintf-s-vsnwprintf-s-l.md)  \n  \n If the destination buffer is too small to hold the entire string, the normal behavior of these functions is to treat it as an error situation (see [Parameter Validation](../c-runtime-library/parameter-validation.md)). However, if string truncation is enabled by passing `_TRUNCATE`, these functions will copy only as much of the string as will fit, leaving the destination buffer null-terminated, and return successfully.  \n  \n String truncation changes the return values of the affected functions. The following functions return 0 if no truncation occurs, or `STRUNCATE` if truncation does occur:  \n  \n [strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l](../c-runtime-library/reference/strncpy-s-strncpy-s-l-wcsncpy-s-wcsncpy-s-l-mbsncpy-s-mbsncpy-s-l.md)  \n  \n [strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l](../c-runtime-library/reference/strncat-s-strncat-s-l-wcsncat-s-wcsncat-s-l-mbsncat-s-mbsncat-s-l.md)  \n  \n [wcstombs_s, _wcstombs_s_l](../c-runtime-library/reference/wcstombs-s-wcstombs-s-l.md)  \n  \n [mbstowcs_s, _mbstowcs_s_l](../c-runtime-library/reference/mbstowcs-s-mbstowcs-s-l.md)  \n  \n The following functions return the number of characters copied if no truncation occurs, or -1 if truncation does occur (matching the behavior of the original snprintf functions):  \n  \n [_snprintf_s, _snprintf_s_l, _snwprintf_s, _snwprintf_s_l](../c-runtime-library/reference/snprintf-s-snprintf-s-l-snwprintf-s-snwprintf-s-l.md)  \n  \n [vsnprintf_s, _vsnprintf_s, _vsnprintf_s_l, _vsnwprintf_s, _vsnwprintf_s_l](../c-runtime-library/reference/vsnprintf-s-vsnprintf-s-vsnprintf-s-l-vsnwprintf-s-vsnwprintf-s-l.md)  \n  \n## Example  \n  \n```  \n// crt_truncate.c  \n#include <stdlib.h>  \n#include <errno.h>  \n  \nint main()  \n{  \n   char src[] = \"1234567890\";  \n   char dst[5];  \n   errno_t err = strncpy_s(dst, _countof(dst), src, _TRUNCATE);  \n   if ( err == STRUNCATE )  \n      printf( \"truncation occurred!\\n\" );  \n   printf( \"'%s'\\n\", dst );  \n}  \n```  \n  \n```Output  \ntruncation occurred!  \n'1234'  \n```  \n  \n## See Also  \n [Global Constants](../c-runtime-library/global-constants.md)"}