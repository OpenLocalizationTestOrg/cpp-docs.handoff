{"nodes":[{"pos":[12,62],"content":"Drawing Images from an Image List | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Drawing Images from an Image List | Microsoft Docs","pos":[0,50]}]},{"content":"Drawing Images from an Image List","pos":[721,754]},{"content":"To draw an image, use the <bpt id=\"p1\">[</bpt>CImageList::Draw<ept id=\"p1\">](../mfc/reference/cimagelist-class.md#cimagelist__draw)</ept> member function.","pos":[755,871],"source":"To draw an image, use the [CImageList::Draw](../mfc/reference/cimagelist-class.md#cimagelist__draw) member function."},{"content":"You'll specify a pointer to a device context object, the index of the image to draw, the location in the device context at which to draw the image, and a set of flags to indicate the drawing style.","pos":[872,1069]},{"content":"When you specify the <ph id=\"ph1\">`ILD_TRANSPARENT`</ph> style, <bpt id=\"p1\">**</bpt>Draw<ept id=\"p1\">**</ept> uses a two-step process to draw a masked image.","pos":[1076,1178],"source":"When you specify the `ILD_TRANSPARENT` style, **Draw** uses a two-step process to draw a masked image."},{"content":"First, it performs a logical-AND operation on the bits of the image and the bits of the mask.","pos":[1179,1272]},{"content":"Then it performs a logical-XOR operation on the results of the first operation and the background bits of the destination device context.","pos":[1273,1410]},{"content":"This process creates transparent areas in the resulting image; that is, each white bit in the mask causes the corresponding bit in the resulting image to be transparent.","pos":[1411,1580]},{"content":"Before drawing a masked image on a solid color background, you should use the <bpt id=\"p1\">[</bpt>SetBkColor<ept id=\"p1\">](../mfc/reference/cimagelist-class.md#cimagelist__setbkcolor)</ept> member function to set the background color of the image list to the same color as the destination.","pos":[1587,1838],"source":"Before drawing a masked image on a solid color background, you should use the [SetBkColor](../mfc/reference/cimagelist-class.md#cimagelist__setbkcolor) member function to set the background color of the image list to the same color as the destination."},{"content":"Setting the color eliminates the need to create transparent areas in the image and enables <bpt id=\"p1\">**</bpt>Draw<ept id=\"p1\">**</ept> to simply copy the image to the destination device context, resulting in a significant increase in performance.","pos":[1839,2050],"source":" Setting the color eliminates the need to create transparent areas in the image and enables **Draw** to simply copy the image to the destination device context, resulting in a significant increase in performance."},{"content":"To draw the image, specify the <ph id=\"ph1\">`ILD_NORMAL`</ph> style when you call <bpt id=\"p1\">**</bpt>Draw<ept id=\"p1\">**</ept>.","pos":[2051,2124],"source":" To draw the image, specify the `ILD_NORMAL` style when you call **Draw**."},{"content":"You can set the background color for a masked image list (<bpt id=\"p1\">[</bpt>CImageList<ept id=\"p1\">](../mfc/reference/cimagelist-class.md)</ept>) at any time so that it draws correctly on any solid background.","pos":[2131,2304],"source":"You can set the background color for a masked image list ([CImageList](../mfc/reference/cimagelist-class.md)) at any time so that it draws correctly on any solid background."},{"content":"Setting the background color to <ph id=\"ph1\">`CLR_NONE`</ph> causes images to be drawn transparently by default.","pos":[2305,2399],"source":" Setting the background color to `CLR_NONE` causes images to be drawn transparently by default."},{"content":"To retrieve the background color of an image list, use the <bpt id=\"p1\">[</bpt>GetBkColor<ept id=\"p1\">](../mfc/reference/cimagelist-class.md#cimagelist__getbkcolor)</ept> member function.","pos":[2400,2549],"source":" To retrieve the background color of an image list, use the [GetBkColor](../mfc/reference/cimagelist-class.md#cimagelist__getbkcolor) member function."},{"content":"The <ph id=\"ph1\">`ILD_BLEND25`</ph> and <ph id=\"ph2\">`ILD_BLEND50`</ph> styles dither the image with the system highlight color.","pos":[2556,2648],"source":"The `ILD_BLEND25` and `ILD_BLEND50` styles dither the image with the system highlight color."},{"content":"These styles are useful if you use a masked image to represent an object that the user can select.","pos":[2649,2747]},{"content":"For example, you can use the <ph id=\"ph1\">`ILD_BLEND50`</ph> style to draw the image when the user selects it.","pos":[2748,2840],"source":" For example, you can use the `ILD_BLEND50` style to draw the image when the user selects it."},{"content":"A nonmasked image is copied to the destination device context using the <bpt id=\"p1\">**</bpt>SRCCOPY<ept id=\"p1\">**</ept> raster operation.","pos":[2847,2948],"source":"A nonmasked image is copied to the destination device context using the **SRCCOPY** raster operation."},{"content":"The colors in the image appear the same regardless of the background color of the device context.","pos":[2949,3046]},{"content":"The drawing styles specified in <bpt id=\"p1\">**</bpt>Draw<ept id=\"p1\">**</ept> also have no effect on the appearance of a nonmasked image.","pos":[3047,3147],"source":" The drawing styles specified in **Draw** also have no effect on the appearance of a nonmasked image."},{"content":"In addition to the Draw member function, another function, <bpt id=\"p1\">[</bpt>DrawIndirect<ept id=\"p1\">](../mfc/reference/cimagelist-class.md#cimagelist__drawindirect)</ept>, extends the ability to render an image.","pos":[3154,3331],"source":"In addition to the Draw member function, another function, [DrawIndirect](../mfc/reference/cimagelist-class.md#cimagelist__drawindirect), extends the ability to render an image."},{"content":"takes, as a parameter, an <bpt id=\"p1\">[</bpt>IMAGELISTDRAWPARAMS<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/bb761395)</ept> structure.","pos":[3347,3465],"source":" takes, as a parameter, an [IMAGELISTDRAWPARAMS](http://msdn.microsoft.com/library/windows/desktop/bb761395) structure."},{"content":"This structure can be used to customize the rendering of the current image, including the use of raster operation (ROP) codes.","pos":[3466,3592]},{"content":"For more information on ROP codes, see <bpt id=\"p1\">[</bpt>Raster Operation Codes<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd162892)</ept> and <bpt id=\"p2\">[</bpt>Bitmaps as Brushes<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/dd183378)</ept> in the <ph id=\"ph1\">[!INCLUDE[winSDK](../atl/includes/winsdk_md.md)]</ph>.","pos":[3593,3858],"source":" For more information on ROP codes, see [Raster Operation Codes](http://msdn.microsoft.com/library/windows/desktop/dd162892) and [Bitmaps as Brushes](http://msdn.microsoft.com/library/windows/desktop/dd183378) in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)]."},{"content":"See Also","pos":[3867,3875]},{"content":"Using CImageList","pos":[3880,3896]},{"content":"Controls","pos":[3931,3939]}],"content":"---\ntitle: \"Drawing Images from an Image List | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CImageList class, drawing images from\"\n  - \"drawing, images from image lists\"\n  - \"image lists [C++], drawing images from\"\n  - \"images [C++], drawing\"\nms.assetid: 2f6063fb-1c28-45f8-a333-008c064db11c\ncaps.latest.revision: 11\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Drawing Images from an Image List\nTo draw an image, use the [CImageList::Draw](../mfc/reference/cimagelist-class.md#cimagelist__draw) member function. You'll specify a pointer to a device context object, the index of the image to draw, the location in the device context at which to draw the image, and a set of flags to indicate the drawing style.  \n  \n When you specify the `ILD_TRANSPARENT` style, **Draw** uses a two-step process to draw a masked image. First, it performs a logical-AND operation on the bits of the image and the bits of the mask. Then it performs a logical-XOR operation on the results of the first operation and the background bits of the destination device context. This process creates transparent areas in the resulting image; that is, each white bit in the mask causes the corresponding bit in the resulting image to be transparent.  \n  \n Before drawing a masked image on a solid color background, you should use the [SetBkColor](../mfc/reference/cimagelist-class.md#cimagelist__setbkcolor) member function to set the background color of the image list to the same color as the destination. Setting the color eliminates the need to create transparent areas in the image and enables **Draw** to simply copy the image to the destination device context, resulting in a significant increase in performance. To draw the image, specify the `ILD_NORMAL` style when you call **Draw**.  \n  \n You can set the background color for a masked image list ([CImageList](../mfc/reference/cimagelist-class.md)) at any time so that it draws correctly on any solid background. Setting the background color to `CLR_NONE` causes images to be drawn transparently by default. To retrieve the background color of an image list, use the [GetBkColor](../mfc/reference/cimagelist-class.md#cimagelist__getbkcolor) member function.  \n  \n The `ILD_BLEND25` and `ILD_BLEND50` styles dither the image with the system highlight color. These styles are useful if you use a masked image to represent an object that the user can select. For example, you can use the `ILD_BLEND50` style to draw the image when the user selects it.  \n  \n A nonmasked image is copied to the destination device context using the **SRCCOPY** raster operation. The colors in the image appear the same regardless of the background color of the device context. The drawing styles specified in **Draw** also have no effect on the appearance of a nonmasked image.  \n  \n In addition to the Draw member function, another function, [DrawIndirect](../mfc/reference/cimagelist-class.md#cimagelist__drawindirect), extends the ability to render an image. `DrawIndirect` takes, as a parameter, an [IMAGELISTDRAWPARAMS](http://msdn.microsoft.com/library/windows/desktop/bb761395) structure. This structure can be used to customize the rendering of the current image, including the use of raster operation (ROP) codes. For more information on ROP codes, see [Raster Operation Codes](http://msdn.microsoft.com/library/windows/desktop/dd162892) and [Bitmaps as Brushes](http://msdn.microsoft.com/library/windows/desktop/dd183378) in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)].  \n  \n## See Also  \n [Using CImageList](../mfc/using-cimagelist.md)   \n [Controls](../mfc/controls-mfc.md)\n\n"}