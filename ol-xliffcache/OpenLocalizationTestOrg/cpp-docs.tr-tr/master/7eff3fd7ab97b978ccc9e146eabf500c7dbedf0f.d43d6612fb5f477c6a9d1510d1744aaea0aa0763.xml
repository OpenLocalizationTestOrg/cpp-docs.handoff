{"nodes":[{"pos":[12,61],"content":"Compiler Warning (level 1) C4835 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Warning (level 1) C4835 | Microsoft Docs","pos":[0,49]}]},{"content":"Compiler Warning (level 1) C4835","pos":[610,642]},{"content":"'variable' : the initializer for exported data will not be run until managed code is first executed in the host assembly","pos":[643,763]},{"content":"When accessing data between managed components, it is recommended that you not use native C++ import and export mechanisms.","pos":[770,893]},{"content":"Instead, declare your data members inside a managed type and reference the metadata with <ph id=\"ph1\">`#using`</ph> in the client.","pos":[894,1006],"source":" Instead, declare your data members inside a managed type and reference the metadata with `#using` in the client."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>#using Directive<ept id=\"p1\">](../../preprocessor/hash-using-directive-cpp.md)</ept>.","pos":[1007,1100],"source":" For more information, see [#using Directive](../../preprocessor/hash-using-directive-cpp.md)."},{"content":"Example","pos":[1109,1116]},{"content":"The following sample generates C4835.","pos":[1120,1157]},{"content":"Example","pos":[1364,1371]},{"content":"The following sample consumes the component built in the previous sample, showing that the value of the variables is not as expected.","pos":[1375,1508]}],"content":"---\ntitle: \"Compiler Warning (level 1) C4835 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"C4835\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C4835\"\nms.assetid: d2e44c62-7b0e-4a45-943d-97903e27ed9d\ncaps.latest.revision: 11\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Compiler Warning (level 1) C4835\n'variable' : the initializer for exported data will not be run until managed code is first executed in the host assembly  \n  \n When accessing data between managed components, it is recommended that you not use native C++ import and export mechanisms. Instead, declare your data members inside a managed type and reference the metadata with `#using` in the client. For more information, see [#using Directive](../../preprocessor/hash-using-directive-cpp.md).  \n  \n## Example  \n The following sample generates C4835.  \n  \n```  \n// C4835.cpp  \n// compile with: /W1 /clr /LD  \nint f() { return 1; }  \nint n = 9;  \n  \n__declspec(dllexport) int m = f();   // C4835  \n__declspec(dllexport) int *p = &n;   // C4835  \n```  \n  \n## Example  \n The following sample consumes the component built in the previous sample, showing that the value of the variables is not as expected.  \n  \n```  \n// C4835_b.cpp  \n// compile with: /clr C4835.lib  \n#include <stdio.h>  \n__declspec(dllimport) int m;  \n__declspec(dllimport) int *p;  \n  \nint main() {  \n   printf(\"%d\\n\", m);  \n   printf(\"%d\\n\", p);  \n}  \n```  \n  \n```Output  \n0  \n268456008  \n```"}