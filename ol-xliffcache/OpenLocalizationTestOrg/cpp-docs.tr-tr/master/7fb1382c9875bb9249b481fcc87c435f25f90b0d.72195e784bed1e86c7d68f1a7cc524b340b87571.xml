{"nodes":[{"pos":[12,36],"content":"fgetpos | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"fgetpos | Microsoft Docs","pos":[0,24]}]},{"pos":[944,951],"content":"fgetpos","linkify":"fgetpos","nodes":[{"content":"fgetpos","pos":[0,7]}]},{"content":"Gets a stream's file-position indicator.","pos":[952,992]},{"pos":[1001,1007],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1091,1101],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Target stream.","pos":[1117,1131]},{"content":"Position-indicator storage.","pos":[1147,1174]},{"pos":[1183,1195],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"If successful, <ph id=\"ph1\">`fgetpos`</ph> returns 0.","pos":[1199,1234],"source":"If successful, `fgetpos` returns 0."},{"content":"On failure, it returns a nonzero value and sets <ph id=\"ph1\">`errno`</ph> to one of the following manifest constants (defined in STDIO.H): <ph id=\"ph2\">`EBADF`</ph>, which means the specified stream is not a valid file pointer or is not accessible, or <ph id=\"ph3\">`EINVAL`</ph>, which means the <ph id=\"ph4\">`stream`</ph> value or the value of <ph id=\"ph5\">`pos`</ph> is invalid, such as if either is a null pointer.","pos":[1235,1562],"source":" On failure, it returns a nonzero value and sets `errno` to one of the following manifest constants (defined in STDIO.H): `EBADF`, which means the specified stream is not a valid file pointer or is not accessible, or `EINVAL`, which means the `stream` value or the value of `pos` is invalid, such as if either is a null pointer."},{"content":"If <ph id=\"ph1\">`stream`</ph> or <ph id=\"ph2\">`pos`</ph> is a <ph id=\"ph3\">`NULL`</ph> pointer, the function invokes the invalid parameter handler, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[1563,1745],"source":" If `stream` or `pos` is a `NULL` pointer, the function invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"pos":[1754,1761],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`fgetpos`</ph> function gets the current value of the <ph id=\"ph2\">`stream`</ph> argument's file-position indicator and stores it in the object pointed to by <ph id=\"ph3\">`pos`</ph>.","pos":[1765,1910],"source":"The `fgetpos` function gets the current value of the `stream` argument's file-position indicator and stores it in the object pointed to by `pos`."},{"content":"The <ph id=\"ph1\">`fsetpos`</ph> function can later use information stored in <ph id=\"ph2\">`pos`</ph> to reset the <ph id=\"ph3\">`stream`</ph> argument's pointer to its position at the time <ph id=\"ph4\">`fgetpos`</ph> was called.","pos":[1911,2066],"source":" The `fsetpos` function can later use information stored in `pos` to reset the `stream` argument's pointer to its position at the time `fgetpos` was called."},{"content":"The <ph id=\"ph1\">`pos`</ph> value is stored in an internal format and is intended for use only by <ph id=\"ph2\">`fgetpos`</ph> and <ph id=\"ph3\">`fsetpos`</ph>.","pos":[2067,2171],"source":" The `pos` value is stored in an internal format and is intended for use only by `fgetpos` and `fsetpos`."},{"pos":[2180,2192],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Function","pos":[2199,2207]},{"content":"Required header","pos":[2208,2223]},{"content":"<ph id=\"ph1\">\\&lt;</ph>stdio.h&gt;","pos":[2279,2289],"source":"\\<stdio.h>"},{"pos":[2297,2421],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"pos":[2430,2437],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3394,3416],"content":"Input: crt_fgetpos.txt","linkify":"Input: crt_fgetpos.txt","nodes":[{"content":"Input: crt_fgetpos.txt","pos":[0,22]}]},{"pos":[3492,3514],"content":"Output crt_fgetpos.txt","linkify":"Output crt_fgetpos.txt","nodes":[{"content":"Output crt_fgetpos.txt","pos":[0,22]}]},{"pos":[3600,3625],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"pos":[3629,3740],"content":"<bpt id=\"p1\">[</bpt>System::IO::FileStream::Position<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/system.io.filestream.position.aspx)</ept>","source":"[System::IO::FileStream::Position](https://msdn.microsoft.com/en-us/library/system.io.filestream.position.aspx)"},{"pos":[3749,3757],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Stream I/O<ept id=\"p1\">](../../c-runtime-library/stream-i-o.md)</ept><ph id=\"ph1\"> </ph>","pos":[3761,3813],"source":"[Stream I/O](../../c-runtime-library/stream-i-o.md) "},{"content":"<bpt id=\"p1\"> [</bpt>fsetpos<ept id=\"p1\">](../../c-runtime-library/reference/fsetpos.md)</ept>","pos":[3816,3872],"source":" [fsetpos](../../c-runtime-library/reference/fsetpos.md)"}],"content":"---\ntitle: \"fgetpos | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"fgetpos\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-stdio-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"fgetpos\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"fgetpos function\"\n  - \"streams, file position indicator\"\nms.assetid: bfa05c38-1135-418c-bda1-d41be51acb62\ncaps.latest.revision: 14\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# fgetpos\nGets a stream's file-position indicator.  \n  \n## Syntax  \n  \n```  \nint fgetpos(   \n   FILE *stream,  \n   fpos_t *pos   \n);  \n```  \n  \n#### Parameters  \n `stream`  \n Target stream.  \n  \n `pos`  \n Position-indicator storage.  \n  \n## Return Value  \n If successful, `fgetpos` returns 0. On failure, it returns a nonzero value and sets `errno` to one of the following manifest constants (defined in STDIO.H): `EBADF`, which means the specified stream is not a valid file pointer or is not accessible, or `EINVAL`, which means the `stream` value or the value of `pos` is invalid, such as if either is a null pointer. If `stream` or `pos` is a `NULL` pointer, the function invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md).  \n  \n## Remarks  \n The `fgetpos` function gets the current value of the `stream` argument's file-position indicator and stores it in the object pointed to by `pos`. The `fsetpos` function can later use information stored in `pos` to reset the `stream` argument's pointer to its position at the time `fgetpos` was called. The `pos` value is stored in an internal format and is intended for use only by `fgetpos` and `fsetpos`.  \n  \n## Requirements  \n  \n|Function|Required header|  \n|--------------|---------------------|  \n|`fgetpos`|\\<stdio.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Example  \n  \n```  \n// crt_fgetpos.c  \n// This program uses fgetpos and fsetpos to  \n// return to a location in a file.  \n  \n#include <stdio.h>  \n  \nint main( void )  \n{  \n   FILE   *stream;  \n   fpos_t pos;  \n   char   buffer[20];  \n  \n   if( fopen_s( &stream, \"crt_fgetpos.txt\", \"rb\" ) ) {  \n      perror( \"Trouble opening file\" );  \n      return -1;  \n   }  \n  \n   // Read some data and then save the position.   \n   fread( buffer, sizeof( char ), 8, stream );  \n   if( fgetpos( stream, &pos ) != 0 ) {  \n      perror( \"fgetpos error\" );  \n      return -1;  \n   }  \n  \n   fread( buffer, sizeof( char ), 13, stream );  \n   printf( \"after fgetpos: %.13s\\n\", buffer );  \n  \n   // Restore to old position and read data   \n   if( fsetpos( stream, &pos ) != 0 ) {  \n      perror( \"fsetpos error\" );  \n      return -1;  \n   }  \n  \n   fread( buffer, sizeof( char ), 13, stream );  \n   printf( \"after fsetpos: %.13s\\n\", buffer );  \n   fclose( stream );  \n}  \n```  \n  \n## Input: crt_fgetpos.txt  \n  \n```  \nfgetpos gets a stream's file-position indicator.  \n```  \n  \n### Output crt_fgetpos.txt  \n  \n```  \nafter fgetpos: gets a stream  \nafter fsetpos: gets a stream  \n```  \n  \n## .NET Framework Equivalent  \n [System::IO::FileStream::Position](https://msdn.microsoft.com/en-us/library/system.io.filestream.position.aspx)  \n  \n## See Also  \n [Stream I/O](../../c-runtime-library/stream-i-o.md)   \n [fsetpos](../../c-runtime-library/reference/fsetpos.md)"}