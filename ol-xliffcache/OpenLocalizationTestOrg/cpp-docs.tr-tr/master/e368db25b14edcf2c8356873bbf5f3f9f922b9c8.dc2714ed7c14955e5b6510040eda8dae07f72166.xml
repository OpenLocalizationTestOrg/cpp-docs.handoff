{"nodes":[{"pos":[12,55],"content":"_ftime, _ftime32, _ftime64 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_ftime, _ftime32, _ftime64 | Microsoft Docs","pos":[0,43]}]},{"pos":[1208,1234],"content":"_ftime, _ftime32, _ftime64","linkify":"_ftime, _ftime32, _ftime64","nodes":[{"content":"_ftime, _ftime32, _ftime64","pos":[0,26]}]},{"content":"Get the current time.","pos":[1235,1256]},{"content":"More secure versions of these functions are available; see <bpt id=\"p1\">[</bpt>_ftime_s, _ftime32_s, _ftime64_s<ept id=\"p1\">](../../c-runtime-library/reference/ftime-s-ftime32-s-ftime64-s.md)</ept>.","pos":[1257,1417],"source":" More secure versions of these functions are available; see [_ftime_s, _ftime32_s, _ftime64_s](../../c-runtime-library/reference/ftime-s-ftime32-s-ftime64-s.md)."},{"pos":[1426,1432],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1618,1628],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Pointer to a <ph id=\"ph1\">`_timeb`</ph>,<ph id=\"ph2\">`__timeb32`</ph> or <ph id=\"ph3\">`__timeb64`</ph> structure.","pos":[1645,1704],"source":" Pointer to a `_timeb`,`__timeb32` or `__timeb64` structure."},{"pos":[1713,1720],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`_ftime`</ph> function gets the current local time and stores it in the structure pointed to by <ph id=\"ph2\">`timeptr`</ph><bpt id=\"p1\">*</bpt>.<ept id=\"p1\">*</ept>","pos":[1724,1831],"source":"The `_ftime` function gets the current local time and stores it in the structure pointed to by `timeptr`*.*"},{"content":"The <ph id=\"ph1\">`_timeb`</ph>, <ph id=\"ph2\">`__timeb32`</ph>,and<ph id=\"ph3\">`__timeb64`</ph> structures are defined in SYS\\Timeb.h.","pos":[1832,1911],"source":" The `_timeb`, `__timeb32`,and`__timeb64` structures are defined in SYS\\Timeb.h."},{"content":"They contain four fields, which are listed in the following table.","pos":[1912,1978]},{"content":"Nonzero if daylight savings time is currently in effect for the local time zone.","pos":[1998,2078]},{"content":"(See <bpt id=\"p1\">[</bpt>_tzset<ept id=\"p1\">](../../c-runtime-library/reference/tzset.md)</ept> for an explanation of how daylight savings time is determined.)","pos":[2079,2200],"source":" (See [_tzset](../../c-runtime-library/reference/tzset.md) for an explanation of how daylight savings time is determined.)"},{"content":"Fraction of a second in milliseconds.","pos":[2220,2257]},{"content":"Time in seconds since midnight (00:00:00), January 1, 1970, coordinated universal time (UTC).","pos":[2274,2367]},{"content":"Difference in minutes, moving westward, between UTC and local time.","pos":[2388,2455]},{"content":"The value of <ph id=\"ph1\">`timezone`</ph> is set from the value of the global variable <ph id=\"ph2\">`_timezone`</ph> (see <ph id=\"ph3\">`_tzset`</ph>).","pos":[2456,2552],"source":" The value of `timezone` is set from the value of the global variable `_timezone` (see `_tzset`)."},{"content":"<ph id=\"ph1\">`_ftime64`</ph>, which uses the <ph id=\"ph2\">`__timeb64`</ph> structure, allows file-creation dates to be expressed up through 23:59:59, December 31, 3000, UTC; whereas <ph id=\"ph3\">`_ftime32`</ph> only represents dates through 23:59:59 January 18, 2038, UTC.","pos":[2559,2777],"source":"`_ftime64`, which uses the `__timeb64` structure, allows file-creation dates to be expressed up through 23:59:59, December 31, 3000, UTC; whereas `_ftime32` only represents dates through 23:59:59 January 18, 2038, UTC."},{"content":"Midnight, January 1, 1970, is the lower bound of the date range for all these functions.","pos":[2778,2866]},{"content":"<ph id=\"ph1\">`_ftime`</ph> is equivalent to <ph id=\"ph2\">`_ftime64`</ph> and <ph id=\"ph3\">`_timeb`</ph> contains a 64-bit time.","pos":[2873,2946],"source":"`_ftime` is equivalent to `_ftime64` and `_timeb` contains a 64-bit time."},{"content":"This is true unless <ph id=\"ph1\">`_USE_32BIT_TIME_T`</ph> is defined, in which case the old behavior is in effect; <ph id=\"ph2\">`_ftime`</ph> uses a 32-bit time and <ph id=\"ph3\">`_timeb`</ph> contains a 32-bit time.","pos":[2947,3108],"source":" This is true unless `_USE_32BIT_TIME_T` is defined, in which case the old behavior is in effect; `_ftime` uses a 32-bit time and `_timeb` contains a 32-bit time."},{"content":"<ph id=\"ph1\">`_ftime`</ph> validates its parameters.","pos":[3115,3149],"source":"`_ftime` validates its parameters."},{"content":"If passed a null pointer as <ph id=\"ph1\">`timeptr`</ph>, the function invokes the invalid parameter handler, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[3150,3329],"source":" If passed a null pointer as `timeptr`, the function invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, the function sets <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`EINVAL`</ph>.","pos":[3330,3405],"source":" If execution is allowed to continue, the function sets `errno` to `EINVAL`."},{"pos":[3414,3426],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Function","pos":[3433,3441]},{"content":"Required header","pos":[3442,3457]},{"content":"<ph id=\"ph1\">\\&lt;</ph>sys/types.h&gt; and <ph id=\"ph2\">\\&lt;</ph>sys/timeb.h&gt;","pos":[3512,3545],"source":"\\<sys/types.h> and \\<sys/timeb.h>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>sys/types.h&gt; and <ph id=\"ph2\">\\&lt;</ph>sys/timeb.h&gt;","pos":[3561,3594],"source":"\\<sys/types.h> and \\<sys/timeb.h>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>sys/types.h&gt; and <ph id=\"ph2\">\\&lt;</ph>sys/timeb.h&gt;","pos":[3610,3643],"source":"\\<sys/types.h> and \\<sys/timeb.h>"},{"pos":[3651,3769],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"pos":[3778,3785],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[5280,5305],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"pos":[5309,5399],"content":"<bpt id=\"p1\">[</bpt>System::DateTime::Now<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/system.datetime.now.aspx)</ept>","source":"[System::DateTime::Now](https://msdn.microsoft.com/en-us/library/system.datetime.now.aspx)"},{"pos":[5408,5416],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Time Management<ept id=\"p1\">](../../c-runtime-library/time-management.md)</ept><ph id=\"ph1\"> </ph>","pos":[5420,5482],"source":"[Time Management](../../c-runtime-library/time-management.md) "},{"content":"<bpt id=\"p1\"> [</bpt>asctime, _wasctime<ept id=\"p1\">](../../c-runtime-library/reference/asctime-wasctime.md)</ept><ph id=\"ph1\"> </ph>","pos":[5485,5562],"source":" [asctime, _wasctime](../../c-runtime-library/reference/asctime-wasctime.md) "},{"content":"<bpt id=\"p1\"> [</bpt>ctime, _ctime32, _ctime64, _wctime, _wctime32, _wctime64<ept id=\"p1\">](../../c-runtime-library/reference/ctime-ctime32-ctime64-wctime-wctime32-wctime64.md)</ept><ph id=\"ph1\"> </ph>","pos":[5565,5710],"source":" [ctime, _ctime32, _ctime64, _wctime, _wctime32, _wctime64](../../c-runtime-library/reference/ctime-ctime32-ctime64-wctime-wctime32-wctime64.md) "},{"content":"<bpt id=\"p1\"> [</bpt>gmtime, _gmtime32, _gmtime64<ept id=\"p1\">](../../c-runtime-library/reference/gmtime-gmtime32-gmtime64.md)</ept><ph id=\"ph1\"> </ph>","pos":[5713,5808],"source":" [gmtime, _gmtime32, _gmtime64](../../c-runtime-library/reference/gmtime-gmtime32-gmtime64.md) "},{"content":"<bpt id=\"p1\"> [</bpt>localtime, _localtime32, _localtime64<ept id=\"p1\">](../../c-runtime-library/reference/localtime-localtime32-localtime64.md)</ept><ph id=\"ph1\"> </ph>","pos":[5811,5924],"source":" [localtime, _localtime32, _localtime64](../../c-runtime-library/reference/localtime-localtime32-localtime64.md) "},{"content":"<bpt id=\"p1\"> [</bpt>time, _time32, _time64<ept id=\"p1\">](../../c-runtime-library/reference/time-time32-time64.md)</ept>","pos":[5927,6009],"source":" [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md)"}],"content":"---\ntitle: \"_ftime, _ftime32, _ftime64 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_ftime64\"\n  - \"_ftime\"\n  - \"_ftime32\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-time-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_ftime32\"\n  - \"_ftime\"\n  - \"_ftime64\"\n  - \"ftime64\"\n  - \"ftime\"\n  - \"ftime32\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"ftime64 function\"\n  - \"_ftime64 function\"\n  - \"current time\"\n  - \"_ftime function\"\n  - \"ftime function\"\n  - \"_ftime32 function\"\n  - \"ftime32 function\"\n  - \"time, getting current\"\nms.assetid: 96bc464c-3bcd-41d5-a212-8bbd836b814a\ncaps.latest.revision: 27\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# _ftime, _ftime32, _ftime64\nGet the current time. More secure versions of these functions are available; see [_ftime_s, _ftime32_s, _ftime64_s](../../c-runtime-library/reference/ftime-s-ftime32-s-ftime64-s.md).  \n  \n## Syntax  \n  \n```  \nvoid _ftime(   \n   struct _timeb *timeptr   \n);  \nvoid _ftime32(   \n   struct __timeb32 *timeptr   \n);  \nvoid _ftime64(   \n   struct __timeb64 *timeptr   \n);  \n```  \n  \n#### Parameters  \n `timeptr`  \n Pointer to a `_timeb`,`__timeb32` or `__timeb64` structure.  \n  \n## Remarks  \n The `_ftime` function gets the current local time and stores it in the structure pointed to by `timeptr`*.* The `_timeb`, `__timeb32`,and`__timeb64` structures are defined in SYS\\Timeb.h. They contain four fields, which are listed in the following table.  \n  \n `dstflag`  \n Nonzero if daylight savings time is currently in effect for the local time zone. (See [_tzset](../../c-runtime-library/reference/tzset.md) for an explanation of how daylight savings time is determined.)  \n  \n `millitm`  \n Fraction of a second in milliseconds.  \n  \n `time`  \n Time in seconds since midnight (00:00:00), January 1, 1970, coordinated universal time (UTC).  \n  \n `timezone`  \n Difference in minutes, moving westward, between UTC and local time. The value of `timezone` is set from the value of the global variable `_timezone` (see `_tzset`).  \n  \n `_ftime64`, which uses the `__timeb64` structure, allows file-creation dates to be expressed up through 23:59:59, December 31, 3000, UTC; whereas `_ftime32` only represents dates through 23:59:59 January 18, 2038, UTC. Midnight, January 1, 1970, is the lower bound of the date range for all these functions.  \n  \n `_ftime` is equivalent to `_ftime64` and `_timeb` contains a 64-bit time. This is true unless `_USE_32BIT_TIME_T` is defined, in which case the old behavior is in effect; `_ftime` uses a 32-bit time and `_timeb` contains a 32-bit time.  \n  \n `_ftime` validates its parameters. If passed a null pointer as `timeptr`, the function invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, the function sets `errno` to `EINVAL`.  \n  \n## Requirements  \n  \n|Function|Required header|  \n|--------------|---------------------|  \n|`_ftime`|\\<sys/types.h> and \\<sys/timeb.h>|  \n|`_ftime32`|\\<sys/types.h> and \\<sys/timeb.h>|  \n|`_ftime64`|\\<sys/types.h> and \\<sys/timeb.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Example  \n  \n```  \n// crt_ftime.c  \n// compile with: /W3  \n// This program uses _ftime to obtain the current  \n// time and then stores this time in timebuffer.  \n  \n#include <stdio.h>  \n#include <sys/timeb.h>  \n#include <time.h>  \n  \nint main( void )  \n{  \n   struct _timeb timebuffer;  \n   char timeline[26];  \n   errno_t err;  \n   time_t time1;  \n   unsigned short millitm1;  \n   short timezone1;  \n   short dstflag1;  \n  \n   _ftime( &timebuffer ); // C4996  \n   // Note: _ftime is deprecated; consider using _ftime_s instead  \n  \n   time1 = timebuffer.time;  \n   millitm1 = timebuffer.millitm;  \n   timezone1 = timebuffer.timezone;  \n   dstflag1 = timebuffer.dstflag;  \n  \n   printf( \"Seconds since midnight, January 1, 1970 (UTC): %I64d\\n\",   \n   time1);  \n   printf( \"Milliseconds: %d\\n\", millitm1);  \n   printf( \"Minutes between UTC and local time: %d\\n\", timezone1);  \n   printf( \"Daylight savings time flag (1 means Daylight time is in \"  \n           \"effect): %d\\n\", dstflag1);   \n  \n   err = ctime_s( timeline, 26, & ( timebuffer.time ) );  \n   if (err)  \n   {  \n       printf(\"Invalid argument to ctime_s. \");  \n   }  \n   printf( \"The time is %.19s.%hu %s\", timeline, timebuffer.millitm,  \n           &timeline[20] );  \n}  \n```  \n  \n```Output  \nSeconds since midnight, January 1, 1970 (UTC): 1051553334  \nMilliseconds: 230  \nMinutes between UTC and local time: 480  \nDaylight savings time flag (1 means Daylight time is in effect): 1  \nThe time is Mon Apr 28 11:08:54.230 2003  \n```  \n  \n## .NET Framework Equivalent  \n [System::DateTime::Now](https://msdn.microsoft.com/en-us/library/system.datetime.now.aspx)  \n  \n## See Also  \n [Time Management](../../c-runtime-library/time-management.md)   \n [asctime, _wasctime](../../c-runtime-library/reference/asctime-wasctime.md)   \n [ctime, _ctime32, _ctime64, _wctime, _wctime32, _wctime64](../../c-runtime-library/reference/ctime-ctime32-ctime64-wctime-wctime32-wctime64.md)   \n [gmtime, _gmtime32, _gmtime64](../../c-runtime-library/reference/gmtime-gmtime32-gmtime64.md)   \n [localtime, _localtime32, _localtime64](../../c-runtime-library/reference/localtime-localtime32-localtime64.md)   \n [time, _time32, _time64](../../c-runtime-library/reference/time-time32-time64.md)"}