{"nodes":[{"pos":[12,49],"content":"Compiler Error C2099 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Error C2099 | Microsoft Docs","pos":[0,37]}]},{"pos":[619,639],"content":"Compiler Error C2099","linkify":"Compiler Error C2099","nodes":[{"content":"Compiler Error C2099","pos":[0,20]}]},{"content":"initializer is not a constant","pos":[640,669]},{"content":"This error is issued only by the C compiler and occurs only for non-automatic variables.","pos":[676,764]},{"content":"The compiler initializes non-automatic variables at the start of the program and the values they are initialized with must be constant.","pos":[766,901]},{"pos":[910,917],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following sample generates C2099.","pos":[921,958]},{"pos":[1056,1063],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[1067,1373],"content":"C2099 can also occur because the compiler is not able to perform constant folding on an expression under <bpt id=\"p1\">**</bpt>/fp:strict<ept id=\"p1\">**</ept> because the floating point precision environment settings (see <bpt id=\"p2\">[</bpt>_controlfp_s<ept id=\"p2\">](../../c-runtime-library/reference/controlfp-s.md)</ept> for more information) may differ from compile to run time.","source":"C2099 can also occur because the compiler is not able to perform constant folding on an expression under **/fp:strict** because the floating point precision environment settings (see [_controlfp_s](../../c-runtime-library/reference/controlfp-s.md) for more information) may differ from compile to run time."},{"content":"When constant folding fails, the compiler invokes dynamic initialization, which is not allowed in C.","pos":[1380,1480]},{"content":"To resolve this error, compile the module as a .cpp file or simplify the expression.","pos":[1487,1571]},{"pos":[1578,1705],"content":"For more information, see <bpt id=\"p1\">[</bpt>/fp (Specify Floating-Point Behavior)<ept id=\"p1\">](../../build/reference/fp-specify-floating-point-behavior.md)</ept>.","source":"For more information, see [/fp (Specify Floating-Point Behavior)](../../build/reference/fp-specify-floating-point-behavior.md)."},{"content":"The following sample generates C2099.","pos":[1712,1749]}],"content":"---\ntitle: \"Compiler Error C2099 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-csharp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"C2099\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C2099\"\nms.assetid: 30e151ee-d458-4901-b0c0-d45054a913f5\ncaps.latest.revision: 11\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# Compiler Error C2099\ninitializer is not a constant  \n  \n This error is issued only by the C compiler and occurs only for non-automatic variables.  The compiler initializes non-automatic variables at the start of the program and the values they are initialized with must be constant.  \n  \n## Example  \n The following sample generates C2099.  \n  \n```  \n// C2099.c  \nint j;  \nint *p;  \nj = *p;   // C2099 *p is not a constant  \n```  \n  \n## Example  \n C2099 can also occur because the compiler is not able to perform constant folding on an expression under **/fp:strict** because the floating point precision environment settings (see [_controlfp_s](../../c-runtime-library/reference/controlfp-s.md) for more information) may differ from compile to run time.  \n  \n When constant folding fails, the compiler invokes dynamic initialization, which is not allowed in C.  \n  \n To resolve this error, compile the module as a .cpp file or simplify the expression.  \n  \n For more information, see [/fp (Specify Floating-Point Behavior)](../../build/reference/fp-specify-floating-point-behavior.md).  \n  \n The following sample generates C2099.  \n  \n```  \n// C2099_2.c  \n// compile with: /fp:strict /c  \nfloat X = 2.0 - 1.0;   // C2099  \nfloat X2 = 1.0;   // OK  \n```"}