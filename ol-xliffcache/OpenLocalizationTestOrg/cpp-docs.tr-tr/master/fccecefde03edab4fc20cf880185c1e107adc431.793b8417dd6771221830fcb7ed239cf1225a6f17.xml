{"nodes":[{"pos":[12,50],"content":"2.9 Directive Nesting | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"2.9 Directive Nesting | Microsoft Docs","pos":[0,38]}]},{"content":"2.9 Directive Nesting","pos":[530,551]},{"content":"Dynamic nesting of directives must adhere to the following rules:","pos":[552,617]},{"pos":[627,809],"content":"A <bpt id=\"p1\">**</bpt>parallel<ept id=\"p1\">**</ept> directive dynamically inside another <bpt id=\"p2\">**</bpt>parallel<ept id=\"p2\">**</ept> logically establishes a new team, which is composed of only the current thread, unless nested parallelism is enabled.","source":"A **parallel** directive dynamically inside another **parallel** logically establishes a new team, which is composed of only the current thread, unless nested parallelism is enabled."},{"pos":[819,950],"content":"<bpt id=\"p1\">**</bpt>for<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>sections<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>single<ept id=\"p3\">**</ept> directives that bind to the same <bpt id=\"p4\">**</bpt>parallel<ept id=\"p4\">**</ept> are not allowed to be nested inside each other.","source":"**for**, **sections**, and **single** directives that bind to the same **parallel** are not allowed to be nested inside each other."},{"content":"<bpt id=\"p1\">**</bpt>critical<ept id=\"p1\">**</ept> directives with the same name are not allowed to be nested inside each other.","pos":[960,1050],"source":"**critical** directives with the same name are not allowed to be nested inside each other."},{"content":"Note this restriction is not sufficient to prevent deadlock.","pos":[1051,1111]},{"pos":[1121,1326],"content":"<bpt id=\"p1\">**</bpt>for<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>sections<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>single<ept id=\"p3\">**</ept> directives are not permitted in the dynamic extent of <bpt id=\"p4\">**</bpt>critical<ept id=\"p4\">**</ept>, <bpt id=\"p5\">**</bpt>ordered<ept id=\"p5\">**</ept>, and <bpt id=\"p6\">**</bpt>master<ept id=\"p6\">**</ept> regions if the directives bind to the same <bpt id=\"p7\">**</bpt>parallel<ept id=\"p7\">**</ept> as the regions.","source":"**for**, **sections**, and **single** directives are not permitted in the dynamic extent of **critical**, **ordered**, and **master** regions if the directives bind to the same **parallel** as the regions."},{"pos":[1336,1550],"content":"<bpt id=\"p1\">**</bpt>barrier<ept id=\"p1\">**</ept> directives are not permitted in the dynamic extent of <bpt id=\"p2\">**</bpt>for<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>ordered<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>sections<ept id=\"p4\">**</ept>, <bpt id=\"p5\">**</bpt>single<ept id=\"p5\">**</ept>, <bpt id=\"p6\">**</bpt>master<ept id=\"p6\">**</ept>, and <bpt id=\"p7\">**</bpt>critical<ept id=\"p7\">**</ept> regions if the directives bind to the same <bpt id=\"p8\">**</bpt>parallel<ept id=\"p8\">**</ept> as the regions.","source":"**barrier** directives are not permitted in the dynamic extent of **for**, **ordered**, **sections**, **single**, **master**, and **critical** regions if the directives bind to the same **parallel** as the regions."},{"pos":[1560,1764],"content":"<bpt id=\"p1\">**</bpt>master<ept id=\"p1\">**</ept> directives are not permitted in the dynamic extent of <bpt id=\"p2\">**</bpt>for<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>sections<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>single<ept id=\"p4\">**</ept> directives if the <bpt id=\"p5\">**</bpt>master<ept id=\"p5\">**</ept> directives bind to the same <bpt id=\"p6\">**</bpt>parallel<ept id=\"p6\">**</ept> as the work-sharing directives.","source":"**master** directives are not permitted in the dynamic extent of **for**, **sections**, and **single** directives if the **master** directives bind to the same **parallel** as the work-sharing directives."},{"pos":[1774,1922],"content":"<bpt id=\"p1\">**</bpt>ordered<ept id=\"p1\">**</ept> directives are not allowed in the dynamic extent of <bpt id=\"p2\">**</bpt>critical<ept id=\"p2\">**</ept> regions if the directives bind to the same <bpt id=\"p3\">**</bpt>parallel<ept id=\"p3\">**</ept> as the regions.","source":"**ordered** directives are not allowed in the dynamic extent of **critical** regions if the directives bind to the same **parallel** as the regions."},{"content":"Any directive that is permitted when executed dynamically inside a parallel region is also permitted when executed outside a parallel region.","pos":[1932,2073]},{"content":"When executed dynamically outside a user-specified parallel region, the directive is executed by a team composed of only the master thread.","pos":[2074,2213]}],"content":"---\ntitle: \"2.9 Directive Nesting | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nms.assetid: 6565a43c-fd2d-4366-8322-8d75e1b06600\ncaps.latest.revision: 4\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# 2.9 Directive Nesting\nDynamic nesting of directives must adhere to the following rules:  \n  \n-   A **parallel** directive dynamically inside another **parallel** logically establishes a new team, which is composed of only the current thread, unless nested parallelism is enabled.  \n  \n-   **for**, **sections**, and **single** directives that bind to the same **parallel** are not allowed to be nested inside each other.  \n  \n-   **critical** directives with the same name are not allowed to be nested inside each other. Note this restriction is not sufficient to prevent deadlock.  \n  \n-   **for**, **sections**, and **single** directives are not permitted in the dynamic extent of **critical**, **ordered**, and **master** regions if the directives bind to the same **parallel** as the regions.  \n  \n-   **barrier** directives are not permitted in the dynamic extent of **for**, **ordered**, **sections**, **single**, **master**, and **critical** regions if the directives bind to the same **parallel** as the regions.  \n  \n-   **master** directives are not permitted in the dynamic extent of **for**, **sections**, and **single** directives if the **master** directives bind to the same **parallel** as the work-sharing directives.  \n  \n-   **ordered** directives are not allowed in the dynamic extent of **critical** regions if the directives bind to the same **parallel** as the regions.  \n  \n-   Any directive that is permitted when executed dynamically inside a parallel region is also permitted when executed outside a parallel region. When executed dynamically outside a user-specified parallel region, the directive is executed by a team composed of only the master thread."}