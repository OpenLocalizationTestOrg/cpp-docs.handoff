{"nodes":[{"pos":[12,46],"content":"Fatal Error C1189 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Fatal Error C1189 | Microsoft Docs","pos":[0,34]}]},{"content":"Fatal Error C1189","pos":[595,612]},{"content":"error : user supplied error message","pos":[615,650]},{"content":"C1189 is generated by the <ph id=\"ph1\">`#error`</ph> directive.","pos":[657,702],"source":"C1189 is generated by the `#error` directive."},{"content":"The developer who codes the directive specifies the text of the error message.","pos":[703,781]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>#error Directive (C/C++)<ept id=\"p1\">](../../preprocessor/hash-error-directive-c-cpp.md)</ept>.","pos":[782,885],"source":" For more information, see [#error Directive (C/C++)](../../preprocessor/hash-error-directive-c-cpp.md)."},{"content":"The following sample generates C1189.","pos":[892,929]},{"content":"In the sample, the developer issues a custom error message because the <ph id=\"ph1\">`_WIN32`</ph> identifier is not defined:","pos":[930,1036],"source":" In the sample, the developer issues a custom error message because the `_WIN32` identifier is not defined:"},{"content":"You might also see this error if you build an ATL project by using the <bpt id=\"p1\">**</bpt>/robust<ept id=\"p1\">**</ept> MIDL compiler option.","pos":[1164,1268],"source":"You might also see this error if you build an ATL project by using the **/robust** MIDL compiler option."},{"content":"Use the <bpt id=\"p1\">**</bpt>/robust<ept id=\"p1\">**</ept> switch to build only <ph id=\"ph1\">[!INCLUDE[win2kfamily](../../c-runtime-library/includes/win2kfamily_md.md)]</ph> and later versions of Windows.","pos":[1269,1416],"source":" Use the **/robust** switch to build only [!INCLUDE[win2kfamily](../../c-runtime-library/includes/win2kfamily_md.md)] and later versions of Windows."},{"content":"To correct this error, use one of the following procedures:","pos":[1417,1476]},{"content":"Change this line in the dlldatax.c file:","pos":[1486,1526]},{"content":"to:","pos":[1621,1624]},{"content":"Use the <bpt id=\"p1\">**</bpt>Advanced<ept id=\"p1\">**</ept> property page in the <bpt id=\"p2\">**</bpt>MIDL<ept id=\"p2\">**</ept> property page folder to remove the <bpt id=\"p3\">**</bpt>/robust<ept id=\"p3\">**</ept> switch and then specify the <bpt id=\"p4\">**</bpt>/no_robust<ept id=\"p4\">**</ept> switch.","pos":[1722,1870],"source":"Use the **Advanced** property page in the **MIDL** property page folder to remove the **/robust** switch and then specify the **/no_robust** switch."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>MIDL Property Pages: Advanced<ept id=\"p1\">](../../ide/midl-property-pages-advanced.md)</ept>.","pos":[1871,1972],"source":" For more information, see [MIDL Property Pages: Advanced](../../ide/midl-property-pages-advanced.md)."},{"content":"See Also","pos":[1981,1989]},{"content":"define Directive (C/C++)","pos":[1995,2019]}],"content":"---\ntitle: \"Fatal Error C1189 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"C1189\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C1189\"\nms.assetid: 2e5c8a78-edd4-411c-b619-558a96be148a\ncaps.latest.revision: 13\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Fatal Error C1189\n\\#error : user supplied error message  \n  \n C1189 is generated by the `#error` directive. The developer who codes the directive specifies the text of the error message. For more information, see [#error Directive (C/C++)](../../preprocessor/hash-error-directive-c-cpp.md).  \n  \n The following sample generates C1189. In the sample, the developer issues a custom error message because the `_WIN32` identifier is not defined:  \n  \n```  \n// C1189.cpp  \n#undef _WIN32  \n#if !defined(_WIN32)  \n#error _WIN32 must be defined   // C1189  \n#endif  \n```  \n  \n You might also see this error if you build an ATL project by using the **/robust** MIDL compiler option. Use the **/robust** switch to build only [!INCLUDE[win2kfamily](../../c-runtime-library/includes/win2kfamily_md.md)] and later versions of Windows. To correct this error, use one of the following procedures:  \n  \n-   Change this line in the dlldatax.c file:  \n  \n```  \n#define _WIN32_WINNT 0x0400   // for WinNT 4.0 or Windows 95 with DCOM  \n```  \n  \n to:  \n  \n```  \n#define _WIN32_WINNT 0x0500   // for WinNT 4.0 or Windows 95 with DCOM  \n```  \n  \n-   Use the **Advanced** property page in the **MIDL** property page folder to remove the **/robust** switch and then specify the **/no_robust** switch. For more information, see [MIDL Property Pages: Advanced](../../ide/midl-property-pages-advanced.md).  \n  \n## See Also  \n [#define Directive (C/C++)](../../preprocessor/hash-define-directive-c-cpp.md)"}