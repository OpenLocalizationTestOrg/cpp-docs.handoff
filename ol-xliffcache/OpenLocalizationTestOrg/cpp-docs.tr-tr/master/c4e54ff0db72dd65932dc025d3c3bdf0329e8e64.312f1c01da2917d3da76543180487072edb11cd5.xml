{"nodes":[{"pos":[12,46],"content":"Lightweight Tasks | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Lightweight Tasks | Microsoft Docs","pos":[0,34]}]},{"content":"Lightweight Tasks","pos":[572,589]},{"content":"This document describes the role of lightweight tasks in the Concurrency Runtime.","pos":[590,671]},{"content":"A <bpt id=\"p1\">*</bpt>lightweight task<ept id=\"p1\">*</ept> is a task that you schedule directly from a <ph id=\"ph1\">`concurrency::Scheduler`</ph> or <ph id=\"ph2\">`concurrency::ScheduleGroup`</ph> object.","pos":[672,801],"source":" A *lightweight task* is a task that you schedule directly from a `concurrency::Scheduler` or `concurrency::ScheduleGroup` object."},{"content":"A lightweight task resembles the function that you provide to the Windows API <bpt id=\"p1\">[</bpt>CreateThread<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms682453)</ept> function.","pos":[802,964],"source":" A lightweight task resembles the function that you provide to the Windows API [CreateThread](http://msdn.microsoft.com/library/windows/desktop/ms682453) function."},{"content":"Therefore, lightweight tasks are useful when you adapt existing code to use the scheduling functionality of the Concurrency Runtime.","pos":[965,1097]},{"content":"The Concurrency Runtime itself uses lightweight tasks to schedule asynchronous agents and send messages between asynchronous message blocks.","pos":[1098,1238]},{"pos":[1246,1725],"content":"[!TIP]\n The Concurrency Runtime provides a default scheduler, and therefore you are not required to create one in your application. Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) or the [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md) if you are new to the Concurrency Runtime.","leadings":["","> "],"nodes":[{"content":" The Concurrency Runtime provides a default scheduler, and therefore you are not required to create one in your application. Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) or the [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md) if you are new to the Concurrency Runtime.","pos":[7,477],"nodes":[{"content":"The Concurrency Runtime provides a default scheduler, and therefore you are not required to create one in your application.","pos":[1,124]},{"content":"Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the <bpt id=\"p1\">[</bpt>Parallel Patterns Library (PPL)<ept id=\"p1\">](../../parallel/concrt/parallel-patterns-library-ppl.md)</ept> or the <bpt id=\"p2\">[</bpt>Asynchronous Agents Library<ept id=\"p2\">](../../parallel/concrt/asynchronous-agents-library.md)</ept> if you are new to the Concurrency Runtime.","pos":[125,470],"source":" Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) or the [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md) if you are new to the Concurrency Runtime."}]}]},{"content":"Lightweight tasks carry less overhead than asynchronous agents and task groups.","pos":[1732,1811]},{"content":"For example, the runtime does not inform you when a lightweight task finishes.","pos":[1812,1890]},{"content":"In addition, the runtime does not catch or handle exceptions that are thrown from a lightweight task.","pos":[1891,1992]},{"content":"For more information about exception handling and lightweight tasks, see <bpt id=\"p1\">[</bpt>Exception Handling<ept id=\"p1\">](../../parallel/concrt/exception-handling-in-the-concurrency-runtime.md)</ept>.","pos":[1993,2159],"source":" For more information about exception handling and lightweight tasks, see [Exception Handling](../../parallel/concrt/exception-handling-in-the-concurrency-runtime.md)."},{"content":"For most tasks, we recommend that you use more robust functionality such as task groups and parallel algorithms because they let you more easily break complex tasks into more basic ones.","pos":[2166,2352]},{"content":"For more information about task groups, see <bpt id=\"p1\">[</bpt>Task Parallelism<ept id=\"p1\">](../../parallel/concrt/task-parallelism-concurrency-runtime.md)</ept>.","pos":[2353,2479],"source":" For more information about task groups, see [Task Parallelism](../../parallel/concrt/task-parallelism-concurrency-runtime.md)."},{"content":"For more information about parallel algorithms, see <bpt id=\"p1\">[</bpt>Parallel Algorithms<ept id=\"p1\">](../../parallel/concrt/parallel-algorithms.md)</ept>.","pos":[2480,2600],"source":" For more information about parallel algorithms, see [Parallel Algorithms](../../parallel/concrt/parallel-algorithms.md)."},{"content":"To create a lightweight task, call the <bpt id=\"p1\">[</bpt>concurrency::ScheduleGroup::ScheduleTask<ept id=\"p1\">](reference/schedulegroup-class.md#scheduletask)</ept>, <bpt id=\"p2\">[</bpt>concurrency::CurrentScheduler::ScheduleTask<ept id=\"p2\">](reference/currentscheduler-class.md#scheduletask)</ept>, or <bpt id=\"p3\">[</bpt>concurrency::Scheduler::ScheduleTask<ept id=\"p3\">](reference/scheduler-class.md#scheduletask)</ept> method.","pos":[2607,2926],"source":"To create a lightweight task, call the [concurrency::ScheduleGroup::ScheduleTask](reference/schedulegroup-class.md#scheduletask), [concurrency::CurrentScheduler::ScheduleTask](reference/currentscheduler-class.md#scheduletask), or [concurrency::Scheduler::ScheduleTask](reference/scheduler-class.md#scheduletask) method."},{"content":"To wait for a lightweight task to finish, wait for the parent scheduler to shut down or use a synchronization mechanism such as a <bpt id=\"p1\">[</bpt>concurrency::event<ept id=\"p1\">](../../parallel/concrt/reference/event-class.md)</ept> object.","pos":[2927,3133],"source":" To wait for a lightweight task to finish, wait for the parent scheduler to shut down or use a synchronization mechanism such as a [concurrency::event](../../parallel/concrt/reference/event-class.md) object."},{"content":"Example","pos":[3142,3149]},{"pos":[3153,3393],"content":"For an example that demonstrates how to adapt existing code to use a lightweight task, see <bpt id=\"p1\">[</bpt>Walkthrough: Adapting Existing Code to Use Lightweight Tasks<ept id=\"p1\">](../../parallel/concrt/walkthrough-adapting-existing-code-to-use-lightweight-tasks.md)</ept>.","source":"For an example that demonstrates how to adapt existing code to use a lightweight task, see [Walkthrough: Adapting Existing Code to Use Lightweight Tasks](../../parallel/concrt/walkthrough-adapting-existing-code-to-use-lightweight-tasks.md)."},{"content":"See Also","pos":[3402,3410]},{"content":"Task Scheduler","pos":[3415,3429]},{"content":"Walkthrough: Adapting Existing Code to Use Lightweight Tasks","pos":[3497,3557]}],"content":"---\ntitle: \"Lightweight Tasks | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"lightweight tasks\"\nms.assetid: b6dcfc7a-9fa9-4144-96a6-2845ea272017\ncaps.latest.revision: 7\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Lightweight Tasks\nThis document describes the role of lightweight tasks in the Concurrency Runtime. A *lightweight task* is a task that you schedule directly from a `concurrency::Scheduler` or `concurrency::ScheduleGroup` object. A lightweight task resembles the function that you provide to the Windows API [CreateThread](http://msdn.microsoft.com/library/windows/desktop/ms682453) function. Therefore, lightweight tasks are useful when you adapt existing code to use the scheduling functionality of the Concurrency Runtime. The Concurrency Runtime itself uses lightweight tasks to schedule asynchronous agents and send messages between asynchronous message blocks.  \n  \n> [!TIP]\n>  The Concurrency Runtime provides a default scheduler, and therefore you are not required to create one in your application. Because the Task Scheduler helps you fine-tune the performance of your applications, we recommend that you start with the [Parallel Patterns Library (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) or the [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md) if you are new to the Concurrency Runtime.  \n  \n Lightweight tasks carry less overhead than asynchronous agents and task groups. For example, the runtime does not inform you when a lightweight task finishes. In addition, the runtime does not catch or handle exceptions that are thrown from a lightweight task. For more information about exception handling and lightweight tasks, see [Exception Handling](../../parallel/concrt/exception-handling-in-the-concurrency-runtime.md).  \n  \n For most tasks, we recommend that you use more robust functionality such as task groups and parallel algorithms because they let you more easily break complex tasks into more basic ones. For more information about task groups, see [Task Parallelism](../../parallel/concrt/task-parallelism-concurrency-runtime.md). For more information about parallel algorithms, see [Parallel Algorithms](../../parallel/concrt/parallel-algorithms.md).  \n  \n To create a lightweight task, call the [concurrency::ScheduleGroup::ScheduleTask](reference/schedulegroup-class.md#scheduletask), [concurrency::CurrentScheduler::ScheduleTask](reference/currentscheduler-class.md#scheduletask), or [concurrency::Scheduler::ScheduleTask](reference/scheduler-class.md#scheduletask) method. To wait for a lightweight task to finish, wait for the parent scheduler to shut down or use a synchronization mechanism such as a [concurrency::event](../../parallel/concrt/reference/event-class.md) object.  \n  \n## Example  \n For an example that demonstrates how to adapt existing code to use a lightweight task, see [Walkthrough: Adapting Existing Code to Use Lightweight Tasks](../../parallel/concrt/walkthrough-adapting-existing-code-to-use-lightweight-tasks.md).  \n  \n## See Also  \n [Task Scheduler](../../parallel/concrt/task-scheduler-concurrency-runtime.md)   \n [Walkthrough: Adapting Existing Code to Use Lightweight Tasks](../../parallel/concrt/walkthrough-adapting-existing-code-to-use-lightweight-tasks.md)\n\n"}