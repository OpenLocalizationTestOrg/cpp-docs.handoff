{"nodes":[{"pos":[12,41],"content":"CW2AEX Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CW2AEX Class | Microsoft Docs","pos":[0,29]}]},{"pos":[696,708],"content":"CW2AEX Class","linkify":"CW2AEX Class","nodes":[{"content":"CW2AEX Class","pos":[0,12]}]},{"pos":[709,831],"content":"This class is used by the string conversion macros <ph id=\"ph1\">`CT2AEX`</ph>, <ph id=\"ph2\">`CW2TEX`</ph>, <ph id=\"ph3\">`CW2CTEX`</ph>, and <ph id=\"ph4\">`CT2CAEX`</ph>, and the typedef <bpt id=\"p1\">**</bpt>CW2A<ept id=\"p1\">**</ept>.","source":"This class is used by the string conversion macros `CT2AEX`, `CW2TEX`, `CW2CTEX`, and `CT2CAEX`, and the typedef **CW2A**."},{"pos":[839,949],"content":"[!IMPORTANT]\n This class and its members cannot be used in applications that execute in the Windows Runtime.","leadings":["","> "],"nodes":[{"content":"This class and its members cannot be used in applications that execute in the Windows Runtime.","pos":[14,108]}]},{"pos":[958,964],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1038,1048],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The size of the buffer used in the translation process.","pos":[1073,1128]},{"content":"The default length is 128 bytes.","pos":[1129,1161]},{"pos":[1170,1177],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[1187,1206],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[1213,1217]},{"content":"Description","pos":[1218,1229]},{"pos":[1267,1300],"content":"<bpt id=\"p1\">[</bpt>CW2AEX::CW2AEX<ept id=\"p1\">](#cw2aex__cw2aex)</ept>","source":"[CW2AEX::CW2AEX](#cw2aex__cw2aex)"},{"content":"The constructor.","pos":[1301,1317]},{"pos":[1322,1361],"content":"<bpt id=\"p1\">[</bpt>CW2AEX::~CW2AEX<ept id=\"p1\">](#cw2aex___dtorcw2aex)</ept>","source":"[CW2AEX::~CW2AEX](#cw2aex___dtorcw2aex)"},{"content":"The destructor.","pos":[1362,1377]},{"pos":[1388,1404],"content":"Public Operators","linkify":"Public Operators","nodes":[{"content":"Public Operators","pos":[0,16]}]},{"content":"Name","pos":[1411,1415]},{"content":"Description","pos":[1416,1427]},{"pos":[1465,1514],"content":"<bpt id=\"p1\">[</bpt>CW2AEX::operator LPSTR<ept id=\"p1\">](#cw2aex__operator_lpstr)</ept>","source":"[CW2AEX::operator LPSTR](#cw2aex__operator_lpstr)"},{"content":"Conversion operator.","pos":[1515,1535]},{"pos":[1546,1565],"content":"Public Data Members","linkify":"Public Data Members","nodes":[{"content":"Public Data Members","pos":[0,19]}]},{"content":"Name","pos":[1572,1576]},{"content":"Description","pos":[1577,1588]},{"pos":[1626,1657],"content":"<bpt id=\"p1\">[</bpt>CW2AEX::m_psz<ept id=\"p1\">](#cw2aex__m_psz)</ept>","source":"[CW2AEX::m_psz](#cw2aex__m_psz)"},{"content":"The data member that stores the source string.","pos":[1658,1704]},{"pos":[1709,1750],"content":"<bpt id=\"p1\">[</bpt>CW2AEX::m_szBuffer<ept id=\"p1\">](#cw2aex__m_szbuffer)</ept>","source":"[CW2AEX::m_szBuffer](#cw2aex__m_szbuffer)"},{"content":"The static buffer, used to store the converted string.","pos":[1751,1805]},{"pos":[1815,1822],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1826,1937],"content":"Unless extra functionality is required, use <ph id=\"ph1\">`CT2AEX`</ph>, <ph id=\"ph2\">`CW2TEX`</ph>, <ph id=\"ph3\">`CW2CTEX`</ph>, <ph id=\"ph4\">`CT2CAEX`</ph>, or <bpt id=\"p1\">**</bpt>CW2A<ept id=\"p1\">**</ept> in your code.","source":"Unless extra functionality is required, use `CT2AEX`, `CW2TEX`, `CW2CTEX`, `CT2CAEX`, or **CW2A** in your code."},{"content":"This class contains a fixed-size static buffer which is used to store the result of the conversion.","pos":[1944,2043]},{"content":"If the result is too large to fit into the static buffer, the class allocates memory using <ph id=\"ph1\">`malloc`</ph>, freeing the memory when the object goes out of scope.","pos":[2044,2198],"source":" If the result is too large to fit into the static buffer, the class allocates memory using `malloc`, freeing the memory when the object goes out of scope."},{"content":"This ensures that, unlike text conversion macros available in previous versions of ATL, this class is safe to use in loops and that it won't overflow the stack.","pos":[2199,2359]},{"pos":[2366,2489],"content":"If the class tries to allocate memory on the heap and fails, it will call <ph id=\"ph1\">`AtlThrow`</ph> with an argument of <bpt id=\"p1\">**</bpt>E_OUTOFMEMORY<ept id=\"p1\">**</ept>.","source":"If the class tries to allocate memory on the heap and fails, it will call `AtlThrow` with an argument of **E_OUTOFMEMORY**."},{"content":"By default, the ATL conversion classes and macros use the current thread's ANSI code page for the conversion.","pos":[2496,2605]},{"content":"If you want to override that behavior for a specific conversion, specify the code page as the second parameter to the constructor for the class.","pos":[2606,2750]},{"content":"The following macros are based on this class:","pos":[2757,2802]},{"content":"The following typedef is based on this class:","pos":[2875,2920]},{"pos":[2928,2936],"content":"<bpt id=\"p1\">**</bpt>CW2A<ept id=\"p1\">**</ept>","source":"**CW2A**"},{"pos":[2943,3108],"content":"For a discussion of these text conversion macros, see <bpt id=\"p1\">[</bpt>ATL and MFC String Conversion Macros<ept id=\"p1\">](http://msdn.microsoft.com/library/8f53659e-0464-4424-97db-6b8453c49863)</ept>.","source":"For a discussion of these text conversion macros, see [ATL and MFC String Conversion Macros](http://msdn.microsoft.com/library/8f53659e-0464-4424-97db-6b8453c49863)."},{"pos":[3117,3124],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3128,3298],"content":"See <bpt id=\"p1\">[</bpt>ATL and MFC String Conversion Macros<ept id=\"p1\">](http://msdn.microsoft.com/library/8f53659e-0464-4424-97db-6b8453c49863)</ept> for an example of using these string conversion macros.","source":"See [ATL and MFC String Conversion Macros](http://msdn.microsoft.com/library/8f53659e-0464-4424-97db-6b8453c49863) for an example of using these string conversion macros."},{"pos":[3307,3319],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3323,3344],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> atlconv.h","source":"**Header:** atlconv.h"},{"pos":[3354,3399],"content":"<bpt id=\"p1\">&lt;a name=\"cw2aex__cw2aex\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CW2AEX::CW2AEX","linkify":"<a name=\"cw2aex__cw2aex\"></a>  CW2AEX::CW2AEX","source":"<a name=\"cw2aex__cw2aex\"></a>  CW2AEX::CW2AEX"},{"content":"The constructor.","pos":[3403,3419]},{"pos":[3528,3538],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The text string to be converted.","pos":[3551,3583]},{"content":"The code page used to perform the conversion.","pos":[3605,3650]},{"content":"See the code page parameter discussion for the <ph id=\"ph1\">[!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]</ph> function <bpt id=\"p1\">[</bpt>MultiByteToWideChar<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd319072)</ept> for more details.","pos":[3651,3858],"source":" See the code page parameter discussion for the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)] function [MultiByteToWideChar](http://msdn.microsoft.com/library/windows/desktop/dd319072) for more details."},{"pos":[3868,3875],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Allocates the buffer used in the translation process.","pos":[3879,3932]},{"pos":[3942,3993],"content":"<bpt id=\"p1\">&lt;a name=\"cw2aex___dtorcw2aex\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CW2AEX::~CW2AEX","linkify":"<a name=\"cw2aex___dtorcw2aex\"></a>  CW2AEX::~CW2AEX","source":"<a name=\"cw2aex___dtorcw2aex\"></a>  CW2AEX::~CW2AEX"},{"content":"The destructor.","pos":[3997,4012]},{"pos":[4054,4061],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Frees the allocated buffer.","pos":[4065,4092]},{"pos":[4102,4145],"content":"<bpt id=\"p1\">&lt;a name=\"cw2aex__m_psz\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CW2AEX::m_psz","linkify":"<a name=\"cw2aex__m_psz\"></a>  CW2AEX::m_psz","source":"<a name=\"cw2aex__m_psz\"></a>  CW2AEX::m_psz"},{"content":"The data member that stores the source string.","pos":[4149,4195]},{"pos":[4231,4284],"content":"<bpt id=\"p1\">&lt;a name=\"cw2aex__m_szbuffer\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CW2AEX::m_szBuffer","linkify":"<a name=\"cw2aex__m_szbuffer\"></a>  CW2AEX::m_szBuffer","source":"<a name=\"cw2aex__m_szbuffer\"></a>  CW2AEX::m_szBuffer"},{"content":"The static buffer, used to store the converted string.","pos":[4288,4342]},{"pos":[4402,4463],"content":"<bpt id=\"p1\">&lt;a name=\"cw2aex__operator_lpstr\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CW2AEX::operator LPSTR","linkify":"<a name=\"cw2aex__operator_lpstr\"></a>  CW2AEX::operator LPSTR","source":"<a name=\"cw2aex__operator_lpstr\"></a>  CW2AEX::operator LPSTR"},{"content":"Conversion operator.","pos":[4467,4487]},{"content":"```operator LPSTR() const throw();","pos":[4493,4527]}],"content":"---\ntitle: \"CW2AEX Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"ATL::CW2AEX<t_nBufferLength>\"\n  - \"CW2AEX\"\n  - \"ATL.CW2AEX<t_nBufferLength>\"\n  - \"ATL::CW2AEX\"\n  - \"ATL.CW2AEX\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CW2AEX class\"\nms.assetid: 44dc2cf5-dd30-440b-a9b9-b21b43f49843\ncaps.latest.revision: 21\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CW2AEX Class\nThis class is used by the string conversion macros `CT2AEX`, `CW2TEX`, `CW2CTEX`, and `CT2CAEX`, and the typedef **CW2A**.  \n  \n> [!IMPORTANT]\n>  This class and its members cannot be used in applications that execute in the Windows Runtime.  \n  \n## Syntax  \n  \n```\ntemplate<int t_nBufferLength = 128>  class CW2AEX\n```  \n  \n#### Parameters  \n `t_nBufferLength`  \n The size of the buffer used in the translation process. The default length is 128 bytes.  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CW2AEX::CW2AEX](#cw2aex__cw2aex)|The constructor.|  \n|[CW2AEX::~CW2AEX](#cw2aex___dtorcw2aex)|The destructor.|  \n  \n### Public Operators  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CW2AEX::operator LPSTR](#cw2aex__operator_lpstr)|Conversion operator.|  \n  \n### Public Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CW2AEX::m_psz](#cw2aex__m_psz)|The data member that stores the source string.|  \n|[CW2AEX::m_szBuffer](#cw2aex__m_szbuffer)|The static buffer, used to store the converted string.|  \n  \n## Remarks  \n Unless extra functionality is required, use `CT2AEX`, `CW2TEX`, `CW2CTEX`, `CT2CAEX`, or **CW2A** in your code.  \n  \n This class contains a fixed-size static buffer which is used to store the result of the conversion. If the result is too large to fit into the static buffer, the class allocates memory using `malloc`, freeing the memory when the object goes out of scope. This ensures that, unlike text conversion macros available in previous versions of ATL, this class is safe to use in loops and that it won't overflow the stack.  \n  \n If the class tries to allocate memory on the heap and fails, it will call `AtlThrow` with an argument of **E_OUTOFMEMORY**.  \n  \n By default, the ATL conversion classes and macros use the current thread's ANSI code page for the conversion. If you want to override that behavior for a specific conversion, specify the code page as the second parameter to the constructor for the class.  \n  \n The following macros are based on this class:  \n  \n- `CT2AEX`  \n  \n- `CW2TEX`  \n  \n- `CW2CTEX`  \n  \n- `CT2CAEX`  \n  \n The following typedef is based on this class:  \n  \n- **CW2A**  \n  \n For a discussion of these text conversion macros, see [ATL and MFC String Conversion Macros](http://msdn.microsoft.com/library/8f53659e-0464-4424-97db-6b8453c49863).  \n  \n## Example  \n See [ATL and MFC String Conversion Macros](http://msdn.microsoft.com/library/8f53659e-0464-4424-97db-6b8453c49863) for an example of using these string conversion macros.  \n  \n## Requirements  \n **Header:** atlconv.h  \n  \n##  <a name=\"cw2aex__cw2aex\"></a>  CW2AEX::CW2AEX  \n The constructor.  \n  \n```\nCW2AEX(LPCWSTR psz,  UINT nCodePage) throw(...);\n\n    CW2AEX(LPCWSTR psz) throw(...);\n```  \n  \n### Parameters  \n `psz`  \n The text string to be converted.  \n  \n `nCodePage`  \n The code page used to perform the conversion. See the code page parameter discussion for the [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)] function [MultiByteToWideChar](http://msdn.microsoft.com/library/windows/desktop/dd319072) for more details.  \n  \n### Remarks  \n Allocates the buffer used in the translation process.  \n  \n##  <a name=\"cw2aex___dtorcw2aex\"></a>  CW2AEX::~CW2AEX  \n The destructor.  \n  \n```\n~CW2AEX() throw();\n```  \n  \n### Remarks  \n Frees the allocated buffer.  \n  \n##  <a name=\"cw2aex__m_psz\"></a>  CW2AEX::m_psz  \n The data member that stores the source string.  \n  \n```\nLPSTR m_psz;\n```  \n  \n##  <a name=\"cw2aex__m_szbuffer\"></a>  CW2AEX::m_szBuffer  \n The static buffer, used to store the converted string.  \n  \n```\nchar m_szBuffer[ t_nBufferLength\n ];\n```  \n  \n##  <a name=\"cw2aex__operator_lpstr\"></a>  CW2AEX::operator LPSTR  \n Conversion operator.  \n  \n```operator LPSTR() const throw();\n```  \n  \n### Return Value  \n Returns the text string as type **LPSTR.**  \n  \n## See Also  \n [CA2AEX Class](../../atl/reference/ca2aex-class.md)   \n [CA2CAEX Class](../../atl/reference/ca2caex-class.md)   \n [CA2WEX Class](../../atl/reference/ca2wex-class.md)   \n [CW2CWEX Class](../../atl/reference/cw2cwex-class.md)   \n [CW2WEX Class](../../atl/reference/cw2wex-class.md)   \n [Class Overview](../../atl/atl-class-overview.md)\n"}