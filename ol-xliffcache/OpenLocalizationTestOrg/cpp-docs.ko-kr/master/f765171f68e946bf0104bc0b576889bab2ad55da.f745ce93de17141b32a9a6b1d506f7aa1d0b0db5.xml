{"nodes":[{"pos":[12,41],"content":"CCmdUI Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CCmdUI Class | Microsoft Docs","pos":[0,29]}]},{"content":"CCmdUI Class","pos":[903,915]},{"pos":[916,1002],"content":"Is used only within an <ph id=\"ph1\">`ON_UPDATE_COMMAND_UI`</ph> handler in a <ph id=\"ph2\">`CCmdTarget`</ph>-derived class.","source":"Is used only within an `ON_UPDATE_COMMAND_UI` handler in a `CCmdTarget`-derived class."},{"content":"Syntax","pos":[1011,1017]},{"content":"Members","pos":[1056,1063]},{"content":"Public Methods","pos":[1073,1087]},{"content":"Name","pos":[1094,1098]},{"content":"Description","pos":[1099,1110]},{"content":"CCmdUI::ContinueRouting","pos":[1149,1172]},{"content":"Tells the command-routing mechanism to continue routing the current message down the chain of handlers.","pos":[1200,1303]},{"content":"CCmdUI::Enable","pos":[1309,1323]},{"content":"Enables or disables the user-interface item for this command.","pos":[1342,1403]},{"content":"CCmdUI::SetCheck","pos":[1409,1425]},{"content":"Sets the check state of the user-interface item for this command.","pos":[1446,1511]},{"content":"CCmdUI::SetRadio","pos":[1517,1533]},{"pos":[1554,1620],"content":"Like the <ph id=\"ph1\">`SetCheck`</ph> member function, but operates on radio groups.","source":"Like the `SetCheck` member function, but operates on radio groups."},{"content":"CCmdUI::SetText","pos":[1626,1641]},{"content":"Sets the text for the user-interface item for this command.","pos":[1661,1720]},{"content":"Public Data Members","pos":[1731,1750]},{"content":"Name","pos":[1757,1761]},{"content":"Description","pos":[1762,1773]},{"content":"CCmdUI::m_nID","pos":[1812,1825]},{"content":"The ID of the user-interface object.","pos":[1843,1879]},{"content":"CCmdUI::m_nIndex","pos":[1885,1901]},{"content":"The index of the user-interface object.","pos":[1922,1961]},{"content":"CCmdUI::m_pMenu","pos":[1967,1982]},{"pos":[2002,2056],"content":"Points to the menu represented by the <ph id=\"ph1\">`CCmdUI`</ph> object.","source":"Points to the menu represented by the `CCmdUI` object."},{"content":"CCmdUI::m_pOther","pos":[2062,2078]},{"content":"Points to the window object that sent the notification.","pos":[2099,2154]},{"content":"CCmdUI::m_pSubMenu","pos":[2160,2178]},{"pos":[2201,2269],"content":"Points to the contained sub-menu represented by the <ph id=\"ph1\">`CCmdUI`</ph> object.","source":"Points to the contained sub-menu represented by the `CCmdUI` object."},{"content":"Remarks","pos":[2279,2286]},{"pos":[2299,2326],"content":"does not have a base class."},{"content":"When a user of your application pulls down a menu, each menu item needs to know whether it should be displayed as enabled or disabled.","pos":[2333,2467]},{"content":"The target of a menu command provides this information by implementing an <ph id=\"ph1\">`ON_UPDATE_COMMAND_UI`</ph> handler.","pos":[2468,2573],"source":" The target of a menu command provides this information by implementing an `ON_UPDATE_COMMAND_UI` handler."},{"content":"For each of the command user-interface objects in your application, use the Properties window to create a message-map entry and function prototype for each handler.","pos":[2574,2738]},{"pos":[2745,2989],"content":"When the menu is pulled down, the framework searches for and calls each <ph id=\"ph1\">`ON_UPDATE_COMMAND_UI`</ph> handler, each handler calls <ph id=\"ph2\">`CCmdUI`</ph> member functions such as <bpt id=\"p1\">**</bpt>Enable<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Check<ept id=\"p2\">**</ept>, and the framework then appropriately displays each menu item.","source":"When the menu is pulled down, the framework searches for and calls each `ON_UPDATE_COMMAND_UI` handler, each handler calls `CCmdUI` member functions such as **Enable** and **Check**, and the framework then appropriately displays each menu item."},{"pos":[2996,3157],"content":"A menu item can be replaced with a control-bar button or other command user-interface object without changing the code within the <ph id=\"ph1\">`ON_UPDATE_COMMAND_UI`</ph> handler.","source":"A menu item can be replaced with a control-bar button or other command user-interface object without changing the code within the `ON_UPDATE_COMMAND_UI` handler."},{"pos":[3164,3279],"content":"The following table summarizes the effect <ph id=\"ph1\">`CCmdUI`</ph>'s member functions have on various command user-interface items.","source":"The following table summarizes the effect `CCmdUI`'s member functions have on various command user-interface items."},{"content":"User-Interface Item","pos":[3286,3305]},{"content":"Enable","pos":[3306,3312]},{"content":"SetCheck","pos":[3313,3321]},{"content":"SetRadio","pos":[3322,3330]},{"content":"SetText","pos":[3331,3338]},{"content":"Menu item","pos":[3431,3440]},{"content":"Enables or disables","pos":[3441,3460]},{"content":"Checks (×) or unchecks","pos":[3461,3483]},{"content":"Checks using dot (•)","pos":[3484,3504]},{"content":"Sets item text","pos":[3505,3519]},{"content":"Toolbar button","pos":[3524,3538]},{"content":"Enables or disables","pos":[3539,3558]},{"content":"Selects, unselects, or indeterminate","pos":[3559,3595]},{"pos":[3596,3603],"content":"Same as"},{"content":"(Not applicable)","pos":[3615,3631]},{"content":"Status-bar pane","pos":[3636,3651]},{"content":"Makes text visible or invisible","pos":[3652,3683]},{"content":"Sets pop-out or normal border","pos":[3684,3713]},{"pos":[3714,3721],"content":"Same as"},{"content":"Sets pane text","pos":[3733,3747]},{"pos":[3752,3768],"content":"Normal button in"},{"content":"Enables or disables","pos":[3782,3801]},{"content":"Checks or unchecks check box","pos":[3802,3830]},{"pos":[3831,3838],"content":"Same as"},{"content":"Sets button text","pos":[3850,3866]},{"pos":[3871,3888],"content":"Normal control in"},{"content":"Enables or disables","pos":[3902,3921]},{"content":"(Not applicable)","pos":[3922,3938]},{"content":"(Not applicable)","pos":[3939,3955]},{"content":"Sets window text","pos":[3956,3972]},{"pos":[3980,4109],"content":"For more on the use of this class, see <bpt id=\"p1\">[</bpt>How to Update User-Interface Objects<ept id=\"p1\">](../../mfc/how-to-update-user-interface-objects.md)</ept>.","source":"For more on the use of this class, see [How to Update User-Interface Objects](../../mfc/how-to-update-user-interface-objects.md)."},{"content":"Inheritance Hierarchy","pos":[4118,4139]},{"content":"Requirements","pos":[4160,4172]},{"pos":[4176,4196],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxwin.h","source":"**Header:** afxwin.h"},{"pos":[4246,4269],"content":"CCmdUI::ContinueRouting"},{"content":"Call this member function to tell the command-routing mechanism to continue routing the current message down the chain of handlers.","pos":[4273,4404]},{"content":"Remarks","pos":[4453,4460]},{"content":"This is an advanced member function that should be used in conjunction with an <ph id=\"ph1\">`ON_COMMAND_EX`</ph> handler that returns <bpt id=\"p1\">**</bpt>FALSE<ept id=\"p1\">**</ept>.","pos":[4464,4590],"source":"This is an advanced member function that should be used in conjunction with an `ON_COMMAND_EX` handler that returns **FALSE**."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Technical Note 6<ept id=\"p1\">](../../mfc/tn006-message-maps.md)</ept>.","pos":[4591,4669],"source":" For more information, see [Technical Note 6](../../mfc/tn006-message-maps.md)."},{"pos":[4710,4724],"content":"CCmdUI::Enable"},{"content":"Call this member function to enable or disable the user-interface item for this command.","pos":[4728,4816]},{"content":"Parameters","pos":[4879,4889]},{"content":"<bpt id=\"p1\"> **</bpt>TRUE<ept id=\"p1\">**</ept> to enable the item, <bpt id=\"p2\">**</bpt>FALSE<ept id=\"p2\">**</ept> to disable it.","pos":[4901,4955],"source":" **TRUE** to enable the item, **FALSE** to disable it."},{"content":"Example","pos":[4965,4972]},{"pos":[4987,5004],"content":"NVC_MFCDocView#46"},{"pos":[5070,5087],"content":"NVC_MFCDocView#47"},{"pos":[5175,5188],"content":"CCmdUI::m_nID"},{"pos":[5192,5299],"content":"The ID of the menu item, toolbar button, or other user-interface object represented by the <ph id=\"ph1\">`CCmdUI`</ph> object.","source":"The ID of the menu item, toolbar button, or other user-interface object represented by the `CCmdUI` object."},{"pos":[5371,5387],"content":"CCmdUI::m_nIndex"},{"pos":[5391,5501],"content":"The index of the menu item, toolbar button, or other user-interface object represented by the <ph id=\"ph1\">`CCmdUI`</ph> object.","source":"The index of the menu item, toolbar button, or other user-interface object represented by the `CCmdUI` object."},{"pos":[5575,5590],"content":"CCmdUI::m_pMenu"},{"pos":[5594,5667],"content":"Pointer (of <ph id=\"ph1\">`CMenu`</ph> type) to the menu represented by the <ph id=\"ph2\">`CCmdUI`</ph> object.","source":"Pointer (of `CMenu` type) to the menu represented by the `CCmdUI` object."},{"content":"Remarks","pos":[5710,5717]},{"pos":[5721,5756],"content":"<bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> if the item is not a menu.","source":"**NULL** if the item is not a menu."},{"pos":[5801,5819],"content":"CCmdUI::m_pSubMenu"},{"pos":[5823,5910],"content":"Pointer (of <ph id=\"ph1\">`CMenu`</ph> type) to the contained sub-menu represented by the <ph id=\"ph2\">`CCmdUI`</ph> object.","source":"Pointer (of `CMenu` type) to the contained sub-menu represented by the `CCmdUI` object."},{"content":"Remarks","pos":[5956,5963]},{"content":"<bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> if the item is not a menu.","pos":[5967,6002],"source":"**NULL** if the item is not a menu."},{"content":"If the sub menu is a pop-up, <ph id=\"ph1\">`m_nID`</ph> contains the ID of the first item in the pop-up menu.","pos":[6003,6093],"source":" If the sub menu is a pop-up, `m_nID` contains the ID of the first item in the pop-up menu."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Technical Note 21<ept id=\"p1\">](../../mfc/tn021-command-and-message-routing.md)</ept>.","pos":[6094,6188],"source":" For more information, see [Technical Note 21](../../mfc/tn021-command-and-message-routing.md)."},{"pos":[6231,6247],"content":"CCmdUI::m_pOther"},{"pos":[6251,6355],"content":"Pointer (of type <ph id=\"ph1\">`CWnd`</ph>) to the window object, such as a tool or status bar, that sent the notification.","source":"Pointer (of type `CWnd`) to the window object, such as a tool or status bar, that sent the notification."},{"content":"Remarks","pos":[6398,6405]},{"pos":[6409,6464],"content":"<bpt id=\"p1\">**</bpt>NULL<ept id=\"p1\">**</ept> if the item is a menu or a non- <ph id=\"ph1\">`CWnd`</ph> object.","source":"**NULL** if the item is a menu or a non- `CWnd` object."},{"pos":[6507,6523],"content":"CCmdUI::SetCheck"},{"content":"Call this member function to set the user-interface item for this command to the appropriate check state.","pos":[6527,6632]},{"content":"Parameters","pos":[6696,6706]},{"content":"Specifies the check state to set.","pos":[6722,6755]},{"content":"If 0, unchecks; if 1, checks; and if 2, sets indeterminate.","pos":[6756,6815]},{"content":"Remarks","pos":[6825,6832]},{"content":"This member function works for menu items and toolbar buttons.","pos":[6836,6898]},{"content":"The indeterminate state applies only to toolbar buttons.","pos":[6899,6955]},{"pos":[6998,7014],"content":"CCmdUI::SetRadio"},{"content":"Call this member function to set the user-interface item for this command to the appropriate check state.","pos":[7018,7123]},{"content":"Parameters","pos":[7188,7198]},{"content":"<bpt id=\"p1\"> **</bpt>TRUE<ept id=\"p1\">**</ept> to enable the item; otherwise <bpt id=\"p2\">**</bpt>FALSE<ept id=\"p2\">**</ept>.","pos":[7210,7260],"source":" **TRUE** to enable the item; otherwise **FALSE**."},{"content":"Remarks","pos":[7270,7277]},{"content":"This member function operates like <ph id=\"ph1\">`SetCheck`</ph>, except that it operates on user-interface items acting as part of a radio group.","pos":[7281,7408],"source":"This member function operates like `SetCheck`, except that it operates on user-interface items acting as part of a radio group."},{"content":"Unchecking the other items in the group is not automatic unless the items themselves maintain the radio-group behavior.","pos":[7409,7528]},{"pos":[7570,7585],"content":"CCmdUI::SetText"},{"content":"Call this member function to set the text of the user-interface item for this command.","pos":[7589,7675]},{"content":"Parameters","pos":[7740,7750]},{"content":"A pointer to a text string.","pos":[7768,7795]},{"content":"Example","pos":[7805,7812]},{"pos":[7827,7844],"content":"NVC_MFCDocView#48"},{"content":"See Also","pos":[7901,7909]},{"content":"MFC Sample MDI","pos":[7914,7928]},{"content":"Hierarchy Chart","pos":[7964,7979]},{"content":"CCmdTarget Class","pos":[8016,8032]}],"content":"---\ntitle: \"CCmdUI Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CCmdUI\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"user interfaces, updating\"\n  - \"states, updating user interface object\"\n  - \"updating user interfaces for commands\"\n  - \"commands [C++], updating UI\"\n  - \"CCmdUI class\"\n  - \"toolbars [C++], updating\"\n  - \"command user interface\"\n  - \"menus [C++], updating as context changes\"\n  - \"buttons [C++], updating as context changes\"\nms.assetid: 04eaaaf5-f510-48ab-b425-94665ba24766\ncaps.latest.revision: 21\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CCmdUI Class\nIs used only within an `ON_UPDATE_COMMAND_UI` handler in a `CCmdTarget`-derived class.  \n  \n## Syntax  \n  \n```  \nclass CCmdUI  \n```  \n  \n## Members  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CCmdUI::ContinueRouting](#ccmdui__continuerouting)|Tells the command-routing mechanism to continue routing the current message down the chain of handlers.|  \n|[CCmdUI::Enable](#ccmdui__enable)|Enables or disables the user-interface item for this command.|  \n|[CCmdUI::SetCheck](#ccmdui__setcheck)|Sets the check state of the user-interface item for this command.|  \n|[CCmdUI::SetRadio](#ccmdui__setradio)|Like the `SetCheck` member function, but operates on radio groups.|  \n|[CCmdUI::SetText](#ccmdui__settext)|Sets the text for the user-interface item for this command.|  \n  \n### Public Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CCmdUI::m_nID](#ccmdui__m_nid)|The ID of the user-interface object.|  \n|[CCmdUI::m_nIndex](#ccmdui__m_nindex)|The index of the user-interface object.|  \n|[CCmdUI::m_pMenu](#ccmdui__m_pmenu)|Points to the menu represented by the `CCmdUI` object.|  \n|[CCmdUI::m_pOther](#ccmdui__m_pother)|Points to the window object that sent the notification.|  \n|[CCmdUI::m_pSubMenu](#ccmdui__m_psubmenu)|Points to the contained sub-menu represented by the `CCmdUI` object.|  \n  \n## Remarks  \n `CCmdUI` does not have a base class.  \n  \n When a user of your application pulls down a menu, each menu item needs to know whether it should be displayed as enabled or disabled. The target of a menu command provides this information by implementing an `ON_UPDATE_COMMAND_UI` handler. For each of the command user-interface objects in your application, use the Properties window to create a message-map entry and function prototype for each handler.  \n  \n When the menu is pulled down, the framework searches for and calls each `ON_UPDATE_COMMAND_UI` handler, each handler calls `CCmdUI` member functions such as **Enable** and **Check**, and the framework then appropriately displays each menu item.  \n  \n A menu item can be replaced with a control-bar button or other command user-interface object without changing the code within the `ON_UPDATE_COMMAND_UI` handler.  \n  \n The following table summarizes the effect `CCmdUI`'s member functions have on various command user-interface items.  \n  \n|User-Interface Item|Enable|SetCheck|SetRadio|SetText|  \n|--------------------------|------------|--------------|--------------|-------------|  \n|Menu item|Enables or disables|Checks (×) or unchecks|Checks using dot (•)|Sets item text|  \n|Toolbar button|Enables or disables|Selects, unselects, or indeterminate|Same as `SetCheck`|(Not applicable)|  \n|Status-bar pane|Makes text visible or invisible|Sets pop-out or normal border|Same as `SetCheck`|Sets pane text|  \n|Normal button in `CDialogBar`|Enables or disables|Checks or unchecks check box|Same as `SetCheck`|Sets button text|  \n|Normal control in `CDialogBar`|Enables or disables|(Not applicable)|(Not applicable)|Sets window text|  \n  \n For more on the use of this class, see [How to Update User-Interface Objects](../../mfc/how-to-update-user-interface-objects.md).  \n  \n## Inheritance Hierarchy  \n `CCmdUI`  \n  \n## Requirements  \n **Header:** afxwin.h  \n  \n##  <a name=\"ccmdui__continuerouting\"></a>  CCmdUI::ContinueRouting  \n Call this member function to tell the command-routing mechanism to continue routing the current message down the chain of handlers.  \n  \n```  \nvoid ContinueRouting();\n```  \n  \n### Remarks  \n This is an advanced member function that should be used in conjunction with an `ON_COMMAND_EX` handler that returns **FALSE**. For more information, see [Technical Note 6](../../mfc/tn006-message-maps.md).  \n  \n##  <a name=\"ccmdui__enable\"></a>  CCmdUI::Enable  \n Call this member function to enable or disable the user-interface item for this command.  \n  \n```  \nvirtual void Enable(BOOL bOn = TRUE);\n```  \n  \n### Parameters  \n `bOn`  \n **TRUE** to enable the item, **FALSE** to disable it.  \n  \n### Example  \n [!code-cpp[NVC_MFCDocView#46](../../mfc/codesnippet/cpp/ccmdui-class_1.cpp)]  \n  \n [!code-cpp[NVC_MFCDocView#47](../../mfc/codesnippet/cpp/ccmdui-class_2.cpp)]  \n  \n##  <a name=\"ccmdui__m_nid\"></a>  CCmdUI::m_nID  \n The ID of the menu item, toolbar button, or other user-interface object represented by the `CCmdUI` object.  \n  \n```  \nUINT m_nID;  \n```  \n  \n##  <a name=\"ccmdui__m_nindex\"></a>  CCmdUI::m_nIndex  \n The index of the menu item, toolbar button, or other user-interface object represented by the `CCmdUI` object.  \n  \n```  \nUINT m_nIndex;  \n```  \n  \n##  <a name=\"ccmdui__m_pmenu\"></a>  CCmdUI::m_pMenu  \n Pointer (of `CMenu` type) to the menu represented by the `CCmdUI` object.  \n  \n```  \nCMenu* m_pMenu;  \n```  \n  \n### Remarks  \n **NULL** if the item is not a menu.  \n  \n##  <a name=\"ccmdui__m_psubmenu\"></a>  CCmdUI::m_pSubMenu  \n Pointer (of `CMenu` type) to the contained sub-menu represented by the `CCmdUI` object.  \n  \n```  \nCMenu* m_pSubMenu;  \n```  \n  \n### Remarks  \n **NULL** if the item is not a menu. If the sub menu is a pop-up, `m_nID` contains the ID of the first item in the pop-up menu. For more information, see [Technical Note 21](../../mfc/tn021-command-and-message-routing.md).  \n  \n##  <a name=\"ccmdui__m_pother\"></a>  CCmdUI::m_pOther  \n Pointer (of type `CWnd`) to the window object, such as a tool or status bar, that sent the notification.  \n  \n```  \nCWnd* m_pOther;  \n```  \n  \n### Remarks  \n **NULL** if the item is a menu or a non- `CWnd` object.  \n  \n##  <a name=\"ccmdui__setcheck\"></a>  CCmdUI::SetCheck  \n Call this member function to set the user-interface item for this command to the appropriate check state.  \n  \n```  \nvirtual void SetCheck(int nCheck = 1);\n```  \n  \n### Parameters  \n `nCheck`  \n Specifies the check state to set. If 0, unchecks; if 1, checks; and if 2, sets indeterminate.  \n  \n### Remarks  \n This member function works for menu items and toolbar buttons. The indeterminate state applies only to toolbar buttons.  \n  \n##  <a name=\"ccmdui__setradio\"></a>  CCmdUI::SetRadio  \n Call this member function to set the user-interface item for this command to the appropriate check state.  \n  \n```  \nvirtual void SetRadio(BOOL bOn = TRUE);\n```  \n  \n### Parameters  \n `bOn`  \n **TRUE** to enable the item; otherwise **FALSE**.  \n  \n### Remarks  \n This member function operates like `SetCheck`, except that it operates on user-interface items acting as part of a radio group. Unchecking the other items in the group is not automatic unless the items themselves maintain the radio-group behavior.  \n  \n##  <a name=\"ccmdui__settext\"></a>  CCmdUI::SetText  \n Call this member function to set the text of the user-interface item for this command.  \n  \n```  \nvirtual void SetText(LPCTSTR lpszText);\n```  \n  \n### Parameters  \n `lpszText`  \n A pointer to a text string.  \n  \n### Example  \n [!code-cpp[NVC_MFCDocView#48](../../mfc/codesnippet/cpp/ccmdui-class_3.cpp)]  \n  \n## See Also  \n [MFC Sample MDI](../../visual-cpp-samples.md)   \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [CCmdTarget Class](../../mfc/reference/ccmdtarget-class.md)\n"}