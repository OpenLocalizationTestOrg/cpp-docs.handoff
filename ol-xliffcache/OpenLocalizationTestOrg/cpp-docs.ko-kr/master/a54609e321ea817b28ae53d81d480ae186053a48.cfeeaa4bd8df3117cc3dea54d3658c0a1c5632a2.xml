{"nodes":[{"pos":[12,52],"content":"CCustomTransition Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CCustomTransition Class | Microsoft Docs","pos":[0,40]}]},{"pos":[672,695],"content":"CCustomTransition Class","linkify":"CCustomTransition Class","nodes":[{"content":"CCustomTransition Class","pos":[0,23]}]},{"content":"Implements a custom transition.","pos":[696,727]},{"pos":[736,742],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[818,825],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"pos":[835,854],"content":"Public Constructors","linkify":"Public Constructors","nodes":[{"content":"Public Constructors","pos":[0,19]}]},{"content":"Name","pos":[861,865]},{"content":"Description","pos":[866,877]},{"pos":[915,992],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition::CCustomTransition<ept id=\"p1\">](#ccustomtransition__ccustomtransition)</ept>","source":"[CCustomTransition::CCustomTransition](#ccustomtransition__ccustomtransition)"},{"content":"Constructs a custom transition object.","pos":[993,1031]},{"pos":[1042,1056],"content":"Public Methods","linkify":"Public Methods","nodes":[{"content":"Public Methods","pos":[0,14]}]},{"content":"Name","pos":[1063,1067]},{"content":"Description","pos":[1068,1079]},{"pos":[1117,1172],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition::Create<ept id=\"p1\">](#ccustomtransition__create)</ept>","source":"[CCustomTransition::Create](#ccustomtransition__create)"},{"content":"Calls the transition library to create encapsulated transition COM object.","pos":[1173,1247]},{"content":"(Overrides <bpt id=\"p1\">[</bpt>CBaseTransition::Create<ept id=\"p1\">](../../mfc/reference/cbasetransition-class.md#cbasetransition__create)</ept>.)","pos":[1248,1356],"source":" (Overrides [CBaseTransition::Create](../../mfc/reference/cbasetransition-class.md#cbasetransition__create).)"},{"pos":[1361,1434],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition::SetInitialValue<ept id=\"p1\">](#ccustomtransition__setinitialvalue)</ept>","source":"[CCustomTransition::SetInitialValue](#ccustomtransition__setinitialvalue)"},{"content":"Sets an initial value, which will be applied to an animation variable associated with this transition.","pos":[1435,1537]},{"pos":[1542,1621],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition::SetInitialVelocity<ept id=\"p1\">](#ccustomtransition__setinitialvelocity)</ept>","source":"[CCustomTransition::SetInitialVelocity](#ccustomtransition__setinitialvelocity)"},{"content":"Sets an initial velocity, which will be applied to an animation variable associated with this transition.","pos":[1622,1727]},{"pos":[1738,1760],"content":"Protected Data Members","linkify":"Protected Data Members","nodes":[{"content":"Protected Data Members","pos":[0,22]}]},{"content":"Name","pos":[1767,1771]},{"content":"Description","pos":[1772,1783]},{"pos":[1821,1912],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition::m_bInitialValueSpecified<ept id=\"p1\">](#ccustomtransition__m_binitialvaluespecified)</ept>","source":"[CCustomTransition::m_bInitialValueSpecified](#ccustomtransition__m_binitialvaluespecified)"},{"content":"Specifies whether the initial value was specified with SetInitialValue.","pos":[1913,1984]},{"pos":[1989,2086],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition::m_bInitialVelocitySpecified<ept id=\"p1\">](#ccustomtransition__m_binitialvelocityspecified)</ept>","source":"[CCustomTransition::m_bInitialVelocitySpecified](#ccustomtransition__m_binitialvelocityspecified)"},{"content":"Specifies whether the initial velocity was specified with SetInitialVelocity.","pos":[2087,2164]},{"pos":[2169,2240],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition::m_initialValue<ept id=\"p1\">](#ccustomtransition__m_initialvalue)</ept>","source":"[CCustomTransition::m_initialValue](#ccustomtransition__m_initialvalue)"},{"content":"Stores the initial value.","pos":[2241,2266]},{"pos":[2271,2348],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition::m_initialVelocity<ept id=\"p1\">](#ccustomtransition__m_initialvelocity)</ept>","source":"[CCustomTransition::m_initialVelocity](#ccustomtransition__m_initialvelocity)"},{"content":"Stores the initial velocity.","pos":[2349,2377]},{"pos":[2382,2455],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition::m_pInterpolator<ept id=\"p1\">](#ccustomtransition__m_pinterpolator)</ept>","source":"[CCustomTransition::m_pInterpolator](#ccustomtransition__m_pinterpolator)"},{"content":"Stores a pointer to a custom interpolator.","pos":[2456,2498]},{"pos":[2508,2515],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The CCustomTransitions class allows developers to implement custom transitions.","pos":[2519,2598]},{"content":"It's created and used as a standard transition, but its constructor accepts as parameter a pointer to a custom interpolator.","pos":[2599,2723]},{"content":"Perform the following steps to use custom transitions: 1.","pos":[2724,2781]},{"content":"Derive a class from CCustomInterpolator and implement at least InterpolateValue method.","pos":[2782,2869]},{"content":"2.","pos":[2870,2872]},{"content":"Ensure that the lifetime of custom interpolator object must be longer than duration of animation where it's used.","pos":[2873,2986]},{"content":"3.","pos":[2987,2989]},{"content":"Instantiate (using operator new) a CCustomTransition object and pass a pointer to custom interpolator in the constructor.","pos":[2990,3111]},{"content":"4.","pos":[3112,3114]},{"content":"Call CCustomTransition::SetInitialValue and CCustomTransition::SetInitialVelocity if these parameters are required for custom interpolation.","pos":[3115,3255]},{"content":"5.","pos":[3256,3258]},{"content":"Pass the pointer to custom transition to AddTransition method of animation object, whose value should be animated with the custom algorithm.","pos":[3259,3399]},{"content":"6.","pos":[3400,3402]},{"content":"When the value of animation object should change Windows Animation API will call InterpolateValue (and other relevant methods) in CCustomInterpolator.","pos":[3403,3553]},{"pos":[3562,3583],"content":"Inheritance Hierarchy","linkify":"Inheritance Hierarchy","nodes":[{"content":"Inheritance Hierarchy","pos":[0,21]}]},{"pos":[3587,3634],"content":"<bpt id=\"p1\">[</bpt>CObject<ept id=\"p1\">](../../mfc/reference/cobject-class.md)</ept>","source":"[CObject](../../mfc/reference/cobject-class.md)"},{"pos":[3641,3704],"content":"<bpt id=\"p1\">[</bpt>CBaseTransition<ept id=\"p1\">](../../mfc/reference/cbasetransition-class.md)</ept>","source":"[CBaseTransition](../../mfc/reference/cbasetransition-class.md)"},{"pos":[3711,3778],"content":"<bpt id=\"p1\">[</bpt>CCustomTransition<ept id=\"p1\">](../../mfc/reference/ccustomtransition-class.md)</ept>","source":"[CCustomTransition](../../mfc/reference/ccustomtransition-class.md)"},{"pos":[3787,3799],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3803,3839],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxanimationcontroller.h","source":"**Header:** afxanimationcontroller.h"},{"pos":[3849,3938],"content":"<bpt id=\"p1\">&lt;a name=\"ccustomtransition__ccustomtransition\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCustomTransition::CCustomTransition","linkify":"<a name=\"ccustomtransition__ccustomtransition\"></a>  CCustomTransition::CCustomTransition","source":"<a name=\"ccustomtransition__ccustomtransition\"></a>  CCustomTransition::CCustomTransition"},{"content":"Constructs a custom transition object.","pos":[3942,3980]},{"pos":[4060,4070],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A pointer to custom interpolator.","pos":[4093,4126]},{"pos":[4136,4203],"content":"<bpt id=\"p1\">&lt;a name=\"ccustomtransition__create\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCustomTransition::Create","linkify":"<a name=\"ccustomtransition__create\"></a>  CCustomTransition::Create","source":"<a name=\"ccustomtransition__create\"></a>  CCustomTransition::Create"},{"content":"Calls the transition library to create encapsulated transition COM object.","pos":[4207,4281]},{"pos":[4414,4424],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"A pointer to transition factory, which is responsible for creation of custom transitions.","pos":[4442,4531]},{"pos":[4541,4553],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"pos":[4563,4570],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"This method also can set initial value and initial velocity to be applied to an animation variable, which is associated with this transition.","pos":[4574,4715]},{"content":"For this purpose you have to call SetInitialValue and SetInitialVelocity before the framework creates the encapsulated transition COM object (it happens when you call CAnimationController::AnimateGroup).","pos":[4716,4919]},{"pos":[4929,5032],"content":"<bpt id=\"p1\">&lt;a name=\"ccustomtransition__m_binitialvaluespecified\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCustomTransition::m_bInitialValueSpecified","linkify":"<a name=\"ccustomtransition__m_binitialvaluespecified\"></a>  CCustomTransition::m_bInitialValueSpecified","source":"<a name=\"ccustomtransition__m_binitialvaluespecified\"></a>  CCustomTransition::m_bInitialValueSpecified"},{"content":"Specifies whether the initial value was specified with SetInitialValue.","pos":[5036,5107]},{"pos":[5165,5274],"content":"<bpt id=\"p1\">&lt;a name=\"ccustomtransition__m_binitialvelocityspecified\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCustomTransition::m_bInitialVelocitySpecified","linkify":"<a name=\"ccustomtransition__m_binitialvelocityspecified\"></a>  CCustomTransition::m_bInitialVelocitySpecified","source":"<a name=\"ccustomtransition__m_binitialvelocityspecified\"></a>  CCustomTransition::m_bInitialVelocitySpecified"},{"content":"Specifies whether the initial velocity was specified with SetInitialVelocity.","pos":[5278,5355]},{"pos":[5416,5499],"content":"<bpt id=\"p1\">&lt;a name=\"ccustomtransition__m_initialvalue\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCustomTransition::m_initialValue","linkify":"<a name=\"ccustomtransition__m_initialvalue\"></a>  CCustomTransition::m_initialValue","source":"<a name=\"ccustomtransition__m_initialvalue\"></a>  CCustomTransition::m_initialValue"},{"content":"Stores the initial value.","pos":[5503,5528]},{"pos":[5578,5667],"content":"<bpt id=\"p1\">&lt;a name=\"ccustomtransition__m_initialvelocity\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCustomTransition::m_initialVelocity","linkify":"<a name=\"ccustomtransition__m_initialvelocity\"></a>  CCustomTransition::m_initialVelocity","source":"<a name=\"ccustomtransition__m_initialvelocity\"></a>  CCustomTransition::m_initialVelocity"},{"content":"Stores the initial velocity.","pos":[5671,5699]},{"pos":[5752,5837],"content":"<bpt id=\"p1\">&lt;a name=\"ccustomtransition__m_pinterpolator\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCustomTransition::m_pInterpolator","linkify":"<a name=\"ccustomtransition__m_pinterpolator\"></a>  CCustomTransition::m_pInterpolator","source":"<a name=\"ccustomtransition__m_pinterpolator\"></a>  CCustomTransition::m_pInterpolator"},{"content":"Stores a pointer to a custom interpolator.","pos":[5841,5883]},{"pos":[5948,6033],"content":"<bpt id=\"p1\">&lt;a name=\"ccustomtransition__setinitialvalue\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCustomTransition::SetInitialValue","linkify":"<a name=\"ccustomtransition__setinitialvalue\"></a>  CCustomTransition::SetInitialValue","source":"<a name=\"ccustomtransition__setinitialvalue\"></a>  CCustomTransition::SetInitialValue"},{"content":"Sets an initial value, which will be applied to an animation variable associated with this transition.","pos":[6037,6139]},{"pos":[6207,6217],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"pos":[6245,6336],"content":"<bpt id=\"p1\">&lt;a name=\"ccustomtransition__setinitialvelocity\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept>  CCustomTransition::SetInitialVelocity","linkify":"<a name=\"ccustomtransition__setinitialvelocity\"></a>  CCustomTransition::SetInitialVelocity","source":"<a name=\"ccustomtransition__setinitialvelocity\"></a>  CCustomTransition::SetInitialVelocity"},{"content":"Sets an initial velocity, which will be applied to an animation variable associated with this transition.","pos":[6340,6445]},{"pos":[6519,6529],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"pos":[6559,6567],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[6571,6616],"content":"<bpt id=\"p1\">[</bpt>Classes<ept id=\"p1\">](../../mfc/reference/mfc-classes.md)</ept>","source":"[Classes](../../mfc/reference/mfc-classes.md)"}],"content":"---\ntitle: \"CCustomTransition Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"afxanimationcontroller/CCustomTransition\"\n  - \"CCustomTransition\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CCustomTransition class\"\nms.assetid: 5bd3f492-940f-4290-a38b-fa68eb8f8401\ncaps.latest.revision: 17\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CCustomTransition Class\nImplements a custom transition.  \n  \n## Syntax  \n  \n```  \nclass CCustomTransition : public CBaseTransition;  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CCustomTransition::CCustomTransition](#ccustomtransition__ccustomtransition)|Constructs a custom transition object.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CCustomTransition::Create](#ccustomtransition__create)|Calls the transition library to create encapsulated transition COM object. (Overrides [CBaseTransition::Create](../../mfc/reference/cbasetransition-class.md#cbasetransition__create).)|  \n|[CCustomTransition::SetInitialValue](#ccustomtransition__setinitialvalue)|Sets an initial value, which will be applied to an animation variable associated with this transition.|  \n|[CCustomTransition::SetInitialVelocity](#ccustomtransition__setinitialvelocity)|Sets an initial velocity, which will be applied to an animation variable associated with this transition.|  \n  \n### Protected Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CCustomTransition::m_bInitialValueSpecified](#ccustomtransition__m_binitialvaluespecified)|Specifies whether the initial value was specified with SetInitialValue.|  \n|[CCustomTransition::m_bInitialVelocitySpecified](#ccustomtransition__m_binitialvelocityspecified)|Specifies whether the initial velocity was specified with SetInitialVelocity.|  \n|[CCustomTransition::m_initialValue](#ccustomtransition__m_initialvalue)|Stores the initial value.|  \n|[CCustomTransition::m_initialVelocity](#ccustomtransition__m_initialvelocity)|Stores the initial velocity.|  \n|[CCustomTransition::m_pInterpolator](#ccustomtransition__m_pinterpolator)|Stores a pointer to a custom interpolator.|  \n  \n## Remarks  \n The CCustomTransitions class allows developers to implement custom transitions. It's created and used as a standard transition, but its constructor accepts as parameter a pointer to a custom interpolator. Perform the following steps to use custom transitions: 1. Derive a class from CCustomInterpolator and implement at least InterpolateValue method. 2. Ensure that the lifetime of custom interpolator object must be longer than duration of animation where it's used. 3. Instantiate (using operator new) a CCustomTransition object and pass a pointer to custom interpolator in the constructor. 4. Call CCustomTransition::SetInitialValue and CCustomTransition::SetInitialVelocity if these parameters are required for custom interpolation. 5. Pass the pointer to custom transition to AddTransition method of animation object, whose value should be animated with the custom algorithm. 6. When the value of animation object should change Windows Animation API will call InterpolateValue (and other relevant methods) in CCustomInterpolator.  \n  \n## Inheritance Hierarchy  \n [CObject](../../mfc/reference/cobject-class.md)  \n  \n [CBaseTransition](../../mfc/reference/cbasetransition-class.md)  \n  \n [CCustomTransition](../../mfc/reference/ccustomtransition-class.md)  \n  \n## Requirements  \n **Header:** afxanimationcontroller.h  \n  \n##  <a name=\"ccustomtransition__ccustomtransition\"></a>  CCustomTransition::CCustomTransition  \n Constructs a custom transition object.  \n  \n```  \nCCustomTransition(CCustomInterpolator* pInterpolator);\n```  \n  \n### Parameters  \n `pInterpolator`  \n A pointer to custom interpolator.  \n  \n##  <a name=\"ccustomtransition__create\"></a>  CCustomTransition::Create  \n Calls the transition library to create encapsulated transition COM object.  \n  \n```  \nvirtual BOOL Create(\n    IUIAnimationTransitionLibrary* */,  \n    IUIAnimationTransitionFactory* pFactory);\n```  \n  \n### Parameters  \n `pFactory`  \n A pointer to transition factory, which is responsible for creation of custom transitions.  \n  \n### Return Value  \n  \n### Remarks  \n This method also can set initial value and initial velocity to be applied to an animation variable, which is associated with this transition. For this purpose you have to call SetInitialValue and SetInitialVelocity before the framework creates the encapsulated transition COM object (it happens when you call CAnimationController::AnimateGroup).  \n  \n##  <a name=\"ccustomtransition__m_binitialvaluespecified\"></a>  CCustomTransition::m_bInitialValueSpecified  \n Specifies whether the initial value was specified with SetInitialValue.  \n  \n```  \nBOOL m_bInitialValueSpecified;  \n```  \n  \n##  <a name=\"ccustomtransition__m_binitialvelocityspecified\"></a>  CCustomTransition::m_bInitialVelocitySpecified  \n Specifies whether the initial velocity was specified with SetInitialVelocity.  \n  \n```  \nBOOL m_bInitialVelocitySpecified;  \n```  \n  \n##  <a name=\"ccustomtransition__m_initialvalue\"></a>  CCustomTransition::m_initialValue  \n Stores the initial value.  \n  \n```  \nDOUBLE m_initialValue;  \n```  \n  \n##  <a name=\"ccustomtransition__m_initialvelocity\"></a>  CCustomTransition::m_initialVelocity  \n Stores the initial velocity.  \n  \n```  \nDOUBLE m_initialVelocity;  \n```  \n  \n##  <a name=\"ccustomtransition__m_pinterpolator\"></a>  CCustomTransition::m_pInterpolator  \n Stores a pointer to a custom interpolator.  \n  \n```  \nCCustomInterpolator* m_pInterpolator;  \n```  \n  \n##  <a name=\"ccustomtransition__setinitialvalue\"></a>  CCustomTransition::SetInitialValue  \n Sets an initial value, which will be applied to an animation variable associated with this transition.  \n  \n```  \nvoid SetInitialValue(DOUBLE initialValue);\n```  \n  \n### Parameters  \n `initialValue`  \n  \n##  <a name=\"ccustomtransition__setinitialvelocity\"></a>  CCustomTransition::SetInitialVelocity  \n Sets an initial velocity, which will be applied to an animation variable associated with this transition.  \n  \n```  \nvoid SetInitialVelocity(DOUBLE initialVelocity);\n```  \n  \n### Parameters  \n `initialVelocity`  \n  \n## See Also  \n [Classes](../../mfc/reference/mfc-classes.md)\n"}