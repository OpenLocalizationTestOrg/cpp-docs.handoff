{"nodes":[{"pos":[12,62],"content":"Makefile Preprocessing Directives | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Makefile Preprocessing Directives | Microsoft Docs","pos":[0,50]}]},{"content":"Makefile Preprocessing Directives","pos":[1457,1490]},{"content":"Preprocessing directives are not case sensitive.","pos":[1491,1539]},{"content":"The initial exclamation point (!) must appear at the beginning of the line.","pos":[1540,1615]},{"content":"Zero or more spaces or tabs can appear after the exclamation point, for indentation.","pos":[1616,1700]},{"content":"!CMDSWITCHES","pos":[1709,1721]},{"content":"{<bpt id=\"p1\">**</bpt><ph id=\"ph1\">+</ph><ept id=\"p1\">**</ept>&amp;#124; <bpt id=\"p2\">**</bpt>–<ept id=\"p2\">**</ept>}<bpt id=\"p3\">*</bpt>option<ept id=\"p3\">*</ept>... Turns each <bpt id=\"p4\">*</bpt>option<ept id=\"p4\">*</ept> listed on or off.","pos":[1727,1795],"source":" {**+**&#124; **–**}*option*... Turns each *option* listed on or off."},{"content":"Spaces or tabs must appear before the + or – operator; none can appear between the operator and the <bpt id=\"p1\">[</bpt>option letters<ept id=\"p1\">](../build/nmake-options.md)</ept>.","pos":[1796,1940],"source":" Spaces or tabs must appear before the + or – operator; none can appear between the operator and the [option letters](../build/nmake-options.md)."},{"content":"Letters are not case sensitive and are specified without a slash ( / ).","pos":[1941,2012]},{"content":"To turn some options on and others off, use separate specifications of <bpt id=\"p1\">**</bpt>!CMDSWITCHES<ept id=\"p1\">**</ept>.","pos":[2013,2101],"source":" To turn some options on and others off, use separate specifications of **!CMDSWITCHES**."},{"content":"Only /D, /I, /N, and /S can be used in a makefile.","pos":[2108,2158]},{"content":"In Tools.ini, all options are allowed except /F, /HELP, /NOLOGO, /X, and /?.","pos":[2159,2235]},{"content":"Changes specified in a description block do not take effect until the next description block.","pos":[2236,2329]},{"content":"This directive updates <bpt id=\"p1\">**</bpt>MAKEFLAGS<ept id=\"p1\">**</ept>; changes are inherited during recursion if <bpt id=\"p2\">**</bpt>MAKEFLAGS<ept id=\"p2\">**</ept> is specified.","pos":[2330,2437],"source":" This directive updates **MAKEFLAGS**; changes are inherited during recursion if **MAKEFLAGS** is specified."},{"content":"<bpt id=\"p1\">**</bpt>!ERROR<ept id=\"p1\">**</ept>  <bpt id=\"p2\">*</bpt>text<ept id=\"p2\">*</ept>","pos":[2444,2462],"source":"**!ERROR**  *text*"},{"content":"Displays <bpt id=\"p1\">*</bpt>text<ept id=\"p1\">*</ept> in error U1050, then halts NMAKE, even if /K, /I, <bpt id=\"p2\">**</bpt>.IGNORE<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>!CMDSWITCHES<ept id=\"p3\">**</ept>, or the dash (–) command modifier is used.","pos":[2466,2604],"source":" Displays *text* in error U1050, then halts NMAKE, even if /K, /I, **.IGNORE**, **!CMDSWITCHES**, or the dash (–) command modifier is used."},{"content":"Spaces or tabs before <bpt id=\"p1\">*</bpt>text<ept id=\"p1\">*</ept> are ignored.","pos":[2605,2646],"source":" Spaces or tabs before *text* are ignored."},{"content":"<bpt id=\"p1\">**</bpt>!MESSAGE<ept id=\"p1\">**</ept>  <bpt id=\"p2\">*</bpt>text<ept id=\"p2\">*</ept>","pos":[2653,2673],"source":"**!MESSAGE**  *text*"},{"content":"Displays <bpt id=\"p1\">*</bpt>text<ept id=\"p1\">*</ept> to standard output.","pos":[2677,2712],"source":" Displays *text* to standard output."},{"content":"Spaces or tabs before <bpt id=\"p1\">*</bpt>text<ept id=\"p1\">*</ept> are ignored.","pos":[2713,2754],"source":" Spaces or tabs before *text* are ignored."},{"content":"<bpt id=\"p1\">**</bpt>!INCLUDE<ept id=\"p1\">**</ept>[ <bpt id=\"p2\">**</bpt><ph id=\"ph1\">\\&lt;</ph><ept id=\"p2\">**</ept>] <bpt id=\"p3\">*</bpt>filename<ept id=\"p3\">*</ept>[ <bpt id=\"p4\">**</bpt><ph id=\"ph2\">&gt;</ph><ept id=\"p4\">**</ept>]","pos":[2761,2801],"source":"**!INCLUDE**[ **\\<**] *filename*[ **>**]"},{"content":"Reads <bpt id=\"p1\">*</bpt>filename<ept id=\"p1\">*</ept> as a makefile, then continues with the current makefile.","pos":[2805,2878],"source":" Reads *filename* as a makefile, then continues with the current makefile."},{"content":"NMAKE searches for <bpt id=\"p1\">*</bpt>filename<ept id=\"p1\">*</ept> first in the specified or current directory, then recursively through directories of any parent makefiles, then, if <bpt id=\"p2\">*</bpt>filename<ept id=\"p2\">*</ept> is enclosed by angle brackets (<ph id=\"ph1\">\\&lt;</ph> &gt;), in directories specified by the <bpt id=\"p3\">**</bpt>INCLUDE<ept id=\"p3\">**</ept> macro, which is initially set to the INCLUDE environment variable.","pos":[2879,3184],"source":" NMAKE searches for *filename* first in the specified or current directory, then recursively through directories of any parent makefiles, then, if *filename* is enclosed by angle brackets (\\< >), in directories specified by the **INCLUDE** macro, which is initially set to the INCLUDE environment variable."},{"content":"Useful to pass <bpt id=\"p1\">**</bpt>.SUFFIXES<ept id=\"p1\">**</ept> settings, <bpt id=\"p2\">**</bpt>.PRECIOUS<ept id=\"p2\">**</ept>, and inference rules to recursive makefiles.","pos":[3185,3282],"source":" Useful to pass **.SUFFIXES** settings, **.PRECIOUS**, and inference rules to recursive makefiles."},{"content":"!IF","pos":[3291,3294]},{"content":"Processes statements between <bpt id=\"p1\">**</bpt>!IF<ept id=\"p1\">**</ept> and the next <bpt id=\"p2\">**</bpt>!ELSE<ept id=\"p2\">**</ept> or <ph id=\"ph1\">`!ENDIF`</ph> if <ph id=\"ph2\">`constantexpression`</ph> evaluates to a nonzero value.","pos":[3322,3447],"source":" Processes statements between **!IF** and the next **!ELSE** or `!ENDIF` if `constantexpression` evaluates to a nonzero value."},{"content":"<bpt id=\"p1\">**</bpt>!IFDEF<ept id=\"p1\">**</ept>  <bpt id=\"p2\">*</bpt>macroname<ept id=\"p2\">*</ept>","pos":[3454,3477],"source":"**!IFDEF**  *macroname*"},{"content":"Processes statements between <ph id=\"ph1\">`!IFDEF`</ph> and the next <bpt id=\"p1\">**</bpt>!ELSE<ept id=\"p1\">**</ept> or <ph id=\"ph2\">`!ENDIF`</ph> if <bpt id=\"p2\">*</bpt>macroname<ept id=\"p2\">*</ept> is defined.","pos":[3481,3580],"source":" Processes statements between `!IFDEF` and the next **!ELSE** or `!ENDIF` if *macroname* is defined."},{"content":"A null macro is considered to be defined.","pos":[3581,3622]},{"content":"<bpt id=\"p1\">**</bpt>!IFNDEF<ept id=\"p1\">**</ept>  <bpt id=\"p2\">*</bpt>macroname<ept id=\"p2\">*</ept>","pos":[3629,3653],"source":"**!IFNDEF**  *macroname*"},{"content":"Processes statements between <bpt id=\"p1\">**</bpt>!IFNDEF<ept id=\"p1\">**</ept> and the next <bpt id=\"p2\">**</bpt>!ELSE<ept id=\"p2\">**</ept> or <ph id=\"ph1\">`!ENDIF`</ph> if <bpt id=\"p3\">*</bpt>macroname<ept id=\"p3\">*</ept> is not defined.","pos":[3657,3763],"source":" Processes statements between **!IFNDEF** and the next **!ELSE** or `!ENDIF` if *macroname* is not defined."},{"content":"<bpt id=\"p1\">**</bpt>!ELSE<ept id=\"p1\">**</ept>[<bpt id=\"p2\">**</bpt>IF<ept id=\"p2\">**</ept> <bpt id=\"p3\">*</bpt>constantexpression<ept id=\"p3\">*</ept> &amp;#124; <bpt id=\"p4\">**</bpt>IFDEF<ept id=\"p4\">**</ept> <bpt id=\"p5\">*</bpt>macroname<ept id=\"p5\">*</ept>&amp;#124; <bpt id=\"p6\">**</bpt>IFNDEF<ept id=\"p6\">**</ept> <bpt id=\"p7\">*</bpt>macroname<ept id=\"p7\">*</ept>]","pos":[3770,3866],"source":"**!ELSE**[**IF** *constantexpression* &#124; **IFDEF** *macroname*&#124; **IFNDEF** *macroname*]"},{"content":"Processes statements between <bpt id=\"p1\">**</bpt>!ELSE<ept id=\"p1\">**</ept> and the next <ph id=\"ph1\">`!ENDIF`</ph> if the prior <bpt id=\"p2\">**</bpt>!IF<ept id=\"p2\">**</ept>, <ph id=\"ph2\">`!IFDEF`</ph>, or <bpt id=\"p3\">**</bpt>!IFNDEF<ept id=\"p3\">**</ept> statement evaluated to zero.","pos":[3870,4006],"source":" Processes statements between **!ELSE** and the next `!ENDIF` if the prior **!IF**, `!IFDEF`, or **!IFNDEF** statement evaluated to zero."},{"content":"The optional keywords give further control of preprocessing.","pos":[4007,4067]},{"content":"!ELSEIF","pos":[4076,4083]},{"content":"Synonym for <bpt id=\"p1\">**</bpt>!ELSE IF<ept id=\"p1\">**</ept>.","pos":[4089,4114],"source":" Synonym for **!ELSE IF**."},{"content":"!ELSEIFDEF","pos":[4123,4133]},{"content":"Synonym for <bpt id=\"p1\">**</bpt>!ELSE IFDEF<ept id=\"p1\">**</ept>.","pos":[4139,4167],"source":" Synonym for **!ELSE IFDEF**."},{"content":"!ELSEIFNDEF","pos":[4176,4187]},{"content":"Synonym for <bpt id=\"p1\">**</bpt>!ELSE IFNDEF<ept id=\"p1\">**</ept>.","pos":[4193,4222],"source":" Synonym for **!ELSE IFNDEF**."},{"content":"Marks the end of an <bpt id=\"p1\">**</bpt>!IF<ept id=\"p1\">**</ept>, <ph id=\"ph1\">`!IFDEF`</ph>, or <bpt id=\"p2\">**</bpt>!IFNDEF<ept id=\"p2\">**</ept> block.","pos":[4241,4301],"source":" Marks the end of an **!IF**, `!IFDEF`, or **!IFNDEF** block."},{"content":"Any text after <ph id=\"ph1\">`!ENDIF`</ph> on the same line is ignored.","pos":[4302,4354],"source":" Any text after `!ENDIF` on the same line is ignored."},{"content":"<bpt id=\"p1\">**</bpt>!UNDEF<ept id=\"p1\">**</ept>  <bpt id=\"p2\">*</bpt>macroname<ept id=\"p2\">*</ept>","pos":[4361,4384],"source":"**!UNDEF**  *macroname*"},{"content":"Undefines <bpt id=\"p1\">*</bpt>macroname<ept id=\"p1\">*</ept>.","pos":[4388,4410],"source":" Undefines *macroname*."},{"content":"See Also","pos":[4419,4427]},{"content":"Makefile Preprocessing","pos":[4432,4454]}],"content":"---\ntitle: \"Makefile Preprocessing Directives | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"!UNDEF\"\n  - \"!INCLUDE\"\n  - \"!IFNDEF\"\n  - \"!MESSAGE\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"ERROR directive\"\n  - \"!MESSAGE directive\"\n  - \"IF directive\"\n  - \"!UNDEF directive\"\n  - \"IFDEF directive\"\n  - \"!ELSEIF directive\"\n  - \"!IFDEF directive\"\n  - \"!IF directive\"\n  - \"UNDEF directive\"\n  - \"!CMDSWITCHES directive\"\n  - \"ENDIF directive\"\n  - \"directives, makefile preprocessing\"\n  - \"INCLUDE directive\"\n  - \"IFNDEF directive\"\n  - \"preprocessing directives, makefiles\"\n  - \"!IFNDEF directive\"\n  - \"ELSEIFNDEF directive\"\n  - \"NMAKE program, expressions\"\n  - \"ELSEIF directive\"\n  - \"!ERROR directive\"\n  - \"!ENDIF directive\"\n  - \"MESSAGE directive\"\n  - \"!INCLUDE directive\"\n  - \"!ELSEIFNDEF directive\"\n  - \"CMDSWITCHES directive\"\n  - \"!ELSEIFDEF directive\"\n  - \"!ELSE directive\"\n  - \"NMAKE program, preprocessor directives\"\n  - \"makefiles, preprocessing directives\"\n  - \"ELSE directive\"\n  - \"ELSEIFDEF directive\"\nms.assetid: bcedeccb-d981-469d-b9e8-ab5d097fd8c2\ncaps.latest.revision: 8\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Makefile Preprocessing Directives\nPreprocessing directives are not case sensitive. The initial exclamation point (!) must appear at the beginning of the line. Zero or more spaces or tabs can appear after the exclamation point, for indentation.  \n  \n **!CMDSWITCHES**  \n {**+**&#124; **–**}*option*... Turns each *option* listed on or off. Spaces or tabs must appear before the + or – operator; none can appear between the operator and the [option letters](../build/nmake-options.md). Letters are not case sensitive and are specified without a slash ( / ). To turn some options on and others off, use separate specifications of **!CMDSWITCHES**.  \n  \n Only /D, /I, /N, and /S can be used in a makefile. In Tools.ini, all options are allowed except /F, /HELP, /NOLOGO, /X, and /?. Changes specified in a description block do not take effect until the next description block. This directive updates **MAKEFLAGS**; changes are inherited during recursion if **MAKEFLAGS** is specified.  \n  \n **!ERROR**  *text*  \n Displays *text* in error U1050, then halts NMAKE, even if /K, /I, **.IGNORE**, **!CMDSWITCHES**, or the dash (–) command modifier is used. Spaces or tabs before *text* are ignored.  \n  \n **!MESSAGE**  *text*  \n Displays *text* to standard output. Spaces or tabs before *text* are ignored.  \n  \n **!INCLUDE**[ **\\<**] *filename*[ **>**]  \n Reads *filename* as a makefile, then continues with the current makefile. NMAKE searches for *filename* first in the specified or current directory, then recursively through directories of any parent makefiles, then, if *filename* is enclosed by angle brackets (\\< >), in directories specified by the **INCLUDE** macro, which is initially set to the INCLUDE environment variable. Useful to pass **.SUFFIXES** settings, **.PRECIOUS**, and inference rules to recursive makefiles.  \n  \n **!IF**  `constantexpression`  \n Processes statements between **!IF** and the next **!ELSE** or `!ENDIF` if `constantexpression` evaluates to a nonzero value.  \n  \n **!IFDEF**  *macroname*  \n Processes statements between `!IFDEF` and the next **!ELSE** or `!ENDIF` if *macroname* is defined. A null macro is considered to be defined.  \n  \n **!IFNDEF**  *macroname*  \n Processes statements between **!IFNDEF** and the next **!ELSE** or `!ENDIF` if *macroname* is not defined.  \n  \n **!ELSE**[**IF** *constantexpression* &#124; **IFDEF** *macroname*&#124; **IFNDEF** *macroname*]  \n Processes statements between **!ELSE** and the next `!ENDIF` if the prior **!IF**, `!IFDEF`, or **!IFNDEF** statement evaluated to zero. The optional keywords give further control of preprocessing.  \n  \n **!ELSEIF**  \n Synonym for **!ELSE IF**.  \n  \n **!ELSEIFDEF**  \n Synonym for **!ELSE IFDEF**.  \n  \n **!ELSEIFNDEF**  \n Synonym for **!ELSE IFNDEF**.  \n  \n `!ENDIF`  \n Marks the end of an **!IF**, `!IFDEF`, or **!IFNDEF** block. Any text after `!ENDIF` on the same line is ignored.  \n  \n **!UNDEF**  *macroname*  \n Undefines *macroname*.  \n  \n## See Also  \n [Makefile Preprocessing](../build/makefile-preprocessing.md)"}