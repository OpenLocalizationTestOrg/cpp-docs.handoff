{"nodes":[{"pos":[12,34],"content":"fread | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"fread | Microsoft Docs","pos":[0,22]}]},{"content":"fread","pos":[1025,1030]},{"content":"Reads data from a stream.","pos":[1031,1056]},{"content":"Syntax","pos":[1065,1071]},{"content":"Parameters","pos":[1194,1204]},{"content":"Storage location for data.","pos":[1220,1246]},{"content":"Item size in bytes.","pos":[1263,1282]},{"content":"Maximum number of items to be read.","pos":[1300,1335]},{"content":"Pointer to <ph id=\"ph1\">`FILE`</ph> structure.","pos":[1354,1382],"source":" Pointer to `FILE` structure."},{"content":"Return Value","pos":[1391,1403]},{"content":"returns the number of full items actually read, which may be less than <ph id=\"ph1\">`count`</ph> if an error occurs or if the end of the file is encountered before reaching <ph id=\"ph2\">`count`</ph><bpt id=\"p1\">*</bpt>.<ept id=\"p1\">*</ept>","pos":[1415,1580],"source":" returns the number of full items actually read, which may be less than `count` if an error occurs or if the end of the file is encountered before reaching `count`*.*"},{"content":"Use the <ph id=\"ph1\">`feof`</ph> or <ph id=\"ph2\">`ferror`</ph> function to distinguish a read error from an end-of-file condition.","pos":[1581,1675],"source":" Use the `feof` or `ferror` function to distinguish a read error from an end-of-file condition."},{"content":"If <ph id=\"ph1\">`size`</ph> or <ph id=\"ph2\">`count`</ph> is 0, <ph id=\"ph3\">`fread`</ph> returns 0 and the buffer contents are unchanged.","pos":[1676,1759],"source":" If `size` or `count` is 0, `fread` returns 0 and the buffer contents are unchanged."},{"content":"If <ph id=\"ph1\">`stream`</ph> or <ph id=\"ph2\">`buffer`</ph> is a null pointer, <ph id=\"ph3\">`fread`</ph> invokes the invalid parameter handler, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[1760,1938],"source":" If `stream` or `buffer` is a null pointer, `fread` invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, this function sets <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`EINVAL`</ph> and returns 0.","pos":[1939,2029],"source":" If execution is allowed to continue, this function sets `errno` to `EINVAL` and returns 0."},{"pos":[2036,2210],"content":"See <bpt id=\"p1\">[</bpt>_doserrno, errno, _sys_errlist, and _sys_nerr<ept id=\"p1\">](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)</ept> for more information on these, and other, error codes.","source":"See [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md) for more information on these, and other, error codes."},{"content":"Remarks","pos":[2219,2226]},{"content":"The <ph id=\"ph1\">`fread`</ph> function reads up to <ph id=\"ph2\">`count`</ph> items of <ph id=\"ph3\">`size`</ph> bytes from the input <ph id=\"ph4\">`stream`</ph> and stores them in <ph id=\"ph5\">`buffer`</ph><bpt id=\"p1\">*</bpt>.<ept id=\"p1\">*</ept>","pos":[2230,2347],"source":"The `fread` function reads up to `count` items of `size` bytes from the input `stream` and stores them in `buffer`*.*"},{"content":"The file pointer associated with <ph id=\"ph1\">`stream`</ph> (if there is one) is increased by the number of bytes actually read.","pos":[2348,2458],"source":" The file pointer associated with `stream` (if there is one) is increased by the number of bytes actually read."},{"content":"If the given stream is opened in text mode, carriage return–linefeed pairs are replaced with single linefeed characters.","pos":[2459,2579]},{"content":"The replacement has no effect on the file pointer or the return value.","pos":[2580,2650]},{"content":"The file-pointer position is indeterminate if an error occurs.","pos":[2651,2713]},{"content":"The value of a partially read item cannot be determined.","pos":[2714,2770]},{"content":"This function locks out other threads.","pos":[2777,2815]},{"content":"If you need a non-locking version, use <ph id=\"ph1\">`_fread_nolock`</ph>.","pos":[2816,2871],"source":" If you need a non-locking version, use `_fread_nolock`."},{"content":"Requirements","pos":[2880,2892]},{"content":"Function","pos":[2899,2907]},{"content":"Required header","pos":[2908,2923]},{"content":"stdio.h&gt;","pos":[2979,2987],"source":"stdio.h>"},{"pos":[2995,3119],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":"Example","pos":[3128,3135]},{"content":".NET Framework Equivalent","pos":[4453,4478]},{"content":"System::IO::FileStream::Read","pos":[4483,4511]},{"content":"See Also","pos":[4594,4602]},{"content":"Stream I/O","pos":[4607,4617]},{"content":"fwrite","pos":[4663,4669]},{"content":"_read","pos":[4721,4726]}],"content":"---\ntitle: \"fread | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"fread\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-stdio-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"fread\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"reading data [C++], from input streams\"\n  - \"fread function\"\n  - \"data [C++], reading from input stream\"\n  - \"streams [C++], reading data from\"\nms.assetid: 9a3c1538-93dd-455e-ae48-77c1e23c53f0\ncaps.latest.revision: 17\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# fread\nReads data from a stream.  \n  \n## Syntax  \n  \n```  \nsize_t fread(   \n   void *buffer,  \n   size_t size,  \n   size_t count,  \n   FILE *stream   \n);  \n```  \n  \n#### Parameters  \n `buffer`  \n Storage location for data.  \n  \n `size`  \n Item size in bytes.  \n  \n `count`  \n Maximum number of items to be read.  \n  \n `stream`  \n Pointer to `FILE` structure.  \n  \n## Return Value  \n `fread` returns the number of full items actually read, which may be less than `count` if an error occurs or if the end of the file is encountered before reaching `count`*.* Use the `feof` or `ferror` function to distinguish a read error from an end-of-file condition. If `size` or `count` is 0, `fread` returns 0 and the buffer contents are unchanged. If `stream` or `buffer` is a null pointer, `fread` invokes the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, this function sets `errno` to `EINVAL` and returns 0.  \n  \n See [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md) for more information on these, and other, error codes.  \n  \n## Remarks  \n The `fread` function reads up to `count` items of `size` bytes from the input `stream` and stores them in `buffer`*.* The file pointer associated with `stream` (if there is one) is increased by the number of bytes actually read. If the given stream is opened in text mode, carriage return–linefeed pairs are replaced with single linefeed characters. The replacement has no effect on the file pointer or the return value. The file-pointer position is indeterminate if an error occurs. The value of a partially read item cannot be determined.  \n  \n This function locks out other threads. If you need a non-locking version, use `_fread_nolock`.  \n  \n## Requirements  \n  \n|Function|Required header|  \n|--------------|---------------------|  \n|`fread`|\\<stdio.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## Example  \n  \n```  \n// crt_fread.c  \n// This program opens a file named FREAD.OUT and  \n// writes 25 characters to the file. It then tries to open  \n// FREAD.OUT and read in 25 characters. If the attempt succeeds,  \n// the program displays the number of actual items read.  \n  \n#include <stdio.h>  \n  \nint main( void )  \n{  \n   FILE *stream;  \n   char list[30];  \n   int  i, numread, numwritten;  \n  \n   // Open file in text mode:  \n   if( fopen_s( &stream, \"fread.out\", \"w+t\" ) == 0 )  \n   {  \n      for ( i = 0; i < 25; i++ )  \n         list[i] = (char)('z' - i);  \n      // Write 25 characters to stream   \n      numwritten = fwrite( list, sizeof( char ), 25, stream );  \n      printf( \"Wrote %d items\\n\", numwritten );  \n      fclose( stream );  \n  \n   }  \n   else  \n      printf( \"Problem opening the file\\n\" );  \n  \n   if( fopen_s( &stream, \"fread.out\", \"r+t\" ) == 0 )  \n   {  \n      // Attempt to read in 25 characters   \n      numread = fread( list, sizeof( char ), 25, stream );  \n      printf( \"Number of items read = %d\\n\", numread );  \n      printf( \"Contents of buffer = %.25s\\n\", list );  \n      fclose( stream );  \n   }  \n   else  \n      printf( \"File could not be opened\\n\" );  \n}  \n```  \n  \n```Output  \nWrote 25 items  \nNumber of items read = 25  \nContents of buffer = zyxwvutsrqponmlkjihgfedcb  \n```  \n  \n## .NET Framework Equivalent  \n [System::IO::FileStream::Read](https://msdn.microsoft.com/en-us/library/system.io.filestream.read.aspx)  \n  \n## See Also  \n [Stream I/O](../../c-runtime-library/stream-i-o.md)   \n [fwrite](../../c-runtime-library/reference/fwrite.md)   \n [_read](../../c-runtime-library/reference/read.md)"}