{"nodes":[{"pos":[12,51],"content":"freopen_s, _wfreopen_s | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"freopen_s, _wfreopen_s | Microsoft Docs","pos":[0,39]}]},{"pos":[1125,1147],"content":"freopen_s, _wfreopen_s","linkify":"freopen_s, _wfreopen_s","nodes":[{"content":"freopen_s, _wfreopen_s","pos":[0,22]}]},{"content":"Reassigns a file pointer.","pos":[1148,1173]},{"content":"These versions of <bpt id=\"p1\">[</bpt>freopen, _wfreopen<ept id=\"p1\">](../../c-runtime-library/reference/freopen-wfreopen.md)</ept> have security enhancements, as described in <bpt id=\"p2\">[</bpt>Security Features in the CRT<ept id=\"p2\">](../../c-runtime-library/security-features-in-the-crt.md)</ept>.","pos":[1174,1400],"source":" These versions of [freopen, _wfreopen](../../c-runtime-library/reference/freopen-wfreopen.md) have security enhancements, as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md)."},{"pos":[1409,1415],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1667,1677],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[out] <ph id=\"ph1\">`pFile`</ph>","pos":[1681,1694],"source":"[out] `pFile`"},{"content":"A pointer to the file pointer to be provided by the call.","pos":[1698,1755]},{"content":"[in] <ph id=\"ph1\">`path`</ph>","pos":[1762,1773],"source":"[in] `path`"},{"content":"Path of new file.","pos":[1777,1794]},{"content":"[in] <ph id=\"ph1\">`mode`</ph>","pos":[1801,1812],"source":"[in] `mode`"},{"content":"Type of access permitted.","pos":[1816,1841]},{"content":"[in] <ph id=\"ph1\">`stream`</ph>","pos":[1848,1861],"source":"[in] `stream`"},{"content":"Pointer to <ph id=\"ph1\">`FILE`</ph> structure.","pos":[1865,1893],"source":" Pointer to `FILE` structure."},{"pos":[1902,1914],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Each of these functions returns an error code.","pos":[1918,1964]},{"content":"If an error occurs, the original file is closed.","pos":[1965,2013]},{"pos":[2022,2029],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`freopen_s`</ph> function closes the file currently associated with <ph id=\"ph2\">`stream`</ph> and reassigns <ph id=\"ph3\">`stream`</ph> to the file specified by <ph id=\"ph4\">`path.`</ph> <ph id=\"ph5\">`_wfreopen_s`</ph> is a wide-character version of <ph id=\"ph6\">`_freopen_s`</ph>; the <ph id=\"ph7\">`path`</ph> and <ph id=\"ph8\">`mode`</ph> arguments to <ph id=\"ph9\">`_wfreopen_s`</ph> are wide-character strings.","pos":[2033,2300],"source":"The `freopen_s` function closes the file currently associated with `stream` and reassigns `stream` to the file specified by `path.` `_wfreopen_s` is a wide-character version of `_freopen_s`; the `path` and `mode` arguments to `_wfreopen_s` are wide-character strings."},{"content":"<ph id=\"ph1\">`_wfreopen_s`</ph> and <ph id=\"ph2\">`_freopen_s`</ph> behave identically otherwise.","pos":[2301,2361],"source":"`_wfreopen_s` and `_freopen_s` behave identically otherwise."},{"content":"If any of <ph id=\"ph1\">`pFile`</ph>, <ph id=\"ph2\">`path`</ph>, <ph id=\"ph3\">`mode`</ph>, or <ph id=\"ph4\">`stream`</ph> are <ph id=\"ph5\">`NULL`</ph>, or if <ph id=\"ph6\">`path`</ph> is an empty string, these functions invoke the invalid parameter handler, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[2368,2602],"source":"If any of `pFile`, `path`, `mode`, or `stream` are `NULL`, or if `path` is an empty string, these functions invoke the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, these functions set <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`EINVAL`</ph> and return <ph id=\"ph3\">`EINVAL`</ph>.","pos":[2603,2700],"source":" If execution is allowed to continue, these functions set `errno` to `EINVAL` and return `EINVAL`."},{"pos":[2710,2739],"content":"Generic-Text Routine Mappings","linkify":"Generic-Text Routine Mappings","nodes":[{"content":"Generic-Text Routine Mappings","pos":[0,29]}]},{"content":"TCHAR.H routine","pos":[2746,2761]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[2762,2790],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[2791,2804]},{"content":"_UNICODE defined","pos":[2805,2821]},{"content":"<ph id=\"ph1\">`freopen_s`</ph> is typically used to redirect the pre-opened files <ph id=\"ph2\">`stdin`</ph>, <ph id=\"ph3\">`stdout`</ph>, and <ph id=\"ph4\">`stderr`</ph> to files specified by the user.","pos":[2993,3119],"source":"`freopen_s` is typically used to redirect the pre-opened files `stdin`, `stdout`, and `stderr` to files specified by the user."},{"content":"The new file associated with <ph id=\"ph1\">`stream`</ph> is opened with <ph id=\"ph2\">`mode`</ph><bpt id=\"p1\">*</bpt>,<ept id=\"p1\">*</ept> which is a character string specifying the type of access requested for the file, as follows:","pos":[3120,3276],"source":" The new file associated with `stream` is opened with `mode`*,* which is a character string specifying the type of access requested for the file, as follows:"},{"content":"Opens for reading.","pos":[3292,3310]},{"content":"If the file does not exist or cannot be found, the <ph id=\"ph1\">`freopen_s`</ph> call fails.","pos":[3311,3385],"source":" If the file does not exist or cannot be found, the `freopen_s` call fails."},{"content":"Opens an empty file for writing.","pos":[3401,3433]},{"content":"If the given file exists, its contents are destroyed.","pos":[3434,3487]},{"content":"Opens for writing at the end of the file (appending) without removing the EOF marker before writing new data to the file; creates the file first if it does not exist.","pos":[3503,3669]},{"content":"Opens for both reading and writing.","pos":[3686,3721]},{"content":"(The file must exist.)","pos":[3722,3744]},{"content":"Opens an empty file for both reading and writing.","pos":[3761,3810]},{"content":"If the given file exists, its contents are destroyed.","pos":[3811,3864]},{"content":"Opens for reading and appending; the appending operation includes the removal of the EOF marker before new data is written to the file and the EOF marker is restored after writing is complete; creates the file first if it does not exist.","pos":[3881,4118]},{"pos":[4125,4202],"content":"Use the <ph id=\"ph1\">`\"w\"`</ph> and <ph id=\"ph2\">`\"w+\"`</ph> types with care, as they can destroy existing files.","source":"Use the `\"w\"` and `\"w+\"` types with care, as they can destroy existing files."},{"content":"When a file is opened with the <ph id=\"ph1\">`\"a\"`</ph> or <ph id=\"ph2\">`\"a+\"`</ph> access type, all write operations take place at the end of the file.","pos":[4209,4324],"source":"When a file is opened with the `\"a\"` or `\"a+\"` access type, all write operations take place at the end of the file."},{"content":"Although the file pointer can be repositioned using <ph id=\"ph1\">`fseek`</ph> or <ph id=\"ph2\">`rewind`</ph>, the file pointer is always moved back to the end of the file before any write operation is carried out.","pos":[4325,4501],"source":" Although the file pointer can be repositioned using `fseek` or `rewind`, the file pointer is always moved back to the end of the file before any write operation is carried out."},{"content":"Thus, existing data cannot be overwritten.","pos":[4502,4544]},{"content":"The <ph id=\"ph1\">`\"a\"`</ph> mode does not remove the EOF marker before appending to the file.","pos":[4551,4626],"source":"The `\"a\"` mode does not remove the EOF marker before appending to the file."},{"content":"After appending has occurred, the MS-DOS TYPE command only shows data up to the original EOF marker and not any data appended to the file.","pos":[4627,4765]},{"content":"The <ph id=\"ph1\">`\"a+\"`</ph> mode does remove the EOF marker before appending to the file.","pos":[4766,4838],"source":" The `\"a+\"` mode does remove the EOF marker before appending to the file."},{"content":"After appending, the MS-DOS TYPE command shows all data in the file.","pos":[4839,4907]},{"content":"The <ph id=\"ph1\">`\"a+\"`</ph> mode is required for appending to a stream file that is terminated with the CTRL+Z EOF marker.","pos":[4908,5013],"source":" The `\"a+\"` mode is required for appending to a stream file that is terminated with the CTRL+Z EOF marker."},{"content":"When the <ph id=\"ph1\">`\"r+\",``\"w+\",`</ph> or <ph id=\"ph2\">`\"a+\"`</ph> access type is specified, both reading and writing are allowed (the file is said to be open for \"update\").","pos":[5020,5160],"source":"When the `\"r+\",``\"w+\",` or `\"a+\"` access type is specified, both reading and writing are allowed (the file is said to be open for \"update\")."},{"content":"However, when you switch between reading and writing, there must be an intervening <bpt id=\"p1\">[</bpt>fsetpos<ept id=\"p1\">](../../c-runtime-library/reference/fsetpos.md)</ept>, <bpt id=\"p2\">[</bpt>fseek<ept id=\"p2\">](../../c-runtime-library/reference/fseek-fseeki64.md)</ept>, or <bpt id=\"p3\">[</bpt>rewind<ept id=\"p3\">](../../c-runtime-library/reference/rewind.md)</ept> operation.","pos":[5161,5430],"source":" However, when you switch between reading and writing, there must be an intervening [fsetpos](../../c-runtime-library/reference/fsetpos.md), [fseek](../../c-runtime-library/reference/fseek-fseeki64.md), or [rewind](../../c-runtime-library/reference/rewind.md) operation."},{"content":"The current position can be specified for the <ph id=\"ph1\">`fsetpos`</ph> or <ph id=\"ph2\">`fseek`</ph> operation, if desired.","pos":[5431,5520],"source":" The current position can be specified for the `fsetpos` or `fseek` operation, if desired."},{"content":"In addition to the above values, one of the following characters may be included in the <ph id=\"ph1\">`mode`</ph> string to specify the translation mode for new lines.","pos":[5521,5669],"source":" In addition to the above values, one of the following characters may be included in the `mode` string to specify the translation mode for new lines."},{"content":"Open in text (translated) mode; carriage return–linefeed (CR-LF) combinations are translated into single linefeed (LF) characters on input; LF characters are translated to CR-LF combinations on output.","pos":[5683,5884]},{"content":"Also, CTRL+Z is interpreted as an end-of-file character on input.","pos":[5885,5950]},{"content":"In files opened for reading or for writing and reading with <ph id=\"ph1\">`\"a+\"`</ph>, the run-time library checks for a CTRL+Z at the end of the file and removes it, if possible.","pos":[5951,6111],"source":" In files opened for reading or for writing and reading with `\"a+\"`, the run-time library checks for a CTRL+Z at the end of the file and removes it, if possible."},{"content":"This is done because using <ph id=\"ph1\">`fseek`</ph> and <ph id=\"ph2\">`ftell`</ph> to move within a file may cause <ph id=\"ph3\">`fseek`</ph> to behave improperly near the end of the file.","pos":[6112,6245],"source":" This is done because using `fseek` and `ftell` to move within a file may cause `fseek` to behave improperly near the end of the file."},{"content":"The <ph id=\"ph1\">`t`</ph> option is a Microsoft extension that should not be used where ANSI portability is desired.","pos":[6246,6344],"source":" The `t` option is a Microsoft extension that should not be used where ANSI portability is desired."},{"content":"Open in binary (untranslated) mode; the above translations are suppressed.","pos":[6358,6432]},{"content":"If <ph id=\"ph1\">`t`</ph> or <ph id=\"ph2\">`b`</ph> is not given in <ph id=\"ph3\">`mode`</ph>, the default translation mode is defined by the global variable <bpt id=\"p1\">[</bpt>_fmode<ept id=\"p1\">](../../c-runtime-library/fmode.md)</ept>.","pos":[6439,6583],"source":"If `t` or `b` is not given in `mode`, the default translation mode is defined by the global variable [_fmode](../../c-runtime-library/fmode.md)."},{"content":"If <ph id=\"ph1\">`t`</ph> or <ph id=\"ph2\">`b`</ph> is prefixed to the argument, the function fails and returns <ph id=\"ph3\">`NULL`</ph>.","pos":[6584,6665],"source":" If `t` or `b` is prefixed to the argument, the function fails and returns `NULL`."},{"pos":[6672,6809],"content":"For a discussion of text and binary modes, see <bpt id=\"p1\">[</bpt>Text and Binary Mode File I/O<ept id=\"p1\">](../../c-runtime-library/text-and-binary-mode-file-i-o.md)</ept>.","source":"For a discussion of text and binary modes, see [Text and Binary Mode File I/O](../../c-runtime-library/text-and-binary-mode-file-i-o.md)."},{"pos":[6818,6830],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Function","pos":[6837,6845]},{"content":"Required header","pos":[6846,6861]},{"content":"<ph id=\"ph1\">\\&lt;</ph>stdio.h&gt;","pos":[6919,6929],"source":"\\<stdio.h>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>stdio.h&gt; or <ph id=\"ph2\">\\&lt;</ph>wchar.h&gt;","pos":[6948,6972],"source":"\\<stdio.h> or \\<wchar.h>"},{"content":"The console is not supported in <ph id=\"ph1\">[!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)]</ph> apps.","pos":[6980,7093],"source":"The console is not supported in [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] apps."},{"content":"The standard stream handles that are associated with the console—<ph id=\"ph1\">`stdin`</ph>, <ph id=\"ph2\">`stdout`</ph>, and <ph id=\"ph3\">`stderr`</ph>—must be redirected before C run-time functions can use them in <ph id=\"ph4\">[!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)]</ph> apps.","pos":[7094,7335],"source":" The standard stream handles that are associated with the console—`stdin`, `stdout`, and `stderr`—must be redirected before C run-time functions can use them in [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] apps."},{"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","pos":[7336,7440],"source":" For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"pos":[7449,7456],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[8212,8237],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"pos":[8247,8338],"content":"<bpt id=\"p1\">[</bpt>System::IO::File::Open<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/system.io.file.open.aspx)</ept>","source":"[System::IO::File::Open](https://msdn.microsoft.com/en-us/library/system.io.file.open.aspx)"},{"content":"&lt;xref:System.IO.FileStream.%23ctor%2A&gt;","pos":[8348,8386],"source":"<xref:System.IO.FileStream.%23ctor%2A>"},{"pos":[8395,8403],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Stream I/O<ept id=\"p1\">](../../c-runtime-library/stream-i-o.md)</ept><ph id=\"ph1\"> </ph>","pos":[8407,8459],"source":"[Stream I/O](../../c-runtime-library/stream-i-o.md) "},{"content":"<bpt id=\"p1\"> [</bpt>freopen, _wfreopen<ept id=\"p1\">](../../c-runtime-library/reference/freopen-wfreopen.md)</ept><ph id=\"ph1\"> </ph>","pos":[8462,8539],"source":" [freopen, _wfreopen](../../c-runtime-library/reference/freopen-wfreopen.md) "},{"content":"<bpt id=\"p1\"> [</bpt>fclose, _fcloseall<ept id=\"p1\">](../../c-runtime-library/reference/fclose-fcloseall.md)</ept><ph id=\"ph1\"> </ph>","pos":[8542,8619],"source":" [fclose, _fcloseall](../../c-runtime-library/reference/fclose-fcloseall.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_fdopen, _wfdopen<ept id=\"p1\">](../../c-runtime-library/reference/fdopen-wfdopen.md)</ept><ph id=\"ph1\"> </ph>","pos":[8622,8696],"source":" [_fdopen, _wfdopen](../../c-runtime-library/reference/fdopen-wfdopen.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_fileno<ept id=\"p1\">](../../c-runtime-library/reference/fileno.md)</ept><ph id=\"ph1\"> </ph>","pos":[8699,8755],"source":" [_fileno](../../c-runtime-library/reference/fileno.md) "},{"content":"<bpt id=\"p1\"> [</bpt>fopen, _wfopen<ept id=\"p1\">](../../c-runtime-library/reference/fopen-wfopen.md)</ept><ph id=\"ph1\"> </ph>","pos":[8758,8827],"source":" [fopen, _wfopen](../../c-runtime-library/reference/fopen-wfopen.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_open, _wopen<ept id=\"p1\">](../../c-runtime-library/reference/open-wopen.md)</ept><ph id=\"ph1\"> </ph>","pos":[8830,8896],"source":" [_open, _wopen](../../c-runtime-library/reference/open-wopen.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_setmode<ept id=\"p1\">](../../c-runtime-library/reference/setmode.md)</ept>","pos":[8899,8956],"source":" [_setmode](../../c-runtime-library/reference/setmode.md)"}],"content":"---\ntitle: \"freopen_s, _wfreopen_s | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_wfreopen_s\"\n  - \"freopen_s\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-stdio-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"freopen_s\"\n  - \"_tfreopen_s\"\n  - \"_wfreopen_s\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"_tfreopen_s function\"\n  - \"_wfreopen_s function\"\n  - \"file pointers [C++], reassigning\"\n  - \"tfreopen_s function\"\n  - \"wfreopen_s function\"\n  - \"freopen_s function\"\nms.assetid: ad25a4da-6ad4-476b-a86d-660b221ca84d\ncaps.latest.revision: 27\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# freopen_s, _wfreopen_s\nReassigns a file pointer. These versions of [freopen, _wfreopen](../../c-runtime-library/reference/freopen-wfreopen.md) have security enhancements, as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md).  \n  \n## Syntax  \n  \n```  \nerrno_t freopen(   \n   FILE** pFile,  \n   const char *path,  \n   const char *mode,  \n   FILE *stream   \n);  \nerrno_t _wfreopen(   \n   FILE** pFile,  \n   const wchar_t *path,  \n   const wchar_t *mode,  \n   FILE *stream   \n);  \n```  \n  \n#### Parameters  \n [out] `pFile`  \n A pointer to the file pointer to be provided by the call.  \n  \n [in] `path`  \n Path of new file.  \n  \n [in] `mode`  \n Type of access permitted.  \n  \n [in] `stream`  \n Pointer to `FILE` structure.  \n  \n## Return Value  \n Each of these functions returns an error code. If an error occurs, the original file is closed.  \n  \n## Remarks  \n The `freopen_s` function closes the file currently associated with `stream` and reassigns `stream` to the file specified by `path.` `_wfreopen_s` is a wide-character version of `_freopen_s`; the `path` and `mode` arguments to `_wfreopen_s` are wide-character strings. `_wfreopen_s` and `_freopen_s` behave identically otherwise.  \n  \n If any of `pFile`, `path`, `mode`, or `stream` are `NULL`, or if `path` is an empty string, these functions invoke the invalid parameter handler, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, these functions set `errno` to `EINVAL` and return `EINVAL`.  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_tfreopen_s`|`freopen_s`|`freopen_s`|`_wfreopen_s`|  \n  \n `freopen_s` is typically used to redirect the pre-opened files `stdin`, `stdout`, and `stderr` to files specified by the user. The new file associated with `stream` is opened with `mode`*,* which is a character string specifying the type of access requested for the file, as follows:  \n  \n `\"r\"`  \n Opens for reading. If the file does not exist or cannot be found, the `freopen_s` call fails.  \n  \n `\"w\"`  \n Opens an empty file for writing. If the given file exists, its contents are destroyed.  \n  \n `\"a\"`  \n Opens for writing at the end of the file (appending) without removing the EOF marker before writing new data to the file; creates the file first if it does not exist.  \n  \n `\"r+\"`  \n Opens for both reading and writing. (The file must exist.)  \n  \n `\"w+\"`  \n Opens an empty file for both reading and writing. If the given file exists, its contents are destroyed.  \n  \n `\"a+\"`  \n Opens for reading and appending; the appending operation includes the removal of the EOF marker before new data is written to the file and the EOF marker is restored after writing is complete; creates the file first if it does not exist.  \n  \n Use the `\"w\"` and `\"w+\"` types with care, as they can destroy existing files.  \n  \n When a file is opened with the `\"a\"` or `\"a+\"` access type, all write operations take place at the end of the file. Although the file pointer can be repositioned using `fseek` or `rewind`, the file pointer is always moved back to the end of the file before any write operation is carried out. Thus, existing data cannot be overwritten.  \n  \n The `\"a\"` mode does not remove the EOF marker before appending to the file. After appending has occurred, the MS-DOS TYPE command only shows data up to the original EOF marker and not any data appended to the file. The `\"a+\"` mode does remove the EOF marker before appending to the file. After appending, the MS-DOS TYPE command shows all data in the file. The `\"a+\"` mode is required for appending to a stream file that is terminated with the CTRL+Z EOF marker.  \n  \n When the `\"r+\",``\"w+\",` or `\"a+\"` access type is specified, both reading and writing are allowed (the file is said to be open for \"update\"). However, when you switch between reading and writing, there must be an intervening [fsetpos](../../c-runtime-library/reference/fsetpos.md), [fseek](../../c-runtime-library/reference/fseek-fseeki64.md), or [rewind](../../c-runtime-library/reference/rewind.md) operation. The current position can be specified for the `fsetpos` or `fseek` operation, if desired. In addition to the above values, one of the following characters may be included in the `mode` string to specify the translation mode for new lines.  \n  \n `t`  \n Open in text (translated) mode; carriage return–linefeed (CR-LF) combinations are translated into single linefeed (LF) characters on input; LF characters are translated to CR-LF combinations on output. Also, CTRL+Z is interpreted as an end-of-file character on input. In files opened for reading or for writing and reading with `\"a+\"`, the run-time library checks for a CTRL+Z at the end of the file and removes it, if possible. This is done because using `fseek` and `ftell` to move within a file may cause `fseek` to behave improperly near the end of the file. The `t` option is a Microsoft extension that should not be used where ANSI portability is desired.  \n  \n `b`  \n Open in binary (untranslated) mode; the above translations are suppressed.  \n  \n If `t` or `b` is not given in `mode`, the default translation mode is defined by the global variable [_fmode](../../c-runtime-library/fmode.md). If `t` or `b` is prefixed to the argument, the function fails and returns `NULL`.  \n  \n For a discussion of text and binary modes, see [Text and Binary Mode File I/O](../../c-runtime-library/text-and-binary-mode-file-i-o.md).  \n  \n## Requirements  \n  \n|Function|Required header|  \n|--------------|---------------------|  \n|`freopen_s`|\\<stdio.h>|  \n|`_wfreopen_s`|\\<stdio.h> or \\<wchar.h>|  \n  \n The console is not supported in [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] apps. The standard stream handles that are associated with the console—`stdin`, `stdout`, and `stderr`—must be redirected before C run-time functions can use them in [!INCLUDE[win8_appname_long](../../build/includes/win8_appname_long_md.md)] apps. For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n  \n```  \n// crt_freopen_s.c  \n// This program reassigns stderr to the file  \n// named FREOPEN.OUT and writes a line to that file.  \n  \n#include <stdio.h>  \n#include <stdlib.h>  \n  \nFILE *stream;  \n  \nint main( void )  \n{  \n   errno_t err;  \n   // Reassign \"stderr\" to \"freopen.out\":   \n   err = freopen_s( &stream, \"freopen.out\", \"w\", stderr );  \n  \n   if( err != 0 )  \n      fprintf( stdout, \"error on freopen\\n\" );  \n   else  \n   {  \n      fprintf( stdout, \"successfully reassigned\\n\" ); fflush( stdout );  \n      fprintf( stream, \"This will go to the file 'freopen.out'\\n\" );  \n      fclose( stream );  \n   }  \n   system( \"type freopen.out\" );  \n}  \n```  \n  \n```Output  \nsuccessfully reassigned  \nThis will go to the file 'freopen.out'  \n```  \n  \n## .NET Framework Equivalent  \n  \n-   [System::IO::File::Open](https://msdn.microsoft.com/en-us/library/system.io.file.open.aspx)  \n  \n-   <xref:System.IO.FileStream.%23ctor%2A>  \n  \n## See Also  \n [Stream I/O](../../c-runtime-library/stream-i-o.md)   \n [freopen, _wfreopen](../../c-runtime-library/reference/freopen-wfreopen.md)   \n [fclose, _fcloseall](../../c-runtime-library/reference/fclose-fcloseall.md)   \n [_fdopen, _wfdopen](../../c-runtime-library/reference/fdopen-wfdopen.md)   \n [_fileno](../../c-runtime-library/reference/fileno.md)   \n [fopen, _wfopen](../../c-runtime-library/reference/fopen-wfopen.md)   \n [_open, _wopen](../../c-runtime-library/reference/open-wopen.md)   \n [_setmode](../../c-runtime-library/reference/setmode.md)"}