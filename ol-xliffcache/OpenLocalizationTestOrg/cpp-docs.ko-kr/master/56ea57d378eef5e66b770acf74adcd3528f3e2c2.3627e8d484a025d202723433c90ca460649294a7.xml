{"nodes":[{"pos":[12,66],"content":"Windows Sockets: Socket Notifications | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Windows Sockets: Socket Notifications | Microsoft Docs","pos":[0,54]}]},{"content":"Windows Sockets: Socket Notifications","pos":[675,712]},{"content":"This article describes the notification functions in the socket classes.","pos":[713,785]},{"content":"These member functions are callback functions that the framework calls to notify your socket object of important events.","pos":[786,906]},{"content":"The notification functions are:","pos":[907,938]},{"pos":[948,1181],"content":"<bpt id=\"p1\">[</bpt>OnReceive<ept id=\"p1\">](../mfc/reference/casyncsocket-class.md#casyncsocket__onreceive)</ept>: Notifies this socket that there is data in the buffer for it to retrieve by calling <bpt id=\"p2\">[</bpt>Receive<ept id=\"p2\">](../mfc/reference/casyncsocket-class.md#casyncsocket__receive)</ept>.","source":"[OnReceive](../mfc/reference/casyncsocket-class.md#casyncsocket__onreceive): Notifies this socket that there is data in the buffer for it to retrieve by calling [Receive](../mfc/reference/casyncsocket-class.md#casyncsocket__receive)."},{"pos":[1191,1386],"content":"<bpt id=\"p1\">[</bpt>OnSend<ept id=\"p1\">](../mfc/reference/casyncsocket-class.md#casyncsocket__onsend)</ept>: Notifies this socket that it can now send data by calling <bpt id=\"p2\">[</bpt>Send<ept id=\"p2\">](../mfc/reference/casyncsocket-class.md#casyncsocket__send)</ept>.","source":"[OnSend](../mfc/reference/casyncsocket-class.md#casyncsocket__onsend): Notifies this socket that it can now send data by calling [Send](../mfc/reference/casyncsocket-class.md#casyncsocket__send)."},{"pos":[1396,1630],"content":"<bpt id=\"p1\">[</bpt>OnAccept<ept id=\"p1\">](../mfc/reference/casyncsocket-class.md#casyncsocket__onaccept)</ept>: Notifies this listening socket that it can accept pending connection requests by calling <bpt id=\"p2\">[</bpt>Accept<ept id=\"p2\">](../mfc/reference/casyncsocket-class.md#casyncsocket__accept)</ept>.","source":"[OnAccept](../mfc/reference/casyncsocket-class.md#casyncsocket__onaccept): Notifies this listening socket that it can accept pending connection requests by calling [Accept](../mfc/reference/casyncsocket-class.md#casyncsocket__accept)."},{"pos":[1640,1829],"content":"<bpt id=\"p1\">[</bpt>OnConnect<ept id=\"p1\">](../mfc/reference/casyncsocket-class.md#casyncsocket__onconnect)</ept>: Notifies this connecting socket that its connection attempt completed: perhaps successfully or perhaps in error.","source":"[OnConnect](../mfc/reference/casyncsocket-class.md#casyncsocket__onconnect): Notifies this connecting socket that its connection attempt completed: perhaps successfully or perhaps in error."},{"pos":[1839,1979],"content":"<bpt id=\"p1\">[</bpt>OnClose<ept id=\"p1\">](../mfc/reference/casyncsocket-class.md#casyncsocket__onclose)</ept>: Notifies this socket that the socket it is connected to has closed.","source":"[OnClose](../mfc/reference/casyncsocket-class.md#casyncsocket__onclose): Notifies this socket that the socket it is connected to has closed."},{"pos":[1991,2882],"content":"[!NOTE]\n An additional notification function is [OnOutOfBandData](../mfc/reference/casyncsocket-class.md#casyncsocket__onoutofbanddata). This notification tells the receiving socket that the sending socket has \"out-of-band\" data to send. Out-of-band data is a logically independent channel associated with each pair of connected stream sockets. The out-of-band channel is typically used to send \"urgent\" data. MFC supports out-of-band data. Advanced users working with class [CAsyncSocket](../mfc/reference/casyncsocket-class.md) might need to use the out-of-band channel, but users of class [CSocket](../mfc/reference/csocket-class.md) are discouraged from using it. The easier way is to create a second socket for passing such data. For more information about out-of-band data, see the Windows Sockets specification, available in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)].","leadings":["","    > "],"nodes":[{"content":" An additional notification function is [OnOutOfBandData](../mfc/reference/casyncsocket-class.md#casyncsocket__onoutofbanddata). This notification tells the receiving socket that the sending socket has \"out-of-band\" data to send. Out-of-band data is a logically independent channel associated with each pair of connected stream sockets. The out-of-band channel is typically used to send \"urgent\" data. MFC supports out-of-band data. Advanced users working with class [CAsyncSocket](../mfc/reference/casyncsocket-class.md) might need to use the out-of-band channel, but users of class [CSocket](../mfc/reference/csocket-class.md) are discouraged from using it. The easier way is to create a second socket for passing such data. For more information about out-of-band data, see the Windows Sockets specification, available in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)].","pos":[8,885],"nodes":[{"content":"An additional notification function is <bpt id=\"p1\">[</bpt>OnOutOfBandData<ept id=\"p1\">](../mfc/reference/casyncsocket-class.md#casyncsocket__onoutofbanddata)</ept>.","pos":[1,128],"source":" An additional notification function is [OnOutOfBandData](../mfc/reference/casyncsocket-class.md#casyncsocket__onoutofbanddata)."},{"content":"This notification tells the receiving socket that the sending socket has \"out-of-band\" data to send.","pos":[129,229]},{"content":"Out-of-band data is a logically independent channel associated with each pair of connected stream sockets.","pos":[230,336]},{"content":"The out-of-band channel is typically used to send \"urgent\" data.","pos":[337,401]},{"content":"MFC supports out-of-band data.","pos":[402,432]},{"content":"Advanced users working with class <bpt id=\"p1\">[</bpt>CAsyncSocket<ept id=\"p1\">](../mfc/reference/casyncsocket-class.md)</ept> might need to use the out-of-band channel, but users of class <bpt id=\"p2\">[</bpt>CSocket<ept id=\"p2\">](../mfc/reference/csocket-class.md)</ept> are discouraged from using it.","pos":[433,659],"source":" Advanced users working with class [CAsyncSocket](../mfc/reference/casyncsocket-class.md) might need to use the out-of-band channel, but users of class [CSocket](../mfc/reference/csocket-class.md) are discouraged from using it."},{"content":"The easier way is to create a second socket for passing such data.","pos":[660,726]},{"content":"For more information about out-of-band data, see the Windows Sockets specification, available in the <ph id=\"ph1\">[!INCLUDE[winSDK](../atl/includes/winsdk_md.md)]</ph>.","pos":[727,877],"source":" For more information about out-of-band data, see the Windows Sockets specification, available in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)]."}]}]},{"content":"If you derive from class <ph id=\"ph1\">`CAsyncSocket`</ph>, you must override the notification functions for those network events of interest to your application.","pos":[2889,3032],"source":"If you derive from class `CAsyncSocket`, you must override the notification functions for those network events of interest to your application."},{"content":"If you derive a class from class <ph id=\"ph1\">`CSocket`</ph>, it is your choice whether to override the notification functions of interest.","pos":[3033,3154],"source":" If you derive a class from class `CSocket`, it is your choice whether to override the notification functions of interest."},{"content":"You can also use <ph id=\"ph1\">`CSocket`</ph> itself, in which case the notification functions default to doing nothing.","pos":[3155,3256],"source":" You can also use `CSocket` itself, in which case the notification functions default to doing nothing."},{"content":"These functions are overridable callback functions.","pos":[3263,3314]},{"content":"and <ph id=\"ph1\">`CSocket`</ph> convert messages to notifications, but you must implement how the notification functions respond if you wish to use them.","pos":[3330,3465],"source":" and `CSocket` convert messages to notifications, but you must implement how the notification functions respond if you wish to use them."},{"content":"The notification functions are called at the time your socket is notified of an event of interest, such as the presence of data to be read.","pos":[3466,3605]},{"content":"MFC calls the notification functions to let you customize your socket's behavior at the time it is notified.","pos":[3612,3720]},{"content":"For example, you might call <bpt id=\"p1\">**</bpt>Receive<ept id=\"p1\">**</ept> from your <ph id=\"ph1\">`OnReceive`</ph> notification function, that is, on being notified that there is data to read, you call <bpt id=\"p2\">**</bpt>Receive<ept id=\"p2\">**</ept> to read it.","pos":[3721,3893],"source":" For example, you might call **Receive** from your `OnReceive` notification function, that is, on being notified that there is data to read, you call **Receive** to read it."},{"content":"This approach is not necessary, but it is a valid scenario.","pos":[3894,3953]},{"content":"As an alternative, you might use your notification function to track progress, print <bpt id=\"p1\">**</bpt>TRACE<ept id=\"p1\">**</ept> messages, and so on.","pos":[3954,4069],"source":" As an alternative, you might use your notification function to track progress, print **TRACE** messages, and so on."},{"content":"You can take advantage of these notifications by overriding the notification functions in a derived socket class and providing an implementation.","pos":[4076,4221]},{"content":"During an operation such as receiving or sending data, a <ph id=\"ph1\">`CSocket`</ph> object becomes synchronous.","pos":[4228,4322],"source":"During an operation such as receiving or sending data, a `CSocket` object becomes synchronous."},{"content":"During the synchronous state, any notifications meant for other sockets are queued while the current socket waits for the notification it wants.","pos":[4323,4467]},{"content":"(For example, during a <bpt id=\"p1\">**</bpt>Receive<ept id=\"p1\">**</ept> call, the socket wants a notification to read.) Once the socket completes its synchronous operation and becomes asynchronous again, other sockets can begin receiving the queued notifications.","pos":[4468,4694],"source":" (For example, during a **Receive** call, the socket wants a notification to read.) Once the socket completes its synchronous operation and becomes asynchronous again, other sockets can begin receiving the queued notifications."},{"pos":[4702,4980],"content":"[!NOTE]\n In `CSocket`, the `OnConnect` notification function is never called. For connections, you call **Connect**, which will return when the connection is completed (either successfully or in error). How connection notifications are handled is an MFC implementation detail.","leadings":["","> "],"nodes":[{"content":" In `CSocket`, the `OnConnect` notification function is never called. For connections, you call **Connect**, which will return when the connection is completed (either successfully or in error). How connection notifications are handled is an MFC implementation detail.","pos":[8,276],"nodes":[{"content":"In <ph id=\"ph1\">`CSocket`</ph>, the <ph id=\"ph2\">`OnConnect`</ph> notification function is never called.","pos":[1,69],"source":" In `CSocket`, the `OnConnect` notification function is never called."},{"content":"For connections, you call <bpt id=\"p1\">**</bpt>Connect<ept id=\"p1\">**</ept>, which will return when the connection is completed (either successfully or in error).","pos":[70,194],"source":" For connections, you call **Connect**, which will return when the connection is completed (either successfully or in error)."},{"content":"How connection notifications are handled is an MFC implementation detail.","pos":[195,268]}]}]},{"content":"For details about each notification function, see the function under class <ph id=\"ph1\">`CAsyncSocket`</ph> in the <bpt id=\"p1\">*</bpt>MFC Reference<ept id=\"p1\">*</ept>.","pos":[4987,5100],"source":"For details about each notification function, see the function under class `CAsyncSocket` in the *MFC Reference*."},{"content":"For source code and information about MFC samples, see <bpt id=\"p1\">[</bpt>MFC Samples<ept id=\"p1\">](../visual-cpp-samples.md)</ept>.","pos":[5101,5196],"source":" For source code and information about MFC samples, see [MFC Samples](../visual-cpp-samples.md)."},{"content":"For more information, see:","pos":[5203,5229]},{"content":"Windows Sockets: Using Class CAsyncSocket","pos":[5240,5281]},{"content":"Windows Sockets: Deriving from Socket Classes","pos":[5345,5390]},{"content":"Windows Sockets: How Sockets with Archives Work","pos":[5458,5505]},{"content":"Windows Sockets: Blocking","pos":[5575,5600]},{"content":"Windows Sockets: Byte Ordering","pos":[5648,5678]},{"content":"Windows Sockets: Converting Strings","pos":[5731,5766]},{"content":"See Also","pos":[5822,5830]},{"content":"Windows Sockets in MFC","pos":[5835,5857]}],"content":"---\ntitle: \"Windows Sockets: Socket Notifications | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"Windows Sockets [C++], notifications\"\n  - \"notifications, socket\"\n  - \"sockets [C++], notifications\"\nms.assetid: 87d5bf70-6e77-49a9-9a64-aaadee2ad018\ncaps.latest.revision: 13\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Windows Sockets: Socket Notifications\nThis article describes the notification functions in the socket classes. These member functions are callback functions that the framework calls to notify your socket object of important events. The notification functions are:  \n  \n-   [OnReceive](../mfc/reference/casyncsocket-class.md#casyncsocket__onreceive): Notifies this socket that there is data in the buffer for it to retrieve by calling [Receive](../mfc/reference/casyncsocket-class.md#casyncsocket__receive).  \n  \n-   [OnSend](../mfc/reference/casyncsocket-class.md#casyncsocket__onsend): Notifies this socket that it can now send data by calling [Send](../mfc/reference/casyncsocket-class.md#casyncsocket__send).  \n  \n-   [OnAccept](../mfc/reference/casyncsocket-class.md#casyncsocket__onaccept): Notifies this listening socket that it can accept pending connection requests by calling [Accept](../mfc/reference/casyncsocket-class.md#casyncsocket__accept).  \n  \n-   [OnConnect](../mfc/reference/casyncsocket-class.md#casyncsocket__onconnect): Notifies this connecting socket that its connection attempt completed: perhaps successfully or perhaps in error.  \n  \n-   [OnClose](../mfc/reference/casyncsocket-class.md#casyncsocket__onclose): Notifies this socket that the socket it is connected to has closed.  \n  \n    > [!NOTE]\n    >  An additional notification function is [OnOutOfBandData](../mfc/reference/casyncsocket-class.md#casyncsocket__onoutofbanddata). This notification tells the receiving socket that the sending socket has \"out-of-band\" data to send. Out-of-band data is a logically independent channel associated with each pair of connected stream sockets. The out-of-band channel is typically used to send \"urgent\" data. MFC supports out-of-band data. Advanced users working with class [CAsyncSocket](../mfc/reference/casyncsocket-class.md) might need to use the out-of-band channel, but users of class [CSocket](../mfc/reference/csocket-class.md) are discouraged from using it. The easier way is to create a second socket for passing such data. For more information about out-of-band data, see the Windows Sockets specification, available in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)].  \n  \n If you derive from class `CAsyncSocket`, you must override the notification functions for those network events of interest to your application. If you derive a class from class `CSocket`, it is your choice whether to override the notification functions of interest. You can also use `CSocket` itself, in which case the notification functions default to doing nothing.  \n  \n These functions are overridable callback functions. `CAsyncSocket` and `CSocket` convert messages to notifications, but you must implement how the notification functions respond if you wish to use them. The notification functions are called at the time your socket is notified of an event of interest, such as the presence of data to be read.  \n  \n MFC calls the notification functions to let you customize your socket's behavior at the time it is notified. For example, you might call **Receive** from your `OnReceive` notification function, that is, on being notified that there is data to read, you call **Receive** to read it. This approach is not necessary, but it is a valid scenario. As an alternative, you might use your notification function to track progress, print **TRACE** messages, and so on.  \n  \n You can take advantage of these notifications by overriding the notification functions in a derived socket class and providing an implementation.  \n  \n During an operation such as receiving or sending data, a `CSocket` object becomes synchronous. During the synchronous state, any notifications meant for other sockets are queued while the current socket waits for the notification it wants. (For example, during a **Receive** call, the socket wants a notification to read.) Once the socket completes its synchronous operation and becomes asynchronous again, other sockets can begin receiving the queued notifications.  \n  \n> [!NOTE]\n>  In `CSocket`, the `OnConnect` notification function is never called. For connections, you call **Connect**, which will return when the connection is completed (either successfully or in error). How connection notifications are handled is an MFC implementation detail.  \n  \n For details about each notification function, see the function under class `CAsyncSocket` in the *MFC Reference*. For source code and information about MFC samples, see [MFC Samples](../visual-cpp-samples.md).  \n  \n For more information, see:  \n  \n-   [Windows Sockets: Using Class CAsyncSocket](../mfc/windows-sockets-using-class-casyncsocket.md)  \n  \n-   [Windows Sockets: Deriving from Socket Classes](../mfc/windows-sockets-deriving-from-socket-classes.md)  \n  \n-   [Windows Sockets: How Sockets with Archives Work](../mfc/windows-sockets-how-sockets-with-archives-work.md)  \n  \n-   [Windows Sockets: Blocking](../mfc/windows-sockets-blocking.md)  \n  \n-   [Windows Sockets: Byte Ordering](../mfc/windows-sockets-byte-ordering.md)  \n  \n-   [Windows Sockets: Converting Strings](../mfc/windows-sockets-converting-strings.md)  \n  \n## See Also  \n [Windows Sockets in MFC](../mfc/windows-sockets-in-mfc.md)\n\n"}