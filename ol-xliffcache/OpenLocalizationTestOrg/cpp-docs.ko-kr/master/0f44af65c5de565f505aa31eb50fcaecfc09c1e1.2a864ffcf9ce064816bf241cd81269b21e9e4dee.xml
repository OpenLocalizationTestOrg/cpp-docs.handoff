{"nodes":[{"pos":[12,49],"content":"Compiler Error C2384 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Error C2384 | Microsoft Docs","pos":[0,37]}]},{"pos":[598,618],"content":"Compiler Error C2384","linkify":"Compiler Error C2384","nodes":[{"content":"Compiler Error C2384","pos":[0,20]}]},{"content":"'member' : cannot apply __declspec(thread) to a member of a managed or WinRT class","pos":[619,701]},{"pos":[708,829],"content":"The <bpt id=\"p1\">[</bpt>thread<ept id=\"p1\">](../../cpp/thread.md)</ept> <ph id=\"ph1\">`__declspec`</ph> modifier cannot be used on a member of a managed or Windows Runtime class.","source":"The [thread](../../cpp/thread.md) `__declspec` modifier cannot be used on a member of a managed or Windows Runtime class."},{"content":"Static thread local storage in managed code can only be used for statically loaded DLLs—the DLL must be statically loaded when the process starts.","pos":[836,982]},{"content":"Windows Runtime does not support thread local storage.","pos":[983,1037]},{"content":"The following line generates C2384 and shows how to fix it in C++/CLI code:","pos":[1044,1119]}],"content":"---\ntitle: \"Compiler Error C2384 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"error-reference\"\nf1_keywords: \n  - \"C2384\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"C2384\"\nms.assetid: 8145f7ad-31b1-406d-ac43-0d557feab635\ncaps.latest.revision: 15\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Compiler Error C2384\n'member' : cannot apply __declspec(thread) to a member of a managed or WinRT class  \n  \n The [thread](../../cpp/thread.md) `__declspec` modifier cannot be used on a member of a managed or Windows Runtime class.  \n  \n Static thread local storage in managed code can only be used for statically loaded DLLs—the DLL must be statically loaded when the process starts. Windows Runtime does not support thread local storage.  \n  \n The following line generates C2384 and shows how to fix it in C++/CLI code:  \n  \n```  \n// C2384.cpp  \n// compile with: /clr /c  \npublic ref class B {  \npublic:  \n   __declspec( thread ) static int tls_i = 1;   // C2384  \n  \n   // OK - declare with attribute instead  \n   [System::ThreadStaticAttribute]  \n   static int tls_j;  \n};  \n```"}