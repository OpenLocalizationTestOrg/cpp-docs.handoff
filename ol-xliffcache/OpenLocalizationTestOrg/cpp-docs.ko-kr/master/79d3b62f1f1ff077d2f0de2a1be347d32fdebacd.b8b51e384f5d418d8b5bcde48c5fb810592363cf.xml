{"nodes":[{"pos":[12,62],"content":"-GF (Eliminate Duplicate Strings) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"-GF (Eliminate Duplicate Strings) | Microsoft Docs","pos":[0,50]}]},{"content":"/GF (Eliminate Duplicate Strings)","pos":[936,969]},{"content":"Enables the compiler to create a single copy of identical strings in the program image and in memory during execution.","pos":[970,1088]},{"content":"This is an optimization called <bpt id=\"p1\">*</bpt>string pooling<ept id=\"p1\">*</ept> that can create smaller programs.","pos":[1089,1170],"source":" This is an optimization called *string pooling* that can create smaller programs."},{"content":"Syntax","pos":[1179,1185]},{"content":"Remarks","pos":[1215,1222]},{"pos":[1226,1360],"content":"If you use <bpt id=\"p1\">**</bpt>/GF<ept id=\"p1\">**</ept>, the operating system does not swap the string portion of memory and can read the strings back from the image file.","source":"If you use **/GF**, the operating system does not swap the string portion of memory and can read the strings back from the image file."},{"content":"<bpt id=\"p1\">**</bpt>/GF<ept id=\"p1\">**</ept> pools strings as read-only.","pos":[1367,1402],"source":"**/GF** pools strings as read-only."},{"content":"If you try to modify strings under <bpt id=\"p1\">**</bpt>/GF<ept id=\"p1\">**</ept>, an application error occurs.","pos":[1403,1475],"source":" If you try to modify strings under **/GF**, an application error occurs."},{"content":"String pooling allows what were intended as multiple pointers to multiple buffers to be multiple pointers to a single buffer.","pos":[1482,1607]},{"content":"In the following code, <ph id=\"ph1\">`s`</ph> and <ph id=\"ph2\">`t`</ph> are initialized with the same string.","pos":[1608,1680],"source":" In the following code, `s` and `t` are initialized with the same string."},{"content":"String pooling causes them to point to the same memory:","pos":[1681,1736]},{"pos":[1843,1998],"content":"[!NOTE]\n The [/ZI](../../build/reference/z7-zi-zi-debug-information-format.md) option, used for Edit and Continue, automatically sets the **/GF** option.","leadings":["","> "],"nodes":[{"content":"The <bpt id=\"p1\">[</bpt>/ZI<ept id=\"p1\">](../../build/reference/z7-zi-zi-debug-information-format.md)</ept> option, used for Edit and Continue, automatically sets the <bpt id=\"p2\">**</bpt>/GF<ept id=\"p2\">**</ept> option.","pos":[9,153],"source":" The [/ZI](../../build/reference/z7-zi-zi-debug-information-format.md) option, used for Edit and Continue, automatically sets the **/GF** option."}]},{"pos":[2006,2364],"content":"[!NOTE]\n The **/GF** compiler option creates an addressable section for each unique string. And by default, an object file can contain up to 65,536 addressable sections. If your program contains more than 65,536 strings, use the [/bigobj](../../build/reference/bigobj-increase-number-of-sections-in-dot-obj-file.md) compiler option to create more sections.","leadings":["","> "],"nodes":[{"content":" The **/GF** compiler option creates an addressable section for each unique string. And by default, an object file can contain up to 65,536 addressable sections. If your program contains more than 65,536 strings, use the [/bigobj](../../build/reference/bigobj-increase-number-of-sections-in-dot-obj-file.md) compiler option to create more sections.","pos":[8,356],"nodes":[{"content":"The <bpt id=\"p1\">**</bpt>/GF<ept id=\"p1\">**</ept> compiler option creates an addressable section for each unique string.","pos":[1,83],"source":" The **/GF** compiler option creates an addressable section for each unique string."},{"content":"And by default, an object file can contain up to 65,536 addressable sections.","pos":[84,161]},{"content":"If your program contains more than 65,536 strings, use the <bpt id=\"p1\">[</bpt>/bigobj<ept id=\"p1\">](../../build/reference/bigobj-increase-number-of-sections-in-dot-obj-file.md)</ept> compiler option to create more sections.","pos":[162,348],"source":" If your program contains more than 65,536 strings, use the [/bigobj](../../build/reference/bigobj-increase-number-of-sections-in-dot-obj-file.md) compiler option to create more sections."}]}]},{"pos":[2371,2483],"content":"<bpt id=\"p1\">**</bpt>/GF<ept id=\"p1\">**</ept> is in effect when <bpt id=\"p2\">[</bpt>/O1<ept id=\"p2\">](../../build/reference/o1-o2-minimize-size-maximize-speed.md)</ept> or <bpt id=\"p3\">**</bpt>/O2<ept id=\"p3\">**</ept> is used.","source":"**/GF** is in effect when [/O1](../../build/reference/o1-o2-minimize-size-maximize-speed.md) or **/O2** is used."},{"content":"To set this compiler option in the Visual Studio development environment","pos":[2493,2565]},{"content":"Open the project's <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box.","pos":[2575,2624],"source":"Open the project's **Property Pages** dialog box."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Working with Project Properties<ept id=\"p1\">](../../ide/working-with-project-properties.md)</ept>.","pos":[2625,2722],"source":" For details, see [Working with Project Properties](../../ide/working-with-project-properties.md)."},{"pos":[2732,2759],"content":"Click the <bpt id=\"p1\">**</bpt>C/C++<ept id=\"p1\">**</ept> folder.","source":"Click the **C/C++** folder."},{"pos":[2769,2813],"content":"Click the <bpt id=\"p1\">**</bpt>Code Generation<ept id=\"p1\">**</ept> property page.","source":"Click the **Code Generation** property page."},{"pos":[2823,2869],"content":"Modify the <bpt id=\"p1\">**</bpt>Enable String Pooling<ept id=\"p1\">**</ept> property.","source":"Modify the **Enable String Pooling** property."},{"content":"To set this compiler option programmatically","pos":[2879,2923]},{"content":"See &lt;xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.StringPooling%2A&gt;.","pos":[2933,3017],"source":"See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.StringPooling%2A>."},{"content":"See Also","pos":[3026,3034]},{"content":"Compiler Options","pos":[3039,3055]},{"content":"Setting Compiler Options","pos":[3105,3129]}],"content":"---\ntitle: \"-GF (Eliminate Duplicate Strings) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"VC.Project.VCCLCompilerTool.StringPooling\"\n  - \"VC.Project.VCCLWCECompilerTool.StringPooling\"\n  - \"/gf\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"duplicate strings\"\n  - \"Eliminate Duplicate Strings compiler option [C++]\"\n  - \"pooling strings compiler option [C++]\"\n  - \"-GF compiler option [C++]\"\n  - \"/GF compiler option [C++]\"\n  - \"GF compiler option [C++]\"\n  - \"strings [C++], pooling\"\nms.assetid: bb7b5d1c-8e1f-453b-9298-8fcebf37d16c\ncaps.latest.revision: 17\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# /GF (Eliminate Duplicate Strings)\nEnables the compiler to create a single copy of identical strings in the program image and in memory during execution. This is an optimization called *string pooling* that can create smaller programs.  \n  \n## Syntax  \n  \n```  \n/GF  \n```  \n  \n## Remarks  \n If you use **/GF**, the operating system does not swap the string portion of memory and can read the strings back from the image file.  \n  \n **/GF** pools strings as read-only. If you try to modify strings under **/GF**, an application error occurs.  \n  \n String pooling allows what were intended as multiple pointers to multiple buffers to be multiple pointers to a single buffer. In the following code, `s` and `t` are initialized with the same string. String pooling causes them to point to the same memory:  \n  \n```  \nchar *s = \"This is a character buffer\";  \nchar *t = \"This is a character buffer\";  \n```  \n  \n> [!NOTE]\n>  The [/ZI](../../build/reference/z7-zi-zi-debug-information-format.md) option, used for Edit and Continue, automatically sets the **/GF** option.  \n  \n> [!NOTE]\n>  The **/GF** compiler option creates an addressable section for each unique string. And by default, an object file can contain up to 65,536 addressable sections. If your program contains more than 65,536 strings, use the [/bigobj](../../build/reference/bigobj-increase-number-of-sections-in-dot-obj-file.md) compiler option to create more sections.  \n  \n **/GF** is in effect when [/O1](../../build/reference/o1-o2-minimize-size-maximize-speed.md) or **/O2** is used.  \n  \n### To set this compiler option in the Visual Studio development environment  \n  \n1.  Open the project's **Property Pages** dialog box. For details, see [Working with Project Properties](../../ide/working-with-project-properties.md).  \n  \n2.  Click the **C/C++** folder.  \n  \n3.  Click the **Code Generation** property page.  \n  \n4.  Modify the **Enable String Pooling** property.  \n  \n### To set this compiler option programmatically  \n  \n-   See <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.StringPooling%2A>.  \n  \n## See Also  \n [Compiler Options](../../build/reference/compiler-options.md)   \n [Setting Compiler Options](../../build/reference/setting-compiler-options.md)"}