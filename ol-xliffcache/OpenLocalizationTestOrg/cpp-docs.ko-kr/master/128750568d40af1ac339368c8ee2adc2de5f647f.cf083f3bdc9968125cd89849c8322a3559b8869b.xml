{"nodes":[{"pos":[12,37],"content":"_setmbcp | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_setmbcp | Microsoft Docs","pos":[0,25]}]},{"pos":[974,982],"content":"_setmbcp","linkify":"_setmbcp","nodes":[{"content":"_setmbcp","pos":[0,8]}]},{"content":"Sets a new multibyte code page.","pos":[983,1014]},{"pos":[1023,1029],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1095,1105],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"New code page setting for locale-independent multibyte routines.","pos":[1123,1187]},{"pos":[1196,1208],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"Returns 0 if the code page is set successfully.","pos":[1212,1259]},{"content":"If an invalid code page value is supplied for <ph id=\"ph1\">`codepage`</ph>, returns –1 and the code page setting is unchanged.","pos":[1260,1368],"source":" If an invalid code page value is supplied for `codepage`, returns –1 and the code page setting is unchanged."},{"content":"Sets <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`EINVAL`</ph> if a memory allocation failure occurs.","pos":[1369,1432],"source":" Sets `errno` to `EINVAL` if a memory allocation failure occurs."},{"pos":[1441,1448],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`_setmbcp`</ph> function specifies a new multibyte code page.","pos":[1452,1512],"source":"The `_setmbcp` function specifies a new multibyte code page."},{"content":"By default, the run-time system automatically sets the multibyte code page to the system-default ANSI code page.","pos":[1513,1625]},{"content":"The multibyte code page setting affects all multibyte routines that are not locale dependent.","pos":[1626,1719]},{"content":"However, it is possible to instruct <ph id=\"ph1\">`_setmbcp`</ph> to use the code page defined for the current locale (see the following list of manifest constants and associated behavior results).","pos":[1720,1898],"source":" However, it is possible to instruct `_setmbcp` to use the code page defined for the current locale (see the following list of manifest constants and associated behavior results)."},{"content":"For a list of the multibyte routines that are dependent on the locale code page rather than the multibyte code page, see <bpt id=\"p1\">[</bpt>Interpretation of Multibyte-Character Sequences<ept id=\"p1\">](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)</ept>.","pos":[1899,2146],"source":" For a list of the multibyte routines that are dependent on the locale code page rather than the multibyte code page, see [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)."},{"content":"The multibyte code page also affects multibyte-character processing by the following run-time library routines:","pos":[2153,2264]},{"pos":[2288,2354],"content":"<bpt id=\"p1\">[</bpt>_exec functions<ept id=\"p1\">](../../c-runtime-library/exec-wexec-functions.md)</ept>","source":"[_exec functions](../../c-runtime-library/exec-wexec-functions.md)"},{"pos":[2355,2417],"content":"<bpt id=\"p1\">[</bpt>_mktemp<ept id=\"p1\">](../../c-runtime-library/reference/mktemp-wmktemp.md)</ept>","source":"[_mktemp](../../c-runtime-library/reference/mktemp-wmktemp.md)"},{"pos":[2418,2478],"content":"<bpt id=\"p1\">[</bpt>_stat<ept id=\"p1\">](../../c-runtime-library/reference/stat-functions.md)</ept>","source":"[_stat](../../c-runtime-library/reference/stat-functions.md)"},{"pos":[2483,2551],"content":"<bpt id=\"p1\">[</bpt>_fullpath<ept id=\"p1\">](../../c-runtime-library/reference/fullpath-wfullpath.md)</ept>","source":"[_fullpath](../../c-runtime-library/reference/fullpath-wfullpath.md)"},{"pos":[2552,2621],"content":"<bpt id=\"p1\">[</bpt>_spawn functions<ept id=\"p1\">](../../c-runtime-library/spawn-wspawn-functions.md)</ept>","source":"[_spawn functions](../../c-runtime-library/spawn-wspawn-functions.md)"},{"pos":[2622,2702],"content":"<bpt id=\"p1\">[</bpt>_tempnam<ept id=\"p1\">](../../c-runtime-library/reference/tempnam-wtempnam-tmpnam-wtmpnam.md)</ept>","source":"[_tempnam](../../c-runtime-library/reference/tempnam-wtempnam-tmpnam-wtmpnam.md)"},{"pos":[2707,2775],"content":"<bpt id=\"p1\">[</bpt>_makepath<ept id=\"p1\">](../../c-runtime-library/reference/makepath-wmakepath.md)</ept>","source":"[_makepath](../../c-runtime-library/reference/makepath-wmakepath.md)"},{"pos":[2776,2847],"content":"<bpt id=\"p1\">[</bpt>_splitpath<ept id=\"p1\">](../../c-runtime-library/reference/splitpath-wsplitpath.md)</ept>","source":"[_splitpath](../../c-runtime-library/reference/splitpath-wsplitpath.md)"},{"pos":[2848,2926],"content":"<bpt id=\"p1\">[</bpt>tmpnam<ept id=\"p1\">](../../c-runtime-library/reference/tempnam-wtempnam-tmpnam-wtmpnam.md)</ept>","source":"[tmpnam](../../c-runtime-library/reference/tempnam-wtempnam-tmpnam-wtmpnam.md)"},{"content":"In addition, all run-time library routines that receive multibyte-character <ph id=\"ph1\">`argv`</ph> or <ph id=\"ph2\">`envp`</ph> program arguments as parameters (such as the <ph id=\"ph3\">`_exec`</ph> and <ph id=\"ph4\">`_spawn`</ph> families) process these strings according to the multibyte code page.","pos":[2934,3162],"source":"In addition, all run-time library routines that receive multibyte-character `argv` or `envp` program arguments as parameters (such as the `_exec` and `_spawn` families) process these strings according to the multibyte code page."},{"content":"Therefore, these routines are also affected by a call to <ph id=\"ph1\">`_setmbcp`</ph> that changes the multibyte code page.","pos":[3163,3268],"source":" Therefore, these routines are also affected by a call to `_setmbcp` that changes the multibyte code page."},{"pos":[3275,3341],"content":"The <ph id=\"ph1\">`codepage`</ph> argument can be set to any of the following values:","source":"The `codepage` argument can be set to any of the following values:"},{"pos":[3351,3434],"content":"<ph id=\"ph1\">`_MB_CP_ANSI`</ph> Use ANSI code page obtained from operating system at program startup.","source":"`_MB_CP_ANSI` Use ANSI code page obtained from operating system at program startup."},{"pos":[3444,3599],"content":"<ph id=\"ph1\">`_MB_CP_LOCALE`</ph> Use the current locale's code page obtained from a previous call to <bpt id=\"p1\">[</bpt>setlocale<ept id=\"p1\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept>.","source":"`_MB_CP_LOCALE` Use the current locale's code page obtained from a previous call to [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md)."},{"pos":[3609,3690],"content":"<ph id=\"ph1\">`_MB_CP_OEM`</ph> Use OEM code page obtained from operating system at program startup.","source":"`_MB_CP_OEM` Use OEM code page obtained from operating system at program startup."},{"content":"<ph id=\"ph1\">`_MB_CP_SBCS`</ph> Use single-byte code page.","pos":[3700,3740],"source":"`_MB_CP_SBCS` Use single-byte code page."},{"content":"When the code page is set to <ph id=\"ph1\">`_MB_CP_SBCS`</ph>, a routine such as <bpt id=\"p1\">[</bpt>_ismbblead<ept id=\"p1\">](../../c-runtime-library/reference/ismbblead-ismbblead-l.md)</ept> always returns false.","pos":[3741,3897],"source":" When the code page is set to `_MB_CP_SBCS`, a routine such as [_ismbblead](../../c-runtime-library/reference/ismbblead-ismbblead-l.md) always returns false."},{"content":"Any other valid code page value, regardless of whether the value is an ANSI, OEM, or other operating-system-supported code page (except UTF-7 and UTF-8, which are not supported).","pos":[3907,4085]},{"pos":[4094,4106],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Routine","pos":[4113,4120]},{"content":"Required header","pos":[4121,4136]},{"content":"<ph id=\"ph1\">\\&lt;</ph>mbctype.h&gt;","pos":[4192,4204],"source":"\\<mbctype.h>"},{"pos":[4212,4330],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"pos":[4339,4347],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>_getmbcp<ept id=\"p1\">](../../c-runtime-library/reference/getmbcp.md)</ept><ph id=\"ph1\"> </ph>","pos":[4351,4408],"source":"[_getmbcp](../../c-runtime-library/reference/getmbcp.md) "},{"content":"<bpt id=\"p1\"> [</bpt>setlocale, _wsetlocale<ept id=\"p1\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept>","pos":[4411,4495],"source":" [setlocale, _wsetlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md)"}],"content":"---\ntitle: \"_setmbcp | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_setmbcp\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-locale-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_setmbcp\"\n  - \"setmbcp\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"setmbcp function\"\n  - \"_setmbcp function\"\n  - \"multibyte code pages\"\nms.assetid: cfde53b5-0b73-4684-81b1-a8d3aafc85de\ncaps.latest.revision: 13\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _setmbcp\nSets a new multibyte code page.  \n  \n## Syntax  \n  \n```  \nint _setmbcp(  \n   int codepage   \n);  \n```  \n  \n#### Parameters  \n `codepage`  \n New code page setting for locale-independent multibyte routines.  \n  \n## Return Value  \n Returns 0 if the code page is set successfully. If an invalid code page value is supplied for `codepage`, returns –1 and the code page setting is unchanged. Sets `errno` to `EINVAL` if a memory allocation failure occurs.  \n  \n## Remarks  \n The `_setmbcp` function specifies a new multibyte code page. By default, the run-time system automatically sets the multibyte code page to the system-default ANSI code page. The multibyte code page setting affects all multibyte routines that are not locale dependent. However, it is possible to instruct `_setmbcp` to use the code page defined for the current locale (see the following list of manifest constants and associated behavior results). For a list of the multibyte routines that are dependent on the locale code page rather than the multibyte code page, see [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md).  \n  \n The multibyte code page also affects multibyte-character processing by the following run-time library routines:  \n  \n||||  \n|-|-|-|  \n|[_exec functions](../../c-runtime-library/exec-wexec-functions.md)|[_mktemp](../../c-runtime-library/reference/mktemp-wmktemp.md)|[_stat](../../c-runtime-library/reference/stat-functions.md)|  \n|[_fullpath](../../c-runtime-library/reference/fullpath-wfullpath.md)|[_spawn functions](../../c-runtime-library/spawn-wspawn-functions.md)|[_tempnam](../../c-runtime-library/reference/tempnam-wtempnam-tmpnam-wtmpnam.md)|  \n|[_makepath](../../c-runtime-library/reference/makepath-wmakepath.md)|[_splitpath](../../c-runtime-library/reference/splitpath-wsplitpath.md)|[tmpnam](../../c-runtime-library/reference/tempnam-wtempnam-tmpnam-wtmpnam.md)|  \n  \n In addition, all run-time library routines that receive multibyte-character `argv` or `envp` program arguments as parameters (such as the `_exec` and `_spawn` families) process these strings according to the multibyte code page. Therefore, these routines are also affected by a call to `_setmbcp` that changes the multibyte code page.  \n  \n The `codepage` argument can be set to any of the following values:  \n  \n-   `_MB_CP_ANSI` Use ANSI code page obtained from operating system at program startup.  \n  \n-   `_MB_CP_LOCALE` Use the current locale's code page obtained from a previous call to [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md).  \n  \n-   `_MB_CP_OEM` Use OEM code page obtained from operating system at program startup.  \n  \n-   `_MB_CP_SBCS` Use single-byte code page. When the code page is set to `_MB_CP_SBCS`, a routine such as [_ismbblead](../../c-runtime-library/reference/ismbblead-ismbblead-l.md) always returns false.  \n  \n-   Any other valid code page value, regardless of whether the value is an ANSI, OEM, or other operating-system-supported code page (except UTF-7 and UTF-8, which are not supported).  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_setmbcp`|\\<mbctype.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## See Also  \n [_getmbcp](../../c-runtime-library/reference/getmbcp.md)   \n [setlocale, _wsetlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md)"}