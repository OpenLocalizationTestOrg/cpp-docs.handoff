{"nodes":[{"pos":[12,81],"content":"Walkthrough: Compile a C program on the command line | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Walkthrough: Compile a C program on the command line | Microsoft Docs","pos":[0,69]}]},{"content":"Walkthrough: Compile a C program on the command line","pos":[761,813]},{"content":"Visual C++ includes a C compiler that you can use to create everything from basic console programs to full Windows Desktop applications, mobile apps, and more.","pos":[814,973]},{"content":"This walkthrough shows how to create a basic, \"Hello, World\"-style C program by using a text editor, and then compile it on the command line.","pos":[980,1121]},{"content":"If you'd rather work in C++ on the command line, see <bpt id=\"p1\">[</bpt>Walkthrough: Compiling a Native C++ Program on the Command Line<ept id=\"p1\">](../build/walkthrough-compiling-a-native-cpp-program-on-the-command-line.md)</ept>.","pos":[1122,1317],"source":" If you'd rather work in C++ on the command line, see [Walkthrough: Compiling a Native C++ Program on the Command Line](../build/walkthrough-compiling-a-native-cpp-program-on-the-command-line.md)."},{"content":"If you'd like to try the Visual Studio IDE instead of using the command line, see <bpt id=\"p1\">[</bpt>Walkthrough: Working with Projects and Solutions (C++)<ept id=\"p1\">](../ide/walkthrough-working-with-projects-and-solutions-cpp.md)</ept> or <bpt id=\"p2\">[</bpt>Using the Visual Studio IDE for C++ Desktop Development<ept id=\"p2\">](../ide/using-the-visual-studio-ide-for-cpp-desktop-development.md)</ept>.","pos":[1318,1648],"source":" If you'd like to try the Visual Studio IDE instead of using the command line, see [Walkthrough: Working with Projects and Solutions (C++)](../ide/walkthrough-working-with-projects-and-solutions-cpp.md) or [Using the Visual Studio IDE for C++ Desktop Development](../ide/using-the-visual-studio-ide-for-cpp-desktop-development.md)."},{"content":"Prerequisites","pos":[1657,1670]},{"content":"To complete this walkthrough, you must have installed either Visual Studio and the optional Visual C++ components, or the Microsoft Visual C++ Build Tools.","pos":[1674,1829]},{"content":"Visual Studio is a powerful integrated development environment that supports a full-featured editor, resource managers, debuggers, and compilers for many languages and platforms.","pos":[1836,2014]},{"content":"For information on these features and  how to download and install Visual Studio, including the free Visual Studio Community edition, see <bpt id=\"p1\">[</bpt>VisualStudio.com<ept id=\"p1\">](https://www.visualstudio.com/)</ept>.","pos":[2015,2203],"source":" For information on these features and  how to download and install Visual Studio, including the free Visual Studio Community edition, see [VisualStudio.com](https://www.visualstudio.com/)."},{"content":"The Microsoft Visual C++ Build Tools installs only the command-line compiler, tools, and libraries you need to build C and C++ programs.","pos":[2210,2346]},{"content":"It's perfect for build labs or classroom exercises and installs relatively quickly.","pos":[2347,2430]},{"content":"To install only the command-line tools, download and install <bpt id=\"p1\">[</bpt>Microsoft Visual C++ Build Tools 2015<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=691126)</ept>.","pos":[2431,2579],"source":" To install only the command-line tools, download and install [Microsoft Visual C++ Build Tools 2015](http://go.microsoft.com/fwlink/?LinkId=691126)."},{"content":"Before you can build a C or C++ program on the command line, you must verify that the tools are installed, and that you can access them from the command line.","pos":[2586,2744]},{"content":"Visual C++ has complex requirements for the command-line environment in order to find the tools, headers, and libraries it uses.","pos":[2745,2873]},{"content":"<bpt id=\"p1\">**</bpt>You can't use Visual C++ in a plain command prompt window<ept id=\"p1\">**</ept>.","pos":[2874,2936],"source":"**You can't use Visual C++ in a plain command prompt window**."},{"content":"You need a <bpt id=\"p1\">*</bpt>developer<ept id=\"p1\">*</ept> command prompt, which is a regular command prompt that has all the required environment variables set.","pos":[2937,3062],"source":" You need a *developer* command prompt, which is a regular command prompt that has all the required environment variables set."},{"content":"Fortunately, Visual C++ installs shortcuts for you to launch developer command prompts that have the environment set up for command line builds.","pos":[3063,3207]},{"content":"Unfortunately, the names of the developer command prompt shortcuts and where they are located are different in almost every version of Visual C++ and on different versions of Windows.","pos":[3208,3391]},{"content":"Your first walkthrough task is to find the right shortcut to use.","pos":[3392,3457]},{"pos":[3465,4011],"content":"[!NOTE]\n A developer command prompt shortcut automatically sets the correct paths for the compiler and tools, and for any required headers and libraries. You must set these environment values yourself if you don't use one of the shortcuts. For more information, see [Setting the Path and Environment Variables for Command-Line Builds](../build/setting-the-path-and-environment-variables-for-command-line-builds.md). Because the build environment is complex, we recommend you use a developer command prompt shortcut instead of building your own.","leadings":["","> "],"nodes":[{"content":" A developer command prompt shortcut automatically sets the correct paths for the compiler and tools, and for any required headers and libraries. You must set these environment values yourself if you don't use one of the shortcuts. For more information, see [Setting the Path and Environment Variables for Command-Line Builds](../build/setting-the-path-and-environment-variables-for-command-line-builds.md). Because the build environment is complex, we recommend you use a developer command prompt shortcut instead of building your own.","pos":[8,544],"nodes":[{"content":"A developer command prompt shortcut automatically sets the correct paths for the compiler and tools, and for any required headers and libraries.","pos":[1,145]},{"content":"You must set these environment values yourself if you don't use one of the shortcuts.","pos":[146,231]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Setting the Path and Environment Variables for Command-Line Builds<ept id=\"p1\">](../build/setting-the-path-and-environment-variables-for-command-line-builds.md)</ept>.","pos":[232,407],"source":" For more information, see [Setting the Path and Environment Variables for Command-Line Builds](../build/setting-the-path-and-environment-variables-for-command-line-builds.md)."},{"content":"Because the build environment is complex, we recommend you use a developer command prompt shortcut instead of building your own.","pos":[408,536]}]}]},{"content":"Open a developer command prompt","pos":[4020,4051]},{"content":"If you have installed Visual Studio 2015 on Windows 10, open the Start menu and choose <bpt id=\"p1\">**</bpt>All apps<ept id=\"p1\">**</ept>.","pos":[4061,4161],"source":"If you have installed Visual Studio 2015 on Windows 10, open the Start menu and choose **All apps**."},{"content":"Scroll down and open the <bpt id=\"p1\">**</bpt>Visual Studio 2015<ept id=\"p1\">**</ept> folder (not the Visual Studio 2015 app).","pos":[4162,4250],"source":" Scroll down and open the **Visual Studio 2015** folder (not the Visual Studio 2015 app)."},{"content":"Choose <bpt id=\"p1\">**</bpt>Developer Command Prompt for VS2015<ept id=\"p1\">**</ept> to open the command prompt window.","pos":[4251,4332],"source":" Choose **Developer Command Prompt for VS2015** to open the command prompt window."},{"content":"If you have installed Microsoft Visual C++ Build Tools 2015 on Windows 10, open the <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept> menu and choose <bpt id=\"p2\">**</bpt>All apps<ept id=\"p2\">**</ept>.","pos":[4343,4466],"source":"If you have installed Microsoft Visual C++ Build Tools 2015 on Windows 10, open the **Start** menu and choose **All apps**."},{"content":"Scroll down and open the <bpt id=\"p1\">**</bpt>Visual C++ Build Tools<ept id=\"p1\">**</ept> folder.","pos":[4467,4526],"source":" Scroll down and open the **Visual C++ Build Tools** folder."},{"content":"Choose <bpt id=\"p1\">**</bpt>Visual C++ 2015 x86 Native Tools Command Prompt<ept id=\"p1\">**</ept> to open the command prompt window.","pos":[4527,4620],"source":" Choose **Visual C++ 2015 x86 Native Tools Command Prompt** to open the command prompt window."},{"content":"If you are using a different version of Visual Studio or are running a different version of Windows, look in your Start menu or Start page for a Visual Studio tools folder that contains a developer command prompt shortcut.","pos":[4631,4853]},{"content":"You can also use the Windows search function to search for \"developer command prompt\" and choose one that matches your installed version of Visual Studio.","pos":[4854,5008]},{"content":"Use the shortcut to open the command prompt window.","pos":[5009,5060]},{"content":"Next, verify that the Visual C++ developer command prompt is set up correctly.","pos":[5070,5148]},{"content":"In the command prompt window, enter <ph id=\"ph1\">`cl`</ph> and verify that the output looks something like this:","pos":[5149,5243],"source":" In the command prompt window, enter `cl` and verify that the output looks something like this:"},{"content":"There may be differences in the current directory or version numbers, depending on the version of Visual C++ and any updates installed.","pos":[5552,5687]},{"content":"If this is similar to what you see, then you are ready to build C or C++ programs at the command line.","pos":[5688,5790]},{"pos":[5802,6167],"content":"[!NOTE]\n If you get an error such as \"'cl' is not recognized as an internal or external command, operable program or batch file,\" error C1034, or error LNK1104 when you run the **cl** command, then either you are not using a developer command prompt, or something is wrong with your installation of Visual C++. You must fix this issue before you can continue.","leadings":["","    > "],"nodes":[{"content":" If you get an error such as \"'cl' is not recognized as an internal or external command, operable program or batch file,\" error C1034, or error LNK1104 when you run the **cl** command, then either you are not using a developer command prompt, or something is wrong with your installation of Visual C++. You must fix this issue before you can continue.","pos":[8,359],"nodes":[{"content":"If you get an error such as \"'cl' is not recognized as an internal or external command, operable program or batch file,\" error C1034, or error LNK1104 when you run the <bpt id=\"p1\">**</bpt>cl<ept id=\"p1\">**</ept> command, then either you are not using a developer command prompt, or something is wrong with your installation of Visual C++.","pos":[1,302],"source":" If you get an error such as \"'cl' is not recognized as an internal or external command, operable program or batch file,\" error C1034, or error LNK1104 when you run the **cl** command, then either you are not using a developer command prompt, or something is wrong with your installation of Visual C++."},{"content":"You must fix this issue before you can continue.","pos":[303,351]}]}]},{"content":"If you can't find the developer command prompt shortcut, or if you get an error message when you enter <ph id=\"ph1\">`cl`</ph>, then your Visual C++ installation may have a problem.","pos":[6178,6340],"source":"If you can't find the developer command prompt shortcut, or if you get an error message when you enter `cl`, then your Visual C++ installation may have a problem."},{"content":"Try reinstalling the Visual C++ component in Visual Studio, or reinstall the Microsoft Visual C++ Build Tools.","pos":[6341,6451]},{"content":"Don't go on to the next section until this works.","pos":[6452,6501]},{"content":"For more information about installing and troubleshooting Visual C++, see <bpt id=\"p1\">[</bpt>Install Visual Studio<ept id=\"p1\">](/visualstudio/install/install-visual-studio)</ept>.","pos":[6502,6645],"source":" For more information about installing and troubleshooting Visual C++, see [Install Visual Studio](/visualstudio/install/install-visual-studio)."},{"pos":[6657,6990],"content":"[!NOTE]\n Depending on the version of Windows on the computer and the system security configuration, you might have to right-click to open the shortcut menu for the developer command prompt shortcut and then choose **Run as Administrator** to successfully build and run the program that you create by following this walkthrough.","leadings":["","    > "],"nodes":[{"content":"Depending on the version of Windows on the computer and the system security configuration, you might have to right-click to open the shortcut menu for the developer command prompt shortcut and then choose <bpt id=\"p1\">**</bpt>Run as Administrator<ept id=\"p1\">**</ept> to successfully build and run the program that you create by following this walkthrough.","pos":[9,327],"source":" Depending on the version of Windows on the computer and the system security configuration, you might have to right-click to open the shortcut menu for the developer command prompt shortcut and then choose **Run as Administrator** to successfully build and run the program that you create by following this walkthrough."}]},{"content":"Create a C source file and compile it on the command line","pos":[6999,7056]},{"content":"In the developer command prompt window, enter <bpt id=\"p1\">**</bpt>cd c:<ph id=\"ph1\">\\\\</ph><ept id=\"p1\">**</ept> to change the current working directory to the root of your C: drive.","pos":[7066,7193],"source":"In the developer command prompt window, enter **cd c:\\\\** to change the current working directory to the root of your C: drive."},{"content":"Next, enter <bpt id=\"p1\">**</bpt>md c:\\simple<ept id=\"p1\">**</ept> to create a directory, and then enter <bpt id=\"p2\">**</bpt>cd c:\\simple<ept id=\"p2\">**</ept> to change to that directory.","pos":[7194,7306],"source":" Next, enter **md c:\\simple** to create a directory, and then enter **cd c:\\simple** to change to that directory."},{"content":"This is the directory that will contain your source file and the compiled program.","pos":[7307,7389]},{"content":"Enter <bpt id=\"p1\">**</bpt>notepad simple.c<ept id=\"p1\">**</ept> at the developer command prompt.","pos":[7399,7458],"source":"Enter **notepad simple.c** at the developer command prompt."},{"content":"In the Notepad alert dialog that pops up, choose <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept> to create a new simple.c file in your working directory.","pos":[7459,7572],"source":" In the Notepad alert dialog that pops up, choose **Yes** to create a new simple.c file in your working directory."},{"content":"In Notepad, enter the following lines of code:","pos":[7582,7628]},{"pos":[7838,7932],"content":"On the Notepad menu bar, choose <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept> to save simple.c in your working directory.","source":"On the Notepad menu bar, choose **File**, **Save** to save simple.c in your working directory."},{"content":"Switch back to the developer command prompt window.","pos":[7942,7993]},{"content":"Enter <bpt id=\"p1\">**</bpt>dir<ept id=\"p1\">**</ept> at the command prompt to list the contents of the c:\\simple directory.","pos":[7994,8078],"source":" Enter **dir** at the command prompt to list the contents of the c:\\simple directory."},{"content":"You should see the source file simple.c in the directory listing, which looks something like this:","pos":[8079,8177]},{"content":"The dates and other details will differ on your computer.","pos":[8615,8672]},{"content":"If you don't see your source code file, simple.c, make sure you've changed to the c:\\simple directory you created, and in Notepad, make sure that you saved your source file in this directory.","pos":[8673,8864]},{"content":"Also make sure that you saved the source code with a .c file name extension, not a .txt extension.","pos":[8865,8963]},{"pos":[8973,9052],"content":"To compile your program, enter <bpt id=\"p1\">**</bpt>cl simple.c<ept id=\"p1\">**</ept> at the developer command prompt.","source":"To compile your program, enter **cl simple.c** at the developer command prompt."},{"content":"You can see the executable program name, simple.exe, in the lines of output information that the compiler displays:","pos":[9063,9178]},{"pos":[9572,9895],"content":"[!NOTE]\n If you get an error such as \"'cl' is not recognized as an internal or external command, operable program or batch file,\" error C1034, or error LNK1104, your developer command prompt is not set up correctly. For information on how to fix this issue, go back to the **Open a developer command prompt** section.","leadings":["","    > "],"nodes":[{"content":" If you get an error such as \"'cl' is not recognized as an internal or external command, operable program or batch file,\" error C1034, or error LNK1104, your developer command prompt is not set up correctly. For information on how to fix this issue, go back to the **Open a developer command prompt** section.","pos":[8,317],"nodes":[{"content":"If you get an error such as \"'cl' is not recognized as an internal or external command, operable program or batch file,\" error C1034, or error LNK1104, your developer command prompt is not set up correctly.","pos":[1,207]},{"content":"For information on how to fix this issue, go back to the <bpt id=\"p1\">**</bpt>Open a developer command prompt<ept id=\"p1\">**</ept> section.","pos":[208,309],"source":" For information on how to fix this issue, go back to the **Open a developer command prompt** section."}]}]},{"pos":[9907,10175],"content":"[!NOTE]\n If you get a different compiler or linker error or warning, review your source code to correct any errors, then save it and run the compiler again. For information about specific errors, use the search box on this MSDN page to look for the error number.","leadings":["","    > "],"nodes":[{"content":" If you get a different compiler or linker error or warning, review your source code to correct any errors, then save it and run the compiler again. For information about specific errors, use the search box on this MSDN page to look for the error number.","pos":[8,262],"nodes":[{"content":"If you get a different compiler or linker error or warning, review your source code to correct any errors, then save it and run the compiler again.","pos":[1,148]},{"content":"For information about specific errors, use the search box on this MSDN page to look for the error number.","pos":[149,254]}]}]},{"pos":[10185,10245],"content":"To run your program, enter <bpt id=\"p1\">**</bpt>simple<ept id=\"p1\">**</ept> at the command prompt.","source":"To run your program, enter **simple** at the command prompt."},{"content":"The program displays this text and then exits:","pos":[10256,10302]},{"content":"Congratulations, you've just compiled and run a C program by using the command-line.","pos":[10419,10503]},{"content":"Next steps","pos":[10512,10522]},{"content":"This \"Hello, World\" example is about as simple as a C program can get.","pos":[10526,10596]},{"content":"Real world programs have header files and more source files, link in libraries, and do useful work.","pos":[10597,10696]},{"content":"You can use the steps in this walkthrough to build your own C code instead of typing the sample code shown.","pos":[10703,10810]},{"content":"You can also build many C code sample programs that you find elsewhere.","pos":[10811,10882]},{"content":"To compile a program that has multiple source code files, enter them all on the command line, like this:","pos":[10883,10987]},{"content":"The compiler outputs a program called file1.exe.","pos":[11029,11077]},{"content":"To change the name to program1.exe, add an <bpt id=\"p1\">[</bpt>/out<ept id=\"p1\">](../build/reference/out-output-file-name.md)</ept> linker option:","pos":[11078,11186],"source":" To change the name to program1.exe, add an [/out](../build/reference/out-output-file-name.md) linker option:"},{"pos":[11252,11493],"content":"And to catch more programming mistakes automatically, we recommend you compile by using either the <bpt id=\"p1\">[</bpt>/W3<ept id=\"p1\">](../build/reference/compiler-option-warning-level.md)</ept> or <bpt id=\"p2\">[</bpt>/W4<ept id=\"p2\">](../build/reference/compiler-option-warning-level.md)</ept> warning level option:","source":"And to catch more programming mistakes automatically, we recommend you compile by using either the [/W3](../build/reference/compiler-option-warning-level.md) or [/W4](../build/reference/compiler-option-warning-level.md) warning level option:"},{"content":"The compiler, cl.exe, has many more options you can apply to build, optimize, debug, and analyze your code.","pos":[11563,11670]},{"content":"For a quick list, enter <bpt id=\"p1\">**</bpt>cl /?<ept id=\"p1\">**</ept>","pos":[11671,11704],"source":" For a quick list, enter **cl /?**"},{"content":"at the developer command prompt.","pos":[11705,11737]},{"content":"You can also compile and link separately and apply linker options in more complex build scenarios.","pos":[11738,11836]},{"content":"For more information on compiler and linker options and usage, see  <bpt id=\"p1\">[</bpt>C/C++ Building Reference<ept id=\"p1\">](../build/reference/c-cpp-building-reference.md)</ept>.","pos":[11837,11980],"source":" For more information on compiler and linker options and usage, see  [C/C++ Building Reference](../build/reference/c-cpp-building-reference.md)."},{"content":"You can use NMAKE and makefiles, or MSBuild and project files to configure and build more complex projects on the command line.","pos":[11987,12114]},{"content":"For more information on using these tools, see <bpt id=\"p1\">[</bpt>NMAKE Reference<ept id=\"p1\">](../build/nmake-reference.md)</ept> and <bpt id=\"p2\">[</bpt>MSBuild<ept id=\"p2\">](../build/msbuild-visual-cpp.md)</ept>.","pos":[12115,12255],"source":" For more information on using these tools, see [NMAKE Reference](../build/nmake-reference.md) and [MSBuild](../build/msbuild-visual-cpp.md)."},{"content":"The C and C++ languages are similar, but not the same.","pos":[12262,12316]},{"content":"The Visual C++ compiler uses a simple rule to determine which language to use when it compiles your code.","pos":[12317,12422]},{"content":"By default, the Visual C++ compiler treats all files that end in .c as C source code, and all files that end in .cpp as C++ source code.","pos":[12423,12559]},{"content":"To force the compiler to treat all files as C regardless of file name extension, use the <bpt id=\"p1\">[</bpt>/Tc<ept id=\"p1\">](../build/reference/tc-tp-tc-tp-specify-source-file-type.md)</ept> compiler option.","pos":[12560,12731],"source":" To force the compiler to treat all files as C regardless of file name extension, use the [/Tc](../build/reference/tc-tp-tc-tp-specify-source-file-type.md) compiler option."},{"content":"The Visual C++ C compiler is generally compatible with the ISO C99 standard, but not strictly compliant.","pos":[12738,12842]},{"content":"In most cases, portable C code will compile and run as expected.","pos":[12843,12907]},{"content":"Visual C++ does not support most of the changes in ISO C11.","pos":[12908,12967]},{"content":"Certain library functions and POSIX function names are deprecated by the Visual C++ compiler.","pos":[12968,13061]},{"content":"The functions are supported, but the preferred names have changed.","pos":[13062,13128]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Security Features in the CRT<ept id=\"p1\">](../c-runtime-library/security-features-in-the-crt.md)</ept> and <bpt id=\"p2\">[</bpt>Compiler Warning (level 3) C4996<ept id=\"p2\">](../error-messages/compiler-warnings/compiler-warning-level-3-c4996.md)</ept>.","pos":[13129,13350],"source":" For more information, see [Security Features in the CRT](../c-runtime-library/security-features-in-the-crt.md) and [Compiler Warning (level 3) C4996](../error-messages/compiler-warnings/compiler-warning-level-3-c4996.md)."},{"content":"See Also","pos":[13359,13367]},{"content":"Walkthrough: Creating a Standard C++ Program (C++)","pos":[13372,13422]},{"content":"C Language Reference","pos":[13492,13512]},{"content":"Building C/C++ Programs","pos":[13558,13581]},{"content":"Compatibility","pos":[13625,13638]}],"content":"---\ntitle: \"Walkthrough: Compile a C program on the command line | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"get-started-article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"command-line applications [C++], C programs\"\n  - \"Visual C, compiling\"\n  - \"compiling programs [C++]\"\n  - \"C program compiling [C++]\"\nms.assetid: 7e74cc2d-54b1-49de-b7ad-d3ae6b39ab8d\ncaps.latest.revision: 46\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# Walkthrough: Compile a C program on the command line\nVisual C++ includes a C compiler that you can use to create everything from basic console programs to full Windows Desktop applications, mobile apps, and more.  \n  \n This walkthrough shows how to create a basic, \"Hello, World\"-style C program by using a text editor, and then compile it on the command line. If you'd rather work in C++ on the command line, see [Walkthrough: Compiling a Native C++ Program on the Command Line](../build/walkthrough-compiling-a-native-cpp-program-on-the-command-line.md). If you'd like to try the Visual Studio IDE instead of using the command line, see [Walkthrough: Working with Projects and Solutions (C++)](../ide/walkthrough-working-with-projects-and-solutions-cpp.md) or [Using the Visual Studio IDE for C++ Desktop Development](../ide/using-the-visual-studio-ide-for-cpp-desktop-development.md).  \n  \n## Prerequisites  \n To complete this walkthrough, you must have installed either Visual Studio and the optional Visual C++ components, or the Microsoft Visual C++ Build Tools.  \n  \n Visual Studio is a powerful integrated development environment that supports a full-featured editor, resource managers, debuggers, and compilers for many languages and platforms. For information on these features and  how to download and install Visual Studio, including the free Visual Studio Community edition, see [VisualStudio.com](https://www.visualstudio.com/).  \n  \n The Microsoft Visual C++ Build Tools installs only the command-line compiler, tools, and libraries you need to build C and C++ programs. It's perfect for build labs or classroom exercises and installs relatively quickly. To install only the command-line tools, download and install [Microsoft Visual C++ Build Tools 2015](http://go.microsoft.com/fwlink/?LinkId=691126).  \n  \n Before you can build a C or C++ program on the command line, you must verify that the tools are installed, and that you can access them from the command line. Visual C++ has complex requirements for the command-line environment in order to find the tools, headers, and libraries it uses. **You can't use Visual C++ in a plain command prompt window**. You need a *developer* command prompt, which is a regular command prompt that has all the required environment variables set. Fortunately, Visual C++ installs shortcuts for you to launch developer command prompts that have the environment set up for command line builds. Unfortunately, the names of the developer command prompt shortcuts and where they are located are different in almost every version of Visual C++ and on different versions of Windows. Your first walkthrough task is to find the right shortcut to use.  \n  \n> [!NOTE]\n>  A developer command prompt shortcut automatically sets the correct paths for the compiler and tools, and for any required headers and libraries. You must set these environment values yourself if you don't use one of the shortcuts. For more information, see [Setting the Path and Environment Variables for Command-Line Builds](../build/setting-the-path-and-environment-variables-for-command-line-builds.md). Because the build environment is complex, we recommend you use a developer command prompt shortcut instead of building your own.  \n  \n## Open a developer command prompt  \n  \n1.  If you have installed Visual Studio 2015 on Windows 10, open the Start menu and choose **All apps**. Scroll down and open the **Visual Studio 2015** folder (not the Visual Studio 2015 app). Choose **Developer Command Prompt for VS2015** to open the command prompt window.  \n  \n     If you have installed Microsoft Visual C++ Build Tools 2015 on Windows 10, open the **Start** menu and choose **All apps**. Scroll down and open the **Visual C++ Build Tools** folder. Choose **Visual C++ 2015 x86 Native Tools Command Prompt** to open the command prompt window.  \n  \n     If you are using a different version of Visual Studio or are running a different version of Windows, look in your Start menu or Start page for a Visual Studio tools folder that contains a developer command prompt shortcut. You can also use the Windows search function to search for \"developer command prompt\" and choose one that matches your installed version of Visual Studio. Use the shortcut to open the command prompt window.  \n  \n2.  Next, verify that the Visual C++ developer command prompt is set up correctly. In the command prompt window, enter `cl` and verify that the output looks something like this:  \n  \n    ```Output  \n    C:\\Program Files (x86)\\Microsoft Visual Studio 14.0>cl  \n    Microsoft (R) C/C++ Optimizing Compiler Version 19.00.23918 for x86  \n    Copyright (C) Microsoft Corporation.  All rights reserved.  \n  \n    usage: cl [ option... ] filename... [ /link linkoption... ]  \n    ```  \n  \n     There may be differences in the current directory or version numbers, depending on the version of Visual C++ and any updates installed. If this is similar to what you see, then you are ready to build C or C++ programs at the command line.  \n  \n    > [!NOTE]\n    >  If you get an error such as \"'cl' is not recognized as an internal or external command, operable program or batch file,\" error C1034, or error LNK1104 when you run the **cl** command, then either you are not using a developer command prompt, or something is wrong with your installation of Visual C++. You must fix this issue before you can continue.  \n  \n     If you can't find the developer command prompt shortcut, or if you get an error message when you enter `cl`, then your Visual C++ installation may have a problem. Try reinstalling the Visual C++ component in Visual Studio, or reinstall the Microsoft Visual C++ Build Tools. Don't go on to the next section until this works. For more information about installing and troubleshooting Visual C++, see [Install Visual Studio](/visualstudio/install/install-visual-studio).  \n  \n    > [!NOTE]\n    >  Depending on the version of Windows on the computer and the system security configuration, you might have to right-click to open the shortcut menu for the developer command prompt shortcut and then choose **Run as Administrator** to successfully build and run the program that you create by following this walkthrough.  \n  \n## Create a C source file and compile it on the command line  \n  \n1.  In the developer command prompt window, enter **cd c:\\\\** to change the current working directory to the root of your C: drive. Next, enter **md c:\\simple** to create a directory, and then enter **cd c:\\simple** to change to that directory. This is the directory that will contain your source file and the compiled program.  \n  \n2.  Enter **notepad simple.c** at the developer command prompt. In the Notepad alert dialog that pops up, choose **Yes** to create a new simple.c file in your working directory.  \n  \n3.  In Notepad, enter the following lines of code:  \n  \n    ```c  \n    #include <stdio.h>  \n  \n    int main()  \n    {  \n        printf(\"Hello, World! This is a native C program compiled on the command line.\\n\");  \n        return 0;  \n    }   \n    ```  \n  \n4.  On the Notepad menu bar, choose **File**, **Save** to save simple.c in your working directory.  \n  \n5.  Switch back to the developer command prompt window. Enter **dir** at the command prompt to list the contents of the c:\\simple directory. You should see the source file simple.c in the directory listing, which looks something like this:  \n  \n    ```Output  \n    C:\\simple>dir  \n     Volume in drive C has no label.  \n     Volume Serial Number is CC62-6545  \n  \n     Directory of C:\\simple  \n  \n    10/02/2015  03:46 PM    <DIR>          .  \n    10/02/2015  03:46 PM    <DIR>          ..  \n    10/02/2015  03:36 PM               143 simple.c  \n                   1 File(s)            143 bytes  \n                   2 Dir(s)  514,900,566,016 bytes free  \n  \n    ```  \n  \n     The dates and other details will differ on your computer. If you don't see your source code file, simple.c, make sure you've changed to the c:\\simple directory you created, and in Notepad, make sure that you saved your source file in this directory. Also make sure that you saved the source code with a .c file name extension, not a .txt extension.  \n  \n6.  To compile your program, enter **cl simple.c** at the developer command prompt.  \n  \n     You can see the executable program name, simple.exe, in the lines of output information that the compiler displays:  \n  \n    ```Output  \n    c:\\simple>cl simple.c  \n    Microsoft (R) C/C++ Optimizing Compiler Version 19.00.23918 for x86  \n    Copyright (C) Microsoft Corporation.  All rights reserved.  \n  \n    simple.c  \n    Microsoft (R) Incremental Linker Version 14.00.23918.0  \n    Copyright (C) Microsoft Corporation.  All rights reserved.  \n  \n    /out:simple.exe  \n    simple.obj  \n    ```  \n  \n    > [!NOTE]\n    >  If you get an error such as \"'cl' is not recognized as an internal or external command, operable program or batch file,\" error C1034, or error LNK1104, your developer command prompt is not set up correctly. For information on how to fix this issue, go back to the **Open a developer command prompt** section.  \n  \n    > [!NOTE]\n    >  If you get a different compiler or linker error or warning, review your source code to correct any errors, then save it and run the compiler again. For information about specific errors, use the search box on this MSDN page to look for the error number.  \n  \n7.  To run your program, enter **simple** at the command prompt.  \n  \n     The program displays this text and then exits:  \n  \n    ```Output  \n    Hello, World! This is a native C program compiled on the command line.  \n    ```  \n  \n     Congratulations, you've just compiled and run a C program by using the command-line.  \n  \n## Next steps  \n This \"Hello, World\" example is about as simple as a C program can get. Real world programs have header files and more source files, link in libraries, and do useful work.  \n  \n You can use the steps in this walkthrough to build your own C code instead of typing the sample code shown. You can also build many C code sample programs that you find elsewhere. To compile a program that has multiple source code files, enter them all on the command line, like this:  \n  \n `cl file1.c file2.c file3.c`  \n  \n The compiler outputs a program called file1.exe. To change the name to program1.exe, add an [/out](../build/reference/out-output-file-name.md) linker option:  \n  \n `cl file1.c file2.c file3.c /link /out:program1.exe`  \n  \n And to catch more programming mistakes automatically, we recommend you compile by using either the [/W3](../build/reference/compiler-option-warning-level.md) or [/W4](../build/reference/compiler-option-warning-level.md) warning level option:  \n  \n `cl /W4 file1.c file2.c file3.c /link /out:program1.exe`  \n  \n The compiler, cl.exe, has many more options you can apply to build, optimize, debug, and analyze your code. For a quick list, enter **cl /?** at the developer command prompt. You can also compile and link separately and apply linker options in more complex build scenarios. For more information on compiler and linker options and usage, see  [C/C++ Building Reference](../build/reference/c-cpp-building-reference.md).  \n  \n You can use NMAKE and makefiles, or MSBuild and project files to configure and build more complex projects on the command line. For more information on using these tools, see [NMAKE Reference](../build/nmake-reference.md) and [MSBuild](../build/msbuild-visual-cpp.md).  \n  \n The C and C++ languages are similar, but not the same. The Visual C++ compiler uses a simple rule to determine which language to use when it compiles your code. By default, the Visual C++ compiler treats all files that end in .c as C source code, and all files that end in .cpp as C++ source code. To force the compiler to treat all files as C regardless of file name extension, use the [/Tc](../build/reference/tc-tp-tc-tp-specify-source-file-type.md) compiler option.  \n  \n The Visual C++ C compiler is generally compatible with the ISO C99 standard, but not strictly compliant. In most cases, portable C code will compile and run as expected. Visual C++ does not support most of the changes in ISO C11. Certain library functions and POSIX function names are deprecated by the Visual C++ compiler. The functions are supported, but the preferred names have changed. For more information, see [Security Features in the CRT](../c-runtime-library/security-features-in-the-crt.md) and [Compiler Warning (level 3) C4996](../error-messages/compiler-warnings/compiler-warning-level-3-c4996.md).  \n  \n## See Also  \n [Walkthrough: Creating a Standard C++ Program (C++)](../windows/walkthrough-creating-a-standard-cpp-program-cpp.md)   \n [C Language Reference](../c-language/c-language-reference.md)   \n [Building C/C++ Programs](../build/building-c-cpp-programs.md)   \n [Compatibility](../c-runtime-library/compatibility.md)"}