{"nodes":[{"pos":[12,50],"content":"Aggregates and Unions | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Aggregates and Unions | Microsoft Docs","pos":[0,38]}]},{"content":"Aggregates and Unions","pos":[587,608]},{"content":"Other types such as arrays, structs, and unions have stricter alignment requirements that ensure consistent aggregate and union storage and data retrieval.","pos":[609,764]},{"content":"Here are the definitions for array, structure, and union:","pos":[765,822]},{"content":"Array","pos":[829,834]},{"content":"Contains an ordered group of adjacent data objects.","pos":[838,889]},{"content":"Each object is called an element.","pos":[890,923]},{"content":"All elements within an array have the same size and data type.","pos":[924,986]},{"content":"Structure","pos":[993,1002]},{"content":"Contains an ordered group of data objects.","pos":[1006,1048]},{"content":"Unlike the elements of an array, the data objects within a structure can have different data types and sizes.","pos":[1049,1158]},{"content":"Each data object in a structure is called a member.","pos":[1159,1210]},{"content":"Union","pos":[1217,1222]},{"content":"An object that holds any one of a set of named members.","pos":[1226,1281]},{"content":"The members of the named set can be of any type.","pos":[1282,1330]},{"content":"The storage allocated for a union is equal to the storage required for the largest member of that union, plus any padding required for alignment.","pos":[1331,1476]},{"content":"The following table shows the strongly suggested alignment for the scalar members of unions and structures.","pos":[1483,1590]},{"content":"Scalar Type","pos":[1614,1625]},{"content":"C Data Type","pos":[1626,1637]},{"content":"Required Alignment","pos":[1638,1656]},{"content":"INT8","pos":[1663,1667]},{"content":"Byte","pos":[1677,1681]},{"content":"UINT8","pos":[1688,1693]},{"content":"Byte","pos":[1712,1716]},{"content":"INT16","pos":[1723,1728]},{"content":"short","pos":[1733,1738]},{"content":"Word","pos":[1741,1745]},{"content":"UINT16","pos":[1752,1758]},{"content":"unsigned short","pos":[1763,1777]},{"content":"Word","pos":[1780,1784]},{"content":"INT32","pos":[1791,1796]},{"content":"int, long","pos":[1801,1810]},{"content":"Doubleword","pos":[1813,1823]},{"content":"UINT32","pos":[1830,1836]},{"content":"unsigned int, unsigned long","pos":[1841,1868]},{"content":"Doubleword","pos":[1871,1881]},{"content":"INT64","pos":[1888,1893]},{"content":"Quadword","pos":[1906,1914]},{"content":"UINT64","pos":[1921,1927]},{"content":"unsigned __int64","pos":[1932,1948]},{"content":"Quadword","pos":[1951,1959]},{"content":"FP32 (single precision)","pos":[1966,1989]},{"content":"float","pos":[1994,1999]},{"content":"Doubleword","pos":[2002,2012]},{"content":"FP64 (double precision)","pos":[2019,2042]},{"content":"double","pos":[2047,2053]},{"content":"Quadword","pos":[2056,2064]},{"content":"POINTER","pos":[2071,2078]},{"content":"Quadword","pos":[2088,2096]},{"content":"struct __m64","pos":[2111,2123]},{"content":"Quadword","pos":[2126,2134]},{"content":"struct __m128","pos":[2150,2163]},{"content":"Octaword","pos":[2166,2174]},{"content":"The following aggregate alignment rules apply:","pos":[2182,2228]},{"content":"The alignment of an array is the same as the alignment of one of the elements of the array.","pos":[2238,2329]},{"content":"The alignment of the beginning of a structure or a union is the maximum alignment of any individual member.","pos":[2339,2446]},{"content":"Each member within the structure or union must be placed at its proper alignment as defined in the previous table, which may require implicit internal padding, depending on the previous member.","pos":[2447,2640]},{"content":"Structure size must be an integral multiple of its alignment, which may require padding after the last member.","pos":[2650,2760]},{"content":"Since structures and unions can be grouped in arrays, each array element of a structure or union must begin and end at the proper alignment previously determined.","pos":[2761,2923]},{"content":"It is possible to align data in such a way as to be greater than the alignment requirements as long as the previous rules are maintained.","pos":[2933,3070]},{"content":"An individual compiler may adjust the packing of a structure for size reasons.","pos":[3080,3158]},{"content":"For example <bpt id=\"p1\">[</bpt>/Zp (Struct Member Alignment)<ept id=\"p1\">](../build/reference/zp-struct-member-alignment.md)</ept> allows for adjusting the packing of structures.","pos":[3159,3300],"source":" For example [/Zp (Struct Member Alignment)](../build/reference/zp-struct-member-alignment.md) allows for adjusting the packing of structures."},{"content":"See Also","pos":[3309,3317]},{"content":"Types and Storage","pos":[3322,3339]}],"content":"---\ntitle: \"Aggregates and Unions | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"aggregates [C++], and unions\"\nms.assetid: 859fc211-b111-4f12-af98-de78e48f9b92\ncaps.latest.revision: 7\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Aggregates and Unions\nOther types such as arrays, structs, and unions have stricter alignment requirements that ensure consistent aggregate and union storage and data retrieval. Here are the definitions for array, structure, and union:  \n  \n Array  \n Contains an ordered group of adjacent data objects. Each object is called an element. All elements within an array have the same size and data type.  \n  \n Structure  \n Contains an ordered group of data objects. Unlike the elements of an array, the data objects within a structure can have different data types and sizes. Each data object in a structure is called a member.  \n  \n Union  \n An object that holds any one of a set of named members. The members of the named set can be of any type. The storage allocated for a union is equal to the storage required for the largest member of that union, plus any padding required for alignment.  \n  \n The following table shows the strongly suggested alignment for the scalar members of unions and structures.  \n  \n||||  \n|-|-|-|  \n|Scalar Type|C Data Type|Required Alignment|  \n|**INT8**|`char`|Byte|  \n|**UINT8**|`unsigned char`|Byte|  \n|**INT16**|**short**|Word|  \n|**UINT16**|**unsigned short**|Word|  \n|**INT32**|**int, long**|Doubleword|  \n|**UINT32**|**unsigned int, unsigned long**|Doubleword|  \n|**INT64**|`__int64`|Quadword|  \n|**UINT64**|**unsigned __int64**|Quadword|  \n|**FP32 (single precision)**|**float**|Doubleword|  \n|**FP64 (double precision)**|**double**|Quadword|  \n|**POINTER**|**\\***|Quadword|  \n|`__m64`|**struct __m64**|Quadword|  \n|`__m128`|**struct __m128**|Octaword|  \n  \n The following aggregate alignment rules apply:  \n  \n-   The alignment of an array is the same as the alignment of one of the elements of the array.  \n  \n-   The alignment of the beginning of a structure or a union is the maximum alignment of any individual member. Each member within the structure or union must be placed at its proper alignment as defined in the previous table, which may require implicit internal padding, depending on the previous member.  \n  \n-   Structure size must be an integral multiple of its alignment, which may require padding after the last member. Since structures and unions can be grouped in arrays, each array element of a structure or union must begin and end at the proper alignment previously determined.  \n  \n-   It is possible to align data in such a way as to be greater than the alignment requirements as long as the previous rules are maintained.  \n  \n-   An individual compiler may adjust the packing of a structure for size reasons. For example [/Zp (Struct Member Alignment)](../build/reference/zp-struct-member-alignment.md) allows for adjusting the packing of structures.  \n  \n## See Also  \n [Types and Storage](../build/types-and-storage.md)"}