{"nodes":[{"pos":[12,38],"content":"_recalloc | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_recalloc | Microsoft Docs","pos":[0,26]}]},{"content":"_recalloc","pos":[976,985]},{"content":"A combination of <ph id=\"ph1\">`realloc`</ph> and <ph id=\"ph2\">`calloc`</ph>.","pos":[986,1026],"source":"A combination of `realloc` and `calloc`."},{"content":"Reallocates an array in memory and initializes its elements to 0.","pos":[1027,1092]},{"content":"Syntax","pos":[1101,1107]},{"content":"Parameters","pos":[1213,1223]},{"content":"Pointer to previously allocated memory block.","pos":[1241,1286]},{"content":"Number of elements.","pos":[1302,1321]},{"content":"Length in bytes of each element.","pos":[1338,1370]},{"content":"Return Value","pos":[1379,1391]},{"pos":[1407,1485],"content":"returns a <ph id=\"ph1\">`void`</ph> pointer to the reallocated (and possibly moved) memory block.","source":" returns a `void` pointer to the reallocated (and possibly moved) memory block."},{"pos":[1492,1632],"content":"If there is not enough available memory to expand the block to the given size, the original block is left unchanged, and <ph id=\"ph1\">`NULL`</ph> is returned.","source":"If there is not enough available memory to expand the block to the given size, the original block is left unchanged, and `NULL` is returned."},{"pos":[1639,1797],"content":"If the requested size is zero, then the block pointed to by <ph id=\"ph1\">`memblock`</ph> is freed; the return value is <ph id=\"ph2\">`NULL`</ph>, and <ph id=\"ph3\">`memblock`</ph> is left pointing at a freed block.","source":"If the requested size is zero, then the block pointed to by `memblock` is freed; the return value is `NULL`, and `memblock` is left pointing at a freed block."},{"content":"The return value points to a storage space that is guaranteed to be suitably aligned for storage of any type of object.","pos":[1804,1923]},{"content":"To get a pointer to a type other than <ph id=\"ph1\">`void`</ph>, use a type cast on the return value.","pos":[1924,2006],"source":" To get a pointer to a type other than `void`, use a type cast on the return value."},{"content":"Remarks","pos":[2015,2022]},{"content":"The _<ph id=\"ph1\">`recalloc`</ph> function changes the size of an allocated memory block.","pos":[2026,2097],"source":"The _`recalloc` function changes the size of an allocated memory block."},{"content":"The <ph id=\"ph1\">`memblock`</ph> argument points to the beginning of the memory block.","pos":[2098,2166],"source":" The `memblock` argument points to the beginning of the memory block."},{"content":"If <ph id=\"ph1\">`memblock`</ph> is <ph id=\"ph2\">`NULL`</ph>, <ph id=\"ph3\">\\_`recalloc`</ph> behaves the same way as <bpt id=\"p1\">[</bpt>calloc<ept id=\"p1\">](../../c-runtime-library/reference/calloc.md)</ept> and allocates a new block of <ph id=\"ph4\">`num` * `size`</ph> bytes.","pos":[2167,2333],"source":" If `memblock` is `NULL`, \\_`recalloc` behaves the same way as [calloc](../../c-runtime-library/reference/calloc.md) and allocates a new block of `num` * `size` bytes."},{"content":"Each element is initialized to 0.","pos":[2334,2367]},{"content":"If <ph id=\"ph1\">`memblock`</ph> is not <ph id=\"ph2\">`NULL`</ph>, it should be a pointer returned by a previous call to <ph id=\"ph3\">`calloc`</ph>, <bpt id=\"p1\">[</bpt>malloc<ept id=\"p1\">](../../c-runtime-library/reference/malloc.md)</ept>, or <bpt id=\"p2\">[</bpt>realloc<ept id=\"p2\">](../../c-runtime-library/reference/realloc.md)</ept>.","pos":[2368,2575],"source":" If `memblock` is not `NULL`, it should be a pointer returned by a previous call to `calloc`, [malloc](../../c-runtime-library/reference/malloc.md), or [realloc](../../c-runtime-library/reference/realloc.md)."},{"pos":[2582,2748],"content":"Because the new block can be in a new memory location, the pointer returned by _<ph id=\"ph1\">`recalloc`</ph> is not guaranteed to be the pointer passed through the <ph id=\"ph2\">`memblock`</ph> argument.","source":"Because the new block can be in a new memory location, the pointer returned by _`recalloc` is not guaranteed to be the pointer passed through the `memblock` argument."},{"content":"sets <ph id=\"ph1\">`errno`</ph> to <ph id=\"ph2\">`ENOMEM`</ph> if the memory allocation fails or if the amount of memory requested exceeds <ph id=\"ph3\">`_HEAP_MAXREQ`</ph>.","pos":[2767,2883],"source":" sets `errno` to `ENOMEM` if the memory allocation fails or if the amount of memory requested exceeds `_HEAP_MAXREQ`."},{"content":"For information on this and other error codes, see <bpt id=\"p1\">[</bpt>errno, _doserrno, _sys_errlist, and _sys_nerr<ept id=\"p1\">](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)</ept>.","pos":[2884,3051],"source":" For information on this and other error codes, see [errno, _doserrno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)."},{"content":"calls <ph id=\"ph1\">`realloc`</ph> in order to use the C++ <bpt id=\"p1\">[</bpt>_set_new_mode<ept id=\"p1\">](../../c-runtime-library/reference/set-new-mode.md)</ept> function to set the new handler mode.","pos":[3069,3213],"source":" calls `realloc` in order to use the C++ [_set_new_mode](../../c-runtime-library/reference/set-new-mode.md) function to set the new handler mode."},{"content":"The new handler mode indicates whether, on failure, <ph id=\"ph1\">`realloc`</ph> is to call the new handler routine as set by <bpt id=\"p1\">[</bpt>_set_new_handler<ept id=\"p1\">](../../c-runtime-library/reference/set-new-handler.md)</ept>.","pos":[3214,3394],"source":" The new handler mode indicates whether, on failure, `realloc` is to call the new handler routine as set by [_set_new_handler](../../c-runtime-library/reference/set-new-handler.md)."},{"content":"By default, <ph id=\"ph1\">`realloc`</ph> does not call the new handler routine on failure to allocate memory.","pos":[3395,3485],"source":" By default, `realloc` does not call the new handler routine on failure to allocate memory."},{"content":"You can override this default behavior so that, when _<ph id=\"ph1\">`recalloc`</ph> fails to allocate memory, <ph id=\"ph2\">`realloc`</ph> calls the new handler routine in the same way that the <ph id=\"ph3\">`new`</ph> operator does when it fails for the same reason.","pos":[3486,3696],"source":" You can override this default behavior so that, when _`recalloc` fails to allocate memory, `realloc` calls the new handler routine in the same way that the `new` operator does when it fails for the same reason."},{"content":"To override the default, call","pos":[3697,3726]},{"content":"early in the program, or link with NEWMODE.OBJ.","pos":[3767,3814]},{"content":"When the application is linked with a debug version of the C run-time libraries, _<ph id=\"ph1\">`recalloc`</ph> resolves to <bpt id=\"p1\">[</bpt>_recalloc_dbg<ept id=\"p1\">](../../c-runtime-library/reference/recalloc-dbg.md)</ept>.","pos":[3821,3993],"source":"When the application is linked with a debug version of the C run-time libraries, _`recalloc` resolves to [_recalloc_dbg](../../c-runtime-library/reference/recalloc-dbg.md)."},{"content":"For more information about how the heap is managed during the debugging process, see <bpt id=\"p1\">[</bpt>The CRT Debug Heap<ept id=\"p1\">](/visualstudio/debugger/crt-debug-heap-details)</ept>.","pos":[3994,4147],"source":" For more information about how the heap is managed during the debugging process, see [The CRT Debug Heap](/visualstudio/debugger/crt-debug-heap-details)."},{"content":"is marked <ph id=\"ph1\">`__declspec(noalias)`</ph> and <ph id=\"ph2\">`__declspec(restrict)`</ph>, meaning that the function is guaranteed not to modify global variables, and that the pointer returned is not aliased.","pos":[4166,4343],"source":" is marked `__declspec(noalias)` and `__declspec(restrict)`, meaning that the function is guaranteed not to modify global variables, and that the pointer returned is not aliased."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>noalias<ept id=\"p1\">](../../cpp/noalias.md)</ept> and <bpt id=\"p2\">[</bpt>restrict<ept id=\"p2\">](../../cpp/restrict.md)</ept>.","pos":[4344,4440],"source":" For more information, see [noalias](../../cpp/noalias.md) and [restrict](../../cpp/restrict.md)."},{"content":"Requirements","pos":[4449,4461]},{"content":"Routine","pos":[4468,4475]},{"content":"Required header","pos":[4476,4491]},{"content":"stdlib.h&gt; and <ph id=\"ph1\">\\&lt;</ph>malloc.h&gt;","pos":[4550,4575],"source":"stdlib.h> and \\<malloc.h>"},{"pos":[4583,4707],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept> in the Introduction.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction."},{"content":".NET Framework Equivalent","pos":[4716,4741]},{"content":"Not applicable.","pos":[4745,4760]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[4761,4808],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[4809,4934],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"content":"See Also","pos":[4943,4951]},{"content":"Memory Allocation","pos":[4956,4973]},{"content":"_recalloc_dbg","pos":[5026,5039]},{"content":"_aligned_recalloc","pos":[5097,5114]},{"content":"_aligned_offset_recalloc","pos":[5176,5200]},{"content":"free","pos":[5269,5273]},{"content":"Link Options","pos":[5323,5335]}],"content":"---\ntitle: \"_recalloc | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_recalloc\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-heap-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_recalloc\"\n  - \"recalloc\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"_recalloc function\"\n  - \"recalloc function\"\nms.assetid: 1db8305a-3f03-418c-8844-bf9149f63046\ncaps.latest.revision: 9\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# _recalloc\nA combination of `realloc` and `calloc`. Reallocates an array in memory and initializes its elements to 0.  \n  \n## Syntax  \n  \n```  \nvoid *_recalloc(   \n   void *memblock  \n   size_t num,  \n   size_t size   \n);  \n```  \n  \n#### Parameters  \n `memblock`  \n Pointer to previously allocated memory block.  \n  \n `num`  \n Number of elements.  \n  \n `size`  \n Length in bytes of each element.  \n  \n## Return Value  \n `_recalloc` returns a `void` pointer to the reallocated (and possibly moved) memory block.  \n  \n If there is not enough available memory to expand the block to the given size, the original block is left unchanged, and `NULL` is returned.  \n  \n If the requested size is zero, then the block pointed to by `memblock` is freed; the return value is `NULL`, and `memblock` is left pointing at a freed block.  \n  \n The return value points to a storage space that is guaranteed to be suitably aligned for storage of any type of object. To get a pointer to a type other than `void`, use a type cast on the return value.  \n  \n## Remarks  \n The _`recalloc` function changes the size of an allocated memory block. The `memblock` argument points to the beginning of the memory block. If `memblock` is `NULL`, \\_`recalloc` behaves the same way as [calloc](../../c-runtime-library/reference/calloc.md) and allocates a new block of `num` * `size` bytes. Each element is initialized to 0. If `memblock` is not `NULL`, it should be a pointer returned by a previous call to `calloc`, [malloc](../../c-runtime-library/reference/malloc.md), or [realloc](../../c-runtime-library/reference/realloc.md).  \n  \n Because the new block can be in a new memory location, the pointer returned by _`recalloc` is not guaranteed to be the pointer passed through the `memblock` argument.  \n  \n `_recalloc` sets `errno` to `ENOMEM` if the memory allocation fails or if the amount of memory requested exceeds `_HEAP_MAXREQ`. For information on this and other error codes, see [errno, _doserrno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md).  \n  \n `recalloc` calls `realloc` in order to use the C++ [_set_new_mode](../../c-runtime-library/reference/set-new-mode.md) function to set the new handler mode. The new handler mode indicates whether, on failure, `realloc` is to call the new handler routine as set by [_set_new_handler](../../c-runtime-library/reference/set-new-handler.md). By default, `realloc` does not call the new handler routine on failure to allocate memory. You can override this default behavior so that, when _`recalloc` fails to allocate memory, `realloc` calls the new handler routine in the same way that the `new` operator does when it fails for the same reason. To override the default, call  \n  \n```  \n_set_new_mode(1)  \n```  \n  \n early in the program, or link with NEWMODE.OBJ.  \n  \n When the application is linked with a debug version of the C run-time libraries, _`recalloc` resolves to [_recalloc_dbg](../../c-runtime-library/reference/recalloc-dbg.md). For more information about how the heap is managed during the debugging process, see [The CRT Debug Heap](/visualstudio/debugger/crt-debug-heap-details).  \n  \n `_recalloc` is marked `__declspec(noalias)` and `__declspec(restrict)`, meaning that the function is guaranteed not to modify global variables, and that the pointer returned is not aliased. For more information, see [noalias](../../cpp/noalias.md) and [restrict](../../cpp/restrict.md).  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_recalloc`|\\<stdlib.h> and \\<malloc.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md) in the Introduction.  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [Memory Allocation](../../c-runtime-library/memory-allocation.md)   \n [_recalloc_dbg](../../c-runtime-library/reference/recalloc-dbg.md)   \n [_aligned_recalloc](../../c-runtime-library/reference/aligned-recalloc.md)   \n [_aligned_offset_recalloc](../../c-runtime-library/reference/aligned-offset-recalloc.md)   \n [free](../../c-runtime-library/reference/free.md)   \n [Link Options](../../c-runtime-library/link-options.md)"}