{"nodes":[{"pos":[12,41],"content":"PogoSafeMode | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"PogoSafeMode | Microsoft Docs","pos":[0,29]}]},{"content":"PogoSafeMode","pos":[562,574]},{"content":"Specify whether to use fast mode or safe mode for application profiling.","pos":[575,647]},{"content":"Syntax","pos":[656,662]},{"content":"Remarks","pos":[701,708]},{"content":"Profile-guided optimization (PGO) has two possible modes during the profiling phase: fast mode and safe mode.","pos":[712,821]},{"content":"When profiling is in fast mode, it uses the <bpt id=\"p1\">**</bpt>INC<ept id=\"p1\">**</ept> instruction to increase data counters.","pos":[822,912],"source":" When profiling is in fast mode, it uses the **INC** instruction to increase data counters."},{"content":"The <bpt id=\"p1\">**</bpt>INC<ept id=\"p1\">**</ept> instruction is faster but is not thread-safe.","pos":[913,970],"source":" The **INC** instruction is faster but is not thread-safe."},{"content":"When profiling is in safe mode, it uses the <bpt id=\"p1\">**</bpt>LOCK INC<ept id=\"p1\">**</ept> instruction to increase data counters.","pos":[971,1066],"source":" When profiling is in safe mode, it uses the **LOCK INC** instruction to increase data counters."},{"content":"The <bpt id=\"p1\">**</bpt>LOCK INC<ept id=\"p1\">**</ept> instruction has the same functionality as the <bpt id=\"p2\">**</bpt>INC<ept id=\"p2\">**</ept> instruction has, and is thread-safe, but it is slower than the <bpt id=\"p3\">**</bpt>INC<ept id=\"p3\">**</ept> instruction.","pos":[1067,1221],"source":" The **LOCK INC** instruction has the same functionality as the **INC** instruction has, and is thread-safe, but it is slower than the **INC** instruction."},{"content":"By default, PGO profiling operates in fast mode.","pos":[1228,1276]},{"content":"is only required if you want to use safe mode.","pos":[1292,1338]},{"content":"To run PGO profiling in safe mode, you must either use the environment variable <ph id=\"ph1\">`PogoSafeMode`</ph> or the linker switch <bpt id=\"p1\">**</bpt>-PogoSafeMode<ept id=\"p1\">**</ept>, depending on the system.","pos":[1345,1504],"source":"To run PGO profiling in safe mode, you must either use the environment variable `PogoSafeMode` or the linker switch **-PogoSafeMode**, depending on the system."},{"content":"If you are performing the profiling on an x64 computer, you must use the linker switch.","pos":[1505,1592]},{"content":"If you are performing the profiling on an x86 computer, you must define the environment variable to any value before you start the optimization process.","pos":[1593,1745]},{"content":"Example","pos":[1754,1761]},{"content":"See Also","pos":[1806,1814]},{"content":"Environment Variables for Profile-Guided Optimizations","pos":[1819,1873]},{"content":"Profile-Guided Optimizations","pos":[1961,1989]}],"content":"---\ntitle: \"PogoSafeMode | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"PogoSafeMode\"\nms.assetid: 2daeeff7-44cb-417f-90eb-6b9edf658533\ncaps.latest.revision: 7\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# PogoSafeMode\nSpecify whether to use fast mode or safe mode for application profiling.  \n  \n## Syntax  \n  \n```  \nPogoSafeMode  \n```  \n  \n## Remarks  \n Profile-guided optimization (PGO) has two possible modes during the profiling phase: fast mode and safe mode. When profiling is in fast mode, it uses the **INC** instruction to increase data counters. The **INC** instruction is faster but is not thread-safe. When profiling is in safe mode, it uses the **LOCK INC** instruction to increase data counters. The **LOCK INC** instruction has the same functionality as the **INC** instruction has, and is thread-safe, but it is slower than the **INC** instruction.  \n  \n By default, PGO profiling operates in fast mode. `PogoSafeMode` is only required if you want to use safe mode.  \n  \n To run PGO profiling in safe mode, you must either use the environment variable `PogoSafeMode` or the linker switch **-PogoSafeMode**, depending on the system. If you are performing the profiling on an x64 computer, you must use the linker switch. If you are performing the profiling on an x86 computer, you must define the environment variable to any value before you start the optimization process.  \n  \n## Example  \n  \n```  \nset PogoSafeMode=1  \n```  \n  \n## See Also  \n [Environment Variables for Profile-Guided Optimizations](../../build/reference/environment-variables-for-profile-guided-optimizations.md)   \n [Profile-Guided Optimizations](../../build/reference/profile-guided-optimizations.md)"}