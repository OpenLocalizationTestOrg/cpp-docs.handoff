{"nodes":[{"pos":[12,51],"content":"International Enabling | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"International Enabling | Microsoft Docs","pos":[0,39]}]},{"content":"International Enabling","pos":[734,756]},{"content":"Most traditional C and C++ code makes assumptions about character and string manipulation that do not work well for international applications.","pos":[757,900]},{"content":"While both MFC and the run-time library support Unicode or MBCS, there is still work for you to do.","pos":[901,1000]},{"content":"To guide you, this section explains the meaning of \"international enabling\" in Visual C++:","pos":[1001,1091]},{"content":"Both Unicode and MBCS are enabled by means of portable data types in MFC function parameter lists and return types.","pos":[1101,1216]},{"content":"These types are conditionally defined in the appropriate ways, depending on whether your build defines the symbol <bpt id=\"p1\">**</bpt>_UNICODE<ept id=\"p1\">**</ept> or the symbol <bpt id=\"p2\">**</bpt>_MBCS<ept id=\"p2\">**</ept> (which means DBCS).","pos":[1217,1387],"source":" These types are conditionally defined in the appropriate ways, depending on whether your build defines the symbol **_UNICODE** or the symbol **_MBCS** (which means DBCS)."},{"content":"Different variants of the MFC libraries are automatically linked with your application, depending on which of these two symbols your build defines.","pos":[1388,1535]},{"content":"Class library code uses portable run-time functions and other means to ensure correct Unicode or MBCS behavior.","pos":[1545,1656]},{"content":"You still must handle certain kinds of internationalization tasks in your code:","pos":[1666,1745]},{"content":"Use the same portable run-time functions that make MFC portable under either environment.","pos":[1759,1848]},{"content":"Make literal strings and characters portable under either environment, using the <bpt id=\"p1\">**</bpt>_T<ept id=\"p1\">**</ept> macro.","pos":[1862,1956],"source":"Make literal strings and characters portable under either environment, using the **_T** macro."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Generic-Text Mappings in Tchar.h<ept id=\"p1\">](../text/generic-text-mappings-in-tchar-h.md)</ept>.","pos":[1957,2063],"source":" For more information, see [Generic-Text Mappings in Tchar.h](../text/generic-text-mappings-in-tchar-h.md)."},{"content":"Take precautions when parsing strings under MBCS.","pos":[2077,2126]},{"content":"These precautions are not needed under Unicode.","pos":[2127,2174]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>MBCS Programming Tips<ept id=\"p1\">](../text/mbcs-programming-tips.md)</ept>.","pos":[2175,2259],"source":" For more information, see [MBCS Programming Tips](../text/mbcs-programming-tips.md)."},{"content":"Take care if you mix ANSI (8-bit) and Unicode (16-bit) characters in your application.","pos":[2273,2359]},{"content":"It is possible to use ANSI characters in some parts of your program and Unicode characters in others, but you cannot mix them in the same string.","pos":[2360,2505]},{"content":"Do not hard-code strings in your application.","pos":[2519,2564]},{"content":"Instead, make them STRINGTABLE resources by adding them to the application's .rc file.","pos":[2565,2651]},{"content":"Your application can then be localized without requiring source code changes or recompilation.","pos":[2652,2746]},{"content":"For more information about STRINGTABLE resources, see <bpt id=\"p1\">[</bpt>String Editor<ept id=\"p1\">](../mfc/string-editor.md)</ept>.","pos":[2747,2842],"source":" For more information about STRINGTABLE resources, see [String Editor](../mfc/string-editor.md)."},{"pos":[2850,3388],"content":"[!NOTE]\n European and MBCS character sets have some characters, such as accented letters, with character codes greater than 0x80. Because most code uses signed characters, these characters greater than 0x80 are sign-extended when converted to `int`. This is a problem for array indexing because the sign-extended characters, being negative, indexes outside the array. Languages that use MBCS, such as Japanese, are also unique. Because a character might consist of 1 or 2 bytes, you should always manipulate both bytes at the same time.","leadings":["","> "],"nodes":[{"content":" European and MBCS character sets have some characters, such as accented letters, with character codes greater than 0x80. Because most code uses signed characters, these characters greater than 0x80 are sign-extended when converted to `int`. This is a problem for array indexing because the sign-extended characters, being negative, indexes outside the array. Languages that use MBCS, such as Japanese, are also unique. Because a character might consist of 1 or 2 bytes, you should always manipulate both bytes at the same time.","pos":[8,536],"nodes":[{"content":"European and MBCS character sets have some characters, such as accented letters, with character codes greater than 0x80.","pos":[1,121]},{"content":"Because most code uses signed characters, these characters greater than 0x80 are sign-extended when converted to <ph id=\"ph1\">`int`</ph>.","pos":[122,241],"source":" Because most code uses signed characters, these characters greater than 0x80 are sign-extended when converted to `int`."},{"content":"This is a problem for array indexing because the sign-extended characters, being negative, indexes outside the array.","pos":[242,359]},{"content":"Languages that use MBCS, such as Japanese, are also unique.","pos":[360,419]},{"content":"Because a character might consist of 1 or 2 bytes, you should always manipulate both bytes at the same time.","pos":[420,528]}]}]},{"content":"See Also","pos":[3397,3405]},{"content":"Unicode and MBCS","pos":[3410,3426]},{"content":"Internationalization Strategies","pos":[3462,3493]}],"content":"---\ntitle: \"International Enabling | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"globalization [C++], character sets\"\n  - \"strings [C++], international enabling\"\n  - \"localization [C++], character sets\"\n  - \"MBCS [C++], enabling\"\n  - \"Unicode [C++], enabling\"\nms.assetid: b077f4ca-5865-40ef-a46e-d9e4d686ef21\ncaps.latest.revision: 7\nauthor: \"ghogen\"\nms.author: \"ghogen\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# International Enabling\nMost traditional C and C++ code makes assumptions about character and string manipulation that do not work well for international applications. While both MFC and the run-time library support Unicode or MBCS, there is still work for you to do. To guide you, this section explains the meaning of \"international enabling\" in Visual C++:  \n  \n-   Both Unicode and MBCS are enabled by means of portable data types in MFC function parameter lists and return types. These types are conditionally defined in the appropriate ways, depending on whether your build defines the symbol **_UNICODE** or the symbol **_MBCS** (which means DBCS). Different variants of the MFC libraries are automatically linked with your application, depending on which of these two symbols your build defines.  \n  \n-   Class library code uses portable run-time functions and other means to ensure correct Unicode or MBCS behavior.  \n  \n-   You still must handle certain kinds of internationalization tasks in your code:  \n  \n    -   Use the same portable run-time functions that make MFC portable under either environment.  \n  \n    -   Make literal strings and characters portable under either environment, using the **_T** macro. For more information, see [Generic-Text Mappings in Tchar.h](../text/generic-text-mappings-in-tchar-h.md).  \n  \n    -   Take precautions when parsing strings under MBCS. These precautions are not needed under Unicode. For more information, see [MBCS Programming Tips](../text/mbcs-programming-tips.md).  \n  \n    -   Take care if you mix ANSI (8-bit) and Unicode (16-bit) characters in your application. It is possible to use ANSI characters in some parts of your program and Unicode characters in others, but you cannot mix them in the same string.  \n  \n    -   Do not hard-code strings in your application. Instead, make them STRINGTABLE resources by adding them to the application's .rc file. Your application can then be localized without requiring source code changes or recompilation. For more information about STRINGTABLE resources, see [String Editor](../mfc/string-editor.md).  \n  \n> [!NOTE]\n>  European and MBCS character sets have some characters, such as accented letters, with character codes greater than 0x80. Because most code uses signed characters, these characters greater than 0x80 are sign-extended when converted to `int`. This is a problem for array indexing because the sign-extended characters, being negative, indexes outside the array. Languages that use MBCS, such as Japanese, are also unique. Because a character might consist of 1 or 2 bytes, you should always manipulate both bytes at the same time.  \n  \n## See Also  \n [Unicode and MBCS](../text/unicode-and-mbcs.md)   \n [Internationalization Strategies](../text/internationalization-strategies.md)"}