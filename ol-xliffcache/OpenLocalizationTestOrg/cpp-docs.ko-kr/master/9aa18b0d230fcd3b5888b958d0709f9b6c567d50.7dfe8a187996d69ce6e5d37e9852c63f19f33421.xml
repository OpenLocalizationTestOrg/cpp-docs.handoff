{"nodes":[{"pos":[12,45],"content":"ostrstream Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"ostrstream Class | Microsoft Docs","pos":[0,33]}]},{"content":"ostrstream Class","pos":[642,658]},{"pos":[659,823],"content":"Describes an object that controls insertion of elements and encoded objects into a stream buffer of class <bpt id=\"p1\">[</bpt>strstreambuf<ept id=\"p1\">](../standard-library/strstreambuf-class.md)</ept>.","source":"Describes an object that controls insertion of elements and encoded objects into a stream buffer of class [strstreambuf](../standard-library/strstreambuf-class.md)."},{"content":"Syntax","pos":[832,838]},{"content":"Remarks","pos":[894,901]},{"pos":[905,957],"content":"The object stores an object of class <ph id=\"ph1\">`strstreambuf`</ph>.","source":"The object stores an object of class `strstreambuf`."},{"pos":[965,1172],"content":"[!NOTE]\n This class is deprecated. Consider using [ostringstream](../standard-library/sstream-typedefs.md#ostringstream) or [wostringstream](../standard-library/sstream-typedefs.md#wostringstream) instead.","leadings":["","> "],"nodes":[{"content":" This class is deprecated. Consider using [ostringstream](../standard-library/sstream-typedefs.md#ostringstream) or [wostringstream](../standard-library/sstream-typedefs.md#wostringstream) instead.","pos":[8,205],"nodes":[{"content":"This class is deprecated.","pos":[1,26]},{"content":"Consider using <bpt id=\"p1\">[</bpt>ostringstream<ept id=\"p1\">](../standard-library/sstream-typedefs.md#ostringstream)</ept> or <bpt id=\"p2\">[</bpt>wostringstream<ept id=\"p2\">](../standard-library/sstream-typedefs.md#wostringstream)</ept> instead.","pos":[27,197],"source":" Consider using [ostringstream](../standard-library/sstream-typedefs.md#ostringstream) or [wostringstream](../standard-library/sstream-typedefs.md#wostringstream) instead."}]}]},{"content":"Constructors","pos":[1182,1194]},{"content":"ostrstream","pos":[1216,1226]},{"pos":[1253,1295],"content":"Constructs an object of type <ph id=\"ph1\">`ostrstream`</ph>.","source":"Constructs an object of type `ostrstream`."},{"content":"Member Functions","pos":[1306,1322]},{"content":"freeze","pos":[1344,1350]},{"content":"Causes a stream buffer to be unavailable through stream buffer operations.","pos":[1373,1447]},{"content":"pcount","pos":[1453,1459]},{"content":"Returns a count of the number of elements written to the controlled sequence.","pos":[1482,1559]},{"content":"rdbuf","pos":[1565,1570]},{"pos":[1592,1659],"content":"Returns a pointer to the stream's associated <ph id=\"ph1\">`strstreambuf`</ph> object.","source":"Returns a pointer to the stream's associated `strstreambuf` object."},{"content":"str","pos":[1665,1668]},{"pos":[1688,1839],"content":"Calls <bpt id=\"p1\">[</bpt>freeze<ept id=\"p1\">](../standard-library/strstreambuf-class.md#strstreambuf__freeze)</ept>, and then returns a pointer to the beginning of the controlled sequence.","source":"Calls [freeze](../standard-library/strstreambuf-class.md#strstreambuf__freeze), and then returns a pointer to the beginning of the controlled sequence."},{"content":"Requirements","pos":[1849,1861]},{"pos":[1865,1889],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph>strstream&gt;","source":"**Header:** \\<strstream>"},{"pos":[1896,1914],"content":"<bpt id=\"p1\">**</bpt>Namespace:<ept id=\"p1\">**</ept> std","source":"**Namespace:** std"},{"pos":[1959,1977],"content":"ostrstream::freeze"},{"content":"Causes a stream buffer to be unavailable through stream buffer operations.","pos":[1981,2055]},{"content":"Parameters","pos":[2114,2124]},{"content":"A <ph id=\"ph1\">`bool`</ph> indicating whether you want the stream to be frozen.","pos":[2143,2204],"source":" A `bool` indicating whether you want the stream to be frozen."},{"content":"Remarks","pos":[2214,2221]},{"pos":[2225,2369],"content":"The member function calls <bpt id=\"p1\">[</bpt>rdbuf<ept id=\"p1\">](#ostrstream__rdbuf)</ept><ph id=\"ph1\"> -&gt; </ph><bpt id=\"p2\">[</bpt>freeze<ept id=\"p2\">](../standard-library/strstreambuf-class.md#strstreambuf__freeze)</ept>(_ <bpt id=\"p3\">*</bpt>Freezeit<ept id=\"p3\">*</ept>).","source":"The member function calls [rdbuf](#ostrstream__rdbuf) -> [freeze](../standard-library/strstreambuf-class.md#strstreambuf__freeze)(_ *Freezeit*)."},{"content":"Example","pos":[2379,2386]},{"pos":[2391,2515],"content":"See <bpt id=\"p1\">[</bpt>strstream::freeze<ept id=\"p1\">](../standard-library/strstreambuf-class.md#strstreambuf__freeze)</ept> for an example that uses <bpt id=\"p2\">**</bpt>freeze<ept id=\"p2\">**</ept>.","source":"See [strstream::freeze](../standard-library/strstreambuf-class.md#strstreambuf__freeze) for an example that uses **freeze**."},{"pos":[2564,2586],"content":"ostrstream::ostrstream"},{"pos":[2590,2632],"content":"Constructs an object of type <ph id=\"ph1\">`ostrstream`</ph>.","source":"Constructs an object of type `ostrstream`."},{"content":"Parameters","pos":[2761,2771]},{"content":"The buffer.","pos":[2784,2795]},{"content":"The size of the buffer in bytes.","pos":[2813,2845]},{"content":"The input and output mode of the buffer.","pos":[2863,2903]},{"content":"See <bpt id=\"p1\">[</bpt>ios_base::openmode<ept id=\"p1\">](../standard-library/ios-base-class.md#ios_base__openmode)</ept> for more information.","pos":[2904,3008],"source":" See [ios_base::openmode](../standard-library/ios-base-class.md#ios_base__openmode) for more information."},{"content":"Remarks","pos":[3018,3025]},{"content":"Both constructors initialize the base class by calling <bpt id=\"p1\">[</bpt>ostream<ept id=\"p1\">](../standard-library/ostream-typedefs.md#ostream)</ept>( <bpt id=\"p2\">**</bpt>sb<ept id=\"p2\">**</ept>), where <bpt id=\"p3\">**</bpt>sb<ept id=\"p3\">**</ept> is the stored object of class <bpt id=\"p4\">[</bpt>strstreambuf<ept id=\"p4\">](../standard-library/strstreambuf-class.md)</ept>.","pos":[3029,3254],"source":"Both constructors initialize the base class by calling [ostream](../standard-library/ostream-typedefs.md#ostream)( **sb**), where **sb** is the stored object of class [strstreambuf](../standard-library/strstreambuf-class.md)."},{"content":"The first constructor also initializes <bpt id=\"p1\">**</bpt>sb<ept id=\"p1\">**</ept> by calling <ph id=\"ph1\">`strstreambuf`</ph>.","pos":[3255,3327],"source":" The first constructor also initializes **sb** by calling `strstreambuf`."},{"content":"The second constructor initializes the base class one of two ways:","pos":[3328,3394]},{"pos":[3404,3582],"content":"If <ph id=\"ph1\">`_Mode` &amp; </ph><bpt id=\"p1\">**</bpt>ios_base::app<ept id=\"p1\">**</ept>== 0, then <ph id=\"ph2\">`ptr`</ph> must designate the first element of an array of <ph id=\"ph3\">`count`</ph> elements, and the constructor calls <ph id=\"ph4\">`strstreambuf`</ph>( <ph id=\"ph5\">`ptr`</ph>, <ph id=\"ph6\">`count`</ph>, <ph id=\"ph7\">`ptr`</ph>).","source":"If `_Mode` & **ios_base::app**== 0, then `ptr` must designate the first element of an array of `count` elements, and the constructor calls `strstreambuf`( `ptr`, `count`, `ptr`)."},{"pos":[3592,3826],"content":"Otherwise, <ph id=\"ph1\">`ptr`</ph> must designate the first element of an array of count elements that contains a C string whose first element is designated by <ph id=\"ph2\">`ptr`</ph>, and the constructor calls <ph id=\"ph3\">`strstreambuf`</ph>( <ph id=\"ph4\">`ptr`</ph>, <ph id=\"ph5\">`count`</ph>, <ph id=\"ph6\">`ptr` + `strlen`</ph>( <ph id=\"ph7\">`ptr`</ph>) ).","source":"Otherwise, `ptr` must designate the first element of an array of count elements that contains a C string whose first element is designated by `ptr`, and the constructor calls `strstreambuf`( `ptr`, `count`, `ptr` + `strlen`( `ptr`) )."},{"pos":[3871,3889],"content":"ostrstream::pcount"},{"content":"Returns a count of the number of elements written to the controlled sequence.","pos":[3893,3970]},{"content":"Return Value","pos":[4020,4032]},{"content":"The number of elements written to the controlled sequence.","pos":[4036,4094]},{"content":"Remarks","pos":[4104,4111]},{"pos":[4115,4247],"content":"The member function returns <bpt id=\"p1\">[</bpt>rdbuf<ept id=\"p1\">](#ostrstream__rdbuf)</ept><ph id=\"ph1\"> -&gt; </ph><bpt id=\"p2\">[</bpt>pcount<ept id=\"p2\">](../standard-library/strstreambuf-class.md#strstreambuf__pcount)</ept>.","source":"The member function returns [rdbuf](#ostrstream__rdbuf) -> [pcount](../standard-library/strstreambuf-class.md#strstreambuf__pcount)."},{"content":"Example","pos":[4257,4264]},{"pos":[4269,4389],"content":"See <bpt id=\"p1\">[</bpt>strstream::pcount<ept id=\"p1\">](../standard-library/strstreambuf-class.md#strstreambuf__pcount)</ept> for a sample that uses <ph id=\"ph1\">`pcount`</ph>.","source":"See [strstream::pcount](../standard-library/strstreambuf-class.md#strstreambuf__pcount) for a sample that uses `pcount`."},{"pos":[4433,4450],"content":"ostrstream::rdbuf"},{"content":"Returns a pointer to the stream's associated strstreambuf object.","pos":[4454,4519]},{"content":"Return Value","pos":[4570,4582]},{"content":"A pointer to the stream's associated strstreambuf object.","pos":[4586,4643]},{"content":"Remarks","pos":[4653,4660]},{"pos":[4664,4813],"content":"The member function returns the address of the stored stream buffer of type <bpt id=\"p1\">**</bpt>pointer<ept id=\"p1\">**</ept> to <bpt id=\"p2\">[</bpt>strstreambuf<ept id=\"p2\">](../standard-library/strstreambuf-class.md)</ept>.","source":"The member function returns the address of the stored stream buffer of type **pointer** to [strstreambuf](../standard-library/strstreambuf-class.md)."},{"content":"Example","pos":[4823,4830]},{"pos":[4835,4957],"content":"See <bpt id=\"p1\">[</bpt>strstreambuf::pcount<ept id=\"p1\">](../standard-library/strstreambuf-class.md#strstreambuf__pcount)</ept> for a sample that uses <ph id=\"ph1\">`rdbuf`</ph>.","source":"See [strstreambuf::pcount](../standard-library/strstreambuf-class.md#strstreambuf__pcount) for a sample that uses `rdbuf`."},{"pos":[4999,5014],"content":"ostrstream::str"},{"pos":[5018,5169],"content":"Calls <bpt id=\"p1\">[</bpt>freeze<ept id=\"p1\">](../standard-library/strstreambuf-class.md#strstreambuf__freeze)</ept>, and then returns a pointer to the beginning of the controlled sequence.","source":"Calls [freeze](../standard-library/strstreambuf-class.md#strstreambuf__freeze), and then returns a pointer to the beginning of the controlled sequence."},{"content":"Return Value","pos":[5205,5217]},{"content":"A pointer to the beginning of the controlled sequence.","pos":[5221,5275]},{"content":"Remarks","pos":[5285,5292]},{"pos":[5296,5422],"content":"The member function returns <bpt id=\"p1\">[</bpt>rdbuf<ept id=\"p1\">](#ostrstream__rdbuf)</ept><ph id=\"ph1\"> -&gt; </ph><bpt id=\"p2\">[</bpt>str<ept id=\"p2\">](../standard-library/strstreambuf-class.md#strstreambuf__str)</ept>.","source":"The member function returns [rdbuf](#ostrstream__rdbuf) -> [str](../standard-library/strstreambuf-class.md#strstreambuf__str)."},{"content":"Example","pos":[5432,5439]},{"pos":[5444,5557],"content":"See <bpt id=\"p1\">[</bpt>strstream::str<ept id=\"p1\">](../standard-library/strstreambuf-class.md#strstreambuf__str)</ept> for a sample that uses <bpt id=\"p2\">**</bpt>str<ept id=\"p2\">**</ept>.","source":"See [strstream::str](../standard-library/strstreambuf-class.md#strstreambuf__str) for a sample that uses **str**."},{"content":"See Also","pos":[5566,5574]},{"content":"ostream","pos":[5579,5586]},{"content":"Thread Safety in the C++ Standard Library","pos":[5642,5683]},{"content":"iostream Programming","pos":[5756,5776]},{"content":"iostreams Conventions","pos":[5828,5849]}],"content":"---\ntitle: \"ostrstream Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"std.oststream\"\n  - \"oststream\"\n  - \"std::oststream\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"ostrstream class\"\nms.assetid: e2e34679-b266-4728-a8e1-8eda5d400e46\ncaps.latest.revision: 20\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# ostrstream Class\nDescribes an object that controls insertion of elements and encoded objects into a stream buffer of class [strstreambuf](../standard-library/strstreambuf-class.md).  \n  \n## Syntax  \n  \n```\nclass ostrstream : public ostream\n```  \n  \n## Remarks  \n The object stores an object of class `strstreambuf`.  \n  \n> [!NOTE]\n>  This class is deprecated. Consider using [ostringstream](../standard-library/sstream-typedefs.md#ostringstream) or [wostringstream](../standard-library/sstream-typedefs.md#wostringstream) instead.  \n  \n### Constructors  \n  \n|||  \n|-|-|  \n|[ostrstream](#ostrstream__ostrstream)|Constructs an object of type `ostrstream`.|  \n  \n### Member Functions  \n  \n|||  \n|-|-|  \n|[freeze](#ostrstream__freeze)|Causes a stream buffer to be unavailable through stream buffer operations.|  \n|[pcount](#ostrstream__pcount)|Returns a count of the number of elements written to the controlled sequence.|  \n|[rdbuf](#ostrstream__rdbuf)|Returns a pointer to the stream's associated `strstreambuf` object.|  \n|[str](#ostrstream__str)|Calls [freeze](../standard-library/strstreambuf-class.md#strstreambuf__freeze), and then returns a pointer to the beginning of the controlled sequence.|  \n  \n## Requirements  \n **Header:** \\<strstream>  \n  \n **Namespace:** std  \n  \n##  <a name=\"ostrstream__freeze\"></a>  ostrstream::freeze  \n Causes a stream buffer to be unavailable through stream buffer operations.  \n  \n```\nvoid freeze(bool _Freezeit = true);\n```  \n  \n### Parameters  \n `_Freezeit`  \n A `bool` indicating whether you want the stream to be frozen.  \n  \n### Remarks  \n The member function calls [rdbuf](#ostrstream__rdbuf) -> [freeze](../standard-library/strstreambuf-class.md#strstreambuf__freeze)(_ *Freezeit*).  \n  \n### Example  \n  See [strstream::freeze](../standard-library/strstreambuf-class.md#strstreambuf__freeze) for an example that uses **freeze**.  \n  \n##  <a name=\"ostrstream__ostrstream\"></a>  ostrstream::ostrstream  \n Constructs an object of type `ostrstream`.  \n  \n```\nostrstream();\n\nostrstream(char* ptr,\n    streamsize count,\n    ios_base::openmode _Mode = ios_base::out);\n```  \n  \n### Parameters  \n `ptr`  \n The buffer.  \n  \n `count`  \n The size of the buffer in bytes.  \n  \n `_Mode`  \n The input and output mode of the buffer. See [ios_base::openmode](../standard-library/ios-base-class.md#ios_base__openmode) for more information.  \n  \n### Remarks  \n Both constructors initialize the base class by calling [ostream](../standard-library/ostream-typedefs.md#ostream)( **sb**), where **sb** is the stored object of class [strstreambuf](../standard-library/strstreambuf-class.md). The first constructor also initializes **sb** by calling `strstreambuf`. The second constructor initializes the base class one of two ways:  \n  \n-   If `_Mode` & **ios_base::app**== 0, then `ptr` must designate the first element of an array of `count` elements, and the constructor calls `strstreambuf`( `ptr`, `count`, `ptr`).  \n  \n-   Otherwise, `ptr` must designate the first element of an array of count elements that contains a C string whose first element is designated by `ptr`, and the constructor calls `strstreambuf`( `ptr`, `count`, `ptr` + `strlen`( `ptr`) ).  \n  \n##  <a name=\"ostrstream__pcount\"></a>  ostrstream::pcount  \n Returns a count of the number of elements written to the controlled sequence.  \n  \n```\nstreamsize pcount() const;\n```  \n  \n### Return Value  \n The number of elements written to the controlled sequence.  \n  \n### Remarks  \n The member function returns [rdbuf](#ostrstream__rdbuf) -> [pcount](../standard-library/strstreambuf-class.md#strstreambuf__pcount).  \n  \n### Example  \n  See [strstream::pcount](../standard-library/strstreambuf-class.md#strstreambuf__pcount) for a sample that uses `pcount`.  \n  \n##  <a name=\"ostrstream__rdbuf\"></a>  ostrstream::rdbuf  \n Returns a pointer to the stream's associated strstreambuf object.  \n  \n```\nstrstreambuf *rdbuf() const\n```  \n  \n### Return Value  \n A pointer to the stream's associated strstreambuf object.  \n  \n### Remarks  \n The member function returns the address of the stored stream buffer of type **pointer** to [strstreambuf](../standard-library/strstreambuf-class.md).  \n  \n### Example  \n  See [strstreambuf::pcount](../standard-library/strstreambuf-class.md#strstreambuf__pcount) for a sample that uses `rdbuf`.  \n  \n##  <a name=\"ostrstream__str\"></a>  ostrstream::str  \n Calls [freeze](../standard-library/strstreambuf-class.md#strstreambuf__freeze), and then returns a pointer to the beginning of the controlled sequence.  \n  \n```\nchar *str();\n```  \n  \n### Return Value  \n A pointer to the beginning of the controlled sequence.  \n  \n### Remarks  \n The member function returns [rdbuf](#ostrstream__rdbuf) -> [str](../standard-library/strstreambuf-class.md#strstreambuf__str).  \n  \n### Example  \n  See [strstream::str](../standard-library/strstreambuf-class.md#strstreambuf__str) for a sample that uses **str**.  \n  \n## See Also  \n [ostream](../standard-library/ostream-typedefs.md#ostream)   \n [Thread Safety in the C++ Standard Library](../standard-library/thread-safety-in-the-cpp-standard-library.md)   \n [iostream Programming](../standard-library/iostream-programming.md)   \n [iostreams Conventions](../standard-library/iostreams-conventions.md)\n\n\n\n"}