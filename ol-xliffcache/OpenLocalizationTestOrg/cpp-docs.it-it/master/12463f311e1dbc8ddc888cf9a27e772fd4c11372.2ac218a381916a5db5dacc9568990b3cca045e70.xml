{"nodes":[{"pos":[12,48],"content":"MakeAllocator Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"MakeAllocator Class | Microsoft Docs","pos":[0,36]}]},{"content":"MakeAllocator Class","pos":[674,693]},{"content":"Supports the WRL infrastructure and is not intended to be used directly from your code.","pos":[694,781]},{"content":"Syntax","pos":[790,796]},{"content":"Parameters","pos":[1129,1139]},{"content":"A type name.","pos":[1150,1162]},{"content":"to allocate memory for an object that supports weak references; <ph id=\"ph1\">`false`</ph> to allocate memory for an object that doesn't support weak references.","pos":[1205,1347],"source":" to allocate memory for an object that supports weak references; `false` to allocate memory for an object that doesn't support weak references."},{"content":"Remarks","pos":[1356,1363]},{"content":"Allocates memory for an activatable class, with or without weak reference support.","pos":[1367,1449]},{"content":"Override the MakeAllocator class to implement a user-defined memory allocation model.","pos":[1456,1541]},{"content":"MakeAllocator is typically used to prevent memory leaks if an object throws during construction.","pos":[1548,1644]},{"content":"Members","pos":[1653,1660]},{"content":"Public Constructors","pos":[1670,1689]},{"content":"Name","pos":[1696,1700]},{"content":"Description","pos":[1701,1712]},{"content":"MakeAllocator::MakeAllocator Constructor","pos":[1751,1791]},{"content":"Initializes a new instance of the MakeAllocator class.","pos":[1848,1902]},{"content":"MakeAllocator::~MakeAllocator Destructor","pos":[1908,1948]},{"content":"Deinitializes the current instance of the MakeAllocator class.","pos":[2010,2072]},{"content":"Public Methods","pos":[2083,2097]},{"content":"Name","pos":[2104,2108]},{"content":"Description","pos":[2109,2120]},{"content":"MakeAllocator::Allocate Method","pos":[2159,2189]},{"content":"Allocates memory and associates it with the current MakeAllocator object.","pos":[2236,2309]},{"content":"MakeAllocator::Detach Method","pos":[2315,2343]},{"pos":[2388,2527],"content":"Disassociates memory allocated by the <bpt id=\"p1\">[</bpt>Allocate<ept id=\"p1\">](../windows/makeallocator-allocate-method.md)</ept> method from the current MakeAllocator object.","source":"Disassociates memory allocated by the [Allocate](../windows/makeallocator-allocate-method.md) method from the current MakeAllocator object."},{"content":"Inheritance Hierarchy","pos":[2537,2558]},{"content":"Requirements","pos":[2586,2598]},{"pos":[2602,2626],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> implements.h","source":"**Header:** implements.h"},{"pos":[2633,2671],"content":"<bpt id=\"p1\">**</bpt>Namespace:<ept id=\"p1\">**</ept> Microsoft::WRL::Details","source":"**Namespace:** Microsoft::WRL::Details"},{"content":"See Also","pos":[2680,2688]},{"content":"Microsoft::WRL::Details Namespace","pos":[2693,2726]}],"content":"---\ntitle: \"MakeAllocator Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"implements/Microsoft::WRL::Details::MakeAllocator\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"MakeAllocator class\"\nms.assetid: a1114615-abd7-4a56-9bc3-750c118f0fa1\ncaps.latest.revision: 5\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# MakeAllocator Class\nSupports the WRL infrastructure and is not intended to be used directly from your code.  \n  \n## Syntax  \n  \n```  \n  \ntemplate<  \n   typename T,  \n   bool hasWeakReferenceSupport =   \n         !__is_base_of(RuntimeClassFlags<InhibitWeakReference>,   \n   T)> , T)> class MakeAllocator;  \n  \ntemplate<  \n   typename T  \n>  \nclass MakeAllocator<T, false>;  \n  \ntemplate<  \n   typename T  \n>  \nclass MakeAllocator<T, true>;  \n```  \n  \n#### Parameters  \n `T`  \n A type name.  \n  \n `hasWeakReferenceSupport`  \n `true` to allocate memory for an object that supports weak references; `false` to allocate memory for an object that doesn't support weak references.  \n  \n## Remarks  \n Allocates memory for an activatable class, with or without weak reference support.  \n  \n Override the MakeAllocator class to implement a user-defined memory allocation model.  \n  \n MakeAllocator is typically used to prevent memory leaks if an object throws during construction.  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[MakeAllocator::MakeAllocator Constructor](../windows/makeallocator-makeallocator-constructor.md)|Initializes a new instance of the MakeAllocator class.|  \n|[MakeAllocator::~MakeAllocator Destructor](../windows/makeallocator-tilde-makeallocator-destructor.md)|Deinitializes the current instance of the MakeAllocator class.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[MakeAllocator::Allocate Method](../windows/makeallocator-allocate-method.md)|Allocates memory and associates it with the current MakeAllocator object.|  \n|[MakeAllocator::Detach Method](../windows/makeallocator-detach-method.md)|Disassociates memory allocated by the [Allocate](../windows/makeallocator-allocate-method.md) method from the current MakeAllocator object.|  \n  \n## Inheritance Hierarchy  \n `MakeAllocator`  \n  \n## Requirements  \n **Header:** implements.h  \n  \n **Namespace:** Microsoft::WRL::Details  \n  \n## See Also  \n [Microsoft::WRL::Details Namespace](../windows/microsoft-wrl-details-namespace.md)"}