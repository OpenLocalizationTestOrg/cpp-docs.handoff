{"nodes":[{"pos":[12,51],"content":"_mbsnbcpy, _mbsnbcpy_l | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_mbsnbcpy, _mbsnbcpy_l | Microsoft Docs","pos":[0,39]}]},{"pos":[1189,1211],"content":"_mbsnbcpy, _mbsnbcpy_l","linkify":"_mbsnbcpy, _mbsnbcpy_l","nodes":[{"content":"_mbsnbcpy, _mbsnbcpy_l","pos":[0,22]}]},{"content":"Copies <ph id=\"ph1\">`n`</ph> bytes of a string to a destination string.","pos":[1212,1265],"source":"Copies `n` bytes of a string to a destination string."},{"content":"More secure versions of these functions are available—see <bpt id=\"p1\">[</bpt>_mbsnbcpy_s, _mbsnbcpy_s_l<ept id=\"p1\">](../../c-runtime-library/reference/mbsnbcpy-s-mbsnbcpy-s-l.md)</ept>.","pos":[1266,1415],"source":" More secure versions of these functions are available—see [_mbsnbcpy_s, _mbsnbcpy_s_l](../../c-runtime-library/reference/mbsnbcpy-s-mbsnbcpy-s-l.md)."},{"pos":[1423,1689],"content":"[!IMPORTANT]\n This API cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/en-us/library/windows/apps/jj606124.aspx).","leadings":["","> "],"nodes":[{"content":" This API cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/en-us/library/windows/apps/jj606124.aspx).","pos":[13,264],"nodes":[{"content":"This API cannot be used in applications that execute in the <ph id=\"ph1\">[!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]</ph>.","pos":[1,117],"source":" This API cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CRT functions not supported with /ZW<ept id=\"p1\">](http://msdn.microsoft.com/en-us/library/windows/apps/jj606124.aspx)</ept>.","pos":[118,251],"source":" For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/en-us/library/windows/apps/jj606124.aspx)."}]}]},{"pos":[1698,1704],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[2348,2358],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Destination for the character string to be copied.","pos":[2375,2425]},{"content":"Character string to be copied.","pos":[2447,2477]},{"content":"Number of bytes to be copied.","pos":[2495,2524]},{"content":"Locale to use.","pos":[2543,2557]},{"pos":[2566,2578],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"<ph id=\"ph1\">`_mbsnbcpy`</ph> returns a pointer to the destination character string.","pos":[2582,2648],"source":"`_mbsnbcpy` returns a pointer to the destination character string."},{"content":"No return value is reserved to indicate an error.","pos":[2649,2698]},{"pos":[2707,2714],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`_mbsnbcpy`</ph> function copies <ph id=\"ph2\">`count`</ph> bytes from <ph id=\"ph3\">`strSource`</ph> to <ph id=\"ph4\">`strDest`</ph>.","pos":[2718,2794],"source":"The `_mbsnbcpy` function copies `count` bytes from `strSource` to `strDest`."},{"content":"If <ph id=\"ph1\">`count`</ph> exceeds the size of <ph id=\"ph2\">`strDest`</ph> or the source and destination strings overlap, the behavior of <ph id=\"ph3\">`_mbsnbcpy`</ph> is undefined.","pos":[2795,2924],"source":" If `count` exceeds the size of `strDest` or the source and destination strings overlap, the behavior of `_mbsnbcpy` is undefined."},{"content":"If <ph id=\"ph1\">`strSource`</ph> or <ph id=\"ph2\">`strDest`</ph> is a null pointer, this function invokes the invalid parameter handler as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[2931,3118],"source":"If `strSource` or `strDest` is a null pointer, this function invokes the invalid parameter handler as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, the function returns <ph id=\"ph1\">`NULL`</ph> and sets <ph id=\"ph2\">`errno`</ph> to <ph id=\"ph3\">`EINVAL`</ph>.","pos":[3119,3213],"source":" If execution is allowed to continue, the function returns `NULL` and sets `errno` to `EINVAL`."},{"content":"The output value is affected by the setting of the <ph id=\"ph1\">`LC_CTYPE`</ph> category setting of the locale; see <bpt id=\"p1\">[</bpt>setlocale, _wsetlocale<ept id=\"p1\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept> for more information.","pos":[3220,3423],"source":"The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; see [setlocale, _wsetlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md) for more information."},{"content":"The versions of these functions are identical, except that those that don't have the <ph id=\"ph1\">`_l`</ph> suffix use the current locale and the versions that do have the <ph id=\"ph2\">`_l`</ph> suffix instead use the locale parameter that's passed in.","pos":[3424,3640],"source":" The versions of these functions are identical, except that those that don't have the `_l` suffix use the current locale and the versions that do have the `_l` suffix instead use the locale parameter that's passed in."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept>.","pos":[3641,3711],"source":" For more information, see [Locale](../../c-runtime-library/locale.md)."},{"pos":[3719,4056],"content":"[!IMPORTANT]\n These functions might be vulnerable to buffer overrun threats. Buffer overruns can be used to execute arbitrary attacker code, which can cause an unwarranted elevation of privilege and compromise the system. For more information, see [Avoiding Buffer Overruns](http://msdn.microsoft.com/library/windows/desktop/ms717795).","leadings":["","> "],"nodes":[{"content":" These functions might be vulnerable to buffer overrun threats. Buffer overruns can be used to execute arbitrary attacker code, which can cause an unwarranted elevation of privilege and compromise the system. For more information, see [Avoiding Buffer Overruns](http://msdn.microsoft.com/library/windows/desktop/ms717795).","pos":[13,335],"nodes":[{"content":"These functions might be vulnerable to buffer overrun threats.","pos":[1,63]},{"content":"Buffer overruns can be used to execute arbitrary attacker code, which can cause an unwarranted elevation of privilege and compromise the system.","pos":[64,208]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Avoiding Buffer Overruns<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms717795)</ept>.","pos":[209,322],"source":" For more information, see [Avoiding Buffer Overruns](http://msdn.microsoft.com/library/windows/desktop/ms717795)."}]}]},{"content":"In C++, these functions have template overloads that invoke the newer, more secure counterparts of these functions.","pos":[4063,4178]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Secure Template Overloads<ept id=\"p1\">](../../c-runtime-library/secure-template-overloads.md)</ept>.","pos":[4179,4287],"source":" For more information, see [Secure Template Overloads](../../c-runtime-library/secure-template-overloads.md)."},{"pos":[4297,4326],"content":"Generic-Text Routine Mappings","linkify":"Generic-Text Routine Mappings","nodes":[{"content":"Generic-Text Routine Mappings","pos":[0,29]}]},{"content":"Tchar.h routine","pos":[4333,4348]},{"content":"_UNICODE and _MBCS not defined","pos":[4349,4379]},{"content":"_MBCS defined","pos":[4380,4393]},{"content":"_UNICODE defined","pos":[4394,4410]},{"pos":[4536,4637],"content":"<bpt id=\"p1\">[</bpt>strncpy<ept id=\"p1\">](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)</ept>","source":"[strncpy](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)"},{"pos":[4650,4751],"content":"<bpt id=\"p1\">[</bpt>wcsncpy<ept id=\"p1\">](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)</ept>","source":"[wcsncpy](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)"},{"pos":[4817,4829],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"Routine","pos":[4836,4843]},{"content":"Required header","pos":[4844,4859]},{"content":"<ph id=\"ph1\">\\&lt;</ph>mbstring.h&gt;","pos":[4916,4929],"source":"\\<mbstring.h>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>mbstring.h&gt;","pos":[4948,4961],"source":"\\<mbstring.h>"},{"pos":[4969,5067],"content":"For more compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"pos":[5076,5101],"content":".NET Framework Equivalent","linkify":".NET Framework Equivalent","nodes":[{"content":".NET Framework Equivalent","pos":[0,25]}]},{"content":"Not applicable.","pos":[5105,5120]},{"content":"To call the standard C function, use <ph id=\"ph1\">`PInvoke`</ph>.","pos":[5121,5168],"source":" To call the standard C function, use `PInvoke`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Platform Invoke Examples<ept id=\"p1\">](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)</ept>.","pos":[5169,5294],"source":" For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f)."},{"pos":[5303,5311],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>String Manipulation<ept id=\"p1\">](../../c-runtime-library/string-manipulation-crt.md)</ept><ph id=\"ph1\"> </ph>","pos":[5315,5389],"source":"[String Manipulation](../../c-runtime-library/string-manipulation-crt.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_mbsnbcat, _mbsnbcat_l<ept id=\"p1\">](../../c-runtime-library/reference/mbsnbcat-mbsnbcat-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[5392,5476],"source":" [_mbsnbcat, _mbsnbcat_l](../../c-runtime-library/reference/mbsnbcat-mbsnbcat-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_mbsnbcmp, _mbsnbcmp_l<ept id=\"p1\">](../../c-runtime-library/reference/mbsnbcmp-mbsnbcmp-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[5479,5563],"source":" [_mbsnbcmp, _mbsnbcmp_l](../../c-runtime-library/reference/mbsnbcmp-mbsnbcmp-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_strncnt, _wcsncnt, _mbsnbcnt, _mbsnbcnt_l, _mbsnccnt, _mbsnccnt_l<ept id=\"p1\">](../../c-runtime-library/reference/strncnt-wcsncnt-mbsnbcnt-mbsnbcnt-l-mbsnccnt-mbsnccnt-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[5566,5730],"source":" [_strncnt, _wcsncnt, _mbsnbcnt, _mbsnbcnt_l, _mbsnccnt, _mbsnccnt_l](../../c-runtime-library/reference/strncnt-wcsncnt-mbsnbcnt-mbsnbcnt-l-mbsnccnt-mbsnccnt-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>_mbsnbset, _mbsnbset_l<ept id=\"p1\">](../../c-runtime-library/reference/mbsnbset-mbsnbset-l.md)</ept><ph id=\"ph1\"> </ph>","pos":[5733,5817],"source":" [_mbsnbset, _mbsnbset_l](../../c-runtime-library/reference/mbsnbset-mbsnbset-l.md) "},{"content":"<bpt id=\"p1\"> [</bpt>strncpy, _strncpy_l, wcsncpy, _wcsncpy_l, _mbsncpy, _mbsncpy_l<ept id=\"p1\">](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)</ept>","pos":[5820,5977],"source":" [strncpy, _strncpy_l, wcsncpy, _wcsncpy_l, _mbsncpy, _mbsncpy_l](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)"}],"content":"---\ntitle: \"_mbsnbcpy, _mbsnbcpy_l | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_mbsnbcpy\"\n  - \"_mbsnbcpy_l\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-multibyte-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"mbsnbcpy\"\n  - \"_ftcsncpy\"\n  - \"_mbsnbcpy\"\n  - \"mbsnbcpy_l\"\n  - \"_mbsnbcpy_l\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"mbsnbcpy function\"\n  - \"_mbsnbcpy_l function\"\n  - \"_mbsnbcpy function\"\n  - \"_tcsncpy function\"\n  - \"tcsncpy_l function\"\n  - \"_tcsncpy_l function\"\n  - \"mbsnbcpy_l function\"\n  - \"tcsncpy function\"\nms.assetid: 83d17b50-3cbf-4df9-bce8-3b6d52f85d04\ncaps.latest.revision: 30\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _mbsnbcpy, _mbsnbcpy_l\nCopies `n` bytes of a string to a destination string. More secure versions of these functions are available—see [_mbsnbcpy_s, _mbsnbcpy_s_l](../../c-runtime-library/reference/mbsnbcpy-s-mbsnbcpy-s-l.md).  \n  \n> [!IMPORTANT]\n>  This API cannot be used in applications that execute in the [!INCLUDE[wrt](../../atl/reference/includes/wrt_md.md)]. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/en-us/library/windows/apps/jj606124.aspx).  \n  \n## Syntax  \n  \n```  \nunsigned char * _mbsnbcpy(  \n   unsigned char * strDest,  \n   const unsigned char * strSource,  \n   size_t count  \n);  \nunsigned char * _mbsnbcpy_l(  \n   unsigned char * strDest,  \n   const unsigned char * strSource,  \n   size_t count,  \n   _locale_t locale  \n);  \ntemplate <size_t size>  \nunsigned char * _mbsnbcpy(  \n   unsigned char (&strDest)[size],  \n   const unsigned char * strSource,  \n   size_t count  \n); // C++ only  \ntemplate <size_t size>  \nunsigned char * _mbsnbcpy_l(  \n   unsigned char (&strDest)[size],  \n   const unsigned char * strSource,  \n   size_t count,  \n   _locale_t locale  \n); // C++ only  \n```  \n  \n#### Parameters  \n `strDest`  \n Destination for the character string to be copied.  \n  \n `strSource`  \n Character string to be copied.  \n  \n `count`  \n Number of bytes to be copied.  \n  \n `locale`  \n Locale to use.  \n  \n## Return Value  \n `_mbsnbcpy` returns a pointer to the destination character string. No return value is reserved to indicate an error.  \n  \n## Remarks  \n The `_mbsnbcpy` function copies `count` bytes from `strSource` to `strDest`. If `count` exceeds the size of `strDest` or the source and destination strings overlap, the behavior of `_mbsnbcpy` is undefined.  \n  \n If `strSource` or `strDest` is a null pointer, this function invokes the invalid parameter handler as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, the function returns `NULL` and sets `errno` to `EINVAL`.  \n  \n The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; see [setlocale, _wsetlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md) for more information. The versions of these functions are identical, except that those that don't have the `_l` suffix use the current locale and the versions that do have the `_l` suffix instead use the locale parameter that's passed in. For more information, see [Locale](../../c-runtime-library/locale.md).  \n  \n> [!IMPORTANT]\n>  These functions might be vulnerable to buffer overrun threats. Buffer overruns can be used to execute arbitrary attacker code, which can cause an unwarranted elevation of privilege and compromise the system. For more information, see [Avoiding Buffer Overruns](http://msdn.microsoft.com/library/windows/desktop/ms717795).  \n  \n In C++, these functions have template overloads that invoke the newer, more secure counterparts of these functions. For more information, see [Secure Template Overloads](../../c-runtime-library/secure-template-overloads.md).  \n  \n### Generic-Text Routine Mappings  \n  \n|Tchar.h routine|_UNICODE and _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|--------------------------------------|--------------------|-----------------------|  \n|`_tcsncpy`|[strncpy](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)|`_mbsnbcpy`|[wcsncpy](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)|  \n|`_tcsncpy_l`|`_strncpy_l`|`_mbsnbcp_l`|`_wcsncpy_l`|  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_mbsnbcpy`|\\<mbstring.h>|  \n|`_mbsnbcpy_l`|\\<mbstring.h>|  \n  \n For more compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## .NET Framework Equivalent  \n Not applicable. To call the standard C function, use `PInvoke`. For more information, see [Platform Invoke Examples](http://msdn.microsoft.com/Library/15926806-f0b7-487e-93a6-4e9367ec689f).  \n  \n## See Also  \n [String Manipulation](../../c-runtime-library/string-manipulation-crt.md)   \n [_mbsnbcat, _mbsnbcat_l](../../c-runtime-library/reference/mbsnbcat-mbsnbcat-l.md)   \n [_mbsnbcmp, _mbsnbcmp_l](../../c-runtime-library/reference/mbsnbcmp-mbsnbcmp-l.md)   \n [_strncnt, _wcsncnt, _mbsnbcnt, _mbsnbcnt_l, _mbsnccnt, _mbsnccnt_l](../../c-runtime-library/reference/strncnt-wcsncnt-mbsnbcnt-mbsnbcnt-l-mbsnccnt-mbsnccnt-l.md)   \n [_mbsnbset, _mbsnbset_l](../../c-runtime-library/reference/mbsnbset-mbsnbset-l.md)   \n [strncpy, _strncpy_l, wcsncpy, _wcsncpy_l, _mbsncpy, _mbsncpy_l](../../c-runtime-library/reference/strncpy-strncpy-l-wcsncpy-wcsncpy-l-mbsncpy-mbsncpy-l.md)"}