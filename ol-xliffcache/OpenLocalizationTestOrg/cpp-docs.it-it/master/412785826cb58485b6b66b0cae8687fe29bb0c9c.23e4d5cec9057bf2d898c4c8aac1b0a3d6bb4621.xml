{"nodes":[{"pos":[12,75],"content":"MFC Program or Control Source and Header Files | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"MFC Program or Control Source and Header Files | Microsoft Docs","pos":[0,63]}]},{"content":"MFC Program or Control Source and Header Files","pos":[623,669]},{"content":"The following files are created when you create an MFC project in Visual Studio, depending on the options you select for the project you create.","pos":[670,814]},{"content":"For example, your project contains <bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>dlg.cpp and <bpt id=\"p2\">*</bpt>Projname<ept id=\"p2\">*</ept>dlg.h files only if you create a dialog-based project or class.","pos":[815,945],"source":" For example, your project contains *Projname*dlg.cpp and *Projname*dlg.h files only if you create a dialog-based project or class."},{"pos":[952,1118],"content":"All of these files are located in the <bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept> directory, and in either the Header Files (.h files) folder or Source Files (.cpp files) folder in Solution Explorer.","source":"All of these files are located in the *Projname* directory, and in either the Header Files (.h files) folder or Source Files (.cpp files) folder in Solution Explorer."},{"content":"File name","pos":[1125,1134]},{"content":"Description","pos":[1135,1146]},{"pos":[1189,1201],"content":"<bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>.h","source":"*Projname*.h"},{"content":"The main include file for the program or DLL.","pos":[1202,1247]},{"content":"It contains all global symbols and <ph id=\"ph1\">`#include`</ph> directives for other header files.","pos":[1248,1328],"source":" It contains all global symbols and `#include` directives for other header files."},{"content":"It derives the <ph id=\"ph1\">`CPrjnameApp`</ph> class from <ph id=\"ph2\">`CWinApp`</ph> and declares an <ph id=\"ph3\">`InitInstance`</ph> member function.","pos":[1329,1426],"source":" It derives the `CPrjnameApp` class from `CWinApp` and declares an `InitInstance` member function."},{"content":"For a control, the <ph id=\"ph1\">`CPrjnameApp`</ph> class is derived from <ph id=\"ph2\">`COleControlModule`</ph>.","pos":[1427,1502],"source":" For a control, the `CPrjnameApp` class is derived from `COleControlModule`."},{"pos":[1507,1521],"content":"<bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>.cpp","source":"*Projname*.cpp"},{"content":"The main program source file.","pos":[1522,1551]},{"content":"It creates one object of the class <ph id=\"ph1\">`CPrjnameApp`</ph>, which is derived from <ph id=\"ph2\">`CWinApp`</ph>, and overrides the <ph id=\"ph3\">`InitInstance`</ph> member function.","pos":[1552,1684],"source":" It creates one object of the class `CPrjnameApp`, which is derived from `CWinApp`, and overrides the `InitInstance` member function."},{"content":"For executables, <ph id=\"ph1\">`CPrjnameApp::InitInstance`</ph> does several things.","pos":[1697,1762],"source":" For executables, `CPrjnameApp::InitInstance` does several things."},{"content":"It registers document templates, which serve as a connection between documents and views; creates a main frame window; and creates an empty document (or opens a document if one is specified as a command-line argument to the application).","pos":[1763,2000]},{"content":"For DLLs and ActiveX (formerly OLE) controls, <ph id=\"ph1\">`CProjNameApp::InitInstance`</ph> registers the control's object factory with OLE by calling <ph id=\"ph2\">`COleObjectFactory::RegisterAll`</ph> and makes a call to <ph id=\"ph3\">`AfxOLEInit`</ph>.","pos":[2013,2213],"source":" For DLLs and ActiveX (formerly OLE) controls, `CProjNameApp::InitInstance` registers the control's object factory with OLE by calling `COleObjectFactory::RegisterAll` and makes a call to `AfxOLEInit`."},{"content":"In addition, the member function <ph id=\"ph1\">`CProjNameApp::ExitInstance`</ph> is used to unload the control from memory with a call to <bpt id=\"p1\">**</bpt>AfxOleTerm<ept id=\"p1\">**</ept>.","pos":[2214,2348],"source":" In addition, the member function `CProjNameApp::ExitInstance` is used to unload the control from memory with a call to **AfxOleTerm**."},{"content":"This file also registers and unregisters the control in the Windows registration database by implementing the <ph id=\"ph1\">`DllRegisterServer`</ph> and <ph id=\"ph2\">`DllUnregisterServer`</ph> functions.","pos":[2361,2527],"source":" This file also registers and unregisters the control in the Windows registration database by implementing the `DllRegisterServer` and `DllUnregisterServer` functions."},{"pos":[2532,2568],"content":"<bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>ctrl.h, <bpt id=\"p2\">*</bpt>Projname<ept id=\"p2\">*</ept>ctrl.cpp","source":"*Projname*ctrl.h, *Projname*ctrl.cpp"},{"content":"Declare and implement the <ph id=\"ph1\">`CProjnameCtrl`</ph> class.","pos":[2569,2617],"source":"Declare and implement the `CProjnameCtrl` class."},{"content":"is derived from <ph id=\"ph1\">`COleControl`</ph>, and skeleton implementations of some member functions are defined that initialize, draw, and serialize (load and save) the control.","pos":[2634,2796],"source":" is derived from `COleControl`, and skeleton implementations of some member functions are defined that initialize, draw, and serialize (load and save) the control."},{"content":"Message, event, and dispatch maps are also defined.","pos":[2797,2848]},{"pos":[2853,2887],"content":"<bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>dlg.cpp, <bpt id=\"p2\">*</bpt>Projname<ept id=\"p2\">*</ept>dlg.h","source":"*Projname*dlg.cpp, *Projname*dlg.h"},{"content":"Created if you choose a dialog-based application.","pos":[2888,2937]},{"content":"The files derive and implement the dialog class, named <ph id=\"ph1\">`CProjnameDlg`</ph>, and include skeleton member functions to initialize a dialog and perform dialog data exchange (DDX).","pos":[2938,3109],"source":" The files derive and implement the dialog class, named `CProjnameDlg`, and include skeleton member functions to initialize a dialog and perform dialog data exchange (DDX)."},{"content":"Your About dialog class is also placed in these files instead of in <bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>.cpp.","pos":[3110,3193],"source":" Your About dialog class is also placed in these files instead of in *Projname*.cpp."},{"content":"Dlgproxy.cpp, Dlgproxy.h","pos":[3198,3222]},{"content":"In a dialog-based program, the implementation and header file for the project's Automation proxy class for the main dialog.","pos":[3223,3346]},{"content":"This is only used if you have chosen Automation support.","pos":[3347,3403]},{"pos":[3408,3442],"content":"<bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>doc.cpp, <bpt id=\"p2\">*</bpt>Projname<ept id=\"p2\">*</ept>doc.h","source":"*Projname*doc.cpp, *Projname*doc.h"},{"pos":[3443,3644],"content":"Derive and implement the document class, named <ph id=\"ph1\">`CProjnameDoc`</ph>, and include skeleton member functions to initialize a document, serialize (save and load) a document, and implement debugging diagnostics.","source":"Derive and implement the document class, named `CProjnameDoc`, and include skeleton member functions to initialize a document, serialize (save and load) a document, and implement debugging diagnostics."},{"pos":[3649,3669],"content":"<bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>set.h/.cpp","source":"*Projname*set.h/.cpp"},{"content":"Created if you create a program that supports a database and contains the recordset class.","pos":[3670,3760]},{"pos":[3765,3801],"content":"<bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>view.cpp, <bpt id=\"p2\">*</bpt>Projname<ept id=\"p2\">*</ept>view.h","source":"*Projname*view.cpp, *Projname*view.h"},{"content":"Derive and implement the view class, named <ph id=\"ph1\">`CProjnameView`</ph>, which is used to display and print the document data.","pos":[3802,3915],"source":"Derive and implement the view class, named `CProjnameView`, which is used to display and print the document data."},{"content":"The <ph id=\"ph1\">`CProjnameView`</ph> class is derived from one of the following MFC classes:","pos":[3916,3991],"source":" The `CProjnameView` class is derived from one of the following MFC classes:"},{"content":"CEditView","pos":[4009,4018]},{"content":"CFormView","pos":[4067,4076]},{"content":"CRecordView","pos":[4125,4136]},{"content":"COleDBRecordView","pos":[4187,4203]},{"content":"CTreeView","pos":[4259,4268]},{"content":"CListView","pos":[4317,4326]},{"content":"CRichEditView","pos":[4375,4388]},{"content":"CScrollView","pos":[4441,4452]},{"content":"CView","pos":[4503,4508]},{"content":"CHTMLView","pos":[4553,4562]},{"content":"CHTMLEditView","pos":[4611,4624]},{"content":"The project's view class contains skeleton member functions to draw the view and implement debugging diagnostics.","pos":[4679,4792]},{"content":"If you have enabled support for printing, then message-map entries are added for print, print setup, and print preview command messages.","pos":[4793,4929]},{"content":"These entries call the corresponding member functions in the base view class.","pos":[4930,5007]},{"pos":[5012,5056],"content":"<bpt id=\"p1\">*</bpt>Projname<ept id=\"p1\">*</ept>PropPage.h, <bpt id=\"p2\">*</bpt>Projname<ept id=\"p2\">*</ept>PropPage.cpp","source":"*Projname*PropPage.h, *Projname*PropPage.cpp"},{"content":"Declare and implement the <ph id=\"ph1\">`CProjnamePropPage`</ph> class.","pos":[5057,5109],"source":"Declare and implement the `CProjnamePropPage` class."},{"content":"is derived from <ph id=\"ph1\">`COlePropertyPage`</ph> and a skeleton member function, <ph id=\"ph2\">`DoDataExchange`</ph>, is provided to implement data exchange and validation.","pos":[5130,5269],"source":" is derived from `COlePropertyPage` and a skeleton member function, `DoDataExchange`, is provided to implement data exchange and validation."},{"content":"IPframe.cpp, IPframe.h","pos":[5274,5296]},{"content":"Created if the Mini-Server or Full-Server option is selected in the application wizard's <bpt id=\"p1\">**</bpt>Automation Options<ept id=\"p1\">**</ept> page (step 3 of 6).","pos":[5297,5428],"source":"Created if the Mini-Server or Full-Server option is selected in the application wizard's **Automation Options** page (step 3 of 6)."},{"content":"The files derive and implement the in-place frame window class, named <bpt id=\"p1\">**</bpt>CInPlaceFrame<ept id=\"p1\">**</ept>, used when the server is in place activated by a container program.","pos":[5429,5584],"source":" The files derive and implement the in-place frame window class, named **CInPlaceFrame**, used when the server is in place activated by a container program."},{"content":"Mainfrm.cpp, Mainfrm.h","pos":[5589,5611]},{"content":"Derive the <bpt id=\"p1\">**</bpt>CMainFrame<ept id=\"p1\">**</ept> class from either <bpt id=\"p2\">[</bpt>CFrameWnd<ept id=\"p2\">](../mfc/reference/cframewnd-class.md)</ept> (for SDI applications) or <bpt id=\"p3\">[</bpt>CMDIFrameWnd<ept id=\"p3\">](../mfc/reference/cmdiframewnd-class.md)</ept> (for MDI applications).","pos":[5612,5809],"source":"Derive the **CMainFrame** class from either [CFrameWnd](../mfc/reference/cframewnd-class.md) (for SDI applications) or [CMDIFrameWnd](../mfc/reference/cmdiframewnd-class.md) (for MDI applications)."},{"content":"The <bpt id=\"p1\">**</bpt>CMainFrame<ept id=\"p1\">**</ept> class handles the creation of toolbar buttons and the status bar, if the corresponding options are selected in the application wizard's <bpt id=\"p2\">**</bpt>Application Options<ept id=\"p2\">**</ept> page (step 4 of 6).","pos":[5810,6008],"source":" The **CMainFrame** class handles the creation of toolbar buttons and the status bar, if the corresponding options are selected in the application wizard's **Application Options** page (step 4 of 6)."},{"content":"For information on using <bpt id=\"p1\">**</bpt>CMainFrame<ept id=\"p1\">**</ept>, see <bpt id=\"p2\">[</bpt>The Frame-Window Classes Created by the Application Wizard<ept id=\"p2\">](../mfc/frame-window-classes-created-by-the-application-wizard.md)</ept>.","pos":[6009,6181],"source":" For information on using **CMainFrame**, see [The Frame-Window Classes Created by the Application Wizard](../mfc/frame-window-classes-created-by-the-application-wizard.md)."},{"content":"Childfrm.cpp, Childfrm.h","pos":[6186,6210]},{"content":"Derive the <bpt id=\"p1\">**</bpt>CChildFrame<ept id=\"p1\">**</ept> class from <bpt id=\"p2\">[</bpt>CMDIChildWnd<ept id=\"p2\">](../mfc/reference/cmdichildwnd-class.md)</ept>.","pos":[6211,6304],"source":"Derive the **CChildFrame** class from [CMDIChildWnd](../mfc/reference/cmdichildwnd-class.md)."},{"content":"The <bpt id=\"p1\">**</bpt>CChildFrame<ept id=\"p1\">**</ept> class is used for MDI document frame windows.","pos":[6305,6370],"source":" The **CChildFrame** class is used for MDI document frame windows."},{"content":"These files are always created if you select the MDI option.","pos":[6371,6431]},{"content":"See Also","pos":[6441,6449]},{"content":"File Types Created for Visual C++ Projects","pos":[6454,6496]},{"content":"ATL Program or Control Source and Header Files","pos":[6557,6603]},{"content":"CLR Projects","pos":[6668,6680]}],"content":"---\ntitle: \"MFC Program or Control Source and Header Files | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"file types [C++], MFC source and header\"\nms.assetid: f61419a8-bf69-4bbb-8f7c-1734be5e6db6\ncaps.latest.revision: 6\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# MFC Program or Control Source and Header Files\nThe following files are created when you create an MFC project in Visual Studio, depending on the options you select for the project you create. For example, your project contains *Projname*dlg.cpp and *Projname*dlg.h files only if you create a dialog-based project or class.  \n  \n All of these files are located in the *Projname* directory, and in either the Header Files (.h files) folder or Source Files (.cpp files) folder in Solution Explorer.  \n  \n|File name|Description|  \n|---------------|-----------------|  \n|*Projname*.h|The main include file for the program or DLL. It contains all global symbols and `#include` directives for other header files. It derives the `CPrjnameApp` class from `CWinApp` and declares an `InitInstance` member function. For a control, the `CPrjnameApp` class is derived from `COleControlModule`.|  \n|*Projname*.cpp|The main program source file. It creates one object of the class `CPrjnameApp`, which is derived from `CWinApp`, and overrides the `InitInstance` member function.<br /><br /> For executables, `CPrjnameApp::InitInstance` does several things. It registers document templates, which serve as a connection between documents and views; creates a main frame window; and creates an empty document (or opens a document if one is specified as a command-line argument to the application).<br /><br /> For DLLs and ActiveX (formerly OLE) controls, `CProjNameApp::InitInstance` registers the control's object factory with OLE by calling `COleObjectFactory::RegisterAll` and makes a call to `AfxOLEInit`. In addition, the member function `CProjNameApp::ExitInstance` is used to unload the control from memory with a call to **AfxOleTerm**.<br /><br /> This file also registers and unregisters the control in the Windows registration database by implementing the `DllRegisterServer` and `DllUnregisterServer` functions.|  \n|*Projname*ctrl.h, *Projname*ctrl.cpp|Declare and implement the `CProjnameCtrl` class. `CProjnameCtrl` is derived from `COleControl`, and skeleton implementations of some member functions are defined that initialize, draw, and serialize (load and save) the control. Message, event, and dispatch maps are also defined.|  \n|*Projname*dlg.cpp, *Projname*dlg.h|Created if you choose a dialog-based application. The files derive and implement the dialog class, named `CProjnameDlg`, and include skeleton member functions to initialize a dialog and perform dialog data exchange (DDX). Your About dialog class is also placed in these files instead of in *Projname*.cpp.|  \n|Dlgproxy.cpp, Dlgproxy.h|In a dialog-based program, the implementation and header file for the project's Automation proxy class for the main dialog. This is only used if you have chosen Automation support.|  \n|*Projname*doc.cpp, *Projname*doc.h|Derive and implement the document class, named `CProjnameDoc`, and include skeleton member functions to initialize a document, serialize (save and load) a document, and implement debugging diagnostics.|  \n|*Projname*set.h/.cpp|Created if you create a program that supports a database and contains the recordset class.|  \n|*Projname*view.cpp, *Projname*view.h|Derive and implement the view class, named `CProjnameView`, which is used to display and print the document data. The `CProjnameView` class is derived from one of the following MFC classes:<br /><br /> -   [CEditView](../mfc/reference/ceditview-class.md)<br />-   [CFormView](../mfc/reference/cformview-class.md)<br />-   [CRecordView](../mfc/reference/crecordview-class.md)<br />-   [COleDBRecordView](../mfc/reference/coledbrecordview-class.md)<br />-   [CTreeView](../mfc/reference/ctreeview-class.md)<br />-   [CListView](../mfc/reference/clistview-class.md)<br />-   [CRichEditView](../mfc/reference/cricheditview-class.md)<br />-   [CScrollView](../mfc/reference/cscrollview-class.md)<br />-   [CView](../mfc/reference/cview-class.md)<br />-   [CHTMLView](../mfc/reference/chtmlview-class.md)<br />-   [CHTMLEditView](../mfc/reference/chtmleditview-class.md)<br /><br /> The project's view class contains skeleton member functions to draw the view and implement debugging diagnostics. If you have enabled support for printing, then message-map entries are added for print, print setup, and print preview command messages. These entries call the corresponding member functions in the base view class.|  \n|*Projname*PropPage.h, *Projname*PropPage.cpp|Declare and implement the `CProjnamePropPage` class. `CProjnamePropPage` is derived from `COlePropertyPage` and a skeleton member function, `DoDataExchange`, is provided to implement data exchange and validation.|  \n|IPframe.cpp, IPframe.h|Created if the Mini-Server or Full-Server option is selected in the application wizard's **Automation Options** page (step 3 of 6). The files derive and implement the in-place frame window class, named **CInPlaceFrame**, used when the server is in place activated by a container program.|  \n|Mainfrm.cpp, Mainfrm.h|Derive the **CMainFrame** class from either [CFrameWnd](../mfc/reference/cframewnd-class.md) (for SDI applications) or [CMDIFrameWnd](../mfc/reference/cmdiframewnd-class.md) (for MDI applications). The **CMainFrame** class handles the creation of toolbar buttons and the status bar, if the corresponding options are selected in the application wizard's **Application Options** page (step 4 of 6). For information on using **CMainFrame**, see [The Frame-Window Classes Created by the Application Wizard](../mfc/frame-window-classes-created-by-the-application-wizard.md).|  \n|Childfrm.cpp, Childfrm.h|Derive the **CChildFrame** class from [CMDIChildWnd](../mfc/reference/cmdichildwnd-class.md). The **CChildFrame** class is used for MDI document frame windows. These files are always created if you select the MDI option.|  \n  \n## See Also  \n [File Types Created for Visual C++ Projects](../ide/file-types-created-for-visual-cpp-projects.md)   \n [ATL Program or Control Source and Header Files](../ide/atl-program-or-control-source-and-header-files.md)   \n [CLR Projects](../ide/files-created-for-clr-projects.md)"}