{"nodes":[{"pos":[12,62],"content":"Consistency Rules for -Yc and -Yu | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Consistency Rules for -Yc and -Yu | Microsoft Docs","pos":[0,50]}]},{"content":"Consistency Rules for /Yc and /Yu","pos":[788,821]},{"content":"When you use a precompiled header created using /Yc or /Yu, the compiler compares the current compilation environment to the one that existed when you created the .pch file.","pos":[822,995]},{"content":"Be sure to specify an environment consistent with the previous one (using consistent compiler options, pragmas, and so on) for the current compilation.","pos":[996,1147]},{"content":"If the compiler detects an inconsistency, it issues a warning and identifies the inconsistency where possible.","pos":[1148,1258]},{"content":"Such warnings don't necessarily indicate a problem with the .pch file; they simply warn you of possible conflicts.","pos":[1259,1373]},{"content":"The following sections explain the consistency requirements for precompiled headers.","pos":[1374,1458]},{"content":"Compiler Option Consistency","pos":[1467,1494]},{"content":"The following table lists compiler options that might trigger an inconsistency warning when using a precompiled header.","pos":[1498,1617]},{"content":"Option","pos":[1624,1630]},{"content":"Name","pos":[1631,1635]},{"content":"Rule","pos":[1636,1640]},{"content":"/D","pos":[1684,1686]},{"content":"Define constants and macros","pos":[1687,1714]},{"content":"Must be the same between the compilation that created the precompiled header and the current compilation.","pos":[1715,1820]},{"content":"The state of defined constants is not checked, but unpredictable results can occur if your files depend on the values of the changed constants.","pos":[1821,1964]},{"content":"/E or /EP","pos":[1969,1978]},{"content":"Copy preprocessor output to standard output","pos":[1979,2022]},{"content":"Precompiled headers do not work with the /E or /EP option.","pos":[2023,2081]},{"content":"/Fr or /FR","pos":[2086,2096]},{"content":"Generate Microsoft Source Browser information","pos":[2097,2142]},{"content":"For the /Fr and /FR options to be valid with the /Yu option, they must also have been in effect when the precompiled header was created.","pos":[2143,2279]},{"content":"Subsequent compilations that use the precompiled header also generate Source Browser information.","pos":[2280,2377]},{"content":"Browser information is placed in a single .sbr file and is referenced by other files in the same manner as CodeView information.","pos":[2378,2506]},{"content":"You cannot override the placement of Source Browser information.","pos":[2507,2571]},{"content":"/GA, /GD, /GE, /Gw, or /GW","pos":[2576,2602]},{"content":"Windows protocol options","pos":[2603,2627]},{"content":"Must be the same between the compilation that created the precompiled header and the current compilation.","pos":[2628,2733]},{"content":"If these options differ, a warning message results.","pos":[2734,2785]},{"content":"/Zi","pos":[2790,2793]},{"content":"Generate complete debugging information","pos":[2794,2833]},{"content":"If this option is in effect when the precompiled header is created, subsequent compilations that use the precompilation can use that debugging information.","pos":[2834,2989]},{"content":"If /Zi is not in effect when the precompiled header is created, subsequent compilations that use the precompilation and the /Zi option trigger a warning.","pos":[2990,3143]},{"content":"The debugging information is placed in the current object file, and local symbols defined in the precompiled header are not available to the debugger.","pos":[3144,3294]},{"pos":[3303,3411],"content":"[!NOTE]\n The precompiled header facility is intended for use only with a file with C and C++ source files.","leadings":["","> "],"nodes":[{"content":"The precompiled header facility is intended for use only with a file with C and C++ source files.","pos":[9,106]}]},{"content":"Include Path Consistency","pos":[3420,3444]},{"content":"A precompiled header created with /Yc does not contain information about the include path that was in effect when you created the .pch file.","pos":[3448,3588]},{"content":"When you use a .pch file, the compiler always uses the include path specified in the current compilation.","pos":[3589,3694]},{"content":"Source File Consistency","pos":[3703,3726]},{"content":"When you use a precompiled header, the compiler ignores all preprocessor directives (including pragmas) that appear before the hdrstop pragma.","pos":[3730,3872]},{"content":"The compilation specified by such preprocessor directives must be the same as the compilation used to create the precompiled header file.","pos":[3873,4010]},{"content":"Pragma Consistency","pos":[4019,4037]},{"content":"Pragmas processed during the compilation of a precompiled header usually affect the file in which the precompiled header is subsequently used.","pos":[4041,4183]},{"content":"The following pragmas affect only the code within the .pch file; they do not affect code that subsequently uses the .pch file:","pos":[4184,4310]},{"content":"Comment","pos":[4334,4341]},{"content":"page","pos":[4342,4346]},{"content":"subtitle","pos":[4347,4355]},{"content":"Linesize","pos":[4360,4368]},{"content":"pagesize","pos":[4369,4377]},{"content":"Title","pos":[4378,4383]},{"content":"Message","pos":[4388,4395]},{"content":"skip","pos":[4396,4400]},{"content":"The following pragmas are retained as part of a precompiled header, and affect the remainder of a compilation that uses the precompiled header:","pos":[4409,4552]},{"content":"alloc_text","pos":[4576,4586]},{"content":"function","pos":[4587,4595]},{"content":"optimize","pos":[4596,4604]},{"content":"auto_inline","pos":[4609,4620]},{"content":"inline_depth","pos":[4621,4633]},{"content":"Pack","pos":[4634,4638]},{"content":"check_pointer","pos":[4643,4656]},{"content":"inline_recursion","pos":[4657,4673]},{"content":"same_seg","pos":[4674,4682]},{"content":"check_stack","pos":[4687,4698]},{"content":"intrinsic","pos":[4699,4708]},{"content":"warning","pos":[4709,4716]},{"content":"code_seg","pos":[4721,4729]},{"content":"loop_opt","pos":[4730,4738]},{"content":"data_seg","pos":[4744,4752]},{"content":"native_caller","pos":[4753,4766]},{"content":"See Also","pos":[4777,4785]},{"content":"Precompiled Header Consistency Rules","pos":[4790,4826]},{"content":"/Yc (Create Precompiled Header File)","pos":[4896,4932]},{"content":"/Yu (Use Precompiled Header File)","pos":[4999,5032]}],"content":"---\ntitle: \"Consistency Rules for -Yc and -Yu | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"/yc\"\n  - \"/yu\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"Yu compiler option [C++]\"\n  - \"/Yu compiler option [C++]\"\n  - \"-Yu compiler option [C++]\"\n  - \"-Yc compiler option [C++]\"\n  - \"/Yc compiler option [C++]\"\n  - \"Yc compiler option [C++]\"\nms.assetid: 9dfb0e32-ec9b-4a36-9355-27a0e5fba512\ncaps.latest.revision: 6\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Consistency Rules for /Yc and /Yu\nWhen you use a precompiled header created using /Yc or /Yu, the compiler compares the current compilation environment to the one that existed when you created the .pch file. Be sure to specify an environment consistent with the previous one (using consistent compiler options, pragmas, and so on) for the current compilation. If the compiler detects an inconsistency, it issues a warning and identifies the inconsistency where possible. Such warnings don't necessarily indicate a problem with the .pch file; they simply warn you of possible conflicts. The following sections explain the consistency requirements for precompiled headers.  \n  \n## Compiler Option Consistency  \n The following table lists compiler options that might trigger an inconsistency warning when using a precompiled header.  \n  \n|Option|Name|Rule|  \n|------------|----------|----------|  \n|/D|Define constants and macros|Must be the same between the compilation that created the precompiled header and the current compilation. The state of defined constants is not checked, but unpredictable results can occur if your files depend on the values of the changed constants.|  \n|/E or /EP|Copy preprocessor output to standard output|Precompiled headers do not work with the /E or /EP option.|  \n|/Fr or /FR|Generate Microsoft Source Browser information|For the /Fr and /FR options to be valid with the /Yu option, they must also have been in effect when the precompiled header was created. Subsequent compilations that use the precompiled header also generate Source Browser information. Browser information is placed in a single .sbr file and is referenced by other files in the same manner as CodeView information. You cannot override the placement of Source Browser information.|  \n|/GA, /GD, /GE, /Gw, or /GW|Windows protocol options|Must be the same between the compilation that created the precompiled header and the current compilation. If these options differ, a warning message results.|  \n|/Zi|Generate complete debugging information|If this option is in effect when the precompiled header is created, subsequent compilations that use the precompilation can use that debugging information. If /Zi is not in effect when the precompiled header is created, subsequent compilations that use the precompilation and the /Zi option trigger a warning. The debugging information is placed in the current object file, and local symbols defined in the precompiled header are not available to the debugger.|  \n  \n> [!NOTE]\n>  The precompiled header facility is intended for use only with a file with C and C++ source files.  \n  \n## Include Path Consistency  \n A precompiled header created with /Yc does not contain information about the include path that was in effect when you created the .pch file. When you use a .pch file, the compiler always uses the include path specified in the current compilation.  \n  \n## Source File Consistency  \n When you use a precompiled header, the compiler ignores all preprocessor directives (including pragmas) that appear before the hdrstop pragma. The compilation specified by such preprocessor directives must be the same as the compilation used to create the precompiled header file.  \n  \n## Pragma Consistency  \n Pragmas processed during the compilation of a precompiled header usually affect the file in which the precompiled header is subsequently used. The following pragmas affect only the code within the .pch file; they do not affect code that subsequently uses the .pch file:  \n  \n||||  \n|-|-|-|  \n|Comment|page|subtitle|  \n|Linesize|pagesize|Title|  \n|Message|skip||  \n  \n The following pragmas are retained as part of a precompiled header, and affect the remainder of a compilation that uses the precompiled header:  \n  \n||||  \n|-|-|-|  \n|alloc_text|function|optimize|  \n|auto_inline|inline_depth|Pack|  \n|check_pointer|inline_recursion|same_seg|  \n|check_stack|intrinsic|warning|  \n|code_seg|loop_opt||  \n|data_seg|native_caller||  \n  \n## See Also  \n [Precompiled Header Consistency Rules](../../build/reference/precompiled-header-consistency-rules.md)   \n [/Yc (Create Precompiled Header File)](../../build/reference/yc-create-precompiled-header-file.md)   \n [/Yu (Use Precompiled Header File)](../../build/reference/yu-use-precompiled-header-file.md)"}