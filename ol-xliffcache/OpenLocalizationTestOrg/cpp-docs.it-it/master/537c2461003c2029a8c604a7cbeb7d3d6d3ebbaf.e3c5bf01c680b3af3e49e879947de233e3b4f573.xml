{"nodes":[{"pos":[12,50],"content":"CMFCColorDialog Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CMFCColorDialog Class | Microsoft Docs","pos":[0,38]}]},{"content":"CMFCColorDialog Class","pos":[1269,1290]},{"pos":[1291,1359],"content":"The <ph id=\"ph1\">`CMFCColorDialog`</ph> class represents a color selection dialog box.","source":"The `CMFCColorDialog` class represents a color selection dialog box."},{"content":"Syntax","pos":[1368,1374]},{"content":"Members","pos":[1441,1448]},{"content":"Public Constructors","pos":[1458,1477]},{"content":"Name","pos":[1484,1488]},{"content":"Description","pos":[1489,1500]},{"content":"CMFCColorDialog::CMFCColorDialog","pos":[1539,1571]},{"pos":[1608,1646],"content":"Constructs a <ph id=\"ph1\">`CMFCColorDialog`</ph> object.","source":"Constructs a `CMFCColorDialog` object."},{"content":"Destructor.","pos":[1687,1698]},{"content":"Public Methods","pos":[1709,1723]},{"content":"Name","pos":[1730,1734]},{"content":"Description","pos":[1735,1746]},{"content":"CMFCColorDialog::GetColor","pos":[1785,1810]},{"content":"Returns the current selected color.","pos":[1840,1875]},{"content":"CMFCColorDialog::GetPalette","pos":[1881,1908]},{"content":"Returns the color's palette.","pos":[1940,1968]},{"content":"Translates window messages before they are dispatched to the <bpt id=\"p1\">[</bpt>TranslateMessage<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/ms644955)</ept> and <bpt id=\"p2\">[</bpt>DispatchMessage<ept id=\"p2\">](http://msdn.microsoft.com/library/windows/desktop/ms644934)</ept> Windows functions.","pos":[2012,2252],"source":"Translates window messages before they are dispatched to the [TranslateMessage](http://msdn.microsoft.com/library/windows/desktop/ms644955) and [DispatchMessage](http://msdn.microsoft.com/library/windows/desktop/ms644934) Windows functions."},{"content":"For syntax and more information, see <bpt id=\"p1\">[</bpt>CWnd::PreTranslateMessage<ept id=\"p1\">](../../mfc/reference/cwnd-class.md#cwnd__pretranslatemessage)</ept>.","pos":[2253,2379],"source":" For syntax and more information, see [CWnd::PreTranslateMessage](../../mfc/reference/cwnd-class.md#cwnd__pretranslatemessage)."},{"content":"(Overrides <ph id=\"ph1\">`CDialogEx::PreTranslateMessage`</ph>.)","pos":[2380,2425],"source":" (Overrides `CDialogEx::PreTranslateMessage`.)"},{"content":"CMFCColorDialog::RebuildPalette","pos":[2431,2462]},{"content":"Derives a palette from the system palette.","pos":[2498,2540]},{"content":"CMFCColorDialog::SetCurrentColor","pos":[2546,2578]},{"content":"Sets the current selected color.","pos":[2615,2647]},{"content":"CMFCColorDialog::SetNewColor","pos":[2653,2681]},{"content":"Sets the color most equivalent to a specified RGB value.","pos":[2714,2770]},{"content":"CMFCColorDialog::SetPageOne","pos":[2776,2803]},{"content":"Selects an RGB value for the first property page.","pos":[2835,2884]},{"content":"CMFCColorDialog::SetPageTwo","pos":[2890,2917]},{"content":"Selects an RGB value for the second property page.","pos":[2949,2999]},{"content":"Protected Data Members","pos":[3010,3032]},{"content":"Name","pos":[3039,3043]},{"content":"Description","pos":[3044,3055]},{"pos":[3117,3278],"content":"if the color selection dialog box uses its own color palette, or <ph id=\"ph1\">`FALSE`</ph> if the dialog box uses a palette that is specified in the <ph id=\"ph2\">`CMFCColorDialog`</ph> constructor.","source":" if the color selection dialog box uses its own color palette, or `FALSE` if the dialog box uses a palette that is specified in the `CMFCColorDialog` constructor."},{"pos":[3306,3392],"content":"while the user is selecting a color from the selection dialog box; otherwise, <ph id=\"ph1\">`FALSE`</ph>.","source":" while the user is selecting a color from the selection dialog box; otherwise, `FALSE`."},{"content":"The color button that the user has selected.","pos":[3416,3460]},{"content":"The currently selected color.","pos":[3482,3511]},{"content":"The cursor that is used to pick a color.","pos":[3531,3571]},{"content":"The prospective selected color, which can be permanently selected or reverted to the original color.","pos":[3589,3689]},{"content":"A pointer to the first property page of the color selection property sheet.","pos":[3714,3789]},{"content":"A pointer to the second property page of the color selection property sheet.","pos":[3814,3890]},{"content":"The current logical palette.","pos":[3908,3936]},{"content":"A pointer to the property sheet for the color selection dialog box.","pos":[3956,4023]},{"content":"A color picker control object.","pos":[4042,4072]},{"content":"A static control that is a placeholder for the color picker property sheet.","pos":[4102,4177]},{"content":"Remarks","pos":[4187,4194]},{"content":"The color selection dialog box is displayed as a property sheet with two pages.","pos":[4198,4277]},{"content":"On the first page, you select a standard color from the system palette; on the second page, you select a custom color.","pos":[4278,4396]},{"content":"You can construct a <ph id=\"ph1\">`CMFCColorDialog`</ph> object on the stack and then call <ph id=\"ph2\">`DoModal`</ph>, passing the initial color as a parameter to the <ph id=\"ph3\">`CMFCColorDialog`</ph> constructor.","pos":[4403,4564],"source":"You can construct a `CMFCColorDialog` object on the stack and then call `DoModal`, passing the initial color as a parameter to the `CMFCColorDialog` constructor."},{"content":"The color selection dialog box then creates several <bpt id=\"p1\">[</bpt>CMFCColorPickerCtrl Class<ept id=\"p1\">](../../mfc/reference/cmfccolorpickerctrl-class.md)</ept> objects to handle each color palette.","pos":[4565,4732],"source":" The color selection dialog box then creates several [CMFCColorPickerCtrl Class](../../mfc/reference/cmfccolorpickerctrl-class.md) objects to handle each color palette."},{"content":"Inheritance Hierarchy","pos":[4741,4762]},{"content":"CObject","pos":[4767,4774]},{"content":"CCmdTarget","pos":[4821,4831]},{"content":"CWnd","pos":[4881,4885]},{"content":"CDialog","pos":[4929,4936]},{"content":"CDialogEx","pos":[4983,4992]},{"content":"CMFCColorDialog","pos":[5041,5056]},{"content":"Example","pos":[5112,5119]},{"content":"The following example demonstrates how to configure a color dialog by using various methods in the <ph id=\"ph1\">`CMFCColorDialog`</ph> class.","pos":[5123,5246],"source":"The following example demonstrates how to configure a color dialog by using various methods in the `CMFCColorDialog` class."},{"content":"The example shows how to set the current and the new colors of the dialog, and how to set the red, green, and blue components of a selected color on the two property pages of the color dialog.","pos":[5247,5439]},{"content":"This example is part of the <bpt id=\"p1\">[</bpt>New Controls sample<ept id=\"p1\">](../../visual-cpp-samples.md)</ept>.","pos":[5440,5519],"source":" This example is part of the [New Controls sample](../../visual-cpp-samples.md)."},{"pos":[5537,5558],"content":"NVC_MFC_NewControls#3"},{"content":"Requirements","pos":[5634,5646]},{"pos":[5650,5678],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> afxcolordialog.h","source":"**Header:** afxcolordialog.h"},{"pos":[5737,5769],"content":"CMFCColorDialog::CMFCColorDialog"},{"pos":[5773,5811],"content":"Constructs a <ph id=\"ph1\">`CMFCColorDialog`</ph> object.","source":"Constructs a `CMFCColorDialog` object."},{"content":"Parameters","pos":[5956,5966]},{"content":"[in]","pos":[5970,5974]},{"content":"The default color selection.","pos":[5988,6016]},{"content":"If no value is specified, the default is RGB(0,0,0) (black).","pos":[6017,6077]},{"content":"[in]","pos":[6084,6088]},{"content":"(Reserved.)","pos":[6102,6113]},{"content":"[in]","pos":[6120,6124]},{"content":"A pointer to the dialog box's parent or owner window.","pos":[6141,6194]},{"content":"[in]","pos":[6201,6205]},{"content":"A handle to a color palette.","pos":[6216,6244]},{"content":"Return Value","pos":[6254,6266]},{"content":"Remarks","pos":[6276,6283]},{"pos":[6335,6360],"content":"CMFCColorDialog::GetColor"},{"content":"Retrieves the color that the user selects from the color dialog.","pos":[6364,6428]},{"content":"Return Value","pos":[6483,6495]},{"pos":[6499,6659],"content":"A <bpt id=\"p1\">[</bpt>COLORREF<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd183449)</ept> value that contains the RGB information for the color selected in the color dialog box.","source":"A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) value that contains the RGB information for the color selected in the color dialog box."},{"content":"Remarks","pos":[6669,6676]},{"pos":[6680,6735],"content":"Call this function after you call the <ph id=\"ph1\">`DoModal`</ph> method.","source":"Call this function after you call the `DoModal` method."},{"pos":[6789,6816],"content":"CMFCColorDialog::GetPalette"},{"content":"Retrieves the color palette that is available in the current color dialog.","pos":[6820,6894]},{"content":"Return Value","pos":[6952,6964]},{"pos":[6968,7059],"content":"A pointer to the <ph id=\"ph1\">`CPalette`</ph> object that was specified in the <ph id=\"ph2\">`CMFCColorDialog`</ph> constructor.","source":"A pointer to the `CPalette` object that was specified in the `CMFCColorDialog` constructor."},{"content":"Remarks","pos":[7069,7076]},{"content":"The color palette specifies the colors that the user can choose.","pos":[7080,7144]},{"pos":[7202,7233],"content":"CMFCColorDialog::RebuildPalette"},{"content":"Derives a palette from the system palette.","pos":[7237,7279]},{"pos":[7376,7408],"content":"CMFCColorDialog::SetCurrentColor"},{"content":"Sets the current color of the dialog box.","pos":[7412,7453]},{"content":"Parameters","pos":[7514,7524]},{"content":"[in]","pos":[7528,7532]},{"content":"An RGB color value","pos":[7542,7560]},{"content":"Remarks","pos":[7570,7577]},{"pos":[7632,7660],"content":"CMFCColorDialog::SetNewColor"},{"content":"Sets the current color to the color in the current palette that is most similar.","pos":[7664,7744]},{"content":"Parameters","pos":[7801,7811]},{"content":"[in]","pos":[7815,7819]},{"content":"A <bpt id=\"p1\">[</bpt>COLORREF<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/dd183449)</ept> that specifies an RGB color.","pos":[7829,7930],"source":" A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) that specifies an RGB color."},{"content":"Remarks","pos":[7940,7947]},{"pos":[8001,8028],"content":"CMFCColorDialog::SetPageOne"},{"content":"Explicitly specifies the red, green, and blue components of a selected color on the first property page of a color dialog.","pos":[8032,8154]},{"content":"Parameters","pos":[8237,8247]},{"content":"[in]","pos":[8251,8255]},{"content":"Specifies the red component of the RGB value.","pos":[8263,8308]},{"content":"[in]","pos":[8315,8319]},{"content":"Specifies the green component of the RGB value.","pos":[8327,8374]},{"content":"[in]","pos":[8381,8385]},{"content":"Specifies the blue component of the RGB value.","pos":[8393,8439]},{"content":"Remarks","pos":[8449,8456]},{"pos":[8510,8537],"content":"CMFCColorDialog::SetPageTwo"},{"content":"Explicitly specifies the red, green, and blue components of a selected color on the second property page of a color dialog.","pos":[8541,8664]},{"content":"Parameters","pos":[8747,8757]},{"content":"[in]","pos":[8761,8765]},{"content":"Specifies a red component of the RGB value","pos":[8773,8815]},{"content":"[in]","pos":[8822,8826]},{"content":"Specifies a green component of an RGB value","pos":[8834,8877]},{"content":"[in]","pos":[8884,8888]},{"content":"Specifies a blue component of an RGB value","pos":[8896,8938]},{"content":"Remarks","pos":[8948,8955]},{"content":"See Also","pos":[8964,8972]},{"content":"Hierarchy Chart","pos":[8977,8992]},{"content":"Classes","pos":[9029,9036]},{"content":"CMFCColorPickerCtrl Class","pos":[9079,9104]}],"content":"---\ntitle: \"CMFCColorDialog Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\nf1_keywords: \n  - \"CMFCColorDialog\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"CMFCColorDialog::m_CurrentColor data member\"\n  - \"CMFCColorDialog::m_pPropSheet data member\"\n  - \"CMFCColorDialog::m_btnColorSelect data member\"\n  - \"CMFCColorDialog class\"\n  - \"CMFCColorDialog::m_wndColors data member\"\n  - \"CMFCColorDialog::m_bIsMyPalette data member\"\n  - \"CMFCColorDialog::m_pColourSheetTwo data member\"\n  - \"CMFCColorDialog::m_NewColor data member\"\n  - \"CMFCColorDialog::m_pPalette data member\"\n  - \"CMFCColorDialog::m_wndStaticPlaceHolder data member\"\n  - \"CMFCColorDialog::m_pColourSheetOne data member\"\n  - \"CMFCColorDialog::m_hcurPicker data member\"\n  - \"CMFCColorDialog::PreTranslateMessage method\"\n  - \"CMFCColorDialog::m_bPickerMode data member\"\nms.assetid: 235bbbbc-a3b1-46e0-801b-fb55093ec579\ncaps.latest.revision: 30\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# CMFCColorDialog Class\nThe `CMFCColorDialog` class represents a color selection dialog box.  \n  \n## Syntax  \n  \n```  \nclass CMFCColorDialog : public CDialogEx  \n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCColorDialog::CMFCColorDialog](#cmfccolordialog__cmfccolordialog)|Constructs a `CMFCColorDialog` object.|  \n|`CMFCColorDialog::~CMFCColorDialog`|Destructor.|  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[CMFCColorDialog::GetColor](#cmfccolordialog__getcolor)|Returns the current selected color.|  \n|[CMFCColorDialog::GetPalette](#cmfccolordialog__getpalette)|Returns the color's palette.|  \n|`CMFCColorDialog::PreTranslateMessage`|Translates window messages before they are dispatched to the [TranslateMessage](http://msdn.microsoft.com/library/windows/desktop/ms644955) and [DispatchMessage](http://msdn.microsoft.com/library/windows/desktop/ms644934) Windows functions. For syntax and more information, see [CWnd::PreTranslateMessage](../../mfc/reference/cwnd-class.md#cwnd__pretranslatemessage). (Overrides `CDialogEx::PreTranslateMessage`.)|  \n|[CMFCColorDialog::RebuildPalette](#cmfccolordialog__rebuildpalette)|Derives a palette from the system palette.|  \n|[CMFCColorDialog::SetCurrentColor](#cmfccolordialog__setcurrentcolor)|Sets the current selected color.|  \n|[CMFCColorDialog::SetNewColor](#cmfccolordialog__setnewcolor)|Sets the color most equivalent to a specified RGB value.|  \n|[CMFCColorDialog::SetPageOne](#cmfccolordialog__setpageone)|Selects an RGB value for the first property page.|  \n|[CMFCColorDialog::SetPageTwo](#cmfccolordialog__setpagetwo)|Selects an RGB value for the second property page.|  \n  \n### Protected Data Members  \n  \n|Name|Description|  \n|----------|-----------------|  \n|`m_bIsMyPalette`|`TRUE` if the color selection dialog box uses its own color palette, or `FALSE` if the dialog box uses a palette that is specified in the `CMFCColorDialog` constructor.|  \n|`m_bPickerMode`|`TRUE` while the user is selecting a color from the selection dialog box; otherwise, `FALSE`.|  \n|`m_btnColorSelect`|The color button that the user has selected.|  \n|`m_CurrentColor`|The currently selected color.|  \n|`m_hcurPicker`|The cursor that is used to pick a color.|  \n|`m_NewColor`|The prospective selected color, which can be permanently selected or reverted to the original color.|  \n|`m_pColourSheetOne`|A pointer to the first property page of the color selection property sheet.|  \n|`m_pColourSheetTwo`|A pointer to the second property page of the color selection property sheet.|  \n|`m_pPalette`|The current logical palette.|  \n|`m_pPropSheet`|A pointer to the property sheet for the color selection dialog box.|  \n|`m_wndColors`|A color picker control object.|  \n|`m_wndStaticPlaceHolder`|A static control that is a placeholder for the color picker property sheet.|  \n  \n## Remarks  \n The color selection dialog box is displayed as a property sheet with two pages. On the first page, you select a standard color from the system palette; on the second page, you select a custom color.  \n  \n You can construct a `CMFCColorDialog` object on the stack and then call `DoModal`, passing the initial color as a parameter to the `CMFCColorDialog` constructor. The color selection dialog box then creates several [CMFCColorPickerCtrl Class](../../mfc/reference/cmfccolorpickerctrl-class.md) objects to handle each color palette.  \n  \n## Inheritance Hierarchy  \n [CObject](../../mfc/reference/cobject-class.md)  \n  \n [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  \n  \n [CWnd](../../mfc/reference/cwnd-class.md)  \n  \n [CDialog](../../mfc/reference/cdialog-class.md)  \n  \n [CDialogEx](../../mfc/reference/cdialogex-class.md)  \n  \n [CMFCColorDialog](../../mfc/reference/cmfccolordialog-class.md)  \n  \n## Example  \n The following example demonstrates how to configure a color dialog by using various methods in the `CMFCColorDialog` class. The example shows how to set the current and the new colors of the dialog, and how to set the red, green, and blue components of a selected color on the two property pages of the color dialog. This example is part of the [New Controls sample](../../visual-cpp-samples.md).  \n  \n [!code-cpp[NVC_MFC_NewControls#3](../../mfc/reference/codesnippet/cpp/cmfccolordialog-class_1.cpp)]  \n  \n## Requirements  \n **Header:** afxcolordialog.h  \n  \n##  <a name=\"cmfccolordialog__cmfccolordialog\"></a>  CMFCColorDialog::CMFCColorDialog  \n Constructs a `CMFCColorDialog` object.  \n  \n```  \nCMFCColorDialog(\n    COLORREF clrInit=0,  \n    DWORD dwFlags=0,  \n    CWnd* pParentWnd=NULL,  \n    HPALETTE hPal=NULL);\n```  \n  \n### Parameters  \n [in] `clrInit`  \n The default color selection. If no value is specified, the default is RGB(0,0,0) (black).  \n  \n [in] `dwFlags`  \n (Reserved.)  \n  \n [in] `pParentWnd`  \n A pointer to the dialog box's parent or owner window.  \n  \n [in] `hPal`  \n A handle to a color palette.  \n  \n### Return Value  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolordialog__getcolor\"></a>  CMFCColorDialog::GetColor  \n Retrieves the color that the user selects from the color dialog.  \n  \n```  \nCOLORREF GetColor() const;\n\n \n```  \n  \n### Return Value  \n A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) value that contains the RGB information for the color selected in the color dialog box.  \n  \n### Remarks  \n Call this function after you call the `DoModal` method.  \n  \n##  <a name=\"cmfccolordialog__getpalette\"></a>  CMFCColorDialog::GetPalette  \n Retrieves the color palette that is available in the current color dialog.  \n  \n```  \nCPalette* GetPalette() const;\n\n \n```  \n  \n### Return Value  \n A pointer to the `CPalette` object that was specified in the `CMFCColorDialog` constructor.  \n  \n### Remarks  \n The color palette specifies the colors that the user can choose.  \n  \n##  <a name=\"cmfccolordialog__rebuildpalette\"></a>  CMFCColorDialog::RebuildPalette  \n Derives a palette from the system palette.  \n  \n```  \nvoid RebuildPalette();\n```  \n  \n##  <a name=\"cmfccolordialog__setcurrentcolor\"></a>  CMFCColorDialog::SetCurrentColor  \n Sets the current color of the dialog box.  \n  \n```  \nvoid SetCurrentColor(COLORREF rgb);\n```  \n  \n### Parameters  \n [in] `rgb`  \n An RGB color value  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolordialog__setnewcolor\"></a>  CMFCColorDialog::SetNewColor  \n Sets the current color to the color in the current palette that is most similar.  \n  \n```  \nvoid SetNewColor(COLORREF rgb);\n```  \n  \n### Parameters  \n [in] `rgb`  \n A [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) that specifies an RGB color.  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolordialog__setpageone\"></a>  CMFCColorDialog::SetPageOne  \n Explicitly specifies the red, green, and blue components of a selected color on the first property page of a color dialog.  \n  \n```  \nvoid SetPageOne(\n    BYTE R,  \n    BYTE G,  \n    BYTE B);\n```  \n  \n### Parameters  \n [in] `R`  \n Specifies the red component of the RGB value.  \n  \n [in] `G`  \n Specifies the green component of the RGB value.  \n  \n [in] `B`  \n Specifies the blue component of the RGB value.  \n  \n### Remarks  \n  \n##  <a name=\"cmfccolordialog__setpagetwo\"></a>  CMFCColorDialog::SetPageTwo  \n Explicitly specifies the red, green, and blue components of a selected color on the second property page of a color dialog.  \n  \n```  \nvoid SetPageTwo(\n    BYTE R,  \n    BYTE G,  \n    BYTE B);\n```  \n  \n### Parameters  \n [in] `R`  \n Specifies a red component of the RGB value  \n  \n [in] `G`  \n Specifies a green component of an RGB value  \n  \n [in] `B`  \n Specifies a blue component of an RGB value  \n  \n### Remarks  \n  \n## See Also  \n [Hierarchy Chart](../../mfc/hierarchy-chart.md)   \n [Classes](../../mfc/reference/mfc-classes.md)   \n [CMFCColorPickerCtrl Class](../../mfc/reference/cmfccolorpickerctrl-class.md)\n"}