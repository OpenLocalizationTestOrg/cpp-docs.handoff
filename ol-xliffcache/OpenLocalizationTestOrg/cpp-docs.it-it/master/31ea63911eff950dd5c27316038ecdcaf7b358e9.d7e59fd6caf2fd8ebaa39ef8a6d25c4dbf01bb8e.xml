{"nodes":[{"pos":[12,65],"content":"strtod, _strtod_l, wcstod, _wcstod_l | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"strtod, _strtod_l, wcstod, _wcstod_l | Microsoft Docs","pos":[0,53]}]},{"content":"strtod, _strtod_l, wcstod, _wcstod_l","pos":[1405,1441]},{"content":"Convert strings to a double-precision value.","pos":[1442,1486]},{"content":"Syntax","pos":[1495,1501]},{"content":"Parameters","pos":[1846,1856]},{"content":"Null-terminated string to convert.","pos":[1870,1904]},{"content":"Pointer to character that stops scan.","pos":[1923,1960]},{"content":"The locale to use.","pos":[1979,1997]},{"content":"Return Value","pos":[2006,2018]},{"content":"returns the value of the floating-point number, except when the representation would cause an overflow, in which case the function returns +/–<ph id=\"ph1\">`HUGE_VAL`</ph>.","pos":[2031,2184],"source":" returns the value of the floating-point number, except when the representation would cause an overflow, in which case the function returns +/–`HUGE_VAL`."},{"content":"The sign of <ph id=\"ph1\">`HUGE_VAL`</ph> matches the sign of the value that cannot be represented.","pos":[2185,2265],"source":" The sign of `HUGE_VAL` matches the sign of the value that cannot be represented."},{"content":"returns 0 if no conversion can be performed or an underflow occurs.","pos":[2275,2342]},{"content":"returns values analogously to <ph id=\"ph1\">`strtod`</ph>.","pos":[2358,2397],"source":" returns values analogously to `strtod`."},{"content":"For both functions, <ph id=\"ph1\">`errno`</ph> is set to <ph id=\"ph2\">`ERANGE`</ph> if overflow or underflow occurs and the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[2398,2611],"source":" For both functions, `errno` is set to `ERANGE` if overflow or underflow occurs and the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"pos":[2618,2790],"content":"See <bpt id=\"p1\">[</bpt>_doserrno, errno, _sys_errlist, and _sys_nerr<ept id=\"p1\">](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md)</ept> for more information on this and other return codes.","source":"See [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md) for more information on this and other return codes."},{"content":"Remarks","pos":[2799,2806]},{"content":"Each function converts the input string <ph id=\"ph1\">`nptr`</ph> to a <ph id=\"ph2\">`double`</ph>.","pos":[2810,2871],"source":"Each function converts the input string `nptr` to a `double`."},{"content":"The <ph id=\"ph1\">`strtod`</ph> function converts <ph id=\"ph2\">`nptr`</ph> to a double-precision value.","pos":[2872,2938],"source":" The `strtod` function converts `nptr` to a double-precision value."},{"content":"stops reading the string <ph id=\"ph1\">`nptr`</ph> at the first character it cannot recognize as part of a number.","pos":[2948,3043],"source":" stops reading the string `nptr` at the first character it cannot recognize as part of a number."},{"content":"This may be the terminating null character.","pos":[3044,3087]},{"content":"is a wide-character version of <ph id=\"ph1\">`strtod`</ph>; its <ph id=\"ph2\">`nptr`</ph> argument is a wide-character string.","pos":[3097,3185],"source":" is a wide-character version of `strtod`; its `nptr` argument is a wide-character string."},{"content":"These functions behave identically otherwise.","pos":[3186,3231]},{"content":"Generic-Text Routine Mappings","pos":[3241,3270]},{"content":"TCHAR.H routine","pos":[3277,3292]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[3293,3321],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[3322,3335]},{"content":"_UNICODE defined","pos":[3336,3352]},{"content":"The <ph id=\"ph1\">`LC_NUMERIC`</ph> category setting of the current locale determines recognition of the radix character in <ph id=\"ph2\">`nptr`</ph><bpt id=\"p1\">*</bpt>;<ept id=\"p1\">*</ept> for more information, see <bpt id=\"p2\">[</bpt>setlocale<ept id=\"p2\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept>.","pos":[3561,3773],"source":"The `LC_NUMERIC` category setting of the current locale determines recognition of the radix character in `nptr`*;* for more information, see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md)."},{"content":"The functions without the <ph id=\"ph1\">`_l`</ph> suffix use the current locale; <ph id=\"ph2\">`_strtod_l`</ph> is identical to <ph id=\"ph3\">`_strtod_l`</ph> except that they use the locale passed in instead.","pos":[3774,3926],"source":" The functions without the `_l` suffix use the current locale; `_strtod_l` is identical to `_strtod_l` except that they use the locale passed in instead."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept>.","pos":[3927,3997],"source":" For more information, see [Locale](../../c-runtime-library/locale.md)."},{"content":"If <ph id=\"ph1\">`endptr`</ph> is not <ph id=\"ph2\">`NULL`</ph>, a pointer to the character that stopped the scan is stored at the location pointed to by <ph id=\"ph3\">`endptr`</ph>.","pos":[4004,4129],"source":"If `endptr` is not `NULL`, a pointer to the character that stopped the scan is stored at the location pointed to by `endptr`."},{"content":"If no conversion can be performed (no valid digits were found or an invalid base was specified), the value of <ph id=\"ph1\">`nptr`</ph> is stored at the location pointed to by <ph id=\"ph2\">`endptr`</ph>.","pos":[4130,4296],"source":" If no conversion can be performed (no valid digits were found or an invalid base was specified), the value of `nptr` is stored at the location pointed to by `endptr`."},{"pos":[4312,4370],"content":"expects <ph id=\"ph1\">`nptr`</ph> to point to a string of the following form:","source":" expects `nptr` to point to a string of the following form:"},{"pos":[4377,4459],"content":"[<ph id=\"ph1\">`whitespace`</ph>] [<ph id=\"ph2\">`sign`</ph>] [<ph id=\"ph3\">`digits`</ph>] [<ph id=\"ph4\">`.digits`</ph>] [ {<ph id=\"ph5\">`e`</ph> &amp;#124; <ph id=\"ph6\">`E`</ph>}[<ph id=\"ph7\">`sign`</ph>]<ph id=\"ph8\">`digits`</ph>]","source":"[`whitespace`] [`sign`] [`digits`] [`.digits`] [ {`e` &#124; `E`}[`sign`]`digits`]"},{"content":"A <ph id=\"ph1\">`whitespace`</ph> may consist of space and tab characters, which are ignored; <ph id=\"ph2\">`sign`</ph> is either plus (<ph id=\"ph3\">`+`</ph>) or minus (<ph id=\"ph4\">`–`</ph>); and <ph id=\"ph5\">`digits`</ph> are one or more decimal digits.","pos":[4466,4629],"source":"A `whitespace` may consist of space and tab characters, which are ignored; `sign` is either plus (`+`) or minus (`–`); and `digits` are one or more decimal digits."},{"content":"If no digits appear before the radix character, at least one must appear after the radix character.","pos":[4630,4729]},{"content":"The decimal digits can be followed by an exponent, which consists of an introductory letter (<ph id=\"ph1\">`e`</ph> or <ph id=\"ph2\">`E`</ph>) and an optionally signed integer.","pos":[4730,4868],"source":" The decimal digits can be followed by an exponent, which consists of an introductory letter (`e` or `E`) and an optionally signed integer."},{"content":"If neither an exponent part nor a radix character appears, a radix character is assumed to follow the last digit in the string.","pos":[4869,4996]},{"content":"The first character that does not fit this form stops the scan.","pos":[4997,5060]},{"content":"The UCRT versions of these functions do not support conversion of Fortran-style (<ph id=\"ph1\">`d`</ph> or <ph id=\"ph2\">`D`</ph>) exponent letters.","pos":[5066,5176],"source":"The UCRT versions of these functions do not support conversion of Fortran-style (`d` or `D`) exponent letters."},{"content":"This non-standard extension was supported by earlier versions of the CRT, and may be a breaking change for your code.","pos":[5177,5294]},{"content":"Requirements","pos":[5303,5315]},{"content":"Routine","pos":[5322,5329]},{"content":"Required header","pos":[5330,5345]},{"pos":[5398,5399],"content":","},{"content":"C: <ph id=\"ph1\">\\&lt;</ph>stdlib.h&gt; C++: <ph id=\"ph2\">&amp;lt;</ph>cstdlib&gt; or <ph id=\"ph3\">\\&lt;</ph>stdlib.h&gt;","pos":[5412,5459],"source":"C: \\<stdlib.h> C++: &lt;cstdlib> or \\<stdlib.h>"},{"pos":[5473,5474],"content":","},{"content":"C: <ph id=\"ph1\">\\&lt;</ph>stdlib.h&gt; or <ph id=\"ph2\">\\&lt;</ph>wchar.h&gt; C++: <ph id=\"ph3\">&amp;lt;</ph>cstdlib&gt;, <ph id=\"ph4\">\\&lt;</ph>stdlib.h&gt; or <ph id=\"ph5\">\\&lt;</ph>wchar.h&gt;","pos":[5487,5560],"source":"C: \\<stdlib.h> or \\<wchar.h> C++: &lt;cstdlib>, \\<stdlib.h> or \\<wchar.h>"},{"pos":[5569,5673],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"content":"Example","pos":[5682,5689]},{"content":"See Also","pos":[7368,7376]},{"content":"Data Conversion","pos":[7381,7396]},{"content":"Floating-Point Support","pos":[7447,7469]},{"content":"Interpretation of Multibyte-Character Sequences","pos":[7527,7574]},{"content":"Locale","pos":[7657,7663]},{"content":"String to Numeric Value Functions","pos":[7705,7738]},{"content":"strtol, wcstol, _strtol_l, _wcstol_l","pos":[7807,7843]},{"content":"strtoul, _strtoul_l, wcstoul, _wcstoul_l","pos":[7920,7960]},{"content":"atof, _atof_l, _wtof, _wtof_l","pos":[8041,8070]},{"content":"localeconv","pos":[8139,8149]},{"content":"_create_locale, _wcreate_locale","pos":[8205,8236]},{"content":"_free_locale","pos":[8310,8322]}],"content":"---\ntitle: \"strtod, _strtod_l, wcstod, _wcstod_l | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"wcstod\"\n  - \"_wcstod_l\"\n  - \"_strtod_l\"\n  - \"strtod\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-convert-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_tcstod\"\n  - \"strtod\"\n  - \"wcstod\"\n  - \"_strtod_l\"\n  - \"_wcstod_l\"\n  - \"stdlib/strtod\"\n  - \"corecrt_wstdlib/wcstod\"\n  - \"stdlib/_strtod_l\"\n  - \"corecrt_wstdlib/_wcstod_l\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"wcstod_l function\"\n  - \"tcstod_l function\"\n  - \"_tcstod_l function\"\n  - \"strtod function\"\n  - \"_wcstod_l function\"\n  - \"wcstod function\"\n  - \"strtod_l function\"\n  - \"tcstod function\"\n  - \"_tcstod function\"\n  - \"_strtod_l function\"\n  - \"string conversion, to floating point values\"\nms.assetid: 0444f74a-ba2a-4973-b7f0-1d77ba88c6ed\ncaps.latest.revision: 20\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# strtod, _strtod_l, wcstod, _wcstod_l\nConvert strings to a double-precision value.  \n  \n## Syntax  \n  \n```  \ndouble strtod(  \n   const char *nptr,  \n   char **endptr   \n);  \ndouble _strtod_l(  \n   const char *nptr,  \n   char **endptr,  \n   _locale_t locale  \n);  \ndouble wcstod(  \n   const wchar_t *nptr,  \n   wchar_t **endptr   \n);  \ndouble wcstod_l(  \n   const wchar_t *nptr,  \n   wchar_t **endptr,  \n   _locale_t locale  \n);  \n```  \n  \n## Parameters  \n `nptr`  \n Null-terminated string to convert.  \n  \n `endptr`  \n Pointer to character that stops scan.  \n  \n `locale`  \n The locale to use.  \n  \n## Return Value  \n `strtod` returns the value of the floating-point number, except when the representation would cause an overflow, in which case the function returns +/–`HUGE_VAL`. The sign of `HUGE_VAL` matches the sign of the value that cannot be represented. `strtod` returns 0 if no conversion can be performed or an underflow occurs.  \n  \n `wcstod` returns values analogously to `strtod`. For both functions, `errno` is set to `ERANGE` if overflow or underflow occurs and the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md).  \n  \n See [_doserrno, errno, _sys_errlist, and _sys_nerr](../../c-runtime-library/errno-doserrno-sys-errlist-and-sys-nerr.md) for more information on this and other return codes.  \n  \n## Remarks  \n Each function converts the input string `nptr` to a `double`. The `strtod` function converts `nptr` to a double-precision value. `strtod` stops reading the string `nptr` at the first character it cannot recognize as part of a number. This may be the terminating null character. `wcstod` is a wide-character version of `strtod`; its `nptr` argument is a wide-character string. These functions behave identically otherwise.  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_tcstod`|`strtod`|`strtod`|`wcstod`|  \n|`_tcstod_l`|`_strtod_l`|`_strtod_l`|`_wcstod_l`|  \n  \n The `LC_NUMERIC` category setting of the current locale determines recognition of the radix character in `nptr`*;* for more information, see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md). The functions without the `_l` suffix use the current locale; `_strtod_l` is identical to `_strtod_l` except that they use the locale passed in instead. For more information, see [Locale](../../c-runtime-library/locale.md).  \n  \n If `endptr` is not `NULL`, a pointer to the character that stopped the scan is stored at the location pointed to by `endptr`. If no conversion can be performed (no valid digits were found or an invalid base was specified), the value of `nptr` is stored at the location pointed to by `endptr`.  \n  \n `strtod` expects `nptr` to point to a string of the following form:  \n  \n [`whitespace`] [`sign`] [`digits`] [`.digits`] [ {`e` &#124; `E`}[`sign`]`digits`]  \n  \n A `whitespace` may consist of space and tab characters, which are ignored; `sign` is either plus (`+`) or minus (`–`); and `digits` are one or more decimal digits. If no digits appear before the radix character, at least one must appear after the radix character. The decimal digits can be followed by an exponent, which consists of an introductory letter (`e` or `E`) and an optionally signed integer. If neither an exponent part nor a radix character appears, a radix character is assumed to follow the last digit in the string. The first character that does not fit this form stops the scan.  \n \n The UCRT versions of these functions do not support conversion of Fortran-style (`d` or `D`) exponent letters. This non-standard extension was supported by earlier versions of the CRT, and may be a breaking change for your code.  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`strtod`, `_strtod_l`|C: \\<stdlib.h> C++: &lt;cstdlib> or \\<stdlib.h> |  \n|`wcstod`, `_wcstod_l`|C: \\<stdlib.h> or \\<wchar.h> C++: &lt;cstdlib>, \\<stdlib.h> or \\<wchar.h> |  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n  \n```C  \n// crt_strtod.c  \n// This program uses strtod to convert a  \n// string to a double-precision value; strtol to  \n// convert a string to long integer values; and strtoul  \n// to convert a string to unsigned long-integer values.  \n//  \n  \n#include <stdlib.h>  \n#include <stdio.h>  \n  \nint main( void )  \n{  \n   char   *string, *stopstring;  \n   double x;  \n   long   l;  \n   int    base;  \n   unsigned long ul;  \n  \n   string = \"3.1415926This stopped it\";  \n   x = strtod( string, &stopstring );  \n   printf( \"string = %s\\n\", string );  \n   printf(\"   strtod = %f\\n\", x );  \n   printf(\"   Stopped scan at: %s\\n\\n\", stopstring );  \n  \n   string = \"-10110134932This stopped it\";  \n   l = strtol( string, &stopstring, 10 );  \n   printf( \"string = %s\\n\", string );  \n   printf(\"   strtol = %ld\\n\", l );  \n   printf(\"   Stopped scan at: %s\\n\\n\", stopstring );  \n  \n   string = \"10110134932\";  \n   printf( \"string = %s\\n\", string );  \n  \n   // Convert string using base 2, 4, and 8:  \n   for( base = 2; base <= 8; base *= 2 )  \n   {  \n      // Convert the string:  \n      ul = strtoul( string, &stopstring, base );  \n      printf( \"   strtol = %ld (base %d)\\n\", ul, base );  \n      printf( \"   Stopped scan at: %s\\n\", stopstring );  \n   }  \n}  \n```  \n  \n```Output  \nstring = 3.1415926This stopped it  \n   strtod = 3.141593  \n   Stopped scan at: This stopped it  \n  \nstring = -10110134932This stopped it  \n   strtol = -2147483648  \n   Stopped scan at: This stopped it  \n  \nstring = 10110134932  \n   strtol = 45 (base 2)  \n   Stopped scan at: 34932  \n   strtol = 4423 (base 4)  \n   Stopped scan at: 4932  \n   strtol = 2134108 (base 8)  \n   Stopped scan at: 932  \n```  \n    \n## See Also  \n [Data Conversion](../../c-runtime-library/data-conversion.md)   \n [Floating-Point Support](../../c-runtime-library/floating-point-support.md)   \n [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)   \n [Locale](../../c-runtime-library/locale.md)   \n [String to Numeric Value Functions](../../c-runtime-library/string-to-numeric-value-functions.md)   \n [strtol, wcstol, _strtol_l, _wcstol_l](../../c-runtime-library/reference/strtol-wcstol-strtol-l-wcstol-l.md)   \n [strtoul, _strtoul_l, wcstoul, _wcstoul_l](../../c-runtime-library/reference/strtoul-strtoul-l-wcstoul-wcstoul-l.md)   \n [atof, _atof_l, _wtof, _wtof_l](../../c-runtime-library/reference/atof-atof-l-wtof-wtof-l.md)   \n [localeconv](../../c-runtime-library/reference/localeconv.md)   \n [_create_locale, _wcreate_locale](../../c-runtime-library/reference/create-locale-wcreate-locale.md)   \n [_free_locale](../../c-runtime-library/reference/free-locale.md)"}