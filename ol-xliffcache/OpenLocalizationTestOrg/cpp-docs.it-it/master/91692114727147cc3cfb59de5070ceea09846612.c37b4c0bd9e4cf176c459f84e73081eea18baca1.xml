{"nodes":[{"pos":[12,105],"content":"_strnset_s, _strnset_s_l, _wcsnset_s, _wcsnset_s_l, _mbsnset_s, _mbsnset_s_l | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"_strnset_s, _strnset_s_l, _wcsnset_s, _wcsnset_s_l, _mbsnset_s, _mbsnset_s_l | Microsoft Docs","pos":[0,93]}]},{"content":"_strnset_s, _strnset_s_l, _wcsnset_s, _wcsnset_s_l, _mbsnset_s, _mbsnset_s_l","pos":[1719,1795]},{"content":"Initializes characters of a string to a given character.","pos":[1796,1852]},{"content":"These versions of <bpt id=\"p1\">[</bpt>_strnset, _strnset_l, _wcsnset, _wcsnset_l, _mbsnset, _mbsnset_l<ept id=\"p1\">](../../c-runtime-library/reference/strnset-strnset-l-wcsnset-wcsnset-l-mbsnset-mbsnset-l.md)</ept> have security enhancements, as described in <bpt id=\"p2\">[</bpt>Security Features in the CRT<ept id=\"p2\">](../../c-runtime-library/security-features-in-the-crt.md)</ept>.","pos":[1853,2162],"source":" These versions of [_strnset, _strnset_l, _wcsnset, _wcsnset_l, _mbsnset, _mbsnset_l](../../c-runtime-library/reference/strnset-strnset-l-wcsnset-wcsnset-l-mbsnset-mbsnset-l.md) have security enhancements, as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md)."},{"pos":[2170,2413],"content":"[!IMPORTANT]\n `_mbsnset_s` and `_mbsnset_s_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","leadings":["","> "],"nodes":[{"content":" and `_mbsnset_s_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).","pos":[26,241],"nodes":[{"content":"and <ph id=\"ph1\">`_mbsnset_s_l`</ph> cannot be used in applications that execute in the Windows Runtime.","pos":[1,87],"source":" and `_mbsnset_s_l` cannot be used in applications that execute in the Windows Runtime."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CRT functions not supported with /ZW<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)</ept>.","pos":[88,215],"source":" For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx)."}]}]},{"content":"Syntax","pos":[2422,2428]},{"content":"Parameters","pos":[3199,3209]},{"content":"String to be altered.","pos":[3222,3243]},{"content":"The size of the <ph id=\"ph1\">`str`</ph> buffer.","pos":[3272,3301],"source":" The size of the `str` buffer."},{"content":"Character setting.","pos":[3315,3333]},{"content":"Number of characters to be set.","pos":[3351,3382]},{"content":"Locale to use.","pos":[3401,3415]},{"content":"Return Value","pos":[3424,3436]},{"content":"Zero if successful, otherwise an error code.","pos":[3440,3484]},{"content":"These functions validate their arguments.","pos":[3491,3532]},{"content":"If <ph id=\"ph1\">`str`</ph> is not a valid null-terminated string or the size argument is less than or equal to 0, then the invalid parameter handler is invoked, as described in <bpt id=\"p1\">[</bpt>Parameter Validation<ept id=\"p1\">](../../c-runtime-library/parameter-validation.md)</ept>.","pos":[3533,3764],"source":" If `str` is not a valid null-terminated string or the size argument is less than or equal to 0, then the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md)."},{"content":"If execution is allowed to continue, these functions return an error code and set <ph id=\"ph1\">`errno`</ph> to that error code.","pos":[3765,3874],"source":" If execution is allowed to continue, these functions return an error code and set `errno` to that error code."},{"content":"The default error code is <ph id=\"ph1\">`EINVAL`</ph> if a more specific value does not apply.","pos":[3875,3950],"source":" The default error code is `EINVAL` if a more specific value does not apply."},{"content":"Remarks","pos":[3959,3966]},{"content":"These functions set, at most, the first <ph id=\"ph1\">`count`</ph> characters of <ph id=\"ph2\">`str`</ph> to <ph id=\"ph3\">`c`</ph>.","pos":[3970,4045],"source":"These functions set, at most, the first `count` characters of `str` to `c`."},{"content":"If <ph id=\"ph1\">`count`</ph> is greater than the size of <ph id=\"ph2\">`str`</ph>, the size of <ph id=\"ph3\">`str`</ph> is used instead of <ph id=\"ph4\">`count`</ph>.","pos":[4046,4137],"source":" If `count` is greater than the size of `str`, the size of `str` is used instead of `count`."},{"content":"An error occurs if <ph id=\"ph1\">`count`</ph> is greater than <ph id=\"ph2\">`numberOfElements`</ph> and both those parameters are greater than the size of <ph id=\"ph3\">`str`</ph>.","pos":[4138,4261],"source":" An error occurs if `count` is greater than `numberOfElements` and both those parameters are greater than the size of `str`."},{"content":"and <ph id=\"ph1\">`_mbsnset_s`</ph> are wide-character and multibyte-character versions of <ph id=\"ph2\">`_strnset_s`</ph>.","pos":[4281,4366],"source":" and `_mbsnset_s` are wide-character and multibyte-character versions of `_strnset_s`."},{"content":"The string argument of <ph id=\"ph1\">`_wcsnset_s`</ph> is a wide-character string; that of <ph id=\"ph2\">`_mbsnset_s`</ph> is amultibyte-character string.","pos":[4367,4483],"source":" The string argument of `_wcsnset_s` is a wide-character string; that of `_mbsnset_s` is amultibyte-character string."},{"content":"These three functions behave identically otherwise.","pos":[4484,4535]},{"content":"The output value is affected by the setting of the <ph id=\"ph1\">`LC_CTYPE`</ph> category setting of the locale; see <bpt id=\"p1\">[</bpt>setlocale<ept id=\"p1\">](../../c-runtime-library/reference/setlocale-wsetlocale.md)</ept> for more information.","pos":[4542,4732],"source":"The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md) for more information."},{"content":"The versions of these functions without the <ph id=\"ph1\">`_l`</ph> suffix use the current locale for this locale-dependent behavior; the versions with the<ph id=\"ph2\">`_l`</ph> suffix are identical except that they use the locale parameter passed in instead.","pos":[4733,4955],"source":" The versions of these functions without the `_l` suffix use the current locale for this locale-dependent behavior; the versions with the`_l` suffix are identical except that they use the locale parameter passed in instead."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Locale<ept id=\"p1\">](../../c-runtime-library/locale.md)</ept>.","pos":[4956,5026],"source":" For more information, see [Locale](../../c-runtime-library/locale.md)."},{"content":"The debug versions of these functions first fill the buffer with 0xFD.","pos":[5033,5103]},{"content":"To disable this behavior, use <bpt id=\"p1\">[</bpt>_CrtSetDebugFillThreshold<ept id=\"p1\">](../../c-runtime-library/reference/crtsetdebugfillthreshold.md)</ept>.","pos":[5104,5225],"source":" To disable this behavior, use [_CrtSetDebugFillThreshold](../../c-runtime-library/reference/crtsetdebugfillthreshold.md)."},{"content":"Generic-Text Routine Mappings","pos":[5235,5264]},{"content":"TCHAR.H routine","pos":[5271,5286]},{"content":"_UNICODE &amp; _MBCS not defined","pos":[5287,5315],"source":"_UNICODE & _MBCS not defined"},{"content":"_MBCS defined","pos":[5316,5329]},{"content":"_UNICODE defined","pos":[5330,5346]},{"content":"Requirements","pos":[5586,5598]},{"content":"Routine","pos":[5605,5612]},{"content":"Required header","pos":[5613,5628]},{"content":"string.h&gt;","pos":[5688,5697],"source":"string.h>"},{"content":"tchar.h&gt;","pos":[5719,5727],"source":"tchar.h>"},{"content":"string.h&gt; or <ph id=\"ph1\">\\&lt;</ph>wchar.h&gt;","pos":[5747,5770],"source":"string.h> or \\<wchar.h>"},{"content":"tchar.h&gt;","pos":[5792,5800],"source":"tchar.h>"},{"pos":[5817,5818],"content":","},{"content":"mbstring.h&gt;","pos":[5836,5847],"source":"mbstring.h>"},{"pos":[5855,5959],"content":"For additional compatibility information, see <bpt id=\"p1\">[</bpt>Compatibility<ept id=\"p1\">](../../c-runtime-library/compatibility.md)</ept>.","source":"For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md)."},{"content":"Example","pos":[5968,5975]},{"content":".NET Framework Equivalent","pos":[6396,6421]},{"content":"System::String::Replace","pos":[6426,6449]},{"content":"See Also","pos":[6528,6536]},{"content":"String Manipulation","pos":[6541,6560]},{"content":"Locale","pos":[6619,6625]},{"content":"Interpretation of Multibyte-Character Sequences","pos":[6667,6714]},{"content":"strcat, wcscat, _mbscat","pos":[6797,6820]},{"content":"strcmp, wcscmp, _mbscmp","pos":[6886,6909]},{"content":"strcpy, wcscpy, _mbscpy","pos":[6975,6998]},{"content":"_strset, _strset_l, _wcsset, _wcsset_l, _mbsset, _mbsset_l","pos":[7064,7122]}],"content":"---\ntitle: \"_strnset_s, _strnset_s_l, _wcsnset_s, _wcsnset_s_l, _mbsnset_s, _mbsnset_s_l | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\napiname: \n  - \"_mbsnset_s_l\"\n  - \"_strnset_s\"\n  - \"_mbsnset_s\"\n  - \"_strnset_s_l\"\n  - \"_wcsnset_s_l\"\n  - \"_wcsnset_s\"\napilocation: \n  - \"msvcrt.dll\"\n  - \"msvcr80.dll\"\n  - \"msvcr90.dll\"\n  - \"msvcr100.dll\"\n  - \"msvcr100_clr0400.dll\"\n  - \"msvcr110.dll\"\n  - \"msvcr110_clr0400.dll\"\n  - \"msvcr120.dll\"\n  - \"msvcr120_clr0400.dll\"\n  - \"ucrtbase.dll\"\n  - \"api-ms-win-crt-multibyte-l1-1-0.dll\"\n  - \"api-ms-win-crt-string-l1-1-0.dll\"\napitype: \"DLLExport\"\nf1_keywords: \n  - \"_mbsnset_s_l\"\n  - \"wcsnset_s\"\n  - \"_tcsnset_s_l\"\n  - \"_wcsnset_s\"\n  - \"_mbsnset_s\"\n  - \"_wcsnset_s_l\"\n  - \"_strnset_s_l\"\n  - \"strnset_s_l\"\n  - \"_tcsnset_s\"\n  - \"_strnset_s\"\n  - \"strnset_s\"\n  - \"mbsnset_s_l\"\n  - \"mbsnset_s\"\n  - \"wcsnset_s_l\"\ndev_langs: \n  - \"C++\"\n  - \"C\"\nhelpviewer_keywords: \n  - \"tcsnset_s function\"\n  - \"mbsnset_s_l function\"\n  - \"initializing characters\"\n  - \"wcsnset_s function\"\n  - \"mbsnset_s function\"\n  - \"_tcsnset_s_l function\"\n  - \"_strnset_s_l function\"\n  - \"_mbsnset_s function\"\n  - \"strnset_s_l function\"\n  - \"_tcsnset_s function\"\n  - \"_strnset_s function\"\n  - \"tcsnset_s_l function\"\n  - \"_mbsnset_s_l function\"\n  - \"strnset_s function\"\n  - \"_wcsnset_s function\"\nms.assetid: 9cf1b321-b5cb-4469-b285-4c07cfbd8813\ncaps.latest.revision: 27\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# _strnset_s, _strnset_s_l, _wcsnset_s, _wcsnset_s_l, _mbsnset_s, _mbsnset_s_l\nInitializes characters of a string to a given character. These versions of [_strnset, _strnset_l, _wcsnset, _wcsnset_l, _mbsnset, _mbsnset_l](../../c-runtime-library/reference/strnset-strnset-l-wcsnset-wcsnset-l-mbsnset-mbsnset-l.md) have security enhancements, as described in [Security Features in the CRT](../../c-runtime-library/security-features-in-the-crt.md).  \n  \n> [!IMPORTANT]\n>  `_mbsnset_s` and `_mbsnset_s_l` cannot be used in applications that execute in the Windows Runtime. For more information, see [CRT functions not supported with /ZW](http://msdn.microsoft.com/library/windows/apps/jj606124.aspx).  \n  \n## Syntax  \n  \n```  \nerrno_t _strnset_s(  \n   char *str,  \n   size_t numberOfElements,  \n   int c,  \n   size_t count   \n);  \nerrno_t _strnset_s_l(  \n   char *str,  \n   size_t numberOfElements,  \n   int c,  \n   size_t count,  \n   locale_t locale  \n);  \nerrno_t _wcsnset_s(  \n   wchar_t *str,  \n   size_t numberOfElements,  \n   wchar_t c,  \n   size_t count   \n);  \nerrno_t _wcsnset_s_l(  \n   wchar_t *str,  \n   size_t numberOfElements,  \n   wchar_t c,  \n   size_t count,  \n   _locale_t locale  \n);  \nerrno_t _mbsnset_s(  \n   unsigned char *str,  \n   size_t numberOfElements,  \n   unsigned int c,  \n   size_t count   \n);  \nerrno_t _mbsnset_s_l(  \n   unsigned char *str,  \n   size_t numberOfElements,  \n   unsigned int c,  \n   size_t count,  \n   _locale_t locale  \n);  \n```  \n  \n#### Parameters  \n `str`  \n String to be altered.  \n  \n `numberOfElements`  \n The size of the `str` buffer.  \n  \n `c`  \n Character setting.  \n  \n `count`  \n Number of characters to be set.  \n  \n `locale`  \n Locale to use.  \n  \n## Return Value  \n Zero if successful, otherwise an error code.  \n  \n These functions validate their arguments. If `str` is not a valid null-terminated string or the size argument is less than or equal to 0, then the invalid parameter handler is invoked, as described in [Parameter Validation](../../c-runtime-library/parameter-validation.md). If execution is allowed to continue, these functions return an error code and set `errno` to that error code. The default error code is `EINVAL` if a more specific value does not apply.  \n  \n## Remarks  \n These functions set, at most, the first `count` characters of `str` to `c`. If `count` is greater than the size of `str`, the size of `str` is used instead of `count`. An error occurs if `count` is greater than `numberOfElements` and both those parameters are greater than the size of `str`.  \n  \n `_wcsnset_s` and `_mbsnset_s` are wide-character and multibyte-character versions of `_strnset_s`. The string argument of `_wcsnset_s` is a wide-character string; that of `_mbsnset_s` is amultibyte-character string. These three functions behave identically otherwise.  \n  \n The output value is affected by the setting of the `LC_CTYPE` category setting of the locale; see [setlocale](../../c-runtime-library/reference/setlocale-wsetlocale.md) for more information. The versions of these functions without the `_l` suffix use the current locale for this locale-dependent behavior; the versions with the`_l` suffix are identical except that they use the locale parameter passed in instead. For more information, see [Locale](../../c-runtime-library/locale.md).  \n  \n The debug versions of these functions first fill the buffer with 0xFD. To disable this behavior, use [_CrtSetDebugFillThreshold](../../c-runtime-library/reference/crtsetdebugfillthreshold.md).  \n  \n### Generic-Text Routine Mappings  \n  \n|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  \n|---------------------|------------------------------------|--------------------|-----------------------|  \n|`_tcsnset_s`|`_strnset_s`|`_mbsnbset_s`|`_wcsnset_s`|  \n|`_tcsnset_s_l`|`_strnset_s_l`|`_mbsnbset_s_l`|`_wcsnset_s_l`|  \n  \n## Requirements  \n  \n|Routine|Required header|  \n|-------------|---------------------|  \n|`_strnset_s`|\\<string.h>|  \n|`_strnset_s_l`|\\<tchar.h>|  \n|`_wcsnset_s`|\\<string.h> or \\<wchar.h>|  \n|`_wcsnset_s_l`|\\<tchar.h>|  \n|`_mbsnset_s`, `_mbsnset_s_l`|\\<mbstring.h>|  \n  \n For additional compatibility information, see [Compatibility](../../c-runtime-library/compatibility.md).  \n  \n## Example  \n  \n```  \n// crt_strnset_s.c  \n#include <string.h>  \n#include <stdio.h>  \n  \nint main( void )  \n{  \n   char string[15] = \"This is a test\";  \n   /* Set not more than 4 characters of string to be *'s */  \n   printf( \"Before: %s\\n\", string );  \n   _strnset_s( string, sizeof(string), '*', 4 );  \n   printf( \"After:  %s\\n\", string );  \n}  \n```  \n  \n```Output  \nBefore: This is a test  \nAfter:  **** is a test  \n```  \n  \n## .NET Framework Equivalent  \n [System::String::Replace](https://msdn.microsoft.com/en-us/library/system.string.replace.aspx)  \n  \n## See Also  \n [String Manipulation](../../c-runtime-library/string-manipulation-crt.md)   \n [Locale](../../c-runtime-library/locale.md)   \n [Interpretation of Multibyte-Character Sequences](../../c-runtime-library/interpretation-of-multibyte-character-sequences.md)   \n [strcat, wcscat, _mbscat](../../c-runtime-library/reference/strcat-wcscat-mbscat.md)   \n [strcmp, wcscmp, _mbscmp](../../c-runtime-library/reference/strcmp-wcscmp-mbscmp.md)   \n [strcpy, wcscpy, _mbscpy](../../c-runtime-library/reference/strcpy-wcscpy-mbscpy.md)   \n [_strset, _strset_l, _wcsset, _wcsset_l, _mbsset, _mbsset_l](../../c-runtime-library/reference/strset-strset-l-wcsset-wcsset-l-mbsset-mbsset-l.md)"}