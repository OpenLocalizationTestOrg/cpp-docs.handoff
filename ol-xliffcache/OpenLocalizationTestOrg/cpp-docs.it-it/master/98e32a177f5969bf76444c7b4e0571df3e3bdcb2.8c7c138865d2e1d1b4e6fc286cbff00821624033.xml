{"nodes":[{"pos":[12,49],"content":"Build System Changes | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Build System Changes | Microsoft Docs","pos":[0,37]}]},{"content":"Build System Changes","pos":[879,899]},{"content":"The MSBuild system is used to build Visual C++ projects.","pos":[900,956]},{"content":"However, in Visual Studio 2008 and earlier releases, the VCBuild system was used.","pos":[957,1038]},{"content":"Certain file types and concepts that depended on VCBuild either do not exist or are represented differently in the current system.","pos":[1039,1169]},{"content":"This document discusses the differences in the current build system.","pos":[1170,1238]},{"content":".vcproj is now .vcxproj","pos":[1247,1270]},{"content":"Project files no longer use the .vcproj file name extension.","pos":[1274,1334]},{"content":"Visual Studio automatically converts project files that were created by an earlier release of Visual C++ to the format that is used by the current system.","pos":[1335,1489]},{"content":"For more information about how to manually upgrade a project, see <bpt id=\"p1\">[</bpt>/Upgrade (devenv.exe)<ept id=\"p1\">](/visualstudio/ide/reference/upgrade-devenv-exe)</ept>.","pos":[1490,1628],"source":" For more information about how to manually upgrade a project, see [/Upgrade (devenv.exe)](/visualstudio/ide/reference/upgrade-devenv-exe)."},{"content":"In the current release, the file name extension for a project file is .vcxproj.","pos":[1635,1714]},{"content":".vsprops is now .props","pos":[1723,1745]},{"content":"In earlier releases, a <bpt id=\"p1\">*</bpt>project property sheet<ept id=\"p1\">*</ept> is an XML-based file that has a .vsprops file name extension.","pos":[1749,1858],"source":"In earlier releases, a *project property sheet* is an XML-based file that has a .vsprops file name extension."},{"content":"A project property sheet lets you specify switches for build tools such as the compiler or linker and create user-defined macros.","pos":[1859,1988]},{"content":"In the current release, the file name extension for a project property sheet is .props.","pos":[1995,2082]},{"content":"Custom Build Rules and .rules Files","pos":[2091,2126]},{"content":"In earlier releases, a <bpt id=\"p1\">*</bpt>rule file<ept id=\"p1\">*</ept> is an XML-based file that has a .rules file name extension.","pos":[2130,2224],"source":"In earlier releases, a *rule file* is an XML-based file that has a .rules file name extension."},{"content":"A rule file lets you define custom build rules and incorporate them into the build process of a Visual C++ project.","pos":[2225,2340]},{"content":"A custom build rule, which can be associated with one or more file name extensions, lets you pass input files to a tool that creates one or more output files.","pos":[2341,2499]},{"content":"In this release, custom build rules are represented by three file types, .xml, .props, and .targets, instead of a .rules file.","pos":[2506,2632]},{"content":"When a .rules file that was created by using an earlier release of Visual C++ is migrated to the current release, equivalent .xml, .props, and .targets files are created and stored in your project together with the original .rules file.","pos":[2633,2869]},{"pos":[2877,3207],"content":"[!IMPORTANT]\n In the current release, the [!INCLUDE[TLA2#tla_ide](../build/includes/tla2sharptla_ide_md.md)] does not support the creation of new rules. For that reason, the easiest way to use a rule file from a project that was created by using an earlier release of Visual C++ is to migrate the project to the current release.","leadings":["","> "],"nodes":[{"content":" In the current release, the [!INCLUDE[TLA2#tla_ide](../build/includes/tla2sharptla_ide_md.md)] does not support the creation of new rules. For that reason, the easiest way to use a rule file from a project that was created by using an earlier release of Visual C++ is to migrate the project to the current release.","pos":[13,328],"nodes":[{"content":"In the current release, the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ide](../build/includes/tla2sharptla_ide_md.md)]</ph> does not support the creation of new rules.","pos":[1,139],"source":" In the current release, the [!INCLUDE[TLA2#tla_ide](../build/includes/tla2sharptla_ide_md.md)] does not support the creation of new rules."},{"content":"For that reason, the easiest way to use a rule file from a project that was created by using an earlier release of Visual C++ is to migrate the project to the current release.","pos":[140,315]}]}]},{"content":"Inheritance Macros","pos":[3216,3234]},{"content":"In earlier releases, the <bpt id=\"p1\">**</bpt>$(Inherit)<ept id=\"p1\">**</ept> macro specifies the order in which inherited properties appear on the command line that is composed by the project build system.","pos":[3238,3406],"source":"In earlier releases, the **$(Inherit)** macro specifies the order in which inherited properties appear on the command line that is composed by the project build system."},{"content":"The <bpt id=\"p1\">**</bpt>$(NoInherit)<ept id=\"p1\">**</ept> macro causes any occurrences of $(Inherit) to be ignored and causes any properties that would otherwise be inherited, not to be inherited.","pos":[3407,3566],"source":" The **$(NoInherit)** macro causes any occurrences of $(Inherit) to be ignored and causes any properties that would otherwise be inherited, not to be inherited."},{"content":"For example, by default the $(Inherit) macro causes files specified by using the <bpt id=\"p1\">[</bpt>/I (Additional Include Directories)<ept id=\"p1\">](../build/reference/i-additional-include-directories.md)</ept> compiler option to be appended to the command line.","pos":[3567,3793],"source":" For example, by default the $(Inherit) macro causes files specified by using the [/I (Additional Include Directories)](../build/reference/i-additional-include-directories.md) compiler option to be appended to the command line."},{"content":"In the current release, inheritance is supported by specifying the value of a property as the concatenation of one or more literal values and property macros.","pos":[3800,3958]},{"content":"The <bpt id=\"p1\">**</bpt>$(Inherit)<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>$(NoInherit)<ept id=\"p2\">**</ept> macros are not supported.","pos":[3959,4024],"source":" The **$(Inherit)** and **$(NoInherit)** macros are not supported."},{"content":"In the following example, a semicolon-delimited list is assigned to a property on a property page.","pos":[4031,4129]},{"content":"The list consists of the concatenation of the <bpt id=\"p1\">*</bpt><ph id=\"ph1\">\\&lt;</ph>value&gt;<ept id=\"p1\">*</ept> literal and the value of the <ph id=\"ph2\">`MyProperty`</ph> property, which is accessed by using the macro notation, <bpt id=\"p2\">**</bpt>$(<ept id=\"p2\">**</ept><bpt id=\"p3\">*</bpt>MyProperty<ept id=\"p3\">*</ept><bpt id=\"p4\">**</bpt>)<ept id=\"p4\">**</ept>.","pos":[4130,4310],"source":" The list consists of the concatenation of the *\\<value>* literal and the value of the `MyProperty` property, which is accessed by using the macro notation, **$(***MyProperty***)**."},{"content":".vcxproj.user Files","pos":[4367,4386]},{"content":"A user file (.vcxproj.user) stores user-specific properties, for example, debugging and deployment settings.","pos":[4390,4498]},{"content":"The vcxproj.user file applies to all projects for a particular user.","pos":[4499,4567]},{"content":".vcxproj.filters File","pos":[4576,4597]},{"pos":[4601,4805],"content":"When <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> is used to add a file to a project, the filters file (.vcxproj.filters) defines where in the <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept> tree view the file is added, based on its file name extension.","source":"When **Solution Explorer** is used to add a file to a project, the filters file (.vcxproj.filters) defines where in the **Solution Explorer** tree view the file is added, based on its file name extension."},{"content":"VC++ Directories Settings","pos":[4814,4839]},{"content":"Visual C++ directories settings are specified on the <bpt id=\"p1\">[</bpt>VC++ Directories Property Page<ept id=\"p1\">](../ide/vcpp-directories-property-page.md)</ept>.","pos":[4843,4971],"source":"Visual C++ directories settings are specified on the [VC++ Directories Property Page](../ide/vcpp-directories-property-page.md)."},{"content":"In earlier releases of Visual Studio, directories settings apply per-user and the list of excluded directories is specified in the sysincl.dat file.","pos":[4972,5120]},{"content":"You cannot change the VC++ directories settings if you run <bpt id=\"p1\">[</bpt>devenv /resetsettings<ept id=\"p1\">](/visualstudio/ide/reference/resetsettings-devenv-exe)</ept> at the command line.","pos":[5127,5284],"source":"You cannot change the VC++ directories settings if you run [devenv /resetsettings](/visualstudio/ide/reference/resetsettings-devenv-exe) at the command line."},{"content":"You also cannot change the settings if you open the <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Import and Export Settings<ept id=\"p2\">**</ept>, and then select the <bpt id=\"p3\">**</bpt>Reset all settings<ept id=\"p3\">**</ept> option.","pos":[5285,5441],"source":" You also cannot change the settings if you open the **Tools** menu, click **Import and Export Settings**, and then select the **Reset all settings** option."},{"content":"Migrate VC++ directories settings from a .vssettings file that is created by an earlier release of Visual C++.","pos":[5448,5558]},{"content":"Open the <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Import and Export Settings<ept id=\"p2\">**</ept>, select <bpt id=\"p3\">**</bpt>Import selected environment settings<ept id=\"p3\">**</ept>, and then follow the directions in the wizard.","pos":[5559,5716],"source":" Open the **Tools** menu, click **Import and Export Settings**, select **Import selected environment settings**, and then follow the directions in the wizard."},{"content":"Or when you start Visual Studio for the first time, on the <bpt id=\"p1\">**</bpt>Choose Default Environment Settings<ept id=\"p1\">**</ept> dialog box, select <bpt id=\"p2\">**</bpt>Migrate my eligible settings from a previous version and apply them in addition to the default settings selected below<ept id=\"p2\">**</ept>.","pos":[5717,5958],"source":" Or when you start Visual Studio for the first time, on the **Choose Default Environment Settings** dialog box, select **Migrate my eligible settings from a previous version and apply them in addition to the default settings selected below**."},{"content":"See Also","pos":[5967,5975]},{"content":"MSBuild (Visual C++)","pos":[5980,6000]}],"content":"---\ntitle: \"Build System Changes | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"vc.msbuild.changes\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"Build system changes, project file (.vcxprog)\"\n  - \"Build system changes, custom build rules\"\n  - \"Build system changes, MSBuild\"\n  - \"MSBuild, build system changes\"\n  - \"Build system changes, .vsprops\"\n  - \"Build system changes, $(Inherit)\"\n  - \"Build system changes, $(NoInherit)\"\nms.assetid: e564d95f-a6cc-4d97-b57e-1a71daf66f4a\ncaps.latest.revision: 13\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Build System Changes\nThe MSBuild system is used to build Visual C++ projects. However, in Visual Studio 2008 and earlier releases, the VCBuild system was used. Certain file types and concepts that depended on VCBuild either do not exist or are represented differently in the current system. This document discusses the differences in the current build system.  \n  \n## .vcproj is now .vcxproj  \n Project files no longer use the .vcproj file name extension. Visual Studio automatically converts project files that were created by an earlier release of Visual C++ to the format that is used by the current system. For more information about how to manually upgrade a project, see [/Upgrade (devenv.exe)](/visualstudio/ide/reference/upgrade-devenv-exe).  \n  \n In the current release, the file name extension for a project file is .vcxproj.  \n  \n## .vsprops is now .props  \n In earlier releases, a *project property sheet* is an XML-based file that has a .vsprops file name extension. A project property sheet lets you specify switches for build tools such as the compiler or linker and create user-defined macros.  \n  \n In the current release, the file name extension for a project property sheet is .props.  \n  \n## Custom Build Rules and .rules Files  \n In earlier releases, a *rule file* is an XML-based file that has a .rules file name extension. A rule file lets you define custom build rules and incorporate them into the build process of a Visual C++ project. A custom build rule, which can be associated with one or more file name extensions, lets you pass input files to a tool that creates one or more output files.  \n  \n In this release, custom build rules are represented by three file types, .xml, .props, and .targets, instead of a .rules file. When a .rules file that was created by using an earlier release of Visual C++ is migrated to the current release, equivalent .xml, .props, and .targets files are created and stored in your project together with the original .rules file.  \n  \n> [!IMPORTANT]\n>  In the current release, the [!INCLUDE[TLA2#tla_ide](../build/includes/tla2sharptla_ide_md.md)] does not support the creation of new rules. For that reason, the easiest way to use a rule file from a project that was created by using an earlier release of Visual C++ is to migrate the project to the current release.  \n  \n## Inheritance Macros  \n In earlier releases, the **$(Inherit)** macro specifies the order in which inherited properties appear on the command line that is composed by the project build system. The **$(NoInherit)** macro causes any occurrences of $(Inherit) to be ignored and causes any properties that would otherwise be inherited, not to be inherited. For example, by default the $(Inherit) macro causes files specified by using the [/I (Additional Include Directories)](../build/reference/i-additional-include-directories.md) compiler option to be appended to the command line.  \n  \n In the current release, inheritance is supported by specifying the value of a property as the concatenation of one or more literal values and property macros. The **$(Inherit)** and **$(NoInherit)** macros are not supported.  \n  \n In the following example, a semicolon-delimited list is assigned to a property on a property page. The list consists of the concatenation of the *\\<value>* literal and the value of the `MyProperty` property, which is accessed by using the macro notation, **$(***MyProperty***)**.  \n  \n```  \nProperty=<value>;$(MyProperty)  \n```  \n  \n## .vcxproj.user Files  \n A user file (.vcxproj.user) stores user-specific properties, for example, debugging and deployment settings. The vcxproj.user file applies to all projects for a particular user.  \n  \n## .vcxproj.filters File  \n When **Solution Explorer** is used to add a file to a project, the filters file (.vcxproj.filters) defines where in the **Solution Explorer** tree view the file is added, based on its file name extension.  \n  \n## VC++ Directories Settings  \n Visual C++ directories settings are specified on the [VC++ Directories Property Page](../ide/vcpp-directories-property-page.md). In earlier releases of Visual Studio, directories settings apply per-user and the list of excluded directories is specified in the sysincl.dat file.  \n  \n You cannot change the VC++ directories settings if you run [devenv /resetsettings](/visualstudio/ide/reference/resetsettings-devenv-exe) at the command line. You also cannot change the settings if you open the **Tools** menu, click **Import and Export Settings**, and then select the **Reset all settings** option.  \n  \n Migrate VC++ directories settings from a .vssettings file that is created by an earlier release of Visual C++. Open the **Tools** menu, click **Import and Export Settings**, select **Import selected environment settings**, and then follow the directions in the wizard. Or when you start Visual Studio for the first time, on the **Choose Default Environment Settings** dialog box, select **Migrate my eligible settings from a previous version and apply them in addition to the default settings selected below**.  \n  \n## See Also  \n [MSBuild (Visual C++)](../build/msbuild-visual-cpp.md)"}