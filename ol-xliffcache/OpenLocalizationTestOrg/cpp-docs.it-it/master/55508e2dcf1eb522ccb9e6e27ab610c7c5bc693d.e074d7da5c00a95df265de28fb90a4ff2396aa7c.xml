{"nodes":[{"pos":[12,53],"content":"cancellation_token Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"cancellation_token Class | Microsoft Docs","pos":[0,41]}]},{"content":"cancellation_token Class","pos":[661,685]},{"content":"The <ph id=\"ph1\">`cancellation_token`</ph> class represents the ability to determine whether some operation has been requested to cancel.","pos":[686,805],"source":"The `cancellation_token` class represents the ability to determine whether some operation has been requested to cancel."},{"content":"A given token can be associated with a <ph id=\"ph1\">`task_group`</ph>, <ph id=\"ph2\">`structured_task_group`</ph>, or <ph id=\"ph3\">`task`</ph> to provide implicit cancellation.","pos":[806,927],"source":" A given token can be associated with a `task_group`, `structured_task_group`, or `task` to provide implicit cancellation."},{"content":"It can also be polled for cancellation or have a callback registered for if and when the associated <ph id=\"ph1\">`cancellation_token_source`</ph> is canceled.","pos":[928,1068],"source":" It can also be polled for cancellation or have a callback registered for if and when the associated `cancellation_token_source` is canceled."},{"content":"Syntax","pos":[1077,1083]},{"content":"Members","pos":[1131,1138]},{"content":"Public Constructors","pos":[1148,1167]},{"content":"Name","pos":[1174,1178]},{"content":"Description","pos":[1179,1190]},{"content":"cancellation_token::cancellation_token Constructor","pos":[1229,1279]},{"content":"cancellation_token::~cancellation_token Destructor","pos":[1294,1344]},{"content":"Public Methods","pos":[1364,1378]},{"content":"Name","pos":[1385,1389]},{"content":"Description","pos":[1390,1401]},{"content":"cancellation_token::deregister_callback Method","pos":[1440,1486]},{"pos":[1510,1668],"content":"Removes a callback previously registered via the <ph id=\"ph1\">`register`</ph> method based on the <ph id=\"ph2\">`cancellation_token_registration`</ph> object returned at the time of registration.","source":"Removes a callback previously registered via the `register` method based on the `cancellation_token_registration` object returned at the time of registration."},{"content":"cancellation_token::is_cancelable Method","pos":[1674,1714]},{"content":"Returns an indication of whether this token can be canceled or not.","pos":[1732,1799]},{"content":"cancellation_token::is_canceled Method","pos":[1805,1843]},{"pos":[1859,1905],"content":"Returns <ph id=\"ph1\">`true`</ph> if the token has been canceled.","source":"Returns `true` if the token has been canceled."},{"content":"cancellation_token::none Method","pos":[1911,1942]},{"content":"Returns a cancellation token which can never be subject to cancellation.","pos":[1951,2023]},{"content":"cancellation_token::register_callback Method","pos":[2029,2073]},{"content":"Registers a callback function with the token.","pos":[2095,2140]},{"content":"If and when the token is canceled, the callback will be made.","pos":[2141,2202]},{"content":"Note that if the token is already canceled at the point where this method is called, the callback will be made immediately and synchronously.","pos":[2203,2344]},{"content":"Public Operators","pos":[2355,2371]},{"content":"Name","pos":[2378,2382]},{"content":"Description","pos":[2383,2394]},{"content":"cancellation_token::operator!= Operator","pos":[2433,2472]},{"content":"cancellation_token::operator= Operator","pos":[2495,2533]},{"content":"cancellation_token::operator== Operator","pos":[2555,2594]},{"content":"Inheritance Hierarchy","pos":[2623,2644]},{"content":"Requirements","pos":[2677,2689]},{"pos":[2693,2728],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> pplcancellation_token.h","source":"**Header:** pplcancellation_token.h"},{"pos":[2735,2761],"content":"<bpt id=\"p1\">**</bpt>Namespace:<ept id=\"p1\">**</ept> concurrency","source":"**Namespace:** concurrency"},{"pos":[2792,2842],"content":"cancellation_token::~cancellation_token Destructor"},{"pos":[2909,2959],"content":"cancellation_token::cancellation_token Constructor"},{"content":"Parameters","pos":[3082,3092]},{"pos":[3148,3194],"content":"cancellation_token::deregister_callback Method"},{"pos":[3198,3356],"content":"Removes a callback previously registered via the <ph id=\"ph1\">`register`</ph> method based on the <ph id=\"ph2\">`cancellation_token_registration`</ph> object returned at the time of registration.","source":"Removes a callback previously registered via the `register` method based on the `cancellation_token_registration` object returned at the time of registration."},{"content":"Parameters","pos":[3465,3475]},{"content":"The <ph id=\"ph1\">`cancellation_token_registration`</ph> object corresponding to the callback to be deregistered.","pos":[3498,3592],"source":" The `cancellation_token_registration` object corresponding to the callback to be deregistered."},{"content":"This token must have been previously returned from a call to the <ph id=\"ph1\">`register`</ph> method.","pos":[3593,3676],"source":" This token must have been previously returned from a call to the `register` method."},{"pos":[3716,3756],"content":"cancellation_token::is_cancelable Method"},{"content":"Returns an indication of whether this token can be canceled or not.","pos":[3760,3827]},{"content":"Return Value","pos":[3878,3890]},{"content":"An indication of whether this token can be canceled or not.","pos":[3894,3953]},{"pos":[3991,4029],"content":"cancellation_token::is_canceled Method"},{"pos":[4033,4079],"content":"Returns <ph id=\"ph1\">`true`</ph> if the token has been canceled.","source":"Returns `true` if the token has been canceled."},{"content":"Return Value","pos":[4128,4140]},{"pos":[4144,4222],"content":"The value <ph id=\"ph1\">`true`</ph> if the token has been canceled; otherwise, the value <ph id=\"ph2\">`false`</ph>.","source":"The value `true` if the token has been canceled; otherwise, the value `false`."},{"pos":[4253,4284],"content":"cancellation_token::none Method"},{"content":"Returns a cancellation token which can never be subject to cancellation.","pos":[4288,4360]},{"content":"Return Value","pos":[4417,4429]},{"content":"A cancellation token that cannot be canceled.","pos":[4433,4478]},{"pos":[4517,4556],"content":"cancellation_token::operator!= Operator"},{"content":"Parameters","pos":[4635,4645]},{"content":"Return Value","pos":[4665,4677]},{"pos":[4715,4753],"content":"cancellation_token::operator= Operator"},{"content":"Parameters","pos":[4900,4910]},{"content":"Return Value","pos":[4930,4942]},{"pos":[4983,5022],"content":"cancellation_token::operator== Operator"},{"content":"Parameters","pos":[5101,5111]},{"content":"Return Value","pos":[5131,5143]},{"pos":[5187,5231],"content":"cancellation_token::register_callback Method"},{"content":"Registers a callback function with the token.","pos":[5235,5280]},{"content":"If and when the token is canceled, the callback will be made.","pos":[5281,5342]},{"content":"Note that if the token is already canceled at the point where this method is called, the callback will be made immediately and synchronously.","pos":[5343,5484]},{"content":"Parameters","pos":[5632,5642]},{"content":"The type of the function object that will be called back when this <ph id=\"ph1\">`cancellation_token`</ph> is canceled.","pos":[5661,5761],"source":" The type of the function object that will be called back when this `cancellation_token` is canceled."},{"content":"The function object that will be called back when this <ph id=\"ph1\">`cancellation_token`</ph> is canceled.","pos":[5779,5867],"source":" The function object that will be called back when this `cancellation_token` is canceled."},{"content":"Return Value","pos":[5877,5889]},{"content":"A <ph id=\"ph1\">`cancellation_token_registration`</ph> object which can be utilized in the <ph id=\"ph2\">`deregister`</ph> method to deregister a previously registered callback and prevent it from being made.","pos":[5893,6063],"source":"A `cancellation_token_registration` object which can be utilized in the `deregister` method to deregister a previously registered callback and prevent it from being made."},{"content":"The method will throw an <bpt id=\"p1\">[</bpt>invalid_operation<ept id=\"p1\">](invalid-operation-class.md)</ept> exception if it is called on a <ph id=\"ph1\">`cancellation_token`</ph> object that was created using the <bpt id=\"p2\">[</bpt>cancellation_token::none<ept id=\"p2\">](#none)</ept> method.","pos":[6064,6264],"source":" The method will throw an [invalid_operation](invalid-operation-class.md) exception if it is called on a `cancellation_token` object that was created using the [cancellation_token::none](#none) method."},{"content":"See Also","pos":[6273,6281]},{"content":"concurrency Namespace","pos":[6286,6307]}],"content":"---\ntitle: \"cancellation_token Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"pplcancellation_token/concurrency::cancellation_token\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"cancellation_token class\"\nms.assetid: 2787df2b-e9d3-440e-bfd0-841a46a9835f\ncaps.latest.revision: 10\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# cancellation_token Class\nThe `cancellation_token` class represents the ability to determine whether some operation has been requested to cancel. A given token can be associated with a `task_group`, `structured_task_group`, or `task` to provide implicit cancellation. It can also be polled for cancellation or have a callback registered for if and when the associated `cancellation_token_source` is canceled.  \n  \n## Syntax  \n  \n```\nclass cancellation_token;\n```  \n  \n## Members  \n  \n### Public Constructors  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[cancellation_token::cancellation_token Constructor](#ctor)||  \n|[cancellation_token::~cancellation_token Destructor](#dtor)||  \n  \n### Public Methods  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[cancellation_token::deregister_callback Method](#deregister_callback)|Removes a callback previously registered via the `register` method based on the `cancellation_token_registration` object returned at the time of registration.|  \n|[cancellation_token::is_cancelable Method](#is_cancelable)|Returns an indication of whether this token can be canceled or not.|  \n|[cancellation_token::is_canceled Method](#is_canceled)|Returns `true` if the token has been canceled.|  \n|[cancellation_token::none Method](#none)|Returns a cancellation token which can never be subject to cancellation.|  \n|[cancellation_token::register_callback Method](#register_callback)|Registers a callback function with the token. If and when the token is canceled, the callback will be made. Note that if the token is already canceled at the point where this method is called, the callback will be made immediately and synchronously.|  \n  \n### Public Operators  \n  \n|Name|Description|  \n|----------|-----------------|  \n|[cancellation_token::operator!= Operator](#operator_neq)||  \n|[cancellation_token::operator= Operator](#operator_eq)||  \n|[cancellation_token::operator== Operator](#operator_eq_eq)||  \n  \n## Inheritance Hierarchy  \n `cancellation_token`  \n  \n## Requirements  \n **Header:** pplcancellation_token.h  \n  \n **Namespace:** concurrency  \n  \n##  <a name=\"dtor\"></a>  cancellation_token::~cancellation_token Destructor  \n  \n```\n~cancellation_token();\n```  \n  \n##  <a name=\"ctor\"></a>  cancellation_token::cancellation_token Constructor  \n  \n```\ncancellation_token(const cancellation_token& _Src);\n\ncancellation_token(cancellation_token&& _Src);\n```  \n  \n### Parameters  \n `_Src`  \n  \n##  <a name=\"deregister_callback\"></a>  cancellation_token::deregister_callback Method  \n Removes a callback previously registered via the `register` method based on the `cancellation_token_registration` object returned at the time of registration.  \n  \n```\nvoid deregister_callback(const cancellation_token_registration& _Registration) const;\n```  \n  \n### Parameters  \n `_Registration`  \n The `cancellation_token_registration` object corresponding to the callback to be deregistered. This token must have been previously returned from a call to the `register` method.  \n  \n##  <a name=\"is_cancelable\"></a>  cancellation_token::is_cancelable Method  \n Returns an indication of whether this token can be canceled or not.  \n  \n```\nbool is_cancelable() const;\n```  \n  \n### Return Value  \n An indication of whether this token can be canceled or not.  \n  \n##  <a name=\"is_canceled\"></a>  cancellation_token::is_canceled Method  \n Returns `true` if the token has been canceled.  \n  \n```\nbool is_canceled() const;\n```  \n  \n### Return Value  \n The value `true` if the token has been canceled; otherwise, the value `false`.  \n  \n##  <a name=\"none\"></a>  cancellation_token::none Method  \n Returns a cancellation token which can never be subject to cancellation.  \n  \n```\nstatic cancellation_token none();\n```  \n  \n### Return Value  \n A cancellation token that cannot be canceled.  \n  \n##  <a name=\"operator_neq\"></a>  cancellation_token::operator!= Operator  \n  \n```\nbool operator!= (const cancellation_token& _Src) const;\n```  \n  \n### Parameters  \n `_Src`  \n  \n### Return Value  \n  \n##  <a name=\"operator_eq\"></a>  cancellation_token::operator= Operator  \n  \n```\ncancellation_token& operator= (const cancellation_token& _Src);\n\ncancellation_token& operator= (cancellation_token&& _Src);\n```  \n  \n### Parameters  \n `_Src`  \n  \n### Return Value  \n  \n##  <a name=\"operator_eq_eq\"></a>  cancellation_token::operator== Operator  \n  \n```\nbool operator== (const cancellation_token& _Src) const;\n```  \n  \n### Parameters  \n `_Src`  \n  \n### Return Value  \n  \n##  <a name=\"register_callback\"></a>  cancellation_token::register_callback Method  \n Registers a callback function with the token. If and when the token is canceled, the callback will be made. Note that if the token is already canceled at the point where this method is called, the callback will be made immediately and synchronously.  \n  \n```\ntemplate<typename _Function>\n::Concurrency::cancellation_token_registration register_callback(const _Function& _Func) const;\n```  \n  \n### Parameters  \n `_Function`  \n The type of the function object that will be called back when this `cancellation_token` is canceled.  \n  \n `_Func`  \n The function object that will be called back when this `cancellation_token` is canceled.  \n  \n### Return Value  \n A `cancellation_token_registration` object which can be utilized in the `deregister` method to deregister a previously registered callback and prevent it from being made. The method will throw an [invalid_operation](invalid-operation-class.md) exception if it is called on a `cancellation_token` object that was created using the [cancellation_token::none](#none) method.  \n  \n## See Also  \n [concurrency Namespace](concurrency-namespace.md)\n"}