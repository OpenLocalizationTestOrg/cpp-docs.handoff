{"nodes":[{"pos":[12,80],"content":"How to Report a Problem with the Visual C++ Toolset | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to Report a Problem with the Visual C++ Toolset | Microsoft Docs","pos":[0,68]}]},{"content":"How to Report a Problem with the Visual C++ Toolset","pos":[444,495]},{"content":"If you encounter problems with the Visual C++ compiler, linker, or other tools, we want to know about them.","pos":[496,603]},{"content":"The best way to let us know about a problem is to send us a report that includes a description of the problem you've encountered, details about how you're building your program, and some code we can use to reproduce the problem on our own machines.","pos":[610,858]},{"content":"This information lets us quickly verify that the problem exists and is not local to your environment, determine whether it affects other versions of the compiler, and to diagnose its cause.","pos":[859,1048]},{"content":"In this document, you'll read about","pos":[1055,1090]},{"pos":[1100,1169],"content":"<bpt id=\"p1\">[</bpt>How to prepare your report<ept id=\"p1\">](#prepare)</ept>, and what makes a good report.","source":"[How to prepare your report](#prepare), and what makes a good report."},{"pos":[1179,1244],"content":"<bpt id=\"p1\">[</bpt>Ways to send your report<ept id=\"p1\">](#send)</ept>, and what makes them different.","source":"[Ways to send your report](#send), and what makes them different."},{"pos":[1254,1322],"content":"<bpt id=\"p1\">[</bpt>How to generate a repro<ept id=\"p1\">](#generate)</ept>, and different kinds of repros.","source":"[How to generate a repro](#generate), and different kinds of repros."},{"content":"Your reports are important to us and to other developers like you.","pos":[1329,1395]},{"content":"Thank you for helping us improve Visual C++!","pos":[1396,1440]},{"pos":[1473,1499],"content":"How to prepare your report"},{"content":"Creating a high-quality report is important because its very difficult to reproduce the problem you encountered on our own machines without complete information.","pos":[1503,1664]},{"content":"The better your report is, the more effectively we are able recreate and diagnose the problem.","pos":[1665,1759]},{"content":"At a minimum, your report should contain","pos":[1766,1806]},{"content":"The full version information of the toolset you're using.","pos":[1816,1873]},{"content":"The full cl.exe command line used to build your code.","pos":[1883,1936]},{"content":"A detailed description of the problem you encountered.","pos":[1946,2000]},{"content":"A 'repro'—source code that demonstrates the problem.","pos":[2010,2062]},{"content":"Read on to learn more about the specific information we need and where you can find it.","pos":[2069,2156]},{"content":"The toolset version","pos":[2166,2185]},{"content":"We need the full version information of the toolset you're using so that we can test your repro against the same toolset on our machines.","pos":[2189,2326]},{"content":"If we can reproduce the problem, this information also gives us a starting point to investigate which other versions of the toolset exhibit the same problem.","pos":[2327,2484]},{"content":"To report the full version of the compiler you're using","pos":[2496,2551]},{"pos":[2561,2644],"content":"Press the Windows key on your keyboard and begin typing <ph id=\"ph1\">`Developer Command Prompt`</ph>.","source":"Press the Windows key on your keyboard and begin typing `Developer Command Prompt`."},{"pos":[2654,2796],"content":"Choose the <bpt id=\"p1\">**</bpt>Developer Command Prompt<ept id=\"p1\">**</ept> version that matches the version of Visual Studio you're using when it appears in the list of matches.","source":"Choose the **Developer Command Prompt** version that matches the version of Visual Studio you're using when it appears in the list of matches."},{"pos":[2806,2883],"content":"In the <bpt id=\"p1\">**</bpt>Developer Command Prompt<ept id=\"p1\">**</ept> console, enter the command <ph id=\"ph1\">`cl /Bv /CLR`</ph>.","source":"In the **Developer Command Prompt** console, enter the command `cl /Bv /CLR`."},{"content":"The output should look similar to this:","pos":[2890,2929]},{"content":"Copy and paste the entire output into your report.","pos":[3864,3914]},{"content":"The command line","pos":[3924,3940]},{"content":"We need the full command line (cl.exe and its arguments) used to build your code so that we can build it in exactly the same way on our machines.","pos":[3944,4089]},{"content":"This is important because the problem you've encountered might only exist when building with a certain argument or combination of arguments.","pos":[4090,4230]},{"content":"The best place to find this information is in the build log immediately after experiencing the problem.","pos":[4237,4340]},{"content":"This ensures that the command line contains exactly the same arguments that might be contributing to the problem.","pos":[4341,4454]},{"content":"To report the contents of the command line","pos":[4466,4508]},{"content":"Locate the <bpt id=\"p1\">**</bpt>CL.command.1.tlog<ept id=\"p1\">**</ept> file and open it.","pos":[4518,4568],"source":"Locate the **CL.command.1.tlog** file and open it."},{"content":"By default, this file is located at <ph id=\"ph1\">\\\\</ph>...\\Visual Studio Version\\Projects\\SolutionName\\ProjectName\\Config\\ProjectName.tlog\\CL.command.1.tlog.","pos":[4569,4709],"source":" By default, this file is located at \\\\...\\Visual Studio Version\\Projects\\SolutionName\\ProjectName\\Config\\ProjectName.tlog\\CL.command.1.tlog."},{"content":"Inside this file, you'll find the names of source code files followed by the command line arguments used to compile them, each on separate lines.","pos":[4720,4865]},{"content":"Locate the line that contains the name of the source code file where the problem occurs; the line below it contains the corresponding cl.exe command and its arguments.","pos":[4875,5042]},{"content":"Copy and paste the entire command line into your report.","pos":[5049,5105]},{"content":"A description of the problem","pos":[5115,5143]},{"content":"We need a detailed description of the problem you've encountered so that we can verify that we see the same effect on our machines; its also sometimes useful for us to know what you were trying to accomplish, and what you expected to happen.","pos":[5147,5388]},{"content":"Please provide the precise error messages given by the toolset, a brief description of what you were trying to accomplish to help us understand your repro code, and any other details that might help us diagnose the problem you experienced, such as any work-arounds you might have found.","pos":[5395,5681]},{"content":"Avoid repeating information found elsewhere in your report.","pos":[5682,5741]},{"content":"The repro","pos":[5751,5760]},{"content":"We need a repro—a self-contained source code example that demonstrates the problem you've encountered—so that we can reproduce the error on our machines.","pos":[5764,5917]},{"content":"The kind of problem you encounter will determine what kind of repro you should include in your report.","pos":[5918,6020]},{"content":"Without an appropriate repro, we have nothing to investigate.","pos":[6021,6082]},{"content":"Short, self-contained repros can be directly included in your report text, but larger source code repros should be attached to the report.","pos":[6089,6227]},{"content":"Repros that can't be reduced to a single source code file should be packaged by compressing a directory containing all the files into a .zip file or similar and attached to the report.","pos":[6228,6412]},{"content":"Any additional scenario-specific details should always be included in the report text, never in source code.","pos":[6413,6521]},{"content":"The best kind of repro you can provide us is a <bpt id=\"p1\">*</bpt>minimal repro<ept id=\"p1\">*</ept>.","pos":[6528,6591],"source":"The best kind of repro you can provide us is a *minimal repro*."},{"content":"This is a single, self-contained source code file (without references to user headers) that contains just enough code to demonstrate the problem.","pos":[6592,6737]},{"content":"If you can provide a repro in this form, just attach the source code file to your report; its all we need.","pos":[6738,6844]},{"content":"If you can't condense the problem to a minimal repro without dependencies, refer to the following sections to determine the kind of repro you should include in your report.","pos":[6851,7023]},{"content":"Frontend (parser) crash","pos":[7034,7057]},{"content":"Frontend crashes occur during the parsing phase of the compiler.","pos":[7061,7125]},{"content":"Typically, the compiler will emit <bpt id=\"p1\">[</bpt>Fatal Error C1001<ept id=\"p1\">](error-messages/compiler-errors-1/fatal-error-c1001.md)</ept> and reference the source code file and line number on which the error occurred; it will often mention a file msc1.cpp, but you can ignore this detail.","pos":[7126,7385],"source":" Typically, the compiler will emit [Fatal Error C1001](error-messages/compiler-errors-1/fatal-error-c1001.md) and reference the source code file and line number on which the error occurred; it will often mention a file msc1.cpp, but you can ignore this detail."},{"pos":[7392,7475],"content":"For this kind of crash, please provide a <bpt id=\"p1\">[</bpt>Preprocessed Repro<ept id=\"p1\">](#preprocessed_repro)</ept>.","source":"For this kind of crash, please provide a [Preprocessed Repro](#preprocessed_repro)."},{"content":"Here's example compiler output for this kind of crash:","pos":[7482,7536]},{"pos":[8640,8671],"content":"Backend (code generation) crash"},{"content":"Backend crashes occur during the code generation phase of the compiler.","pos":[8675,8746]},{"content":"Typically, the compiler will emit <bpt id=\"p1\">[</bpt>Fatal Error C1001<ept id=\"p1\">](error-messages/compiler-errors-1/fatal-error-c1001.md)</ept>, and might not reference the source code file and line number associated with the problem; it will often mention a file compiler\\utc\\src\\p2\\main.c, but you can ignore this detail.","pos":[8747,9035],"source":" Typically, the compiler will emit [Fatal Error C1001](error-messages/compiler-errors-1/fatal-error-c1001.md), and might not reference the source code file and line number associated with the problem; it will often mention a file compiler\\utc\\src\\p2\\main.c, but you can ignore this detail."},{"content":"For this kind of crash please provide a <bpt id=\"p1\">[</bpt>Link Repro<ept id=\"p1\">](#link_repro)</ept> if you are using Link-Time Code Generation (LTCG) or a <bpt id=\"p2\">[</bpt>Preprocessed Repro<ept id=\"p2\">](#preprocessed_repro)</ept> if not.","pos":[9042,9212],"source":"For this kind of crash please provide a [Link Repro](#link_repro) if you are using Link-Time Code Generation (LTCG) or a [Preprocessed Repro](#preprocessed_repro) if not."},{"content":"LTGC is enabled by the <ph id=\"ph1\">`/GL`</ph> command-line argument to cl.exe.","pos":[9213,9274],"source":" LTGC is enabled by the `/GL` command-line argument to cl.exe."},{"content":"Here's example compiler output for this kind of crash in which LTCG is <bpt id=\"p1\">**</bpt>not<ept id=\"p1\">**</ept> used.","pos":[9281,9365],"source":"Here's example compiler output for this kind of crash in which LTCG is **not** used."},{"content":"If your compiler output looks like this you should provide a <bpt id=\"p1\">[</bpt>Preprocessed Repro<ept id=\"p1\">](#preprocessed_repro)</ept>.","pos":[9366,9469],"source":" If your compiler output looks like this you should provide a [Preprocessed Repro](#preprocessed_repro)."},{"content":"If the line that begins with <bpt id=\"p1\">**</bpt>INTERNAL COMPILER ERROR<ept id=\"p1\">**</ept> mentions link.exe, rather than cl.exe, LTCG was enabled and you should provide a <bpt id=\"p2\">[</bpt>Link Repro<ept id=\"p2\">](#link_repro)</ept>.","pos":[10214,10378],"source":"If the line that begins with **INTERNAL COMPILER ERROR** mentions link.exe, rather than cl.exe, LTCG was enabled and you should provide a [Link Repro](#link_repro)."},{"content":"If its not clear whether LTCG was enabled from the compiler error message, you may need to examine the command line arguments that you copied from your build log in a previous step for the <ph id=\"ph1\">`/GL`</ph> command-line argument.","pos":[10379,10596],"source":" If its not clear whether LTCG was enabled from the compiler error message, you may need to examine the command line arguments that you copied from your build log in a previous step for the `/GL` command-line argument."},{"content":"Linker crash","pos":[10607,10619]},{"content":"Linker crashes occur during the linking phase, after the compiler has run.","pos":[10623,10697]},{"content":"Typically, the linker will emit <bpt id=\"p1\">[</bpt>Linker Tools Error LNK1000<ept id=\"p1\">](error-messages/tool-errors/linker-tools-error-lnk1000.md)</ept>.","pos":[10698,10817],"source":" Typically, the linker will emit [Linker Tools Error LNK1000](error-messages/tool-errors/linker-tools-error-lnk1000.md)."},{"pos":[10825,10992],"content":"[!NOTE]\n If the output mentions C1001 or involves Link-Time Code Generation, refer to [Backend (code generation) crash](#backend_crash) instead for more information.","leadings":["","> "],"nodes":[{"content":"If the output mentions C1001 or involves Link-Time Code Generation, refer to <bpt id=\"p1\">[</bpt>Backend (code generation) crash<ept id=\"p1\">](#backend_crash)</ept> instead for more information.","pos":[9,165],"source":" If the output mentions C1001 or involves Link-Time Code Generation, refer to [Backend (code generation) crash](#backend_crash) instead for more information."}]},{"pos":[10999,11066],"content":"For this kind of crash, please provide a <bpt id=\"p1\">[</bpt>Link Repro<ept id=\"p1\">](#link_repro)</ept>.","source":"For this kind of crash, please provide a [Link Repro](#link_repro)."},{"content":"Here's example compiler output for this kind of crash.","pos":[11073,11127]},{"content":"If incremental linking is enabled and the crash occurred only after initial linking—that is, only after the first full linking on which subsequent incremental linking is based—please also provide a copy of the object (.obj) and library (.lib) files that correspond to source files that were modified after the initial linking was completed.","pos":[12439,12779]},{"content":"Bad code generation","pos":[12790,12809]},{"content":"Bad code generation is rare, but occurs when the compiler mistakenly generates incorrect code that will cause your application to crash at runtime rather than detecting this problem at compile-time.","pos":[12813,13011]},{"content":"If you believe the problem you are experiencing results in bad code generation, treat your report the same as a <bpt id=\"p1\">[</bpt>Backend (code generation) crash<ept id=\"p1\">](#backend_crash)</ept>.","pos":[13012,13174],"source":" If you believe the problem you are experiencing results in bad code generation, treat your report the same as a [Backend (code generation) crash](#backend_crash)."},{"content":"For this kind of crash please provide a <bpt id=\"p1\">[</bpt>Link Repro<ept id=\"p1\">](#link_repro)</ept> if you are using Link-Time Code Generation (LTCG) or a <bpt id=\"p2\">[</bpt>Preprocessed Repro<ept id=\"p2\">](#preprocessed_repro)</ept> if not.","pos":[13181,13351],"source":"For this kind of crash please provide a [Link Repro](#link_repro) if you are using Link-Time Code Generation (LTCG) or a [Preprocessed Repro](#preprocessed_repro) if not."},{"content":"LTGC is enabled by the <ph id=\"ph1\">`/GL`</ph> command-line argument to cl.exe.","pos":[13352,13413],"source":" LTGC is enabled by the `/GL` command-line argument to cl.exe."},{"pos":[13443,13467],"content":"Ways to send your report"},{"content":"There are several ways to get your report to us.","pos":[13471,13519]},{"content":"You can file a bug on Microsoft Connect, email us, or use Visual Studio's built-in Report a Problem Tool.","pos":[13520,13625]},{"content":"The best choice for your report depends on the kind of problem you've encountered, how you want to interact with the engineers who will investigate your report, and whether you'd like to track its progress or share your report with the community.","pos":[13626,13872]},{"pos":[13880,14134],"content":"[!NOTE]\n Regardless of how you submit your report, Microsoft respects your privacy. For information about how we treat the data that you send us, see the [Microsoft Visual Studio Product Family Privacy Statement](https://www.visualstudio.com/dn948229).","leadings":["","> "],"nodes":[{"content":" Regardless of how you submit your report, Microsoft respects your privacy. For information about how we treat the data that you send us, see the [Microsoft Visual Studio Product Family Privacy Statement](https://www.visualstudio.com/dn948229).","pos":[8,252],"nodes":[{"content":"Regardless of how you submit your report, Microsoft respects your privacy.","pos":[1,75]},{"content":"For information about how we treat the data that you send us, see the <bpt id=\"p1\">[</bpt>Microsoft Visual Studio Product Family Privacy Statement<ept id=\"p1\">](https://www.visualstudio.com/dn948229)</ept>.","pos":[76,244],"source":" For information about how we treat the data that you send us, see the [Microsoft Visual Studio Product Family Privacy Statement](https://www.visualstudio.com/dn948229)."}]}]},{"content":"File a bug on Microsoft Connect","pos":[14144,14175]},{"content":"Microsoft Connect (<bpt id=\"p1\">[</bpt>connect.microsoft.com<ept id=\"p1\">](http://connect.microsoft.com)</ept>) is a way for our user community to connect directly to the teams that build Microsoft products.","pos":[14179,14348],"source":"Microsoft Connect ([connect.microsoft.com](http://connect.microsoft.com)) is a way for our user community to connect directly to the teams that build Microsoft products."},{"content":"On Connect you can file new bugs and make feature requests, view other bugs and requests made by the community, and voice which ones are most important to you.","pos":[14349,14508]},{"content":"Reporting your problem through Connect is best when you want share your report with the Visual Studio community and track its progress publicly; by sharing your report, others can sometimes provide work-arounds or additional information that can help us diagnose the problem.","pos":[14515,14790]},{"content":"You can still use Connect if you want to keep your report private (such as when you can't share the code in your report), just make sure to set the visibility of your report to Private before you submit the form.","pos":[14791,15003]},{"content":"Microsoft Connect: Report a problem with Visual Studio 2015 Update 3","pos":[15014,15082]},{"content":"Microsoft Connect: Report a problem with Visual Studio 2015 Update 2","pos":[15182,15250]},{"content":"Microsoft Connect: Report a problem with Visual Studio 2015 Update 1","pos":[15350,15418]},{"content":"Microsoft Connect: Report a problem with Visual Studio 2015","pos":[15518,15577]},{"pos":[15673,15932],"content":"You can report a problem with other Visual Studio and .Net Framework products by locating the product in the drop-down on the <bpt id=\"p1\">[</bpt>Visual Studio and .NET Framework feedback<ept id=\"p1\">](https://connect.microsoft.com/VisualStudio/feedback/LoadSubmitFeedbackForm)</ept> Connect page.","source":"You can report a problem with other Visual Studio and .Net Framework products by locating the product in the drop-down on the [Visual Studio and .NET Framework feedback](https://connect.microsoft.com/VisualStudio/feedback/LoadSubmitFeedbackForm) Connect page."},{"content":"Send an Email","pos":[15942,15955]},{"pos":[15959,16119],"content":"Email is another way to send your report directly to the Visual C++ team; you can reach us at <bpt id=\"p1\">[</bpt>compilercrash@microsoft.com<ept id=\"p1\">](mailto:compilercrash@microsoft.com)</ept>.","source":"Email is another way to send your report directly to the Visual C++ team; you can reach us at [compilercrash@microsoft.com](mailto:compilercrash@microsoft.com)."},{"content":"Reporting your problem through email lacks the rich community of Microsoft Connect, but can sometimes be better for large repros.","pos":[16126,16255]},{"content":"It can also be the best or only option if your work environment is not connected to the internet or you are otherwise prevented from using Microsoft Connect.","pos":[16256,16413]},{"content":"If you choose to send your report by email, you can use the following template as the body of your email message.","pos":[16420,16533]},{"content":"Don't forget to attach source code or other files if you aren't including that information in the email body.","pos":[16534,16643]},{"content":"Use the Report a Problem tool","pos":[16857,16886]},{"content":"The Report a Problem tool in Visual Studio is a way for Visual Studio users to report a variety of problems with just a few clicks.","pos":[16890,17021]},{"content":"It provides a simple form that you can use to specify detailed information about the problem you've encountered and then submit your report without ever leaving the IDE.","pos":[17022,17191]},{"content":"Reporting your problem through the Report a Problem tool is unusual for the kinds of toolset problems discussed in this document; nevertheless, its an option you can choose if it suites your preferences.","pos":[17198,17401]},{"pos":[17409,18023],"content":"[!TIP]\n For other kinds of problems you might encounter in Visual Studio that are not related to the toolset (For example, UI issues, broken IDE functionality, or general crashes), the Report a Problem tool can be an especially good choice due to its screenshot capabilities and its ability to record UI actions that lead to the problem you've encountered. Microsoft connect can also be a good choice for reporting these other kinds of errors, but lacks the additional capabilities of the Report a Problem tool. You should never report these other kinds of errors by sending email to compilercrash@microsoft.com.","leadings":["","> "],"nodes":[{"content":" For other kinds of problems you might encounter in Visual Studio that are not related to the toolset (For example, UI issues, broken IDE functionality, or general crashes), the Report a Problem tool can be an especially good choice due to its screenshot capabilities and its ability to record UI actions that lead to the problem you've encountered. Microsoft connect can also be a good choice for reporting these other kinds of errors, but lacks the additional capabilities of the Report a Problem tool. You should never report these other kinds of errors by sending email to compilercrash@microsoft.com.","pos":[7,612],"nodes":[{"content":"For other kinds of problems you might encounter in Visual Studio that are not related to the toolset (For example, UI issues, broken IDE functionality, or general crashes), the Report a Problem tool can be an especially good choice due to its screenshot capabilities and its ability to record UI actions that lead to the problem you've encountered.","pos":[1,349]},{"content":"Microsoft connect can also be a good choice for reporting these other kinds of errors, but lacks the additional capabilities of the Report a Problem tool.","pos":[350,504]},{"content":"You should never report these other kinds of errors by sending email to compilercrash@microsoft.com.","pos":[505,605]}]}]},{"pos":[18057,18074],"content":"Generating Repros"},{"content":"A repro is a complete, self-contained code example, that demonstrates the problem you're reporting.","pos":[18078,18177]},{"content":"A repro is <bpt id=\"p1\">**</bpt>not<ept id=\"p1\">**</ept> a code snippet—it must be a complete example that builds and runs (or would, except for the errors produced by the problem you're reporting).","pos":[18178,18338],"source":" A repro is **not** a code snippet—it must be a complete example that builds and runs (or would, except for the errors produced by the problem you're reporting)."},{"content":"It should contain all the necessary #include directives, even for the standard headers.","pos":[18339,18426]},{"content":"Furthermore, a good repro is","pos":[18433,18461]},{"content":"Minimal.","pos":[18473,18481]},{"content":"Repros should be as small as possible while still demonstrating exactly the problem you encountered.","pos":[18484,18584]},{"content":"Repros do not need to be complex or realistic—simple, to-the-point repros are better.","pos":[18585,18670]},{"content":"They do not need to include counter-examples of code that works, but may if it is illustrative; only example code that causes the issue is necessary.","pos":[18671,18820]},{"content":"Self-Contained.","pos":[18832,18847]},{"content":"Repros should avoid unnecessary dependencies.","pos":[18850,18895]},{"content":"If you can reproduce the problem without third-party libraries, please do so.","pos":[18896,18973]},{"content":"If you can reproduce the problem without any library code (<ph id=\"ph1\">`std::out`</ph>, <ph id=\"ph2\">`printf()`</ph> are ok), please do so.","pos":[18974,19078],"source":" If you can reproduce the problem without any library code (`std::out`, `printf()` are ok), please do so."},{"content":"Reducing the amount of code we have to consider as a possible contributor to the problem is enormously helpful to us.","pos":[19079,19196]},{"content":"Against the latest compiler version.","pos":[19208,19244]},{"content":"Repros should use the latest version of the toolset whenever possible.","pos":[19247,19317]},{"content":"Problems you might still encounter in older versions of the toolset have very often been fixed in newer versions.","pos":[19318,19431]},{"content":"<bpt id=\"p1\">**</bpt>Checked against other compilers<ept id=\"p1\">**</ept>, if relevant.","pos":[19441,19490],"source":"**Checked against other compilers**, if relevant."},{"content":"Repros that involve portable C++ code should verify behavior against other compilers if possible.","pos":[19491,19588]},{"content":"This step helps to determine whether your code is correct, as when MSVC disagrees with Clang and GCC, or incorrect, as when MSVC, Clang, and GCC agree that your code produces the error.","pos":[19599,19784]},{"content":"Below are instructions for generating the various kinds of repros you'll use to report different kinds of problems.","pos":[19791,19906]},{"pos":[19951,19969],"content":"Preprocessed repos"},{"content":"A preprocessed repro is a single source file that demonstrates a problem and has been generated from the output of the C preprocessor by processing the original source file.","pos":[19973,20146]},{"content":"This process inlines included headers to remove dependencies on additional source and header files, and also resolves macros, #ifdefs, and other preprocessor commands that could depend your local environment.","pos":[20147,20355]},{"pos":[20363,20869],"content":"[!NOTE]\n Note that preprocessed repros are least convenient for problems that might be the result of bugs in our standard library implementation because we will often want to substitute our latest, in-progress implementation to see whether we've already fixed the problem. In this case, don't preprocess the repro, and if you can't reduce the problem to a single source file, package your code into a .zip file or similar, or consider using an IDE project repro (see [Other Repros](#other_repros) below).","leadings":["","> "],"nodes":[{"content":" Note that preprocessed repros are least convenient for problems that might be the result of bugs in our standard library implementation because we will often want to substitute our latest, in-progress implementation to see whether we've already fixed the problem. In this case, don't preprocess the repro, and if you can't reduce the problem to a single source file, package your code into a .zip file or similar, or consider using an IDE project repro (see [Other Repros](#other_repros) below).","pos":[8,504],"nodes":[{"content":"Note that preprocessed repros are least convenient for problems that might be the result of bugs in our standard library implementation because we will often want to substitute our latest, in-progress implementation to see whether we've already fixed the problem.","pos":[1,264]},{"content":"In this case, don't preprocess the repro, and if you can't reduce the problem to a single source file, package your code into a .zip file or similar, or consider using an IDE project repro (see <bpt id=\"p1\">[</bpt>Other Repros<ept id=\"p1\">](#other_repros)</ept> below).","pos":[265,496],"source":" In this case, don't preprocess the repro, and if you can't reduce the problem to a single source file, package your code into a .zip file or similar, or consider using an IDE project repro (see [Other Repros](#other_repros) below)."}]}]},{"content":"To preprocess a source code file","pos":[20881,20913]},{"pos":[20923,21006],"content":"Press the Windows key on your keyboard and begin typing <ph id=\"ph1\">`Developer Command Prompt`</ph>.","source":"Press the Windows key on your keyboard and begin typing `Developer Command Prompt`."},{"pos":[21016,21158],"content":"Choose the <bpt id=\"p1\">**</bpt>Developer Command Prompt<ept id=\"p1\">**</ept> version that matches the version of Visual Studio you're using when it appears in the list of matches.","source":"Choose the **Developer Command Prompt** version that matches the version of Visual Studio you're using when it appears in the list of matches."},{"pos":[21168,21268],"content":"In the <bpt id=\"p1\">**</bpt>Developer Command Prompt<ept id=\"p1\">**</ept> console window, enter the command <ph id=\"ph1\">`cl /P argumentsfilename.cpp`</ph>.","source":"In the **Developer Command Prompt** console window, enter the command `cl /P argumentsfilename.cpp`."},{"content":"After you have the preprocessed file (now filename.i), its a good idea to make sure that the problem still repros using the preprocessed file.","pos":[21275,21417]},{"content":"You can use the <ph id=\"ph1\">`/TP`</ph> command line argument to tell cl.exe to skip the preprocessor step and attempt to compile as usual.","pos":[21418,21539],"source":" You can use the `/TP` command line argument to tell cl.exe to skip the preprocessor step and attempt to compile as usual."},{"content":"To confirm that the error still repros with the preprocessed file","pos":[21551,21616]},{"pos":[21626,21709],"content":"Press the Windows key on your keyboard and begin typing <ph id=\"ph1\">`Developer Command Prompt`</ph>.","source":"Press the Windows key on your keyboard and begin typing `Developer Command Prompt`."},{"pos":[21719,21861],"content":"Choose the <bpt id=\"p1\">**</bpt>Developer Command Prompt<ept id=\"p1\">**</ept> version that matches the version of Visual Studio you're using when it appears in the list of matches.","source":"Choose the **Developer Command Prompt** version that matches the version of Visual Studio you're using when it appears in the list of matches."},{"pos":[21871,21971],"content":"In the <bpt id=\"p1\">**</bpt>Developer Command Prompt<ept id=\"p1\">**</ept> console window, enter the command <ph id=\"ph1\">`cl arguments /TP filename.i`</ph>.","source":"In the **Developer Command Prompt** console window, enter the command `cl arguments /TP filename.i`."},{"content":"Confirm that the problem is reproduced.","pos":[21981,22020]},{"content":"Finally, attach this repro to your report.","pos":[22027,22069]},{"pos":[22106,22117],"content":"Link repros"},{"content":"A link repro is a single directory containing build artifacts that collectively demonstrate a problem that occurs at link time, such as a backend crash involving Link-Time Code Generation (LTCG), or a linker crash; the included build artifacts are those needed as linker input so that the problem can be reproduced.","pos":[22121,22436]},{"content":"Link repros can be created easily by using facilities provided by the linker.","pos":[22437,22514]},{"content":"To generate a link repro:","pos":[22526,22551]},{"pos":[22561,22664],"content":"Open a command prompt and enter the command <ph id=\"ph1\">`mkdir directory`</ph> to create a directory for the link repro.","source":"Open a command prompt and enter the command `mkdir directory` to create a directory for the link repro."},{"pos":[22674,22794],"content":"Set the link_repro environment variable to the directory you just created; enter the command <ph id=\"ph1\">`set link_repro=directory`</ph>.","source":"Set the link_repro environment variable to the directory you just created; enter the command `set link_repro=directory`."},{"content":"If you want to perform the build from inside Visual Studio, launch it from the command prompt by entering the command <ph id=\"ph1\">`devenv`</ph>.","pos":[22804,22931],"source":"If you want to perform the build from inside Visual Studio, launch it from the command prompt by entering the command `devenv`."},{"content":"This ensures that the value of the link_repro environment variable is visible to Visual Studio.","pos":[22932,23027]},{"content":"Build your application, and confirm that the expected problem has occurred.","pos":[23037,23112]},{"content":"Close Visual Studio now if you launched it in step 3.","pos":[23122,23175]},{"pos":[23185,23245],"content":"Clear the link_repro environment variable; enter the command"},{"content":"Finally, package the repro by compressing the entire directory into a .zip file or similar and attach it to your report.","pos":[23270,23390]},{"pos":[23429,23441],"content":"Other repros"},{"content":"If you can't reduce the problem to a single source file or preprocessed repro, and the problem does not require a link repro, we can investigate and IDE project.","pos":[23445,23606]},{"content":"Code inside the project should still be minimal, and all the guidance from this document still applies.","pos":[23607,23710]},{"content":"Create your repro as a minimal IDE project, then package it by compressing the entire directory structure into a .zip file or similar and attach it to your report.","pos":[23717,23880]}],"content":"---\ntitle: \"How to Report a Problem with the Visual C++ Toolset | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nms.assetid: ec24a49c-411d-47ce-aa4b-8398b6d3e8f6\ncaps.latest.revision: 8\nauthor: \"corob-msft\"\nms.author: \"corob\"\nmanager: \"ghogen\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# How to Report a Problem with the Visual C++ Toolset\nIf you encounter problems with the Visual C++ compiler, linker, or other tools, we want to know about them.  \n  \n The best way to let us know about a problem is to send us a report that includes a description of the problem you've encountered, details about how you're building your program, and some code we can use to reproduce the problem on our own machines. This information lets us quickly verify that the problem exists and is not local to your environment, determine whether it affects other versions of the compiler, and to diagnose its cause.  \n  \n In this document, you'll read about  \n  \n-   [How to prepare your report](#prepare), and what makes a good report.  \n  \n-   [Ways to send your report](#send), and what makes them different.  \n  \n-   [How to generate a repro](#generate), and different kinds of repros.  \n  \n Your reports are important to us and to other developers like you. Thank you for helping us improve Visual C++!  \n  \n##  <a name=\"prepare\"></a> How to prepare your report  \n Creating a high-quality report is important because its very difficult to reproduce the problem you encountered on our own machines without complete information. The better your report is, the more effectively we are able recreate and diagnose the problem.  \n  \n At a minimum, your report should contain  \n  \n-   The full version information of the toolset you're using.  \n  \n-   The full cl.exe command line used to build your code.  \n  \n-   A detailed description of the problem you encountered.  \n  \n-   A 'repro'—source code that demonstrates the problem.  \n  \n Read on to learn more about the specific information we need and where you can find it.  \n  \n### The toolset version  \n We need the full version information of the toolset you're using so that we can test your repro against the same toolset on our machines. If we can reproduce the problem, this information also gives us a starting point to investigate which other versions of the toolset exhibit the same problem.  \n  \n##### To report the full version of the compiler you're using  \n  \n1.  Press the Windows key on your keyboard and begin typing `Developer Command Prompt`.  \n  \n2.  Choose the **Developer Command Prompt** version that matches the version of Visual Studio you're using when it appears in the list of matches.  \n  \n3.  In the **Developer Command Prompt** console, enter the command `cl /Bv /CLR`.  \n  \n The output should look similar to this:  \n  \n```  \nC:\\Compiler>cl /Bv /CLR  \nMicrosoft (R) C/C++ Optimizing Compiler Version 18.00.40209  \nfor Microsoft (R) .NET Framework version 4.00.30319.34014  \nCopyright (C) Microsoft Corporation.  All rights reserved.  \n  \nCompiler Passes:  \n C:\\WinCComp\\binaries.x86chk\\bin\\i386\\cl.exe:        Version 18.00.40209.0  \n C:\\WinCComp\\binaries.x86chk\\bin\\i386\\c1.dll:        Version 18.00.40209.0  \n C:\\WinCComp\\binaries.x86chk\\bin\\i386\\c1xx.dll:      Version 18.00.40209.0  \n C:\\WinCComp\\binaries.x86chk\\bin\\i386\\c2.dll:        Version 18.00.40209.0  \n C:\\WinCComp\\binaries.x86chk\\bin\\i386\\link.exe:      Version 12.00.40209.0  \n C:\\WinCComp\\binaries.x86chk\\bin\\i386\\mspdb120.dll:  Version 12.00.40209.0  \n C:\\WinCComp\\binaries.x86chk\\bin\\i386\\1033\\clui.dll: Version 18.00.40209.0  \n Common Language Runtime:                            Version  4.00.30319.34014  \n  \ncl : Command line error D8003 : missing source filename   \n```  \n  \n Copy and paste the entire output into your report.  \n  \n### The command line  \n We need the full command line (cl.exe and its arguments) used to build your code so that we can build it in exactly the same way on our machines. This is important because the problem you've encountered might only exist when building with a certain argument or combination of arguments.  \n  \n The best place to find this information is in the build log immediately after experiencing the problem. This ensures that the command line contains exactly the same arguments that might be contributing to the problem.  \n  \n##### To report the contents of the command line  \n  \n1.  Locate the **CL.command.1.tlog** file and open it. By default, this file is located at \\\\...\\Visual Studio Version\\Projects\\SolutionName\\ProjectName\\Config\\ProjectName.tlog\\CL.command.1.tlog.  \n  \n     Inside this file, you'll find the names of source code files followed by the command line arguments used to compile them, each on separate lines.  \n  \n2.  Locate the line that contains the name of the source code file where the problem occurs; the line below it contains the corresponding cl.exe command and its arguments.  \n  \n Copy and paste the entire command line into your report.  \n  \n### A description of the problem  \n We need a detailed description of the problem you've encountered so that we can verify that we see the same effect on our machines; its also sometimes useful for us to know what you were trying to accomplish, and what you expected to happen.  \n  \n Please provide the precise error messages given by the toolset, a brief description of what you were trying to accomplish to help us understand your repro code, and any other details that might help us diagnose the problem you experienced, such as any work-arounds you might have found. Avoid repeating information found elsewhere in your report.  \n  \n### The repro  \n We need a repro—a self-contained source code example that demonstrates the problem you've encountered—so that we can reproduce the error on our machines. The kind of problem you encounter will determine what kind of repro you should include in your report. Without an appropriate repro, we have nothing to investigate.  \n  \n Short, self-contained repros can be directly included in your report text, but larger source code repros should be attached to the report. Repros that can't be reduced to a single source code file should be packaged by compressing a directory containing all the files into a .zip file or similar and attached to the report. Any additional scenario-specific details should always be included in the report text, never in source code.  \n  \n The best kind of repro you can provide us is a *minimal repro*. This is a single, self-contained source code file (without references to user headers) that contains just enough code to demonstrate the problem. If you can provide a repro in this form, just attach the source code file to your report; its all we need.  \n  \n If you can't condense the problem to a minimal repro without dependencies, refer to the following sections to determine the kind of repro you should include in your report.  \n  \n#### Frontend (parser) crash  \n Frontend crashes occur during the parsing phase of the compiler. Typically, the compiler will emit [Fatal Error C1001](error-messages/compiler-errors-1/fatal-error-c1001.md) and reference the source code file and line number on which the error occurred; it will often mention a file msc1.cpp, but you can ignore this detail.  \n  \n For this kind of crash, please provide a [Preprocessed Repro](#preprocessed_repro).  \n  \n Here's example compiler output for this kind of crash:  \n  \n```  \nSandBoxHost.cpp  \nd:\\o\\dev\\search\\foundation\\common\\tools\\sandbox\\managed\\managed.h(929):  \n        fatal error C1001: An internal error has occurred in the compiler.  \n(compiler file 'msc1.cpp', line 1369)  \nTo work around this problem, try simplifying or changing the program near the  \n        locations listed above.  \nPlease choose the Technical Support command on the Visual C++  \nHelp menu, or open the Technical Support help file for more information  \nd:\\o\\dev\\search\\foundation\\common\\tools\\sandbox\\managed\\managed.h(929):  \n        note: This diagnostic occurred in the compiler generated function  \n        'void Microsoft::Ceres::Common::Tools::Sandbox::SandBoxedProcess::Dispose(bool)'  \nInternal Compiler Error in d:\\o\\dev\\otools\\bin\\x64\\cl.exe.  You will be prompted  \n        to send an error report to Microsoft later.  \nINTERNAL COMPILER ERROR in 'd:\\o\\dev\\otools\\bin\\x64\\cl.exe'  \n    Please choose the Technical Support command on the Visual C++  \n    Help menu, or open the Technical Support help file for more information   \n```  \n  \n####  <a name=\"backend_crash\"></a> Backend (code generation) crash  \n Backend crashes occur during the code generation phase of the compiler. Typically, the compiler will emit [Fatal Error C1001](error-messages/compiler-errors-1/fatal-error-c1001.md), and might not reference the source code file and line number associated with the problem; it will often mention a file compiler\\utc\\src\\p2\\main.c, but you can ignore this detail.  \n  \n For this kind of crash please provide a [Link Repro](#link_repro) if you are using Link-Time Code Generation (LTCG) or a [Preprocessed Repro](#preprocessed_repro) if not. LTGC is enabled by the `/GL` command-line argument to cl.exe.  \n  \n Here's example compiler output for this kind of crash in which LTCG is **not** used. If your compiler output looks like this you should provide a [Preprocessed Repro](#preprocessed_repro).  \n  \n```  \nrepro.cpp  \n\\\\officefile\\public\\tadg\\vc14\\comperror\\repro.cpp(13) : fatal error C1001:  \n        An internal error has occurred in the compiler.  \n(compiler file 'f:\\dd\\vctools\\compiler\\utc\\src\\p2\\main.c', line 230)  \nTo work around this problem, try simplifying or changing the program near the  \n        locations listed above.  \nPlease choose the Technical Support command on the Visual C++  \nHelp menu, or open the Technical Support help file for more information  \nINTERNAL COMPILER ERROR in  \n        'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\cl.exe'  \n    Please choose the Technical Support command on the Visual C++  \n    Help menu, or open the Technical Support help file for more information  \n```  \n  \n If the line that begins with **INTERNAL COMPILER ERROR** mentions link.exe, rather than cl.exe, LTCG was enabled and you should provide a [Link Repro](#link_repro). If its not clear whether LTCG was enabled from the compiler error message, you may need to examine the command line arguments that you copied from your build log in a previous step for the `/GL` command-line argument.  \n  \n#### Linker crash  \n Linker crashes occur during the linking phase, after the compiler has run. Typically, the linker will emit [Linker Tools Error LNK1000](error-messages/tool-errors/linker-tools-error-lnk1000.md).  \n  \n> [!NOTE]\n>  If the output mentions C1001 or involves Link-Time Code Generation, refer to [Backend (code generation) crash](#backend_crash) instead for more information.  \n  \n For this kind of crash, please provide a [Link Repro](#link_repro).  \n  \n Here's example compiler output for this kind of crash.  \n  \n```  \nz:\\foo.obj : error LNK1000: Internal error during IMAGE::Pass2  \n  \n  Version 14.00.22816.0  \n  \n  ExceptionCode            = C0000005  \n  ExceptionFlags           = 00000000  \n  ExceptionAddress         = 00007FF73C9ED0E6 (00007FF73C9E0000)  \n        \"z:\\tools\\bin\\x64\\link.exe\"  \n  NumberParameters         = 00000002  \n  ExceptionInformation[ 0] = 0000000000000000  \n  ExceptionInformation[ 1] = FFFFFFFFFFFFFFFF  \n  \nCONTEXT:  \n  \n  Rax    = 0000000000000400  R8     = 0000000000000000  \n  Rbx    = 000000655DF82580  R9     = 00007FF840D2E490  \n  Rcx    = 005C006B006F006F  R10    = 000000655F97E690  \n  Rdx    = 000000655F97E270  R11    = 0000000000000400  \n  Rsp    = 000000655F97E248  R12    = 0000000000000000  \n  Rbp    = 000000655F97EFB0  E13    = 0000000000000000  \n  Rsi    = 000000655DF82580  R14    = 000000655F97F390  \n  Rdi    = 0000000000000000  R15    = 0000000000000000  \n  Rip    = 00007FF73C9ED0E6  EFlags = 0000000000010206  \n  SegCs  = 0000000000000033  SegDs  = 000000000000002B  \n  SegSs  = 000000000000002B  SegEs  = 000000000000002B  \n  SegFs  = 0000000000000053  SegGs  = 000000000000002B  \n  Dr0    = 0000000000000000  Dr3    = 0000000000000000  \n  Dr1    = 0000000000000000  Dr6    = 0000000000000000  \n  Dr2    = 0000000000000000  Dr7    = 0000000000000000  \n```  \n  \n If incremental linking is enabled and the crash occurred only after initial linking—that is, only after the first full linking on which subsequent incremental linking is based—please also provide a copy of the object (.obj) and library (.lib) files that correspond to source files that were modified after the initial linking was completed.  \n  \n#### Bad code generation  \n Bad code generation is rare, but occurs when the compiler mistakenly generates incorrect code that will cause your application to crash at runtime rather than detecting this problem at compile-time. If you believe the problem you are experiencing results in bad code generation, treat your report the same as a [Backend (code generation) crash](#backend_crash).  \n  \n For this kind of crash please provide a [Link Repro](#link_repro) if you are using Link-Time Code Generation (LTCG) or a [Preprocessed Repro](#preprocessed_repro) if not. LTGC is enabled by the `/GL` command-line argument to cl.exe.  \n  \n##  <a name=\"send\"></a> Ways to send your report  \n There are several ways to get your report to us. You can file a bug on Microsoft Connect, email us, or use Visual Studio's built-in Report a Problem Tool. The best choice for your report depends on the kind of problem you've encountered, how you want to interact with the engineers who will investigate your report, and whether you'd like to track its progress or share your report with the community.  \n  \n> [!NOTE]\n>  Regardless of how you submit your report, Microsoft respects your privacy. For information about how we treat the data that you send us, see the [Microsoft Visual Studio Product Family Privacy Statement](https://www.visualstudio.com/dn948229).  \n  \n### File a bug on Microsoft Connect  \n Microsoft Connect ([connect.microsoft.com](http://connect.microsoft.com)) is a way for our user community to connect directly to the teams that build Microsoft products. On Connect you can file new bugs and make feature requests, view other bugs and requests made by the community, and voice which ones are most important to you.  \n  \n Reporting your problem through Connect is best when you want share your report with the Visual Studio community and track its progress publicly; by sharing your report, others can sometimes provide work-arounds or additional information that can help us diagnose the problem. You can still use Connect if you want to keep your report private (such as when you can't share the code in your report), just make sure to set the visibility of your report to Private before you submit the form.  \n  \n-   [Microsoft Connect: Report a problem with Visual Studio 2015 Update 3](https://connect.microsoft.com/VisualStudio/Feedback/LoadSubmitFeedbackForm?FormID=6493)  \n  \n-   [Microsoft Connect: Report a problem with Visual Studio 2015 Update 2](https://connect.microsoft.com/VisualStudio/Feedback/LoadSubmitFeedbackForm?FormID=6406)  \n  \n-   [Microsoft Connect: Report a problem with Visual Studio 2015 Update 1](https://connect.microsoft.com/VisualStudio/Feedback/LoadSubmitFeedbackForm?FormID=6326)  \n  \n-   [Microsoft Connect: Report a problem with Visual Studio 2015](https://connect.microsoft.com/VisualStudio/Feedback/LoadSubmitFeedbackForm?FormID=6240)  \n  \n You can report a problem with other Visual Studio and .Net Framework products by locating the product in the drop-down on the [Visual Studio and .NET Framework feedback](https://connect.microsoft.com/VisualStudio/feedback/LoadSubmitFeedbackForm) Connect page.  \n  \n### Send an Email  \n Email is another way to send your report directly to the Visual C++ team; you can reach us at [compilercrash@microsoft.com](mailto:compilercrash@microsoft.com).  \n  \n Reporting your problem through email lacks the rich community of Microsoft Connect, but can sometimes be better for large repros. It can also be the best or only option if your work environment is not connected to the internet or you are otherwise prevented from using Microsoft Connect.  \n  \n If you choose to send your report by email, you can use the following template as the body of your email message. Don't forget to attach source code or other files if you aren't including that information in the email body.  \n  \n```  \nTo: compilercrash@microsoft.com  \nSubject: Visual C++ Error Report  \n-----  \n  \nCompiler version:  \n  \nCL.EXE command line:  \n  \nProblem description:  \n  \nSource code and repro steps:  \n  \n```  \n  \n### Use the Report a Problem tool  \n The Report a Problem tool in Visual Studio is a way for Visual Studio users to report a variety of problems with just a few clicks. It provides a simple form that you can use to specify detailed information about the problem you've encountered and then submit your report without ever leaving the IDE.  \n  \n Reporting your problem through the Report a Problem tool is unusual for the kinds of toolset problems discussed in this document; nevertheless, its an option you can choose if it suites your preferences.  \n  \n> [!TIP]\n>  For other kinds of problems you might encounter in Visual Studio that are not related to the toolset (For example, UI issues, broken IDE functionality, or general crashes), the Report a Problem tool can be an especially good choice due to its screenshot capabilities and its ability to record UI actions that lead to the problem you've encountered. Microsoft connect can also be a good choice for reporting these other kinds of errors, but lacks the additional capabilities of the Report a Problem tool. You should never report these other kinds of errors by sending email to compilercrash@microsoft.com.  \n  \n##  <a name=\"generate\"></a> Generating Repros  \n A repro is a complete, self-contained code example, that demonstrates the problem you're reporting. A repro is **not** a code snippet—it must be a complete example that builds and runs (or would, except for the errors produced by the problem you're reporting). It should contain all the necessary #include directives, even for the standard headers.  \n  \n Furthermore, a good repro is  \n  \n-   **Minimal.** Repros should be as small as possible while still demonstrating exactly the problem you encountered. Repros do not need to be complex or realistic—simple, to-the-point repros are better. They do not need to include counter-examples of code that works, but may if it is illustrative; only example code that causes the issue is necessary.  \n  \n-   **Self-Contained.** Repros should avoid unnecessary dependencies. If you can reproduce the problem without third-party libraries, please do so. If you can reproduce the problem without any library code (`std::out`, `printf()` are ok), please do so. Reducing the amount of code we have to consider as a possible contributor to the problem is enormously helpful to us.  \n  \n-   **Against the latest compiler version.** Repros should use the latest version of the toolset whenever possible. Problems you might still encounter in older versions of the toolset have very often been fixed in newer versions.  \n  \n-   **Checked against other compilers**, if relevant. Repros that involve portable C++ code should verify behavior against other compilers if possible.  \n  \n     This step helps to determine whether your code is correct, as when MSVC disagrees with Clang and GCC, or incorrect, as when MSVC, Clang, and GCC agree that your code produces the error.  \n  \n Below are instructions for generating the various kinds of repros you'll use to report different kinds of problems.  \n  \n###  <a name=\"preprocessed_repro\"></a> Preprocessed repos  \n A preprocessed repro is a single source file that demonstrates a problem and has been generated from the output of the C preprocessor by processing the original source file. This process inlines included headers to remove dependencies on additional source and header files, and also resolves macros, #ifdefs, and other preprocessor commands that could depend your local environment.  \n  \n> [!NOTE]\n>  Note that preprocessed repros are least convenient for problems that might be the result of bugs in our standard library implementation because we will often want to substitute our latest, in-progress implementation to see whether we've already fixed the problem. In this case, don't preprocess the repro, and if you can't reduce the problem to a single source file, package your code into a .zip file or similar, or consider using an IDE project repro (see [Other Repros](#other_repros) below).  \n  \n##### To preprocess a source code file  \n  \n1.  Press the Windows key on your keyboard and begin typing `Developer Command Prompt`.  \n  \n2.  Choose the **Developer Command Prompt** version that matches the version of Visual Studio you're using when it appears in the list of matches.  \n  \n3.  In the **Developer Command Prompt** console window, enter the command `cl /P argumentsfilename.cpp`.  \n  \n After you have the preprocessed file (now filename.i), its a good idea to make sure that the problem still repros using the preprocessed file. You can use the `/TP` command line argument to tell cl.exe to skip the preprocessor step and attempt to compile as usual.  \n  \n##### To confirm that the error still repros with the preprocessed file  \n  \n1.  Press the Windows key on your keyboard and begin typing `Developer Command Prompt`.  \n  \n2.  Choose the **Developer Command Prompt** version that matches the version of Visual Studio you're using when it appears in the list of matches.  \n  \n3.  In the **Developer Command Prompt** console window, enter the command `cl arguments /TP filename.i`.  \n  \n4.  Confirm that the problem is reproduced.  \n  \n Finally, attach this repro to your report.  \n  \n###  <a name=\"link_repro\"></a> Link repros  \n A link repro is a single directory containing build artifacts that collectively demonstrate a problem that occurs at link time, such as a backend crash involving Link-Time Code Generation (LTCG), or a linker crash; the included build artifacts are those needed as linker input so that the problem can be reproduced. Link repros can be created easily by using facilities provided by the linker.  \n  \n##### To generate a link repro:  \n  \n1.  Open a command prompt and enter the command `mkdir directory` to create a directory for the link repro.  \n  \n2.  Set the link_repro environment variable to the directory you just created; enter the command `set link_repro=directory`.  \n  \n3.  If you want to perform the build from inside Visual Studio, launch it from the command prompt by entering the command `devenv`. This ensures that the value of the link_repro environment variable is visible to Visual Studio.  \n  \n4.  Build your application, and confirm that the expected problem has occurred.  \n  \n5.  Close Visual Studio now if you launched it in step 3.  \n  \n6.  Clear the link_repro environment variable; enter the command `set link_repro=`  \n  \n Finally, package the repro by compressing the entire directory into a .zip file or similar and attach it to your report.  \n  \n###  <a name=\"other_repros\"></a> Other repros  \n If you can't reduce the problem to a single source file or preprocessed repro, and the problem does not require a link repro, we can investigate and IDE project. Code inside the project should still be minimal, and all the guidance from this document still applies.  \n  \n Create your repro as a minimal IDE project, then package it by compressing the entire directory structure into a .zip file or similar and attach it to your report."}