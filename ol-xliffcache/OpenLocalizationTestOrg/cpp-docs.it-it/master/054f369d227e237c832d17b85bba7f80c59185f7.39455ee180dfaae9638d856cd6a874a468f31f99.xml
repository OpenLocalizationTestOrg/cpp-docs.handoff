{"nodes":[{"pos":[12,62],"content":"Tree Control Item States Overview | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Tree Control Item States Overview | Microsoft Docs","pos":[0,50]}]},{"content":"Tree Control Item States Overview","pos":[672,705]},{"content":"Each item in a tree control (<bpt id=\"p1\">[</bpt>CTreeCtrl<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md)</ept>) has a current state.","pos":[706,805],"source":"Each item in a tree control ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) has a current state."},{"content":"For example, an item can be selected, disabled, expanded, and so on.","pos":[806,874]},{"content":"For the most part, the tree control automatically sets an item's state to reflect user actions, such as selection of an item.","pos":[875,1000]},{"content":"However, you can also set an item's state by using the <bpt id=\"p1\">[</bpt>SetItemState<ept id=\"p1\">](../mfc/reference/ctreectrl-class.md#ctreectrl__setitemstate)</ept> member function and retrieve the current state of an item by using the <bpt id=\"p2\">[</bpt>GetItemState<ept id=\"p2\">](../mfc/reference/ctreectrl-class.md#ctreectrl__getitemstate)</ept> member function.","pos":[1001,1295],"source":" However, you can also set an item's state by using the [SetItemState](../mfc/reference/ctreectrl-class.md#ctreectrl__setitemstate) member function and retrieve the current state of an item by using the [GetItemState](../mfc/reference/ctreectrl-class.md#ctreectrl__getitemstate) member function."},{"content":"For a complete list of item states, see <bpt id=\"p1\">[</bpt>Tree-View Control Constants<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/bb759985)</ept> in the <ph id=\"ph1\">[!INCLUDE[winSDK](../atl/includes/winsdk_md.md)]</ph>.","pos":[1296,1482],"source":" For a complete list of item states, see [Tree-View Control Constants](http://msdn.microsoft.com/library/windows/desktop/bb759985) in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)]."},{"content":"An item's current state is specified by the <ph id=\"ph1\">`nState`</ph> parameter.","pos":[1489,1552],"source":"An item's current state is specified by the `nState` parameter."},{"content":"A tree control might change an item's state to reflect a user action, such as selecting the item or setting the focus to the item.","pos":[1553,1683]},{"content":"In addition, an application might change an item's state to disable or hide the item or to specify an overlay image or state image.","pos":[1684,1815]},{"content":"When you specify or change an item's state, the <ph id=\"ph1\">`nStateMask`</ph> parameter specifies which state bits to set, and the <ph id=\"ph2\">`nState`</ph> parameter contains the new values for those bits.","pos":[1822,1994],"source":"When you specify or change an item's state, the `nStateMask` parameter specifies which state bits to set, and the `nState` parameter contains the new values for those bits."},{"content":"For example, the following example changes the current state of a parent item (specified by <ph id=\"ph1\">`hParentItem`</ph>) in a <ph id=\"ph2\">`CTreeCtrl`</ph> object (<ph id=\"ph3\">`m_treeCtrl`</ph>) to <bpt id=\"p1\">**</bpt>TVIS_EXPANDPARTIAL<ept id=\"p1\">**</ept>:","pos":[1995,2167],"source":" For example, the following example changes the current state of a parent item (specified by `hParentItem`) in a `CTreeCtrl` object (`m_treeCtrl`) to **TVIS_EXPANDPARTIAL**:"},{"pos":[2185,2213],"content":"NVC_MFCControlLadenDialog#71"},{"content":"Another example of changing the state would be to set an item's overlay image.","pos":[2286,2364]},{"content":"To accomplish this, <ph id=\"ph1\">`nStateMask`</ph> must include the <ph id=\"ph2\">`TVIS_OVERLAYMASK`</ph> value, and <ph id=\"ph3\">`nState`</ph> must include the one-based index of the overlay image shifted left eight bits by using the <bpt id=\"p1\">[</bpt>INDEXTOOVERLAYMASK<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/bb761408)</ept> macro.","pos":[2365,2632],"source":" To accomplish this, `nStateMask` must include the `TVIS_OVERLAYMASK` value, and `nState` must include the one-based index of the overlay image shifted left eight bits by using the [INDEXTOOVERLAYMASK](http://msdn.microsoft.com/library/windows/desktop/bb761408) macro."},{"content":"The index can be 0 to specify no overlay image.","pos":[2633,2680]},{"content":"The overlay image must have been added to the tree control's list of overlay images by a previous call to the <bpt id=\"p1\">[</bpt>CImageList::SetOverlayImage<ept id=\"p1\">](../mfc/reference/cimagelist-class.md#cimagelist__setoverlayimage)</ept> function.","pos":[2681,2896],"source":" The overlay image must have been added to the tree control's list of overlay images by a previous call to the [CImageList::SetOverlayImage](../mfc/reference/cimagelist-class.md#cimagelist__setoverlayimage) function."},{"content":"The function specifies the one-based index of the image to add; this is the index used with the <bpt id=\"p1\">**</bpt>INDEXTOOVERLAYMASK<ept id=\"p1\">**</ept> macro.","pos":[2897,3022],"source":" The function specifies the one-based index of the image to add; this is the index used with the **INDEXTOOVERLAYMASK** macro."},{"content":"A tree control can have up to four overlay images.","pos":[3023,3073]},{"content":"To set an item's state image, <ph id=\"ph1\">`nStateMask`</ph> must include the <ph id=\"ph2\">`TVIS_STATEIMAGEMASK`</ph> value, and <ph id=\"ph3\">`nState`</ph> must include the one-based index of the state image shifted left 12 bits by using the <bpt id=\"p1\">[</bpt>INDEXTOSTATEIMAGEMASK<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/desktop/bb775597)</ept> macro.","pos":[3080,3358],"source":"To set an item's state image, `nStateMask` must include the `TVIS_STATEIMAGEMASK` value, and `nState` must include the one-based index of the state image shifted left 12 bits by using the [INDEXTOSTATEIMAGEMASK](http://msdn.microsoft.com/library/windows/desktop/bb775597) macro."},{"content":"The index can be 0 to specify no state image.","pos":[3359,3404]},{"content":"For more information about overlay and state images, see <bpt id=\"p1\">[</bpt>Tree Control Image Lists<ept id=\"p1\">](../mfc/tree-control-image-lists.md)</ept>.","pos":[3405,3525],"source":" For more information about overlay and state images, see [Tree Control Image Lists](../mfc/tree-control-image-lists.md)."},{"content":"See Also","pos":[3534,3542]},{"content":"Using CTreeCtrl","pos":[3547,3562]},{"content":"Controls","pos":[3596,3604]}],"content":"---\ntitle: \"Tree Control Item States Overview | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"11/04/2016\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-cpp\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"states, CTreeCtrl items\"\n  - \"tree controls, item states overview\"\n  - \"CTreeCtrl class, item states\"\nms.assetid: 2db11ae0-0d87-499d-8c1f-5e0dbe9e94c8\ncaps.latest.revision: 14\nauthor: \"mikeblome\"\nms.author: \"mblome\"\nmanager: \"ghogen\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# Tree Control Item States Overview\nEach item in a tree control ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) has a current state. For example, an item can be selected, disabled, expanded, and so on. For the most part, the tree control automatically sets an item's state to reflect user actions, such as selection of an item. However, you can also set an item's state by using the [SetItemState](../mfc/reference/ctreectrl-class.md#ctreectrl__setitemstate) member function and retrieve the current state of an item by using the [GetItemState](../mfc/reference/ctreectrl-class.md#ctreectrl__getitemstate) member function. For a complete list of item states, see [Tree-View Control Constants](http://msdn.microsoft.com/library/windows/desktop/bb759985) in the [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)].  \n  \n An item's current state is specified by the `nState` parameter. A tree control might change an item's state to reflect a user action, such as selecting the item or setting the focus to the item. In addition, an application might change an item's state to disable or hide the item or to specify an overlay image or state image.  \n  \n When you specify or change an item's state, the `nStateMask` parameter specifies which state bits to set, and the `nState` parameter contains the new values for those bits. For example, the following example changes the current state of a parent item (specified by `hParentItem`) in a `CTreeCtrl` object (`m_treeCtrl`) to **TVIS_EXPANDPARTIAL**:  \n  \n [!code-cpp[NVC_MFCControlLadenDialog#71](../mfc/codesnippet/cpp/tree-control-item-states-overview_1.cpp)]  \n  \n Another example of changing the state would be to set an item's overlay image. To accomplish this, `nStateMask` must include the `TVIS_OVERLAYMASK` value, and `nState` must include the one-based index of the overlay image shifted left eight bits by using the [INDEXTOOVERLAYMASK](http://msdn.microsoft.com/library/windows/desktop/bb761408) macro. The index can be 0 to specify no overlay image. The overlay image must have been added to the tree control's list of overlay images by a previous call to the [CImageList::SetOverlayImage](../mfc/reference/cimagelist-class.md#cimagelist__setoverlayimage) function. The function specifies the one-based index of the image to add; this is the index used with the **INDEXTOOVERLAYMASK** macro. A tree control can have up to four overlay images.  \n  \n To set an item's state image, `nStateMask` must include the `TVIS_STATEIMAGEMASK` value, and `nState` must include the one-based index of the state image shifted left 12 bits by using the [INDEXTOSTATEIMAGEMASK](http://msdn.microsoft.com/library/windows/desktop/bb775597) macro. The index can be 0 to specify no state image. For more information about overlay and state images, see [Tree Control Image Lists](../mfc/tree-control-image-lists.md).  \n  \n## See Also  \n [Using CTreeCtrl](../mfc/using-ctreectrl.md)   \n [Controls](../mfc/controls-mfc.md)\n\n"}